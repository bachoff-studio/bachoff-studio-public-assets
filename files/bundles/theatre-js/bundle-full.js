import*as e from"react";import t,{useReducer as n,useRef as r,useDebugValue as i,useEffect as a,useLayoutEffect as o,useState as s,useMemo as l,createContext as u,forwardRef as c,useContext as d}from"react";import{jsx as f}from"react/jsx-runtime";const h="172",p={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},g=0,v=1,y=2,b=100,w=101,x=102,_=200,S=201,E=202,k=203,C=204,M=205,P=206,T=207,A=208,I=209,R=210,O=211,D=212,z=213,L=214,N=0,j=1,F=2,U=3,B=4,V=5,H=6,W=7,G="attached",q="detached",X=300,Y=301,K=302,$=303,Z=304,Q=306,J=1e3,ee=1001,te=1002,ne=1003,re=1004,ie=1005,ae=1006,oe=1007,se=1008,le=1009,ue=1010,ce=1011,de=1012,fe=1013,he=1014,pe=1015,me=1016,ge=1017,ve=1018,ye=1020,be=35902,we=1021,xe=1022,_e=1023,Se=1024,Ee=1025,ke=1026,Ce=1027,Me=1028,Pe=1029,Te=1030,Ae=1031,Ie=1033,Re=33776,Oe=33777,De=33778,ze=33779,Le=35840,Ne=35841,je=35842,Fe=35843,Ue=36196,Be=37492,Ve=37496,He=37808,We=37809,Ge=37810,qe=37811,Xe=37812,Ye=37813,Ke=37814,$e=37815,Ze=37816,Qe=37817,Je=37818,et=37819,tt=37820,nt=37821,rt=36492,it=36494,at=36495,ot=36283,st=36284,lt=36285,ut=36286,ct=2300,dt=2301,ft=2302,ht=2400,pt=2401,mt=2402,gt=2500,vt=2501,yt="",bt="srgb",wt="srgb-linear",xt="linear",_t="srgb",St=7680,Et=512,kt=513,Ct=514,Mt=515,Pt=516,Tt=517,At=518,It=519,Rt=35044,Ot="300 es",Dt=2e3,zt=2001;class Lt{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Nt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jt=1234567;const Ft=Math.PI/180,Ut=180/Math.PI;function Bt(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Nt[255&e]+Nt[e>>8&255]+Nt[e>>16&255]+Nt[e>>24&255]+"-"+Nt[255&t]+Nt[t>>8&255]+"-"+Nt[t>>16&15|64]+Nt[t>>24&255]+"-"+Nt[63&n|128]+Nt[n>>8&255]+"-"+Nt[n>>16&255]+Nt[n>>24&255]+Nt[255&r]+Nt[r>>8&255]+Nt[r>>16&255]+Nt[r>>24&255]).toLowerCase()}function Vt(e,t,n){return Math.max(t,Math.min(n,e))}function Ht(e,t){return(e%t+t)%t}function Wt(e,t,n){return(1-n)*e+n*t}function Gt(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function qt(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Xt={DEG2RAD:Ft,RAD2DEG:Ut,generateUUID:Bt,clamp:Vt,euclideanModulo:Ht,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Wt,damp:function(e,t,n,r){return Wt(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(Ht(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(jt=e);let t=jt+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Ft},radToDeg:function(e){return e*Ut},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),f=o((t-r)/2),h=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*d,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*h,s*c,s*u)}},normalize:qt,denormalize:Gt};class Yt{constructor(e=0,t=0){Yt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Vt(this.x,e.x,t.x),this.y=Vt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Vt(this.x,e,t),this.y=Vt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Vt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Vt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kt{constructor(e,t,n,r,i,a,o,s,l){Kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l)}set(e,t,n,r,i,a,o,s,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],f=n[5],h=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],w=r[2],x=r[5],_=r[8];return i[0]=a*p+o*v+s*w,i[3]=a*m+o*y+s*x,i[6]=a*g+o*b+s*_,i[1]=l*p+u*v+c*w,i[4]=l*m+u*y+c*x,i[7]=l*g+u*b+c*_,i[2]=d*p+f*v+h*w,i[5]=d*m+f*y+h*x,i[8]=d*g+f*b+h*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,f=l*i-a*s,h=t*c+n*d+r*f;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);const p=1/h;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply($t.makeScale(e,t)),this}rotate(e){return this.premultiply($t.makeRotation(-e)),this}translate(e,t){return this.premultiply($t.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const $t=new Kt;function Zt(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Qt={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Jt(e,t){return new Qt[e](t)}function en(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function tn(){const e=en("canvas");return e.style.display="block",e}const nn={};function rn(e){e in nn||(nn[e]=!0)}const an=(new Kt).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),on=(new Kt).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function sn(){const e={enabled:!0,workingColorSpace:wt,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===_t&&(e.r=un(e.r),e.g=un(e.g),e.b=un(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===_t&&(e.r=cn(e.r),e.g=cn(e.g),e.b=cn(e.b)),e):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===yt?xt:this.spaces[e].transfer},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[wt]:{primaries:t,whitePoint:r,transfer:xt,toXYZ:an,fromXYZ:on,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:bt},outputColorSpaceConfig:{drawingBufferColorSpace:bt}},[bt]:{primaries:t,whitePoint:r,transfer:_t,toXYZ:an,fromXYZ:on,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:bt}}}),e}const ln=sn();function un(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function cn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let dn;class fn{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===dn&&(dn=en("canvas")),dn.width=e.width,dn.height=e.height;const n=dn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=dn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=en("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*un(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*un(t[e]/255)):t[e]=un(t[e]);return{data:t,width:e.width,height:e.height}}return e}}let hn=0;class pn{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hn++}),this.uuid=Bt(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(mn(r[t].image)):e.push(mn(r[t]))}else e=mn(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function mn(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?fn.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}let gn=0;class vn extends Lt{constructor(e=vn.DEFAULT_IMAGE,t=vn.DEFAULT_MAPPING,n=1001,r=1001,i=1006,a=1008,o=1023,s=1009,l=vn.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gn++}),this.uuid=Bt(),this.name="",this.source=new pn(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Yt(0,0),this.repeat=new Yt(1,1),this.center=new Yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==X)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case J:e.x=e.x-Math.floor(e.x);break;case ee:e.x=e.x<0?0:1;break;case te:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case J:e.y=e.y-Math.floor(e.y);break;case ee:e.y=e.y<0?0:1;break;case te:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}vn.DEFAULT_IMAGE=null,vn.DEFAULT_MAPPING=X,vn.DEFAULT_ANISOTROPY=1;class yn{constructor(e=0,t=0,n=0,r=1){yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],f=s[5],h=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(u-d)<a&&Math.abs(c-p)<a&&Math.abs(h-m)<a){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(h+m)<o&&Math.abs(l+f+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(f+1)/2,v=(g+1)/2,y=(u+d)/4,b=(c+p)/4,w=(h+m)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=w/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=w/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-h)*(m-h)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(v)<.001&&(v=1),this.x=(m-h)/v,this.y=(c-p)/v,this.z=(d-u)/v,this.w=Math.acos((l+f+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Vt(this.x,e.x,t.x),this.y=Vt(this.y,e.y,t.y),this.z=Vt(this.z,e.z,t.z),this.w=Vt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Vt(this.x,e,t),this.y=Vt(this.y,e,t),this.z=Vt(this.z,e,t),this.w=Vt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Vt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class bn extends Lt{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yn(0,0,e,t),this.scissorTest=!1,this.viewport=new yn(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ae,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new vn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let e=0;e<a;e++)this.textures[e]=i.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++)this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new pn(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wn extends bn{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class xn extends vn{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ne,this.minFilter=ne,this.wrapR=ee,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _n extends vn{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ne,this.minFilter=ne,this.wrapR=ee,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Sn{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3];const d=i[a+0],f=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=f,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==d||l!==f||u!==h){let e=1-o;const t=s*d+l*f+u*h+c*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+d*i,l=l*e+f*i,u=u*e+h*i,c=c*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=e,l*=e,u*=e,c*=e}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],f=i[a+2],h=i[a+3];return e[t]=o*h+u*c+s*f-l*d,e[t+1]=s*h+u*d+l*c-o*f,e[t+2]=l*h+u*f+o*d-s*c,e[t+3]=u*h-o*c-s*d-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),f=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"YXZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"ZXY":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"ZYX":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"YZX":this._x=d*u*c+l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c-d*f*h;break;case"XZY":this._x=d*u*c-l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c+d*f*h}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(u-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>c){const e=2*Math.sqrt(1+n-o-c);this._w=(u-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>c){const e=2*Math.sqrt(1+o-n-c);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+u)/e}else{const e=2*Math.sqrt(1+c-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+u)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(s),u=Math.atan2(l,o),c=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=a*c+this._w*d,this._x=n*c+this._x*d,this._y=r*c+this._y*d,this._z=i*c+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class En{constructor(e=0,t=0,n=0){En.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Cn.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Cn.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),u=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*l+a*c-o*u,this.y=n+s*u+o*l-i*c,this.z=r+s*c+i*u-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Vt(this.x,e.x,t.x),this.y=Vt(this.y,e.y,t.y),this.z=Vt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Vt(this.x,e,t),this.y=Vt(this.y,e,t),this.z=Vt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Vt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return kn.copy(this).projectOnVector(e),this.sub(kn)}reflect(e){return this.sub(kn.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Vt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const kn=new En,Cn=new Sn;class Mn{constructor(e=new En(1/0,1/0,1/0),t=new En(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Tn.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Tn.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Tn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Tn):Tn.fromBufferAttribute(r,t),Tn.applyMatrix4(e.matrixWorld),this.expandByPoint(Tn);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),An.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),An.copy(n.boundingBox)),An.applyMatrix4(e.matrixWorld),this.union(An)}const r=e.children;for(let e=0,n=r.length;e<n;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tn),Tn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nn),jn.subVectors(this.max,Nn),In.subVectors(e.a,Nn),Rn.subVectors(e.b,Nn),On.subVectors(e.c,Nn),Dn.subVectors(Rn,In),zn.subVectors(On,Rn),Ln.subVectors(In,On);let t=[0,-Dn.z,Dn.y,0,-zn.z,zn.y,0,-Ln.z,Ln.y,Dn.z,0,-Dn.x,zn.z,0,-zn.x,Ln.z,0,-Ln.x,-Dn.y,Dn.x,0,-zn.y,zn.x,0,-Ln.y,Ln.x,0];return!!Bn(t,In,Rn,On,jn)&&(t=[1,0,0,0,1,0,0,0,1],!!Bn(t,In,Rn,On,jn)&&(Fn.crossVectors(Dn,zn),t=[Fn.x,Fn.y,Fn.z],Bn(t,In,Rn,On,jn)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Tn).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Pn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pn)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pn=[new En,new En,new En,new En,new En,new En,new En,new En],Tn=new En,An=new Mn,In=new En,Rn=new En,On=new En,Dn=new En,zn=new En,Ln=new En,Nn=new En,jn=new En,Fn=new En,Un=new En;function Bn(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){Un.fromArray(e,a);const o=i.x*Math.abs(Un.x)+i.y*Math.abs(Un.y)+i.z*Math.abs(Un.z),s=t.dot(Un),l=n.dot(Un),u=r.dot(Un);if(Math.max(-Math.max(s,l,u),Math.min(s,l,u))>o)return!1}return!0}const Vn=new Mn,Hn=new En,Wn=new En;class Gn{constructor(e=new En,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Vn.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hn.subVectors(e,this.center);const t=Hn.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Hn,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Wn.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hn.copy(e.center).add(Wn)),this.expandByPoint(Hn.copy(e.center).sub(Wn))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const qn=new En,Xn=new En,Yn=new En,Kn=new En,$n=new En,Zn=new En,Qn=new En;class Jn{constructor(e=new En,t=new En(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qn)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=qn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(qn.copy(this.origin).addScaledVector(this.direction,t),qn.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Xn.copy(e).add(t).multiplyScalar(.5),Yn.copy(t).sub(e).normalize(),Kn.copy(this.origin).sub(Xn);const i=.5*e.distanceTo(t),a=-this.direction.dot(Yn),o=Kn.dot(this.direction),s=-Kn.dot(Yn),l=Kn.lengthSq(),u=Math.abs(1-a*a);let c,d,f,h;if(u>0)if(c=a*s-o,d=a*o-s,h=i*u,c>=0)if(d>=-h)if(d<=h){const e=1/u;c*=e,d*=e,f=c*(c+a*d+2*o)+d*(a*c+d+2*s)+l}else d=i,c=Math.max(0,-(a*d+o)),f=-c*c+d*(d+2*s)+l;else d=-i,c=Math.max(0,-(a*d+o)),f=-c*c+d*(d+2*s)+l;else d<=-h?(c=Math.max(0,-(-a*i+o)),d=c>0?-i:Math.min(Math.max(-i,-s),i),f=-c*c+d*(d+2*s)+l):d<=h?(c=0,d=Math.min(Math.max(-i,-s),i),f=d*(d+2*s)+l):(c=Math.max(0,-(a*i+o)),d=c>0?i:Math.min(Math.max(-i,-s),i),f=-c*c+d*(d+2*s)+l);else d=a>0?-i:i,c=Math.max(0,-(a*d+o)),f=-c*c+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,c),r&&r.copy(Xn).addScaledVector(Yn,d),f}intersectSphere(e,t){qn.subVectors(e.center,this.origin);const n=qn.dot(this.direction),r=qn.dot(qn)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,qn)}intersectTriangle(e,t,n,r,i){$n.subVectors(t,e),Zn.subVectors(n,e),Qn.crossVectors($n,Zn);let a,o=this.direction.dot(Qn);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Kn.subVectors(this.origin,e);const s=a*this.direction.dot(Zn.crossVectors(Kn,Zn));if(s<0)return null;const l=a*this.direction.dot($n.cross(Kn));if(l<0)return null;if(s+l>o)return null;const u=-a*Kn.dot(Qn);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class er{constructor(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,m){er.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,m)}set(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=f,g[7]=h,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new er).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/tr.setFromMatrixColumn(e,0).length(),i=1/tr.setFromMatrixColumn(e,1).length(),a=1/tr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){const e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e-i*o,t[4]=-a*c,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*u,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*c,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=i-e*c,t[8]=r*c+n,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=n*c+r,t[10]=e-i*c}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=e*c+i,t[5]=a*u,t[9]=n*c-r,t[2]=r*c-n,t[6]=o*u,t[10]=i*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(rr,e,ir)}lookAt(e,t,n){const r=this.elements;return sr.subVectors(e,t),0===sr.lengthSq()&&(sr.z=1),sr.normalize(),ar.crossVectors(n,sr),0===ar.lengthSq()&&(1===Math.abs(n.z)?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),ar.crossVectors(n,sr)),ar.normalize(),or.crossVectors(sr,ar),r[0]=ar.x,r[4]=or.x,r[8]=sr.x,r[1]=ar.y,r[5]=or.y,r[9]=sr.y,r[2]=ar.z,r[6]=or.z,r[10]=sr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],f=n[13],h=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],S=r[8],E=r[12],k=r[1],C=r[5],M=r[9],P=r[13],T=r[2],A=r[6],I=r[10],R=r[14],O=r[3],D=r[7],z=r[11],L=r[15];return i[0]=a*x+o*k+s*T+l*O,i[4]=a*_+o*C+s*A+l*D,i[8]=a*S+o*M+s*I+l*z,i[12]=a*E+o*P+s*R+l*L,i[1]=u*x+c*k+d*T+f*O,i[5]=u*_+c*C+d*A+f*D,i[9]=u*S+c*M+d*I+f*z,i[13]=u*E+c*P+d*R+f*L,i[2]=h*x+p*k+m*T+g*O,i[6]=h*_+p*C+m*A+g*D,i[10]=h*S+p*M+m*I+g*z,i[14]=h*E+p*P+m*R+g*L,i[3]=v*x+y*k+b*T+w*O,i[7]=v*_+y*C+b*A+w*D,i[11]=v*S+y*M+b*I+w*z,i[15]=v*E+y*P+b*R+w*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*d+i*a*d-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],m=e[14],g=e[15],v=c*m*l-p*d*l+p*s*f-o*m*f-c*s*g+o*d*g,y=h*d*l-u*m*l-h*s*f+a*m*f+u*s*g-a*d*g,b=u*p*l-h*c*l+h*o*f-a*p*f-u*o*g+a*c*g,w=h*c*s-u*p*s-h*o*d+a*p*d+u*o*m-a*c*m,x=t*v+n*y+r*b+i*w;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/x;return e[0]=v*_,e[1]=(p*d*i-c*m*i-p*r*f+n*m*f+c*r*g-n*d*g)*_,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*_,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*f-n*s*f)*_,e[4]=y*_,e[5]=(u*m*i-h*d*i+h*r*f-t*m*f-u*r*g+t*d*g)*_,e[6]=(h*s*i-a*m*i-h*r*l+t*m*l+a*r*g-t*s*g)*_,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*f+t*s*f)*_,e[8]=b*_,e[9]=(h*c*i-u*p*i-h*n*f+t*p*f+u*n*g-t*c*g)*_,e[10]=(a*p*i-h*o*i+h*n*l-t*p*l-a*n*g+t*o*g)*_,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*_,e[12]=w*_,e[13]=(u*p*r-h*c*r+h*n*d-t*p*d-u*n*m+t*c*m)*_,e[14]=(h*o*r-a*p*r-h*n*s+t*p*s+a*n*m-t*o*m)*_,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,f=i*u,h=i*c,p=a*u,m=a*c,g=o*c,v=s*l,y=s*u,b=s*c,w=n.x,x=n.y,_=n.z;return r[0]=(1-(p+g))*w,r[1]=(f+b)*w,r[2]=(h-y)*w,r[3]=0,r[4]=(f-b)*x,r[5]=(1-(d+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(h+y)*_,r[9]=(m-v)*_,r[10]=(1-(d+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=tr.set(r[0],r[1],r[2]).length();const a=tr.set(r[4],r[5],r[6]).length(),o=tr.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],nr.copy(this);const s=1/i,l=1/a,u=1/o;return nr.elements[0]*=s,nr.elements[1]*=s,nr.elements[2]*=s,nr.elements[4]*=l,nr.elements[5]*=l,nr.elements[6]*=l,nr.elements[8]*=u,nr.elements[9]*=u,nr.elements[10]*=u,t.setFromRotationMatrix(nr),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a,o=2e3){const s=this.elements,l=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),d=(n+r)/(n-r);let f,h;if(o===Dt)f=-(a+i)/(a-i),h=-2*a*i/(a-i);else{if(o!==zt)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);f=-a/(a-i),h=-a*i/(a-i)}return s[0]=l,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,a,o=2e3){const s=this.elements,l=1/(t-e),u=1/(n-r),c=1/(a-i),d=(t+e)*l,f=(n+r)*u;let h,p;if(o===Dt)h=(a+i)*c,p=-2*c;else{if(o!==zt)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);h=i*c,p=-1*c}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=p,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const tr=new En,nr=new er,rr=new En(0,0,0),ir=new En(1,1,1),ar=new En,or=new En,sr=new En,lr=new er,ur=new Sn;class cr{constructor(e=0,t=0,n=0,r=cr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Vt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Vt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Vt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Vt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Vt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Vt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return lr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lr,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ur.setFromEuler(this),this.setFromQuaternion(ur,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cr.DEFAULT_ORDER="XYZ";class dr{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let fr=0;const hr=new En,pr=new Sn,mr=new er,gr=new En,vr=new En,yr=new En,br=new Sn,wr=new En(1,0,0),xr=new En(0,1,0),_r=new En(0,0,1),Sr={type:"added"},Er={type:"removed"},kr={type:"childadded",child:null},Cr={type:"childremoved",child:null};class Mr extends Lt{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fr++}),this.uuid=Bt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mr.DEFAULT_UP.clone();const e=new En,t=new cr,n=new Sn,r=new En(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new er},normalMatrix:{value:new Kt}}),this.matrix=new er,this.matrixWorld=new er,this.matrixAutoUpdate=Mr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pr.setFromAxisAngle(e,t),this.quaternion.multiply(pr),this}rotateOnWorldAxis(e,t){return pr.setFromAxisAngle(e,t),this.quaternion.premultiply(pr),this}rotateX(e){return this.rotateOnAxis(wr,e)}rotateY(e){return this.rotateOnAxis(xr,e)}rotateZ(e){return this.rotateOnAxis(_r,e)}translateOnAxis(e,t){return hr.copy(e).applyQuaternion(this.quaternion),this.position.add(hr.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(wr,e)}translateY(e){return this.translateOnAxis(xr,e)}translateZ(e){return this.translateOnAxis(_r,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mr.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?gr.copy(e):gr.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),vr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mr.lookAt(vr,gr,this.up):mr.lookAt(gr,vr,this.up),this.quaternion.setFromRotationMatrix(mr),r&&(mr.extractRotation(r.matrixWorld),pr.setFromRotationMatrix(mr),this.quaternion.premultiply(pr.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this||e&&e.isObject3D&&(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Sr),kr.child=e,this.dispatchEvent(kr),kr.child=null),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Er),Cr.child=e,this.dispatchEvent(Cr),Cr.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),mr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),mr.multiply(e.parent.matrixWorld)),e.applyMatrix4(mr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Sr),kr.child=e,this.dispatchEvent(kr),kr.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vr,e,yr),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vr,br,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),u=a(e.animations),c=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),u.length>0&&(n.animations=u),c.length>0&&(n.nodes=c)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}Mr.DEFAULT_UP=new En(0,1,0),Mr.DEFAULT_MATRIX_AUTO_UPDATE=!0,Mr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Pr=new En,Tr=new En,Ar=new En,Ir=new En,Rr=new En,Or=new En,Dr=new En,zr=new En,Lr=new En,Nr=new En,jr=new yn,Fr=new yn,Ur=new yn;class Br{constructor(e=new En,t=new En,n=new En){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Pr.subVectors(e,t),r.cross(Pr);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Pr.subVectors(r,t),Tr.subVectors(n,t),Ar.subVectors(e,t);const a=Pr.dot(Pr),o=Pr.dot(Tr),s=Pr.dot(Ar),l=Tr.dot(Tr),u=Tr.dot(Ar),c=a*l-o*o;if(0===c)return i.set(0,0,0),null;const d=1/c,f=(l*s-o*u)*d,h=(a*u-o*s)*d;return i.set(1-f-h,h,f)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,Ir)&&(Ir.x>=0&&Ir.y>=0&&Ir.x+Ir.y<=1)}static getInterpolation(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,Ir)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,Ir.x),s.addScaledVector(a,Ir.y),s.addScaledVector(o,Ir.z),s)}static getInterpolatedAttribute(e,t,n,r,i,a){return jr.setScalar(0),Fr.setScalar(0),Ur.setScalar(0),jr.fromBufferAttribute(e,t),Fr.fromBufferAttribute(e,n),Ur.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(jr,i.x),a.addScaledVector(Fr,i.y),a.addScaledVector(Ur,i.z),a}static isFrontFacing(e,t,n,r){return Pr.subVectors(n,t),Tr.subVectors(e,t),Pr.cross(Tr).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Pr.subVectors(this.c,this.b),Tr.subVectors(this.a,this.b),.5*Pr.cross(Tr).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Br.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Br.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return Br.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Br.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Br.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;Rr.subVectors(r,n),Or.subVectors(i,n),zr.subVectors(e,n);const s=Rr.dot(zr),l=Or.dot(zr);if(s<=0&&l<=0)return t.copy(n);Lr.subVectors(e,r);const u=Rr.dot(Lr),c=Or.dot(Lr);if(u>=0&&c<=u)return t.copy(r);const d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return a=s/(s-u),t.copy(n).addScaledVector(Rr,a);Nr.subVectors(e,i);const f=Rr.dot(Nr),h=Or.dot(Nr);if(h>=0&&f<=h)return t.copy(i);const p=f*l-s*h;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(n).addScaledVector(Or,o);const m=u*h-f*c;if(m<=0&&c-u>=0&&f-h>=0)return Dr.subVectors(i,r),o=(c-u)/(c-u+(f-h)),t.copy(r).addScaledVector(Dr,o);const g=1/(m+p+d);return a=p*g,o=d*g,t.copy(n).addScaledVector(Rr,a).addScaledVector(Or,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Vr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hr={h:0,s:0,l:0},Wr={h:0,s:0,l:0};function Gr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class qr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=bt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ln.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=ln.workingColorSpace){return this.r=e,this.g=t,this.b=n,ln.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=ln.workingColorSpace){if(e=Ht(e,1),t=Vt(t,0,1),n=Vt(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Gr(i,r,e+1/3),this.g=Gr(i,r,e),this.b=Gr(i,r,e-1/3)}return ln.toWorkingColorSpace(this,r),this}setStyle(e,t=bt){function n(e){void 0!==e&&parseFloat(e)}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(e[4]),this.setRGB(Math.min(255,parseInt(e[1],10))/255,Math.min(255,parseInt(e[2],10))/255,Math.min(255,parseInt(e[3],10))/255,t);if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(e[4]),this.setRGB(Math.min(100,parseInt(e[1],10))/100,Math.min(100,parseInt(e[2],10))/100,Math.min(100,parseInt(e[3],10))/100,t);break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(e[4]),this.setHSL(parseFloat(e[1])/360,parseFloat(e[2])/100,parseFloat(e[3])/100,t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.setRGB(parseInt(e.charAt(0),16)/15,parseInt(e.charAt(1),16)/15,parseInt(e.charAt(2),16)/15,t);if(6===n)return this.setHex(parseInt(e,16),t)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=bt){const n=Vr[e.toLowerCase()];return void 0!==n&&this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=un(e.r),this.g=un(e.g),this.b=un(e.b),this}copyLinearToSRGB(e){return this.r=cn(e.r),this.g=cn(e.g),this.b=cn(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bt){return ln.fromWorkingColorSpace(Xr.copy(this),e),65536*Math.round(Vt(255*Xr.r,0,255))+256*Math.round(Vt(255*Xr.g,0,255))+Math.round(Vt(255*Xr.b,0,255))}getHexString(e=bt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ln.workingColorSpace){ln.fromWorkingColorSpace(Xr.copy(this),t);const n=Xr.r,r=Xr.g,i=Xr.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const u=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=u<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=u,e}getRGB(e,t=ln.workingColorSpace){return ln.fromWorkingColorSpace(Xr.copy(this),t),e.r=Xr.r,e.g=Xr.g,e.b=Xr.b,e}getStyle(e=bt){ln.fromWorkingColorSpace(Xr.copy(this),e);const t=Xr.r,n=Xr.g,r=Xr.b;return e!==bt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(Hr),this.setHSL(Hr.h+e,Hr.s+t,Hr.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Hr),e.getHSL(Wr);const n=Wt(Hr.h,Wr.h,t),r=Wt(Hr.s,Wr.s,t),i=Wt(Hr.l,Wr.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Xr=new qr;qr.NAMES=Vr;let Yr=0;class Kr extends Lt{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Yr++}),this.uuid=Bt(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=C,this.blendDst=M,this.blendEquation=b,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new qr(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=St,this.stencilZFail=St,this.stencilZPass=St,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n)continue;const r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==C&&(n.blendSrc=this.blendSrc),this.blendDst!==M&&(n.blendDst=this.blendDst),this.blendEquation!==b&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==St&&(n.stencilFail=this.stencilFail),this.stencilZFail!==St&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==St&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){}}class $r extends Kr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Zr=Qr();function Qr(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(r[e]=0,r[256|e]=32768,i[e]=24,i[256|e]=24):t<-14?(r[e]=1024>>-t-14,r[256|e]=1024>>-t-14|32768,i[e]=-t-1,i[256|e]=-t-1):t<=15?(r[e]=t+15<<10,r[256|e]=t+15<<10|32768,i[e]=13,i[256|e]=13):t<128?(r[e]=31744,r[256|e]=64512,i[e]=24,i[256|e]=24):(r[e]=31744,r[256|e]=64512,i[e]=13,i[256|e]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;!(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,a[e]=t|n}for(let e=1024;e<2048;++e)a[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)o[e]=e<<23;o[31]=1199570944,o[32]=2147483648;for(let e=33;e<63;++e)o[e]=2147483648+(e-32<<23);o[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(s[e]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Jr(e){Math.abs(e),e=Vt(e,-65504,65504),Zr.floatView[0]=e;const t=Zr.uint32View[0],n=t>>23&511;return Zr.baseTable[n]+((8388607&t)>>Zr.shiftTable[n])}function ei(e){const t=e>>10;return Zr.uint32View[0]=Zr.mantissaTable[Zr.offsetTable[t]+(1023&e)]+Zr.exponentTable[t],Zr.floatView[0]}const ti={toHalfFloat:Jr,fromHalfFloat:ei},ni=new En,ri=new Yt;class ii{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Rt,this.updateRanges=[],this.gpuType=pe,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)ri.fromBufferAttribute(this,t),ri.applyMatrix3(e),this.setXY(t,ri.x,ri.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)ni.fromBufferAttribute(this,t),ni.applyMatrix3(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ni.fromBufferAttribute(this,t),ni.applyMatrix4(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ni.fromBufferAttribute(this,t),ni.applyNormalMatrix(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ni.fromBufferAttribute(this,t),ni.transformDirection(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Gt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=qt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Gt(t,this.array)),t}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Gt(t,this.array)),t}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Gt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Gt(t,this.array)),t}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array),r=qt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Rt&&(e.usage=this.usage),e}}class ai extends ii{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class oi extends ii{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class si extends ii{constructor(e,t,n){super(new Float32Array(e),t,n)}}let li=0;const ui=new er,ci=new Mr,di=new En,fi=new Mn,hi=new Mn,pi=new En;class mi extends Lt{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:li++}),this.uuid=Bt(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Zt(e)?oi:ai)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Kt).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ui.makeRotationFromQuaternion(e),this.applyMatrix4(ui),this}rotateX(e){return ui.makeRotationX(e),this.applyMatrix4(ui),this}rotateY(e){return ui.makeRotationY(e),this.applyMatrix4(ui),this}rotateZ(e){return ui.makeRotationZ(e),this.applyMatrix4(ui),this}translate(e,t,n){return ui.makeTranslation(e,t,n),this.applyMatrix4(ui),this}scale(e,t,n){return ui.makeScale(e,t,n),this.applyMatrix4(ui),this}lookAt(e){return ci.lookAt(e),ci.updateMatrix(),this.applyMatrix4(ci.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(di).negate(),this.translate(di.x,di.y,di.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new si(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length,t.count,t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Mn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new En(-1/0,-1/0,-1/0),new En(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];fi.setFromBufferAttribute(n),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,fi.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,fi.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(fi.min),this.boundingBox.expandByPoint(fi.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Gn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new En,1/0);else if(e){const n=this.boundingSphere.center;if(fi.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];hi.setFromBufferAttribute(n),this.morphTargetsRelative?(pi.addVectors(fi.min,hi.min),fi.expandByPoint(pi),pi.addVectors(fi.max,hi.max),fi.expandByPoint(pi)):(fi.expandByPoint(hi.min),fi.expandByPoint(hi.max))}fi.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)pi.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(pi));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)pi.fromBufferAttribute(a,t),o&&(di.fromBufferAttribute(e,t),pi.add(di)),r=Math.max(r,n.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return;const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ii(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let e=0;e<n.count;e++)o[e]=new En,s[e]=new En;const l=new En,u=new En,c=new En,d=new Yt,f=new Yt,h=new Yt,p=new En,m=new En;function g(e,t,r){l.fromBufferAttribute(n,e),u.fromBufferAttribute(n,t),c.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),f.fromBufferAttribute(i,t),h.fromBufferAttribute(i,r),u.sub(l),c.sub(l),f.sub(d),h.sub(d);const a=1/(f.x*h.y-h.x*f.y);isFinite(a)&&(p.copy(u).multiplyScalar(h.y).addScaledVector(c,-f.y).multiplyScalar(a),m.copy(c).multiplyScalar(f.x).addScaledVector(u,-h.x).multiplyScalar(a),o[e].add(p),o[t].add(p),o[r].add(p),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let t=0,n=v.length;t<n;++t){const n=v[t],r=n.start;for(let t=r,i=r+n.count;t<i;t+=3)g(e.getX(t+0),e.getX(t+1),e.getX(t+2))}const y=new En,b=new En,w=new En,x=new En;function _(e){w.fromBufferAttribute(r,e),x.copy(w);const t=o[e];y.copy(t),y.sub(w.multiplyScalar(w.dot(t))).normalize(),b.crossVectors(x,t);const n=b.dot(s[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let t=0,n=v.length;t<n;++t){const n=v[t],r=n.start;for(let t=r,i=r+n.count;t<i;t+=3)_(e.getX(t+0)),_(e.getX(t+1)),_(e.getX(t+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new ii(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new En,i=new En,a=new En,o=new En,s=new En,l=new En,u=new En,c=new En;if(e)for(let d=0,f=e.count;d<f;d+=3){const f=e.getX(d+0),h=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,f),i.fromBufferAttribute(t,h),a.fromBufferAttribute(t,p),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),o.fromBufferAttribute(n,f),s.fromBufferAttribute(n,h),l.fromBufferAttribute(n,p),o.add(u),s.add(u),l.add(u),n.setXYZ(f,o.x,o.y,o.z),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,o=t.count;e<o;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),n.setXYZ(e+0,u.x,u.y,u.z),n.setXYZ(e+1,u.x,u.y,u.z),n.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)pi.fromBufferAttribute(e,t),pi.normalize(),e.setXYZ(t,pi.x,pi.y,pi.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let i=0,l=t.length;i<l;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new ii(a,r,i)}if(null===this.index)return this;const t=new mi,n=this.index.array,r=this.attributes;for(const i in r){const a=e(r[i],n);t.setAttribute(i,a)}const i=this.morphAttributes;for(const r in i){const a=[],o=i[r];for(let t=0,r=o.length;t<r;t++){const r=e(o[t],n);a.push(r)}t.morphAttributes[r]=a}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let e=0,n=a.length;e<n;e++){const n=a[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const r=n[t];e.data.attributes[t]=r.toJSON(e.data)}const r={};let i=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],a=[];for(let t=0,r=n.length;t<r;t++){const r=n[t];a.push(r.toJSON(e.data))}a.length>0&&(r[t]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const e in r){const n=r[e];this.setAttribute(e,n.clone(t))}const i=e.morphAttributes;for(const e in i){const n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let e=0,t=a.length;e<t;e++){const t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gi=new er,vi=new Jn,yi=new Gn,bi=new En,wi=new En,xi=new En,_i=new En,Si=new En,Ei=new En,ki=new En,Ci=new En;class Mi extends Mr{constructor(e=new mi,t=new $r){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){Ei.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(Si.fromBufferAttribute(s,e),a?Ei.addScaledVector(Si,r):Ei.addScaledVector(Si.sub(t),r))}t.add(Ei)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),yi.copy(n.boundingSphere),yi.applyMatrix4(i),vi.copy(e.ray).recast(e.near),!1===yi.containsPoint(vi.origin)){if(null===vi.intersectSphere(yi,bi))return;if(vi.origin.distanceToSquared(bi)>(e.far-e.near)**2)return}gi.copy(i).invert(),vi.copy(e.ray).applyMatrix4(gi),null!==n.boundingBox&&!1===vi.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,vi)}}_computeIntersections(e,t,n){let r;const i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(let i=0,s=d.length;i<s;i++){const s=d[i],h=a[s.materialIndex];for(let i=Math.max(s.start,f.start),a=Math.min(o.count,Math.min(s.start+s.count,f.start+f.count));i<a;i+=3){r=Pi(this,h,e,n,l,u,c,o.getX(i),o.getX(i+1),o.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=s.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),s=Math.min(o.count,f.start+f.count);i<s;i+=3){r=Pi(this,a,e,n,l,u,c,o.getX(i),o.getX(i+1),o.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(a))for(let i=0,o=d.length;i<o;i++){const o=d[i],h=a[o.materialIndex];for(let i=Math.max(o.start,f.start),a=Math.min(s.count,Math.min(o.start+o.count,f.start+f.count));i<a;i+=3){r=Pi(this,h,e,n,l,u,c,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=o.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),o=Math.min(s.count,f.start+f.count);i<o;i+=3){r=Pi(this,a,e,n,l,u,c,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Pi(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,wi),e.getVertexPosition(l,xi),e.getVertexPosition(u,_i);const c=function(e,t,n,r,i,a,o,s){let l;if(l=1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,0===t.side,s),null===l)return null;Ci.copy(s),Ci.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(Ci);return u<n.near||u>n.far?null:{distance:u,point:Ci.clone(),object:e}}(e,t,n,r,wi,xi,_i,ki);if(c){const e=new En;Br.getBarycoord(ki,wi,xi,_i,e),i&&(c.uv=Br.getInterpolatedAttribute(i,s,l,u,e,new Yt)),a&&(c.uv1=Br.getInterpolatedAttribute(a,s,l,u,e,new Yt)),o&&(c.normal=Br.getInterpolatedAttribute(o,s,l,u,e,new En),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const t={a:s,b:l,c:u,normal:new En,materialIndex:0};Br.getNormal(wi,xi,_i,t.normal),c.face=t,c.barycoord=e}return c}class Ti extends mi{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],u=[],c=[];let d=0,f=0;function h(e,t,n,r,i,a,h,p,m,g,v){const y=a/m,b=h/g,w=a/2,x=h/2,_=p/2,S=m+1,E=g+1;let k=0,C=0;const M=new En;for(let a=0;a<E;a++){const o=a*b-x;for(let s=0;s<S;s++){const d=s*y-w;M[e]=d*r,M[t]=o*i,M[n]=_,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,u.push(M.x,M.y,M.z),c.push(s/m),c.push(1-a/g),k+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){const n=d+t+S*e,r=d+t+S*(e+1),i=d+(t+1)+S*(e+1),a=d+(t+1)+S*e;s.push(n,r,a),s.push(r,i,a),C+=6}o.addGroup(f,C,v),f+=C,d+=k}h("z","y","x",-1,-1,n,t,e,a,i,0),h("z","y","x",1,-1,n,t,-e,a,i,1),h("x","z","y",1,1,e,n,t,r,a,2),h("x","z","y",1,-1,e,n,-t,r,a,3),h("x","y","z",1,-1,e,t,n,r,i,4),h("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new si(l,3)),this.setAttribute("normal",new si(u,3)),this.setAttribute("uv",new si(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ti(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ai(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?t[n][r]=null:t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Ii(e){const t={};for(let n=0;n<e.length;n++){const r=Ai(e[n]);for(const e in r)t[e]=r[e]}return t}function Ri(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:ln.workingColorSpace}const Oi={clone:Ai,merge:Ii};class Di extends Kr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ai(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class zi extends Mr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new er,this.projectionMatrix=new er,this.projectionMatrixInverse=new er,this.coordinateSystem=Dt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Li=new En,Ni=new Yt,ji=new Yt;class Fi extends zi{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Ut*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ft*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Ut*Math.atan(Math.tan(.5*Ft*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Li.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Li.x,Li.y).multiplyScalar(-e/Li.z),Li.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Li.x,Li.y).multiplyScalar(-e/Li.z)}getViewSize(e,t){return this.getViewBounds(e,Ni,ji),t.subVectors(ji,Ni)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Ft*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Ui=-90;class Bi extends Mr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Fi(Ui,1,e,t);r.layers=this.layers,this.add(r);const i=new Fi(Ui,1,e,t);i.layers=this.layers,this.add(i);const a=new Fi(Ui,1,e,t);a.layers=this.layers,this.add(a);const o=new Fi(Ui,1,e,t);o.layers=this.layers,this.add(o);const s=new Fi(Ui,1,e,t);s.layers=this.layers,this.add(s);const l=new Fi(Ui,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(const e of t)this.remove(e);if(e===Dt)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==zt)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,o,s,l,u]=this.children,c=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),h=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,u),e.setRenderTarget(c,d,f),e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class Vi extends vn{constructor(e,t,n,r,i,a,o,s,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Y,n,r,i,a,o,s,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Hi extends wn{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Vi(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ae}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Ti(5,5,5),i=new Di({name:"CubemapFromEquirect",uniforms:Ai(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;const a=new Mi(r,i),o=t.minFilter;t.minFilter===se&&(t.minFilter=ae);return new Bi(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}}class Wi{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new qr(e),this.density=t}clone(){return new Wi(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Gi{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new qr(e),this.near=t,this.far=n}clone(){return new Gi(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class qi extends Mr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cr,this.environmentIntensity=1,this.environmentRotation=new cr,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Xi{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Rt,this.updateRanges=[],this.version=0,this.uuid=Bt()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Yi=new En;class Ki{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Yi.fromBufferAttribute(this,t),Yi.applyMatrix4(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Yi.fromBufferAttribute(this,t),Yi.applyNormalMatrix(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Yi.fromBufferAttribute(this,t),Yi.transformDirection(e),this.setXYZ(t,Yi.x,Yi.y,Yi.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Gt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=qt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Gt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Gt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Gt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Gt(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array),r=qt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new ii(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ki(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class $i extends Kr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new qr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zi;const Qi=new En,Ji=new En,ea=new En,ta=new Yt,na=new Yt,ra=new er,ia=new En,aa=new En,oa=new En,sa=new Yt,la=new Yt,ua=new Yt;class ca extends Mr{constructor(e=new $i){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Zi){Zi=new mi;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Xi(e,5);Zi.setIndex([0,1,2,0,2,3]),Zi.setAttribute("position",new Ki(t,3,0,!1)),Zi.setAttribute("uv",new Ki(t,2,3,!1))}this.geometry=Zi,this.material=e,this.center=new Yt(.5,.5)}raycast(e,t){e.camera,Ji.setFromMatrixScale(this.matrixWorld),ra.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ea.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ji.multiplyScalar(-ea.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;da(ia.set(-.5,-.5,0),ea,a,Ji,r,i),da(aa.set(.5,-.5,0),ea,a,Ji,r,i),da(oa.set(.5,.5,0),ea,a,Ji,r,i),sa.set(0,0),la.set(1,0),ua.set(1,1);let o=e.ray.intersectTriangle(ia,aa,oa,!1,Qi);if(null===o&&(da(aa.set(-.5,.5,0),ea,a,Ji,r,i),la.set(0,1),o=e.ray.intersectTriangle(ia,oa,aa,!1,Qi),null===o))return;const s=e.ray.origin.distanceTo(Qi);s<e.near||s>e.far||t.push({distance:s,point:Qi.clone(),uv:Br.getInterpolation(Qi,ia,aa,oa,sa,la,ua,new Yt),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function da(e,t,n,r,i,a){ta.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(na.x=a*ta.x-i*ta.y,na.y=i*ta.x+a*ta.y):na.copy(ta),e.copy(t),e.x+=na.x,e.y+=na.y,e.applyMatrix4(ra)}const fa=new En,ha=new En;class pa extends Mr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.addLevel(n.object.clone(),n.distance,n.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){fa.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(fa);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){fa.setFromMatrixPosition(e.matrixWorld),ha.setFromMatrixPosition(this.matrixWorld);const n=fa.distanceTo(ha)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let e=0,r=n.length;e<r;e++){const r=n[e];t.object.levels.push({object:r.object.uuid,distance:r.distance,hysteresis:r.hysteresis})}return t}}const ma=new En,ga=new yn,va=new yn,ya=new En,ba=new er,wa=new En,xa=new Gn,_a=new er,Sa=new Jn;class Ea extends Mi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=G,this.bindMatrix=new er,this.bindMatrixInverse=new er,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Mn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,wa),this.boundingBox.expandByPoint(wa)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Gn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,wa),this.boundingSphere.expandByPoint(wa)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),xa.copy(this.boundingSphere),xa.applyMatrix4(r),!1!==e.ray.intersectsSphere(xa)&&(_a.copy(r).invert(),Sa.copy(e.ray).applyMatrix4(_a),null!==this.boundingBox&&!1===Sa.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Sa)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new yn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===G?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===q&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;ga.fromBufferAttribute(r.attributes.skinIndex,e),va.fromBufferAttribute(r.attributes.skinWeight,e),ma.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const r=va.getComponent(e);if(0!==r){const i=ga.getComponent(e);ba.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(ya.copy(ma).applyMatrix4(ba),r)}}return t.applyMatrix4(this.bindMatrixInverse)}}class ka extends Mr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ca extends vn{constructor(e=null,t=1,n=1,r,i,a,o,s,l=1003,u=1003,c,d){super(null,a,o,s,l,u,r,i,c,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Ma=new er,Pa=new er;class Ta{constructor(e=[],t=[]){this.uuid=Bt(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new er)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new er;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++){const i=e[r]?e[r].matrixWorld:Pa;Ma.multiplyMatrices(i,t[r]),Ma.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new Ta(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Ca(t,e,e,_e,pe);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=t[e.bones[n]];void 0===r&&(r=new ka),this.bones.push(r),this.boneInverses.push((new er).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Aa extends ii{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ia=new er,Ra=new er,Oa=[],Da=new Mn,za=new er,La=new Mi,Na=new Gn;class ja extends Mi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Aa(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<n;e++)this.setMatrixAt(e,za)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Mn),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ia),Da.copy(e.boundingBox).applyMatrix4(Ia),this.boundingBox.union(Da)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Gn),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ia),Na.copy(e.boundingSphere).applyMatrix4(Ia),this.boundingSphere.union(Na)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let e=0;e<n.length;e++)n[e]=r[i+e]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(La.geometry=this.geometry,La.material=this.material,void 0!==La.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Na.copy(this.boundingSphere),Na.applyMatrix4(n),!1!==e.ray.intersectsSphere(Na)))for(let i=0;i<r;i++){this.getMatrixAt(i,Ia),Ra.multiplyMatrices(n,Ia),La.matrixWorld=Ra,La.raycast(e,Oa);for(let e=0,n=Oa.length;e<n;e++){const n=Oa[e];n.instanceId=i,n.object=this,t.push(n)}Oa.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Aa(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new Ca(new Float32Array(r*this.count),r,this.count,Me,pe));const i=this.morphTexture.source.data.data;let a=0;for(let e=0;e<n.length;e++)a+=n[e];const o=this.geometry.morphTargetsRelative?1:1-a,s=r*e;i[s]=o,i.set(n,s+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Fa=new En,Ua=new En,Ba=new Kt;class Va{constructor(e=new En(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Fa.subVectors(n,t).cross(Ua.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Fa),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ba.getNormalMatrix(e),r=this.coplanarPoint(Fa).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ha=new Gn,Wa=new En;class Ga{constructor(e=new Va,t=new Va,n=new Va,r=new Va,i=new Va,a=new Va){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=r[8],h=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,m-f,b-g).normalize(),n[1].setComponents(s+i,d+l,m+f,b+g).normalize(),n[2].setComponents(s+a,d+u,m+h,b+v).normalize(),n[3].setComponents(s-a,d-u,m-h,b-v).normalize(),n[4].setComponents(s-o,d-c,m-p,b-y).normalize(),t===Dt)n[5].setComponents(s+o,d+c,m+p,b+y).normalize();else{if(t!==zt)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Ha.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Ha.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ha)}intersectsSprite(e){return Ha.center.set(0,0,0),Ha.radius=.7071067811865476,Ha.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ha)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Wa.x=r.normal.x>0?e.max.x:e.min.x,Wa.y=r.normal.y>0?e.max.y:e.min.y,Wa.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Wa)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function qa(e,t){return e-t}function Xa(e,t){return e.z-t.z}function Ya(e,t){return t.z-e.z}class Ka{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const i=this.pool,a=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const o=i[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=r}reset(){this.list.length=0,this.index=0}}const $a=new er,Za=new qr(1,1,1),Qa=new Ga,Ja=new Mn,eo=new Gn,to=new En,no=new En,ro=new En,io=new Ka,ao=new Mi,oo=[];function so(e,t,n=0){const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let a=0;a<i;a++)for(let i=0;i<r;i++)t.setComponent(a+n,i,e.getComponent(a,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}function lo(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)t[r]=e[r]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class uo extends Mi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=2*t,r){super(new mi,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Ca(t,e,e,_e,pe);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Ca(t,e,e,Pe,he);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Ca(t,e,e,_e,pe);n.colorSpace=ln.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:a,itemSize:o,normalized:s}=i,l=new a.constructor(n*o),u=new ii(l,o,s);t.setAttribute(r,u)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new ii(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Mn);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,$a),this.getBoundingBoxAt(r,Ja).applyMatrix4($a),e.union(Ja)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Gn);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,$a),this.getBoundingSphereAt(r,eo).applyMatrix4($a),e.union(eo)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(qa),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const r=this._matricesTexture;$a.identity().toArray(r.image.data,16*n),r.needsUpdate=!0;const i=this._colorsTexture;return i&&(Za.toArray(i.image.data,4*n),i.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const a=e.getIndex();if(null!==a&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?a.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(qa),o=this._availableGeometryIds.shift(),i[o]=r):(o=this._geometryCount,this._geometryCount++,i.push(r)),this.setGeometryAt(o,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,o}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const s=o.vertexStart,l=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const e in n.attributes){const r=t.getAttribute(e),i=n.getAttribute(e);so(r,i,s);const a=r.itemSize;for(let e=r.count,t=l;e<t;e++){const t=s+e;for(let e=0;e<a;e++)i.setComponent(t,e,0)}i.needsUpdate=!0,i.addUpdateRange(s*a,l*a)}if(r){const e=o.indexStart,n=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let t=0;t<a.count;t++)i.setX(e+t,s+a.getX(t));for(let t=a.count,r=n;t<r;t++)i.setX(e+t,s);i.needsUpdate=!0,i.addUpdateRange(e,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,null!==t.boundingBox&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,null!==t.boundingSphere&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let t=0,r=n.length;t<r;t++)n[t].geometryIndex===e&&this.deleteInstance(t);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),i=this.geometry;for(let a=0,o=n.length;a<o;a++){const o=r[a],s=n[o];if(!1!==s.active){if(null!==i.index){if(s.indexStart!==t){const{indexStart:n,vertexStart:r,reservedIndexCount:a}=s,o=i.index,l=o.array,u=e-r;for(let e=n;e<n+a;e++)l[e]=l[e]+u;o.array.copyWithin(t,n,n+a),o.addUpdateRange(t,a),s.indexStart=t}t+=s.reservedIndexCount}if(s.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=s,r=i.attributes;for(const i in r){const a=r[i],{array:o,itemSize:s}=a;o.copyWithin(e*s,t*s,(t+n)*s),a.addUpdateRange(e*s,n*s)}s.vertexStart=e}e+=s.reservedVertexCount,s.start=i.index?s.indexStart:s.vertexStart,this._nextIndexStart=i.index?s.indexStart+s.reservedIndexCount:0,this._nextVertexStart=s.vertexStart+s.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingBox){const e=new Mn,t=n.index,i=n.attributes.position;for(let n=r.start,a=r.start+r.count;n<a;n++){let r=n;t&&(r=t.getX(r)),e.expandByPoint(to.fromBufferAttribute(i,r))}r.boundingBox=e}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingSphere){const t=new Gn;this.getBoundingBoxAt(e,Ja),Ja.getCenter(t.center);const i=n.index,a=n.attributes.position;let o=0;for(let e=r.start,n=r.start+r.count;e<n;e++){let n=e;i&&(n=i.getX(n)),to.fromBufferAttribute(a,n),o=Math.max(o,t.center.distanceToSquared(to))}t.radius=Math.sqrt(o),r.boundingSphere=t}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(qa);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),i=new Int32Array(e);lo(this._multiDrawCounts,r),lo(this._multiDrawStarts,i),this._multiDrawCounts=r,this._multiDrawStarts=i,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,s=this._colorsTexture;a.dispose(),this._initIndirectTexture(),lo(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),lo(o.image.data,this._matricesTexture.image.data),s&&(s.dispose(),this._initColorsTexture(),lo(s.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`)}const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new mi,this._initializeGeometry(r));const i=this.geometry;r.index&&lo(r.index.array,i.index.array);for(const e in r.attributes)lo(r.attributes[e].array,i.attributes[e].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,i=this.matrixWorld,a=this.geometry;ao.material=this.material,ao.geometry.index=a.index,ao.geometry.attributes=a.attributes,null===ao.geometry.boundingBox&&(ao.geometry.boundingBox=new Mn),null===ao.geometry.boundingSphere&&(ao.geometry.boundingSphere=new Gn);for(let a=0,o=n.length;a<o;a++){if(!n[a].visible||!n[a].active)continue;const o=n[a].geometryIndex,s=r[o];ao.geometry.setDrawRange(s.start,s.count),this.getMatrixAt(a,ao.matrixWorld).premultiply(i),this.getBoundingBoxAt(o,ao.geometry.boundingBox),this.getBoundingSphereAt(o,ao.geometry.boundingSphere),ao.raycast(e,oo);for(let e=0,n=oo.length;e<n;e++){const n=oo[e];n.object=this,n.batchId=a,t.push(n)}oo.length=0}ao.material=null,ao.geometry.index=null,ao.geometry.attributes={},ao.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>({...e})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._instanceInfo,l=this._multiDrawStarts,u=this._multiDrawCounts,c=this._geometryInfo,d=this.perObjectFrustumCulled,f=this._indirectTexture,h=f.image.data;d&&($a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Qa.setFromProjectionMatrix($a,e.coordinateSystem));let p=0;if(this.sortObjects){$a.copy(this.matrixWorld).invert(),to.setFromMatrixPosition(n.matrixWorld).applyMatrix4($a),no.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection($a);for(let e=0,t=s.length;e<t;e++)if(s[e].visible&&s[e].active){const t=s[e].geometryIndex;this.getMatrixAt(e,$a),this.getBoundingSphereAt(t,eo).applyMatrix4($a);let n=!1;if(d&&(n=!Qa.intersectsSphere(eo)),!n){const n=c[t],r=ro.subVectors(eo.center,to).dot(no);io.push(n.start,n.count,r,e)}}const e=io.list,t=this.customSort;null===t?e.sort(i.transparent?Ya:Xa):t.call(this,e,n);for(let t=0,n=e.length;t<n;t++){const n=e[t];l[p]=n.start*o,u[p]=n.count,h[p]=n.index,p++}io.reset()}else for(let e=0,t=s.length;e<t;e++)if(s[e].visible&&s[e].active){const t=s[e].geometryIndex;let n=!1;if(d&&(this.getMatrixAt(e,$a),this.getBoundingSphereAt(t,eo).applyMatrix4($a),n=!Qa.intersectsSphere(eo)),!n){const n=c[t];l[p]=n.start*o,u[p]=n.count,h[p]=e,p++}}f.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}class co extends Kr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const fo=new En,ho=new En,po=new er,mo=new Jn,go=new Gn,vo=new En,yo=new En;class bo extends Mr{constructor(e=new mi,t=new co){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)fo.fromBufferAttribute(t,e-1),ho.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=fo.distanceTo(ho);e.setAttribute("lineDistance",new si(n,1))}return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),go.copy(n.boundingSphere),go.applyMatrix4(r),go.radius+=i,!1===e.ray.intersectsSphere(go))return;po.copy(r).invert(),mo.copy(e.ray).applyMatrix4(po);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,u=n.index,c=n.attributes.position;if(null!==u){const n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=u.getX(i),r=u.getX(i+1),a=wo(this,e,mo,s,n,r);a&&t.push(a)}if(this.isLineLoop){const i=u.getX(r-1),a=u.getX(n),o=wo(this,e,mo,s,i,a);o&&t.push(o)}}else{const n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=wo(this,e,mo,s,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=wo(this,e,mo,s,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function wo(e,t,n,r,i,a){const o=e.geometry.attributes.position;fo.fromBufferAttribute(o,i),ho.fromBufferAttribute(o,a);if(n.distanceSqToSegment(fo,ho,vo,yo)>r)return;vo.applyMatrix4(e.matrixWorld);const s=t.ray.origin.distanceTo(vo);return s<t.near||s>t.far?void 0:{distance:s,point:yo.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:e}}const xo=new En,_o=new En;class So extends bo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)xo.fromBufferAttribute(t,e),_o.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+xo.distanceTo(_o);e.setAttribute("lineDistance",new si(n,1))}return this}}class Eo extends bo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ko extends Kr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new qr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Co=new er,Mo=new Jn,Po=new Gn,To=new En;class Ao extends Mr{constructor(e=new mi,t=new ko){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Po.copy(n.boundingSphere),Po.applyMatrix4(r),Po.radius+=i,!1===e.ray.intersectsSphere(Po))return;Co.copy(r).invert(),Mo.copy(e.ray).applyMatrix4(Co);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);To.fromBufferAttribute(u,i),Io(To,i,s,r,e,t,this)}}else{for(let n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);n<i;n++)To.fromBufferAttribute(u,n),Io(To,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Io(e,t,n,r,i,a,o){const s=Mo.distanceSqToPoint(e);if(s<n){const n=new En;Mo.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class Ro extends Mr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class Oo extends vn{constructor(e,t,n,r,i,a,o,s,l,u,c,d){super(null,a,o,s,l,u,r,i,c,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Do extends vn{constructor(e,t,n,r,i,a,o,s,l,u=1026){if(u!==ke&&u!==Ce)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===ke&&(n=he),void 0===n&&u===Ce&&(n=ye),super(null,r,i,a,o,s,u,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:ne,this.minFilter=void 0!==s?s:ne,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class zo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const u=n[r];return(r+(a-u)/(n[r+1]-u))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Yt:new En);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new En,r=[],i=[],a=[],o=new En,s=new er;for(let t=0;t<=e;t++){const n=t/e;r[t]=this.getTangentAt(n,new En)}i[0]=new En,a[0]=new En;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),c=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(r[t-1],r[t]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Vt(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(o,e))}a[t].crossVectors(r[t],i[t])}if(!0===t){let t=Math.acos(Vt(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Lo extends zo{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t=new Yt){const n=t,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);const o=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class No extends Lo{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function jo(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,u*=o,i(t,n,l,u)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const Fo=new En,Uo=new jo,Bo=new jo,Vo=new jo;class Ho extends zo{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new En){const n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e;let o,s,l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===u&&l===i-1&&(l=i-2,u=1),this.closed||l>0?o=r[(l-1)%i]:(Fo.subVectors(r[0],r[1]).add(r[0]),o=Fo);const c=r[l%i],d=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(Fo.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=Fo),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(d),e),r=Math.pow(d.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Uo.initNonuniformCatmullRom(o.x,c.x,d.x,s.x,t,n,r),Bo.initNonuniformCatmullRom(o.y,c.y,d.y,s.y,t,n,r),Vo.initNonuniformCatmullRom(o.z,c.z,d.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(Uo.initCatmullRom(o.x,c.x,d.x,s.x,this.tension),Bo.initCatmullRom(o.y,c.y,d.y,s.y,this.tension),Vo.initCatmullRom(o.z,c.z,d.z,s.z,this.tension));return n.set(Uo.calc(u),Bo.calc(u),Vo.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new En).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Wo(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Go(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function qo(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class Xo extends zo{constructor(e=new Yt,t=new Yt,n=new Yt,r=new Yt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Yt){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(qo(e,r.x,i.x,a.x,o.x),qo(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yo extends zo{constructor(e=new En,t=new En,n=new En,r=new En){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new En){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(qo(e,r.x,i.x,a.x,o.x),qo(e,r.y,i.y,a.y,o.y),qo(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ko extends zo{constructor(e=new Yt,t=new Yt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Yt){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Yt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $o extends zo{constructor(e=new En,t=new En){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new En){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new En){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Zo extends zo{constructor(e=new Yt,t=new Yt,n=new Yt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Yt){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Go(e,r.x,i.x,a.x),Go(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qo extends zo{constructor(e=new En,t=new En,n=new En){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new En){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Go(e,r.x,i.x,a.x),Go(e,r.y,i.y,a.y),Go(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Jo extends zo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Yt){const n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(Wo(o,s.x,l.x,u.x,c.x),Wo(o,s.y,l.y,u.y,c.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Yt).fromArray(n))}return this}}var es=Object.freeze({__proto__:null,ArcCurve:No,CatmullRomCurve3:Ho,CubicBezierCurve:Xo,CubicBezierCurve3:Yo,EllipseCurve:Lo,LineCurve:Ko,LineCurve3:$o,QuadraticBezierCurve:Zo,QuadraticBezierCurve3:Qo,SplineCurve:Jo});class ts extends zo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new es[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new es[n.type]).fromJSON(n))}return this}}class ns extends ts{constructor(e){super(),this.type="Path",this.currentPoint=new Yt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Ko(this.currentPoint.clone(),new Yt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Zo(this.currentPoint.clone(),new Yt(e,t),new Yt(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new Xo(this.currentPoint.clone(),new Yt(e,t),new Yt(n,r),new Yt(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Jo(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new Lo(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class rs extends mi{constructor(e=[new Yt(0,-.5),new Yt(.5,0),new Yt(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Vt(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],u=1/t,c=new En,d=new Yt,f=new En,h=new En,p=new En;let m=0,g=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,f.x=1*g,f.y=-m,f.z=0*g,p.copy(f),f.normalize(),s.push(f.x,f.y,f.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,f.x=1*g,f.y=-m,f.z=0*g,h.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),s.push(f.x,f.y,f.z),p.copy(h)}for(let i=0;i<=t;i++){const f=n+i*u*r,h=Math.sin(f),p=Math.cos(f);for(let n=0;n<=e.length-1;n++){c.x=e[n].x*h,c.y=e[n].y,c.z=e[n].x*p,a.push(c.x,c.y,c.z),d.x=i/t,d.y=n/(e.length-1),o.push(d.x,d.y);const r=s[3*n+0]*h,u=s[3*n+1],f=s[3*n+0]*p;l.push(r,u,f)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const r=t+n*e.length,a=r,o=r+e.length,s=r+e.length+1,l=r+1;i.push(a,o,l),i.push(s,l,o)}this.setIndex(i),this.setAttribute("position",new si(a,3)),this.setAttribute("uv",new si(o,2)),this.setAttribute("normal",new si(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rs(e.points,e.segments,e.phiStart,e.phiLength)}}class is extends rs{constructor(e=1,t=1,n=4,r=8){const i=new ns;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new is(e.radius,e.length,e.capSegments,e.radialSegments)}}class as extends mi{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new En,u=new Yt;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let i=0,c=3;i<=t;i++,c+=3){const d=n+i/t*r;l.x=e*Math.cos(d),l.y=e*Math.sin(d),a.push(l.x,l.y,l.z),o.push(0,0,1),u.x=(a[c]/e+1)/2,u.y=(a[c+1]/e+1)/2,s.push(u.x,u.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute("position",new si(a,3)),this.setAttribute("normal",new si(o,3)),this.setAttribute("uv",new si(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new as(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class os extends mi{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const u=[],c=[],d=[],f=[];let h=0;const p=[],m=n/2;let g=0;function v(n){const i=h,a=new Yt,p=new En;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)c.push(0,m*b,0),d.push(0,b,0),f.push(.5,.5),h++;const w=h;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,c.push(p.x,p.y,p.z),d.push(0,b,0),a.x=.5*n+.5,a.y=.5*i*b+.5,f.push(a.x,a.y),h++}for(let e=0;e<r;e++){const t=i+e,r=w+e;!0===n?u.push(r,r+1,t):u.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new En,v=new En;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const u=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,c.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),d.push(a.x,a.y,a.z),f.push(t,1-g),u.push(h++)}p.push(u)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const a=p[r][n],o=p[r+1][n],s=p[r+1][n+1],l=p[r][n+1];(e>0||0!==r)&&(u.push(a,o,l),y+=3),(t>0||r!==i-1)&&(u.push(o,s,l),y+=3)}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new si(c,3)),this.setAttribute("normal",new si(d,3)),this.setAttribute("uv",new si(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new os(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ss extends os{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new ss(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ls extends mi{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e,t,n,r){const i=r+1,a=[];for(let r=0;r<=i;r++){a[r]=[];const o=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),l=i-r;for(let e=0;e<=l;e++)a[r][e]=0===e&&r===i?o:o.clone().lerp(s,e/l)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){const n=Math.floor(t/2);t%2==0?(s(a[e][n+1]),s(a[e+1][n]),s(a[e][n])):(s(a[e][n+1]),s(a[e+1][n+1]),s(a[e+1][n]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new En,r=new En,i=new En;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r),function(e){const t=new En;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new En;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=c(e)/2/Math.PI+.5,r=d(e)/Math.PI+.5;a.push(n,1-r)}(function(){const e=new En,t=new En,n=new En,r=new En,o=new Yt,s=new Yt,l=new Yt;for(let d=0,f=0;d<i.length;d+=9,f+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[f+0],a[f+1]),s.set(a[f+2],a[f+3]),l.set(a[f+4],a[f+5]),r.copy(e).add(t).add(n).divideScalar(3);const h=c(r);u(o,f+0,e,h),u(s,f+2,t,h),u(l,f+4,n,h)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new si(i,3)),this.setAttribute("normal",new si(i.slice(),3)),this.setAttribute("uv",new si(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ls(e.vertices,e.indices,e.radius,e.details)}}class us extends ls{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new us(e.radius,e.detail)}}const cs=new En,ds=new En,fs=new En,hs=new Br;class ps extends mi{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Ft*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],u=["a","b","c"],c=new Array(3),d={},f=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=hs;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),hs.getNormal(fs),c[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,c[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,c[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=c[e],r=c[t],a=hs[u[e]],o=hs[u[t]],s=`${n}_${r}`,h=`${r}_${n}`;h in d&&d[h]?(fs.dot(d[h].normal)<=i&&(f.push(a.x,a.y,a.z),f.push(o.x,o.y,o.z)),d[h]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:fs.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];cs.fromBufferAttribute(o,t),ds.fromBufferAttribute(o,n),f.push(cs.x,cs.y,cs.z),f.push(ds.x,ds.y,ds.z)}this.setAttribute("position",new si(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ms extends ns{constructor(e){super(e),this.uuid=Bt(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new ns).fromJSON(n))}return this}}const gs=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let a=vs(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,c,d,f,h;if(r&&(a=function(e,t,n,r){const i=[];let a,o,s,l,u;for(a=0,o=t.length;a<o;a++)s=t[a]*r,l=a<o-1?t[a+1]*r:e.length,u=vs(e,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Ps(u));for(i.sort(Es),a=0;a<i.length;a++)n=ks(i[a],n);return n}(e,t,a,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(let t=n;t<i;t+=n)d=e[t],f=e[t+1],d<s&&(s=d),f<l&&(l=f),d>u&&(u=d),f>c&&(c=f);h=Math.max(u-s,c-l),h=0!==h?32767/h:0}return bs(a,o,n,s,l,h,0),o};function vs(e,t,n,r,i){let a,o;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=js(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=js(a,e[a],e[a+1],o);return o&&Rs(o,o.next)&&(Fs(o),o=o.next),o}function ys(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Rs(r,r.next)&&0!==Is(r.prev,r,r.next))r=r.next;else{if(Fs(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function bs(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Ms(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ,r);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);let s,l,u=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,a?xs(e,r,i,a):ws(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Fs(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?bs(e=_s(ys(e),t,n),t,n,r,i,a,2):2===o&&Ss(e,t,n,r,i,a):bs(ys(e),t,n,r,i,a,1);break}}function ws(e){const t=e.prev,n=e,r=e.next;if(Is(t,n,r)>=0)return!1;const i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,d=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,h=s>l?s>u?s:u:l>u?l:u;let p=r.next;for(;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=d&&p.y<=h&&Ts(i,s,a,l,o,u,p.x,p.y)&&Is(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function xs(e,t,n,r){const i=e.prev,a=e,o=e.next;if(Is(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,d=a.y,f=o.y,h=s<l?s<u?s:u:l<u?l:u,p=c<d?c<f?c:f:d<f?d:f,m=s>l?s>u?s:u:l>u?l:u,g=c>d?c>f?c:f:d>f?d:f,v=Ms(h,p,t,n,r),y=Ms(m,g,t,n,r);let b=e.prevZ,w=e.nextZ;for(;b&&b.z>=v&&w&&w.z<=y;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&Ts(s,c,l,d,u,f,b.x,b.y)&&Is(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,w.x>=h&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==o&&Ts(s,c,l,d,u,f,w.x,w.y)&&Is(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;b&&b.z>=v;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&Ts(s,c,l,d,u,f,b.x,b.y)&&Is(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=h&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==o&&Ts(s,c,l,d,u,f,w.x,w.y)&&Is(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function _s(e,t,n){let r=e;do{const i=r.prev,a=r.next.next;!Rs(i,a)&&Os(i,r,r.next,a)&&Ls(i,a)&&Ls(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Fs(r),Fs(r.next),r=e=a),r=r.next}while(r!==e);return ys(r)}function Ss(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&As(o,e)){let s=Ns(o,e);return o=ys(o,o.next),s=ys(s,s.next),bs(o,t,n,r,i,a,0),void bs(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function Es(e,t){return e.x-t.x}function ks(e,t){const n=function(e,t){let n,r=t,i=-1/0;const a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){const e=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=a&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===a))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,u=n.y;let c,d=1/0;r=n;do{a>=r.x&&r.x>=l&&a!==r.x&&Ts(o<u?a:i,o,l,u,o<u?i:a,o,r.x,r.y)&&(c=Math.abs(o-r.y)/(a-r.x),Ls(r,e)&&(c<d||c===d&&(r.x>n.x||r.x===n.x&&Cs(n,r)))&&(n=r,d=c)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=Ns(n,e);return ys(r,r.next),ys(n,n.next)}function Cs(e,t){return Is(e.prev,e,t.prev)<0&&Is(t.next,e,e.next)<0}function Ms(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ps(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ts(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function As(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Os(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ls(e,t)&&Ls(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Is(e.prev,e,t.prev)||Is(e,t.prev,t))||Rs(e,t)&&Is(e.prev,e,e.next)>0&&Is(t.prev,t,t.next)>0)}function Is(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Rs(e,t){return e.x===t.x&&e.y===t.y}function Os(e,t,n,r){const i=zs(Is(e,t,n)),a=zs(Is(e,t,r)),o=zs(Is(n,r,e)),s=zs(Is(n,r,t));return i!==a&&o!==s||(!(0!==i||!Ds(e,n,t))||(!(0!==a||!Ds(e,r,t))||(!(0!==o||!Ds(n,e,r))||!(0!==s||!Ds(n,t,r)))))}function Ds(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function zs(e){return e>0?1:e<0?-1:0}function Ls(e,t){return Is(e.prev,e,e.next)<0?Is(e,t,e.next)>=0&&Is(e,e.prev,t)>=0:Is(e,t,e.prev)<0||Is(e,e.next,t)<0}function Ns(e,t){const n=new Us(e.i,e.x,e.y),r=new Us(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function js(e,t,n,r){const i=new Us(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fs(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Us(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Bs{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Bs.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Vs(e),Hs(n,e);let a=e.length;t.forEach(Vs);for(let e=0;e<t.length;e++)r.push(a),a+=t[e].length,Hs(n,t[e]);const o=gs(n,r);for(let e=0;e<o.length;e+=3)i.push(o.slice(e,e+3));return i}}function Vs(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Hs(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ws extends mi{constructor(e=new ms([new Yt(.5,.5),new Yt(-.5,.5),new Yt(-.5,-.5),new Yt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let t=0,n=e.length;t<n;t++){a(e[t])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let u=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:c-.1,f=void 0!==t.bevelOffset?t.bevelOffset:0,h=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Gs;let g,v,y,b,w,x=!1;p&&(g=p.getSpacedPoints(s),x=!0,u=!1,v=p.computeFrenetFrames(s,!1),y=new En,b=new En,w=new En),u||(h=0,c=0,d=0,f=0);const _=e.extractPoints(o);let S=_.shape;const E=_.holes;if(!Bs.isClockWise(S)){S=S.reverse();for(let e=0,t=E.length;e<t;e++){const t=E[e];Bs.isClockWise(t)&&(E[e]=t.reverse())}}const k=Bs.triangulateShape(S,E),C=S;for(let e=0,t=E.length;e<t;e++){const t=E[e];S=S.concat(t)}function M(e,t,n){return e.clone().addScaledVector(t,n)}const P=S.length,T=k.length;function A(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(c),f=Math.sqrt(l*l+u*u),h=t.x-s/d,p=t.y+o/d,m=((n.x-u/f-h)*u-(n.y+l/f-p)*l)/(o*u-s*l);r=h+o*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new Yt(r,i);a=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(u)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Yt(r/a,i/a)}const I=[];for(let e=0,t=C.length,n=t-1,r=e+1;e<t;e++,n++,r++)n===t&&(n=0),r===t&&(r=0),I[e]=A(C[e],C[n],C[r]);const R=[];let O,D=I.concat();for(let e=0,t=E.length;e<t;e++){const t=E[e];O=[];for(let e=0,n=t.length,r=n-1,i=e+1;e<n;e++,r++,i++)r===n&&(r=0),i===n&&(i=0),O[e]=A(t[e],t[r],t[i]);R.push(O),D=D.concat(O)}for(let e=0;e<h;e++){const t=e/h,n=c*Math.cos(t*Math.PI/2),r=d*Math.sin(t*Math.PI/2)+f;for(let e=0,t=C.length;e<t;e++){const t=M(C[e],I[e],r);N(t.x,t.y,-n)}for(let e=0,t=E.length;e<t;e++){const t=E[e];O=R[e];for(let e=0,i=t.length;e<i;e++){const i=M(t[e],O[e],r);N(i.x,i.y,-n)}}}const z=d+f;for(let e=0;e<P;e++){const t=u?M(S[e],D[e],z):S[e];x?(b.copy(v.normals[0]).multiplyScalar(t.x),y.copy(v.binormals[0]).multiplyScalar(t.y),w.copy(g[0]).add(b).add(y),N(w.x,w.y,w.z)):N(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<P;t++){const n=u?M(S[t],D[t],z):S[t];x?(b.copy(v.normals[e]).multiplyScalar(n.x),y.copy(v.binormals[e]).multiplyScalar(n.y),w.copy(g[e]).add(b).add(y),N(w.x,w.y,w.z)):N(n.x,n.y,l/s*e)}for(let e=h-1;e>=0;e--){const t=e/h,n=c*Math.cos(t*Math.PI/2),r=d*Math.sin(t*Math.PI/2)+f;for(let e=0,t=C.length;e<t;e++){const t=M(C[e],I[e],r);N(t.x,t.y,l+n)}for(let e=0,t=E.length;e<t;e++){const t=E[e];O=R[e];for(let e=0,i=t.length;e<i;e++){const i=M(t[e],O[e],r);x?N(i.x,i.y+g[s-1].y,g[s-1].x+n):N(i.x,i.y,l+n)}}}function L(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*h;e<n;e++){const n=P*e,a=P*(e+1);F(t+r+n,t+i+n,t+i+a,t+r+a)}}}function N(e,t,n){a.push(e),a.push(t),a.push(n)}function j(e,t,i){U(e),U(t),U(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);B(o[0]),B(o[1]),B(o[2])}function F(e,t,i,a){U(e),U(t),U(a),U(t),U(i),U(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);B(s[0]),B(s[1]),B(s[3]),B(s[1]),B(s[2]),B(s[3])}function U(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function B(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(u){let e=0,t=P*e;for(let e=0;e<T;e++){const n=k[e];j(n[2]+t,n[1]+t,n[0]+t)}e=s+2*h,t=P*e;for(let e=0;e<T;e++){const n=k[e];j(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<T;e++){const t=k[e];j(t[2],t[1],t[0])}for(let e=0;e<T;e++){const t=k[e];j(t[0]+P*s,t[1]+P*s,t[2]+P*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;L(C,t),t+=C.length;for(let e=0,n=E.length;e<n;e++){const n=E[e];L(n,t),t+=n.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new si(r,3)),this.setAttribute("uv",new si(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){const r=e[t];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new es[r.type]).fromJSON(r)),new Ws(n,e.options)}}const Gs={generateTopUV:function(e,t,n,r,i){const a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new Yt(a,o),new Yt(s,l),new Yt(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],f=t[3*i],h=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new Yt(o,1-l),new Yt(u,1-d),new Yt(f,1-p),new Yt(m,1-v)]:[new Yt(s,1-l),new Yt(c,1-d),new Yt(h,1-p),new Yt(g,1-v)]}};class qs extends ls{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qs(e.radius,e.detail)}}class Xs extends ls{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xs(e.radius,e.detail)}}class Ys extends mi{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,u=s+1,c=e/o,d=t/s,f=[],h=[],p=[],m=[];for(let e=0;e<u;e++){const t=e*d-a;for(let n=0;n<l;n++){const r=n*c-i;h.push(r,-t,0),p.push(0,0,1),m.push(n/o),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){const n=t+l*e,r=t+l*(e+1),i=t+1+l*(e+1),a=t+1+l*e;f.push(n,r,a),f.push(r,i,a)}this.setIndex(f),this.setAttribute("position",new si(h,3)),this.setAttribute("normal",new si(p,3)),this.setAttribute("uv",new si(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ys(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ks extends mi{constructor(e=.5,t=1,n=32,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n);const o=[],s=[],l=[],u=[];let c=e;const d=(t-e)/(r=Math.max(1,r)),f=new En,h=new Yt;for(let e=0;e<=r;e++){for(let e=0;e<=n;e++){const r=i+e/n*a;f.x=c*Math.cos(r),f.y=c*Math.sin(r),s.push(f.x,f.y,f.z),l.push(0,0,1),h.x=(f.x/t+1)/2,h.y=(f.y/t+1)/2,u.push(h.x,h.y)}c+=d}for(let e=0;e<r;e++){const t=e*(n+1);for(let e=0;e<n;e++){const r=e+t,i=r,a=r+n+1,s=r+n+2,l=r+1;o.push(i,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new si(s,3)),this.setAttribute("normal",new si(l,3)),this.setAttribute("uv",new si(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ks(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class $s extends mi{constructor(e=new ms([new Yt(0,.5),new Yt(-.5,-.5),new Yt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(o,s,t),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let u=l.shape;const c=l.holes;!1===Bs.isClockWise(u)&&(u=u.reverse());for(let e=0,t=c.length;e<t;e++){const t=c[e];!0===Bs.isClockWise(t)&&(c[e]=t.reverse())}const d=Bs.triangulateShape(u,c);for(let e=0,t=c.length;e<t;e++){const t=c[e];u=u.concat(t)}for(let e=0,t=u.length;e<t;e++){const t=u[e];r.push(t.x,t.y,0),i.push(0,0,1),a.push(t.x,t.y)}for(let e=0,t=d.length;e<t;e++){const t=d[e],r=t[0]+o,i=t[1]+o,a=t[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new si(r,3)),this.setAttribute("normal",new si(i,3)),this.setAttribute("uv",new si(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new $s(n,e.curveSegments)}}class Zs extends mi{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const u=[],c=new En,d=new En,f=[],h=[],p=[],m=[];for(let f=0;f<=n;f++){const g=[],v=f/n;let y=0;0===f&&0===a?y=.5/t:f===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;c.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),c.y=e*Math.cos(a+v*o),c.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),h.push(c.x,c.y,c.z),d.copy(c).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),g.push(l++)}u.push(g)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){const t=u[e][r+1],i=u[e][r],o=u[e+1][r],l=u[e+1][r+1];(0!==e||a>0)&&f.push(t,i,l),(e!==n-1||s<Math.PI)&&f.push(i,o,l)}this.setIndex(f),this.setAttribute("position",new si(h,3)),this.setAttribute("normal",new si(p,3)),this.setAttribute("uv",new si(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zs(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Qs extends ls{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qs(e.radius,e.detail)}}class Js extends mi{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],u=new En,c=new En,d=new En;for(let a=0;a<=n;a++)for(let f=0;f<=r;f++){const h=f/r*i,p=a/n*Math.PI*2;c.x=(e+t*Math.cos(p))*Math.cos(h),c.y=(e+t*Math.cos(p))*Math.sin(h),c.z=t*Math.sin(p),o.push(c.x,c.y,c.z),u.x=e*Math.cos(h),u.y=e*Math.sin(h),d.subVectors(c,u).normalize(),s.push(d.x,d.y,d.z),l.push(f/r),l.push(a/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*e+t-1,i=(r+1)*(e-1)+t-1,o=(r+1)*(e-1)+t,s=(r+1)*e+t;a.push(n,i,s),a.push(i,o,s)}this.setIndex(a),this.setAttribute("position",new si(o,3)),this.setAttribute("normal",new si(s,3)),this.setAttribute("uv",new si(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Js(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class el extends mi{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],u=[],c=new En,d=new En,f=new En,h=new En,p=new En,m=new En,g=new En;for(let o=0;o<=n;++o){const y=o/n*i*Math.PI*2;v(y,i,a,e,f),v(y+.01,i,a,e,h),m.subVectors(h,f),g.addVectors(h,f),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),h=t*Math.sin(i);c.x=f.x+(a*g.x+h*p.x),c.y=f.y+(a*g.y+h*p.y),c.z=f.z+(a*g.z+h*p.z),s.push(c.x,c.y,c.z),d.subVectors(c,f).normalize(),l.push(d.x,d.y,d.z),u.push(o/n),u.push(e/r)}}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,s=(r+1)*(e-1)+t;o.push(n,i,s),o.push(i,a,s)}function v(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new si(s,3)),this.setAttribute("normal",new si(l,3)),this.setAttribute("uv",new si(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new el(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class tl extends mi{constructor(e=new Qo(new En(-1,-1,0),new En(-1,1,0),new En(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new En,s=new En,l=new Yt;let u=new En;const c=[],d=[],f=[],h=[];function p(i){u=e.getPointAt(i/t,u);const l=a.normals[i],f=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*f.x,s.y=a*l.y+i*f.y,s.z=a*l.z+i*f.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=u.x+n*s.x,o.y=u.y+n*s.y,o.z=u.z+n*s.z,c.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,f.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;h.push(n,i,o),h.push(i,a,o)}}()}(),this.setIndex(h),this.setAttribute("position",new si(c,3)),this.setAttribute("normal",new si(d,3)),this.setAttribute("uv",new si(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new tl((new es[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class nl extends mi{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new En,i=new En;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],u=l.start;for(let e=u,s=u+l.count;e<s;e+=3)for(let s=0;s<3;s++){const l=o.getX(e+s),u=o.getX(e+(s+1)%3);r.fromBufferAttribute(a,l),i.fromBufferAttribute(a,u),!0===rl(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let o=0;o<3;o++){const s=3*e+o,l=3*e+(o+1)%3;r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,l),!0===rl(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new si(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function rl(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var il=Object.freeze({__proto__:null,BoxGeometry:Ti,CapsuleGeometry:is,CircleGeometry:as,ConeGeometry:ss,CylinderGeometry:os,DodecahedronGeometry:us,EdgesGeometry:ps,ExtrudeGeometry:Ws,IcosahedronGeometry:qs,LatheGeometry:rs,OctahedronGeometry:Xs,PlaneGeometry:Ys,PolyhedronGeometry:ls,RingGeometry:Ks,ShapeGeometry:$s,SphereGeometry:Zs,TetrahedronGeometry:Qs,TorusGeometry:Js,TorusKnotGeometry:el,TubeGeometry:tl,WireframeGeometry:nl});class al extends Kr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new qr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ol extends Di{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class sl extends Kr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new qr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ll extends sl{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Yt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new qr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new qr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new qr(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ul extends Kr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new qr(16777215),this.specular=new qr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cl extends Kr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dl extends Kr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class fl extends Kr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new qr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hl extends Kr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class pl extends Kr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class ml extends Kr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gl extends co{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function vl(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function yl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bl(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort(function(t,n){return e[t]-e[n]}),n}function wl(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function xl(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}const _l={convertArray:vl,isTypedArray:yl,getKeyframeOrder:bl,sortedArray:wl,flattenJSON:xl,subclip:function(e,t,n,r,i=30){const a=e.clone();a.name=t;const o=[];for(let e=0;e<a.tracks.length;++e){const t=a.tracks[e],s=t.getValueSize(),l=[],u=[];for(let e=0;e<t.times.length;++e){const a=t.times[e]*i;if(!(a<n||a>=r)){l.push(t.times[e]);for(let n=0;n<s;++n)u.push(t.values[e*s+n])}}0!==l.length&&(t.times=vl(l,t.times.constructor),t.values=vl(u,t.values.constructor),o.push(t))}a.tracks=o;let s=1/0;for(let e=0;e<a.tracks.length;++e)s>a.tracks[e].times[0]&&(s=a.tracks[e].times[0]);for(let e=0;e<a.tracks.length;++e)a.tracks[e].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let t=0;t<i;++t){const r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const o=e.tracks.find(function(e){return e.name===r.name&&e.ValueTypeName===i});if(void 0===o)continue;let s=0;const l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let u=0;const c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);const d=r.times.length-1;let f;if(a<=r.times[0]){const e=s,t=l-s;f=r.values.slice(e,t)}else if(a>=r.times[d]){const e=d*l+s,t=e+l-s;f=r.values.slice(e,t)}else{const e=r.createInterpolant(),t=s,n=l-s;e.evaluate(a),f=e.resultBuffer.slice(t,n)}if("quaternion"===i){(new Sn).fromArray(f).normalize().conjugate().toArray(f)}const h=o.times.length;for(let e=0;e<h;++e){const t=e*c+u;if("quaternion"===i)Sn.multiplyQuaternionsFlat(o.values,t,f,0,o.values,t);else{const e=c-2*u;for(let n=0;n<e;++n)o.values[t+n]-=f[n]}}}return e.blendMode=vt,e}};class Sl{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=i)){const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0;break n}break e}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class El extends Sl{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ht,endingEnd:ht}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case pt:i=e,o=2*t-n;break;case mt:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case pt:a=e,s=2*n-t;break;case mt:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(n-t)/(r-t),p=h*h,m=p*h,g=-d*m+2*d*p-d*h,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*h+1,y=(-1-f)*m+(1.5+f)*p+.5*h,b=f*m-f*p;for(let e=0;e!==o;++e)i[e]=g*a[u+e]+v*a[l+e]+y*a[s+e]+b*a[c+e];return i}}class kl extends Sl{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u;for(let e=0;e!==o;++e)i[e]=a[l+e]*c+a[s+e]*u;return i}}class Cl extends Sl{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ml{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=vl(t,this.TimeBufferType),this.values=vl(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:vl(e.times,Array),values:vl(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Cl(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kl(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new El(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ct:t=this.InterpolantFactoryMethodDiscrete;break;case dt:t=this.InterpolantFactoryMethodLinear;break;case ft:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ct;case this.InterpolantFactoryMethodLinear:return dt;case this.InterpolantFactoryMethodSmooth:return ft}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(e=!1);let a=null;for(let t=0;t!==i;t++){const r=n[t];if("number"==typeof r&&isNaN(r)){e=!1;break}if(null!==a&&a>r){e=!1;break}a=r}if(void 0!==r&&yl(r))for(let t=0,n=r.length;t!==n;++t){const n=r[t];if(isNaN(n)){e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===ft,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Ml.prototype.TimeBufferType=Float32Array,Ml.prototype.ValueBufferType=Float32Array,Ml.prototype.DefaultInterpolation=dt;class Pl extends Ml{constructor(e,t,n){super(e,t,n)}}Pl.prototype.ValueTypeName="bool",Pl.prototype.ValueBufferType=Array,Pl.prototype.DefaultInterpolation=ct,Pl.prototype.InterpolantFactoryMethodLinear=void 0,Pl.prototype.InterpolantFactoryMethodSmooth=void 0;class Tl extends Ml{}Tl.prototype.ValueTypeName="color";class Al extends Ml{}Al.prototype.ValueTypeName="number";class Il extends Sl{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let e=l+o;l!==e;l+=4)Sn.slerpFlat(i,0,a,l-o,a,l,s);return i}}class Rl extends Ml{InterpolantFactoryMethodLinear(e){return new Il(this.times,this.values,this.getValueSize(),e)}}Rl.prototype.ValueTypeName="quaternion",Rl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ol extends Ml{constructor(e,t,n){super(e,t,n)}}Ol.prototype.ValueTypeName="string",Ol.prototype.ValueBufferType=Array,Ol.prototype.DefaultInterpolation=ct,Ol.prototype.InterpolantFactoryMethodLinear=void 0,Ol.prototype.InterpolantFactoryMethodSmooth=void 0;class Dl extends Ml{}Dl.prototype.ValueTypeName="vector";class zl{constructor(e="",t=-1,n=[],r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Bt(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(Ll(n[e]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=n.length;e!==r;++e)t.push(Ml.toJSON(n[e]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let e=0;e<i;e++){let o=[],s=[];o.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);const l=bl(o);o=wl(o,1,l),s=wl(s,1,l),r||0!==o[0]||(o.push(i),s.push(s[0])),a.push(new Al(".morphTargetInfluences["+t[e].name+"]",o,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],a=n.name.match(i);if(a&&a.length>1){const e=a[1];let t=r[e];t||(r[e]=t=[]),t.push(n)}}const a=[];for(const e in r)a.push(this.CreateFromMorphTargetSequence(e,r[e],t,n));return a}static parseAnimation(e,t){if(!e)return null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];xl(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const i=l[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){const e={};let t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let n=0;n<i[t].morphTargets.length;n++)e[i[t].morphTargets[n]]=-1;for(const n in e){const e=[],a=[];for(let r=0;r!==i[t].morphTargets.length;++r){const r=i[t];e.push(r.time),a.push(r.morphTarget===n?1:0)}r.push(new Al(".morphTargetInfluence["+n+"]",e,a))}s=e.length*a}else{const a=".bones["+t[e].name+"]";n(Dl,a+".position",i,"pos",r),n(Rl,a+".quaternion",i,"rot",r),n(Dl,a+".scale",i,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ll(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Al;case"vector":case"vector2":case"vector3":case"vector4":return Dl;case"color":return Tl;case"quaternion":return Rl;case"bool":case"boolean":return Pl;case"string":return Ol}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];xl(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const Nl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class jl{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Fl=new jl;class Ul{constructor(e){this.manager=void 0!==e?e:Fl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ul.DEFAULT_MATERIAL_NAME="__DEFAULT";const Bl={};class Vl extends Error{constructor(e,t){super(e),this.response=t}}class Hl extends Ul{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=Nl.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==Bl[e])return void Bl[e].push({onLoad:t,onProgress:n,onError:r});Bl[e]=[],Bl[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Bl[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new Vl(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,o));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{Nl.add(e,t);const n=Bl[e];delete Bl[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=Bl[e];if(void 0===n)throw this.manager.itemError(e),t;delete Bl[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wl extends Ul{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Nl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;const o=en("img");function s(){u(),Nl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class Gl extends Mr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new qr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class ql extends Gl{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new qr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Xl=new er,Yl=new En,Kl=new En;class $l{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Yt(512,512),this.map=null,this.mapPass=null,this.matrix=new er,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ga,this._frameExtents=new Yt(1,1),this._viewportCount=1,this._viewports=[new yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Yl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Yl),Kl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Kl),t.updateMatrixWorld(),Xl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Xl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Xl)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Zl extends $l{constructor(){super(new Fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Ut*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ql extends Gl{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mr.DEFAULT_UP),this.updateMatrix(),this.target=new Mr,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new Zl}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Jl=new er,eu=new En,tu=new En;class nu extends $l{constructor(){super(new Fi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Yt(4,2),this._viewportCount=6,this._viewports=[new yn(2,1,1,1),new yn(0,1,1,1),new yn(3,1,1,1),new yn(1,1,1,1),new yn(3,0,1,1),new yn(1,0,1,1)],this._cubeDirections=[new En(1,0,0),new En(-1,0,0),new En(0,0,1),new En(0,0,-1),new En(0,1,0),new En(0,-1,0)],this._cubeUps=[new En(0,1,0),new En(0,1,0),new En(0,1,0),new En(0,1,0),new En(0,0,1),new En(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),eu.setFromMatrixPosition(e.matrixWorld),n.position.copy(eu),tu.copy(n.position),tu.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(tu),n.updateMatrixWorld(),r.makeTranslation(-eu.x,-eu.y,-eu.z),Jl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jl)}}class ru extends Gl{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new nu}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class iu extends zi{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class au extends $l{constructor(){super(new iu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ou extends Gl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mr.DEFAULT_UP),this.updateMatrix(),this.target=new Mr,this.shadow=new au}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class su extends Gl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class lu extends Gl{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class uu{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new En)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class cu extends Gl{constructor(e=new uu,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class du extends Ul{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new Hl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r&&r(t),i.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(e){return t[e],t[e]}const r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new qr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const i=e.uniforms[t];switch(r.uniforms[t]={},i.type){case"t":r.uniforms[t].value=n(i.value);break;case"c":r.uniforms[t].value=(new qr).setHex(i.value);break;case"v2":r.uniforms[t].value=(new Yt).fromArray(i.value);break;case"v3":r.uniforms[t].value=(new En).fromArray(i.value);break;case"v4":r.uniforms[t].value=(new yn).fromArray(i.value);break;case"m3":r.uniforms[t].value=(new Kt).fromArray(i.value);break;case"m4":r.uniforms[t].value=(new er).fromArray(i.value);break;default:r.uniforms[t].value=i.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const t in e.extensions)r.extensions[t]=e.extensions[t];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Yt).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Yt).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return du.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:al,SpriteMaterial:$i,RawShaderMaterial:ol,ShaderMaterial:Di,PointsMaterial:ko,MeshPhysicalMaterial:ll,MeshStandardMaterial:sl,MeshPhongMaterial:ul,MeshToonMaterial:cl,MeshNormalMaterial:dl,MeshLambertMaterial:fl,MeshDepthMaterial:hl,MeshDistanceMaterial:pl,MeshBasicMaterial:$r,MeshMatcapMaterial:ml,LineDashedMaterial:gl,LineBasicMaterial:co,Material:Kr}[e]}}class fu{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class hu extends mi{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class pu extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Hl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r&&r(t),i.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=Jt(i.type,a),s=new Xi(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new hu:new mi,a=e.data.index;if(void 0!==a){const e=Jt(a.type,a.array);i.setIndex(new ii(e,1))}const o=e.data.attributes;for(const t in o){const n=o[t];let a;if(n.isInterleavedBufferAttribute){const t=r(e.data,n.data);a=new Ki(t,n.itemSize,n.offset,n.normalized)}else{const e=Jt(n.type,n.array);a=new(n.isInstancedBufferAttribute?Aa:ii)(e,n.itemSize,n.normalized)}void 0!==n.name&&(a.name=n.name),void 0!==n.usage&&a.setUsage(n.usage),i.setAttribute(t,a)}const s=e.data.morphAttributes;if(s)for(const t in s){const n=s[t],a=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];let o;if(i.isInterleavedBufferAttribute){const t=r(e.data,i.data);o=new Ki(t,i.itemSize,i.offset,i.normalized)}else{const e=Jt(i.type,i.array);o=new ii(e,i.itemSize,i.normalized)}void 0!==i.name&&(o.name=i.name),a.push(o)}i.morphAttributes[t]=a}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){const t=l[e];i.addGroup(t.start,t.count,t.materialIndex)}const u=e.data.boundingSphere;if(void 0!==u){const e=new En;void 0!==u.center&&e.fromArray(u.center),i.boundingSphere=new Gn(e,u.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const mu={UVMapping:X,CubeReflectionMapping:Y,CubeRefractionMapping:K,EquirectangularReflectionMapping:$,EquirectangularRefractionMapping:Z,CubeUVReflectionMapping:Q},gu={RepeatWrapping:J,ClampToEdgeWrapping:ee,MirroredRepeatWrapping:te},vu={NearestFilter:ne,NearestMipmapNearestFilter:re,NearestMipmapLinearFilter:ie,LinearFilter:ae,LinearMipmapNearestFilter:oe,LinearMipmapLinearFilter:se};let yu;class bu{static getContext(){return void 0===yu&&(yu=new(window.AudioContext||window.webkitAudioContext)),yu}static setContext(e){yu=e}}const wu=new er,xu=new er,_u=new er;class Su extends Fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Eu{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ku(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ku();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ku(){return performance.now()}const Cu=new En,Mu=new Sn,Pu=new En,Tu=new En;class Au extends Mr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType||(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice()),this}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Iu=new En,Ru=new Sn,Ou=new En,Du=new En;class zu{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(n[e]!==n[e+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let e=n,i=r;e!==i;++e)t[e]=t[r+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)e[t+r]=e[n+r]}_slerp(e,t,n,r){Sn.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;Sn.multiplyQuaternionsFlat(e,a,e,t,e,n),Sn.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const Lu="\\[\\]\\.:\\/",Nu=new RegExp("["+Lu+"]","g"),ju="[^"+Lu+"]",Fu="[^"+Lu.replace("\\.","")+"]",Uu=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ju)+/(WCOD+)?/.source.replace("WCOD",Fu)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ju)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ju)+"$"),Bu=["material","materials","bones","map"];class Vu{constructor(e,t,n){this.path=t,this.parsedPath=n||Vu.parseTrackName(t),this.node=Vu.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Vu.Composite(e,t,n):new Vu(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Nu,"")}static parseTrackName(e){const t=Uu.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Bu.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Vu.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return;if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return;if(!e.material.map)return;e=e.material.map;break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==r){if(void 0===e[r])return;e=e[r]}}const a=e[r];if(void 0===a){t.nodeName;return}let o=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?o=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vu.Composite=class{constructor(e,t,n){const r=n||Vu.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Vu.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Vu.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Vu.prototype.GetterByBindingType=[Vu.prototype._getValue_direct,Vu.prototype._getValue_array,Vu.prototype._getValue_arrayElement,Vu.prototype._getValue_toArray],Vu.prototype.SetterByBindingTypeAndVersioning=[[Vu.prototype._setValue_direct,Vu.prototype._setValue_direct_setNeedsUpdate,Vu.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vu.prototype._setValue_array,Vu.prototype._setValue_array_setNeedsUpdate,Vu.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vu.prototype._setValue_arrayElement,Vu.prototype._setValue_arrayElement_setNeedsUpdate,Vu.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vu.prototype._setValue_fromArray,Vu.prototype._setValue_fromArray_setNeedsUpdate,Vu.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Hu{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:ht,endingEnd:ht};for(let e=0;e!==a;++e){const t=i[e].createInterpolant(null);o[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===vt)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=2202===n;if(0===e)return-1===i||!a||1&~i?r:t-r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&!(1&~i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=pt,r.endingEnd=pt):(r.endingStart=e?this.zeroSlopeAtStart?pt:ht:mt,r.endingEnd=t?this.zeroSlopeAtEnd?pt:ht:mt)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const Wu=new Float32Array(1);class Gu{constructor(e){this.value=e}clone(){return new Gu(void 0===this.value.clone?this.value:this.value.clone())}}let qu=0;const Xu=new er;class Yu{constructor(e,t,n=0,r=1/0){this.ray=new Jn(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new dr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}setFromXRController(e){return Xu.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Xu),this}intersectObject(e,t=!0,n=[]){return $u(e,this,n,t),n.sort(Ku),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)$u(e[r],this,n,t);return n.sort(Ku),n}}function Ku(e,t){return e.distance-t.distance}function $u(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)$u(r[e],t,n,!0)}}class Zu{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Vt(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Vt(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Qu{constructor(e,t,n,r){Qu.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}const Ju=new Yt;const ec=new En,tc=new En;const nc=new En;class rc extends Mr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new mi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){const i=e/n*Math.PI*2,a=t/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(a),Math.sin(a),1)}n.setAttribute("position",new si(r,3));const i=new co({fog:!1,toneMapped:!1});this.cone=new So(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),nc.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(nc),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ic=new En,ac=new er,oc=new er;function sc(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,sc(e.children[n]));return t}class lc extends Mi{constructor(e,t,n){super(new Zs(t,4,2),new $r({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const uc=new En,cc=new qr,dc=new qr;const fc=new En,hc=new En,pc=new En;class mc extends Mr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new mi;r.setAttribute("position",new si([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new co({fog:!1,toneMapped:!1});this.lightPlane=new bo(r,i),this.add(this.lightPlane),r=new mi,r.setAttribute("position",new si([0,0,0,0,0,1],3)),this.targetLine=new bo(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fc.setFromMatrixPosition(this.light.matrixWorld),hc.setFromMatrixPosition(this.light.target.matrixWorld),pc.subVectors(hc,fc),this.lightPlane.lookAt(hc),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hc),this.targetLine.scale.z=pc.length()}}const gc=new En,vc=new zi;class yc extends So{constructor(e){const t=new mi,n=new co({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new si(r,3)),t.setAttribute("color",new si(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new qr(16755200),u=new qr(16711680),c=new qr(43775),d=new qr(16777215),f=new qr(3355443);this.setColors(l,u,c,d,f)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;vc.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===Dt?-1:0;bc("c",t,e,vc,0,0,n),bc("t",t,e,vc,0,0,1),bc("n1",t,e,vc,-1,-1,n),bc("n2",t,e,vc,1,-1,n),bc("n3",t,e,vc,-1,1,n),bc("n4",t,e,vc,1,1,n),bc("f1",t,e,vc,-1,-1,1),bc("f2",t,e,vc,1,-1,1),bc("f3",t,e,vc,-1,1,1),bc("f4",t,e,vc,1,1,1),bc("u1",t,e,vc,.7,1.1,n),bc("u2",t,e,vc,-.7,1.1,n),bc("u3",t,e,vc,0,2,n),bc("cf1",t,e,vc,-1,0,1),bc("cf2",t,e,vc,1,0,1),bc("cf3",t,e,vc,0,-1,1),bc("cf4",t,e,vc,0,1,1),bc("cn1",t,e,vc,-1,0,n),bc("cn2",t,e,vc,1,0,n),bc("cn3",t,e,vc,0,-1,n),bc("cn4",t,e,vc,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function bc(e,t,n,r,i,a,o){gc.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],gc.x,gc.y,gc.z)}}const wc=new Mn;class xc extends So{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new mi;i.setIndex(new ii(n,1)),i.setAttribute("position",new ii(r,3)),super(i,new co({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==this.object&&wc.setFromObject(this.object),wc.isEmpty())return;const t=wc.min,n=wc.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const _c=new En;let Sc,Ec;function kc(e,t,n,r){const i=function(e){switch(e){case le:case ue:return{byteLength:1,components:1};case de:case ce:case me:return{byteLength:2,components:1};case ge:case ve:return{byteLength:2,components:4};case he:case fe:case pe:return{byteLength:4,components:1};case be:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case we:case Se:return e*t;case Ee:return e*t*2;case Me:case Pe:return e*t/i.components*i.byteLength;case Te:case Ae:return e*t*2/i.components*i.byteLength;case xe:return e*t*3/i.components*i.byteLength;case _e:case Ie:return e*t*4/i.components*i.byteLength;case Re:case Oe:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case De:case ze:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Ne:case Fe:return Math.max(e,16)*Math.max(t,8)/4;case Le:case je:return Math.max(e,8)*Math.max(t,8)/2;case Ue:case Be:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Ve:case He:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case We:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case Ge:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case qe:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Xe:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case Ye:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Ke:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case $e:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Ze:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Qe:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Je:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case et:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case tt:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case nt:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case rt:case it:case at:return Math.ceil(e/4)*Math.ceil(t/4)*16;case ot:case st:return Math.ceil(e/4)*Math.ceil(t/4)*8;case lt:case ut:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}const Cc={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:kc};function Mc(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Pc(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let t=0,n=a.length;t<n;t++){const n=a[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:h}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=h));const Tc={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ac={common:{diffuse:{value:new qr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Kt}},envmap:{envMap:{value:null},envMapRotation:{value:new Kt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Kt},normalScale:{value:new Yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new qr(16777215)},opacity:{value:1},center:{value:new Yt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}}},Ic={basic:{uniforms:Ii([Ac.common,Ac.specularmap,Ac.envmap,Ac.aomap,Ac.lightmap,Ac.fog]),vertexShader:Tc.meshbasic_vert,fragmentShader:Tc.meshbasic_frag},lambert:{uniforms:Ii([Ac.common,Ac.specularmap,Ac.envmap,Ac.aomap,Ac.lightmap,Ac.emissivemap,Ac.bumpmap,Ac.normalmap,Ac.displacementmap,Ac.fog,Ac.lights,{emissive:{value:new qr(0)}}]),vertexShader:Tc.meshlambert_vert,fragmentShader:Tc.meshlambert_frag},phong:{uniforms:Ii([Ac.common,Ac.specularmap,Ac.envmap,Ac.aomap,Ac.lightmap,Ac.emissivemap,Ac.bumpmap,Ac.normalmap,Ac.displacementmap,Ac.fog,Ac.lights,{emissive:{value:new qr(0)},specular:{value:new qr(1118481)},shininess:{value:30}}]),vertexShader:Tc.meshphong_vert,fragmentShader:Tc.meshphong_frag},standard:{uniforms:Ii([Ac.common,Ac.envmap,Ac.aomap,Ac.lightmap,Ac.emissivemap,Ac.bumpmap,Ac.normalmap,Ac.displacementmap,Ac.roughnessmap,Ac.metalnessmap,Ac.fog,Ac.lights,{emissive:{value:new qr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tc.meshphysical_vert,fragmentShader:Tc.meshphysical_frag},toon:{uniforms:Ii([Ac.common,Ac.aomap,Ac.lightmap,Ac.emissivemap,Ac.bumpmap,Ac.normalmap,Ac.displacementmap,Ac.gradientmap,Ac.fog,Ac.lights,{emissive:{value:new qr(0)}}]),vertexShader:Tc.meshtoon_vert,fragmentShader:Tc.meshtoon_frag},matcap:{uniforms:Ii([Ac.common,Ac.bumpmap,Ac.normalmap,Ac.displacementmap,Ac.fog,{matcap:{value:null}}]),vertexShader:Tc.meshmatcap_vert,fragmentShader:Tc.meshmatcap_frag},points:{uniforms:Ii([Ac.points,Ac.fog]),vertexShader:Tc.points_vert,fragmentShader:Tc.points_frag},dashed:{uniforms:Ii([Ac.common,Ac.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tc.linedashed_vert,fragmentShader:Tc.linedashed_frag},depth:{uniforms:Ii([Ac.common,Ac.displacementmap]),vertexShader:Tc.depth_vert,fragmentShader:Tc.depth_frag},normal:{uniforms:Ii([Ac.common,Ac.bumpmap,Ac.normalmap,Ac.displacementmap,{opacity:{value:1}}]),vertexShader:Tc.meshnormal_vert,fragmentShader:Tc.meshnormal_frag},sprite:{uniforms:Ii([Ac.sprite,Ac.fog]),vertexShader:Tc.sprite_vert,fragmentShader:Tc.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tc.background_vert,fragmentShader:Tc.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Kt}},vertexShader:Tc.backgroundCube_vert,fragmentShader:Tc.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tc.cube_vert,fragmentShader:Tc.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tc.equirect_vert,fragmentShader:Tc.equirect_frag},distanceRGBA:{uniforms:Ii([Ac.common,Ac.displacementmap,{referencePosition:{value:new En},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tc.distanceRGBA_vert,fragmentShader:Tc.distanceRGBA_frag},shadow:{uniforms:Ii([Ac.lights,Ac.fog,{color:{value:new qr(0)},opacity:{value:1}}]),vertexShader:Tc.shadow_vert,fragmentShader:Tc.shadow_frag}};Ic.physical={uniforms:Ii([Ic.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Kt},clearcoatNormalScale:{value:new Yt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Kt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Kt},sheen:{value:0},sheenColor:{value:new qr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Kt},transmissionSamplerSize:{value:new Yt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Kt},attenuationDistance:{value:0},attenuationColor:{value:new qr(0)},specularColor:{value:new qr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Kt},anisotropyVector:{value:new Yt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Kt}}]),vertexShader:Tc.meshphysical_vert,fragmentShader:Tc.meshphysical_frag};const Rc={r:0,b:0,g:0},Oc=new cr,Dc=new er;function zc(e,t,n,r,i,a,o){const s=new qr(0);let l,u,c=!0===a?0:1,d=null,f=0,h=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function m(t,n){t.getRGB(Rc,Ri(e)),r.buffers.color.setClear(Rc.r,Rc.g,Rc.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),c=t,m(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,m(s,c)},render:function(t){let n=!1;const i=p(t);null===i?m(s,c):i&&i.isColor&&(m(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===Q)?(void 0===u&&(u=new Mi(new Ti(1,1,1),new Di({name:"BackgroundCubeMaterial",uniforms:Ai(Ic.backgroundCube.uniforms),vertexShader:Ic.backgroundCube.vertexShader,fragmentShader:Ic.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Oc.copy(n.backgroundRotation),Oc.x*=-1,Oc.y*=-1,Oc.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(Oc.y*=-1,Oc.z*=-1),u.material.uniforms.envMap.value=r,u.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Dc.makeRotationFromEuler(Oc)),u.material.toneMapped=ln.getTransfer(r.colorSpace)!==_t,d===r&&f===r.version&&h===e.toneMapping||(u.material.needsUpdate=!0,d=r,f=r.version,h=e.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Mi(new Ys(2,2),new Di({name:"BackgroundMaterial",uniforms:Ai(Ic.background.uniforms),vertexShader:Ic.background.vertexShader,fragmentShader:Ic.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=ln.getTransfer(r.colorSpace)!==_t,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&f===r.version&&h===e.toneMapping||(l.material.needsUpdate=!0,d=r,f=r.version,h=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==l&&(l.geometry.dispose(),l.material.dispose())}}}function Lc(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=u(null);let a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function u(e){const t=[],r=[],i=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function c(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){f(e,0)}function f(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function h(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function m(){g(),o=!0,a!==i&&(a=i,s(a.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const a=!0===i.wireframe;let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=u(e.createVertexArray()),s[a]=l);return l}(m,l,i);a!==y&&(a=y,s(a.object)),v=function(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const t in l){if(l[t].location>=0){const n=i[t];let r=o[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const t in l){if(l[t].location>=0){let n=o[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,s++}}a.attributes=i,a.attributesNum=s,a.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||o)&&(o=!1,function(n,r,i,a){c();const o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(const r in s){const i=s[r];if(i.location>=0){let s=o[r];if(void 0===s&&("instanceMatrix"===r&&n.instanceMatrix&&(s=n.instanceMatrix),"instanceColor"===r&&n.instanceColor&&(s=n.instanceColor)),void 0!==s){const r=s.normalized,o=s.itemSize,l=t.get(s);if(void 0===l)continue;const u=l.buffer,c=l.type,h=l.bytesPerElement,m=c===e.INT||c===e.UNSIGNED_INT||s.gpuType===fe;if(s.isInterleavedBufferAttribute){const t=s.data,l=t.stride,g=s.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)f(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)p(i.location+e,o/i.locationSize,c,r,l*h,(g+o/i.locationSize*e)*h,m)}else{if(s.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)f(i.location+e,s.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)p(i.location+e,o/i.locationSize,c,r,o*h,o/i.locationSize*e*h,m)}}else if(void 0!==l){const t=l[r];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}h()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:c,enableAttribute:d,disableUnusedAttributes:h}}function Nc(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let e=0;e<a;e++)o+=i[e];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function jc(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(o=s);const l=!0===n.logarithmicDepthBuffer,u=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===_e||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===me&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==le&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==pe&&!i)},precision:o,logarithmicDepthBuffer:l,reverseDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function Fc(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new Va,s=new Kt,l={value:null,needsUpdate:!1};function u(e,n,r,i){const a=null!==e?e.length:0;let u=null;if(0!==a){if(u=l.value,!0!==i||null===u){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<t)&&(u=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(u,n),u[n+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){const d=o.clippingPlanes,f=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!h)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=u(d,s,t,c);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}}}function Uc(e){let t=new WeakMap;function n(e,t){return t===$?e.mapping=Y:t===Z&&(e.mapping=K),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===$||a===Z){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new Hi(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const Bc=[.125,.215,.35,.446,.526,.582],Vc=20,Hc=new iu,Wc=new qr;let Gc=null,qc=0,Xc=0,Yc=!1;const Kc=(1+Math.sqrt(5))/2,$c=1/Kc,Zc=[new En(-Kc,$c,0),new En(Kc,$c,0),new En(-$c,0,Kc),new En($c,0,Kc),new En(0,Kc,-$c),new En(0,Kc,$c),new En(-1,1,-1),new En(1,1,-1),new En(-1,1,1),new En(1,1,1)];class Qc{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Gc=this._renderer.getRenderTarget(),qc=this._renderer.getActiveCubeFace(),Xc=this._renderer.getActiveMipmapLevel(),Yc=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=nd(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=td(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Gc,qc,Xc),this._renderer.xr.enabled=Yc,e.scissorTest=!1,ed(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Y||e.mapping===K?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Gc=this._renderer.getRenderTarget(),qc=this._renderer.getActiveCubeFace(),Xc=this._renderer.getActiveMipmapLevel(),Yc=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ae,minFilter:ae,generateMipmaps:!1,type:me,format:_e,colorSpace:wt,depthBuffer:!1},r=Jc(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Jc(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+Bc.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=Bc[o-e+4-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),u=-l,c=1+l,d=[u,u,c,u,c,c,u,u,c,c,u,c],f=6,h=6,p=3,m=2,g=1,v=new Float32Array(p*h*f),y=new Float32Array(m*h*f),b=new Float32Array(g*h*f);for(let e=0;e<f;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*h*e),y.set(d,m*h*e);const i=[e,e,e,e,e,e];b.set(i,g*h*e)}const w=new mi;w.setAttribute("position",new ii(v,p)),w.setAttribute("uv",new ii(y,m)),w.setAttribute("faceIndex",new ii(b,g)),t.push(w),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(Vc),i=new En(0,1,0),a=new Di({name:"SphericalGaussianBlur",defines:{n:Vc,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:rd(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){const t=new Mi(this._lodPlanes[0],e);this._renderer.compile(t,Hc)}_sceneToCubeUV(e,t,n,r){const i=new Fi(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Wc),s.toneMapping=0,s.autoClear=!1;const c=new $r({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new Mi(new Ti,c);let f=!1;const h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,f=!0):(c.color.copy(Wc),f=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(i.up.set(0,a[t],0),i.lookAt(o[t],0,0)):1===n?(i.up.set(0,0,a[t]),i.lookAt(0,o[t],0)):(i.up.set(0,a[t],0),i.lookAt(0,0,o[t]));const l=this._cubeSize;ed(r,n*l,t>2?l:0,l,l),s.setRenderTarget(r),f&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=h}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Y||e.mapping===K;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=nd()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=td());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new Mi(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;ed(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Hc)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let t=1;t<r;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),i=Zc[(r-t-1)%Zc.length];this._blur(e,t-1,t,n,i)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial,u=new Mi(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/f,p=isFinite(i)?1+Math.floor(3*h):Vc,m=[];let g=0;for(let e=0;e<Vc;++e){const t=e/h,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);const{_lodMax:v}=this;c.dTheta.value=f,c.mipInt.value=v-n;const y=this._sizeLods[r];ed(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(u,Hc)}}function Jc(e,t,n){const r=new wn(e,t,n);return r.texture.mapping=Q,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ed(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function td(){return new Di({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:rd(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function nd(){return new Di({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:rd(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function rd(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function id(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===$||a===Z,s=a===Y||a===K;if(o||s){let a=t.get(i);const l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Qc(e)),a=o?n.fromEquirectangular(i,a):n.fromCubemap(i,a),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;if(void 0!==a)return a.texture;{const l=i.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new Qc(e)),a=o?n.fromEquirectangular(i):n.fromCubemap(i),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ad(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&rn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function od(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(Zt(n)?oi:ai)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const n in r)t.update(r[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function sd(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let e=0;e<o;e++)s+=a[e];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,u){if(0===l)return;const c=t.get("WEBGL_multi_draw");if(null===c)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],u[t]);else{c.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,u,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*u[e];n.update(t,r,1)}}}function ld(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n}}}}function ud(e,t,n){const r=new WeakMap,i=new yn;return{update:function(a,o,s){const l=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,c=void 0!==u?u.length:0;let d=r.get(o);if(void 0===d||d.count!==c){void 0!==d&&d.texture.dispose();const f=void 0!==o.morphAttributes.position,h=void 0!==o.morphAttributes.normal,p=void 0!==o.morphAttributes.color,m=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],v=o.morphAttributes.color||[];let y=0;!0===f&&(y=1),!0===h&&(y=2),!0===p&&(y=3);let b=o.attributes.position.count*y,w=1;b>t.maxTextureSize&&(w=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const x=new Float32Array(b*w*4*c),_=new xn(x,b,w,c);_.type=pe,_.needsUpdate=!0;const S=4*y;for(let k=0;k<c;k++){const C=m[k],M=g[k],P=v[k],T=b*w*4*k;for(let A=0;A<C.count;A++){const I=A*S;!0===f&&(i.fromBufferAttribute(C,A),x[T+I+0]=i.x,x[T+I+1]=i.y,x[T+I+2]=i.z,x[T+I+3]=0),!0===h&&(i.fromBufferAttribute(M,A),x[T+I+4]=i.x,x[T+I+5]=i.y,x[T+I+6]=i.z,x[T+I+7]=0),!0===p&&(i.fromBufferAttribute(P,A),x[T+I+8]=i.x,x[T+I+9]=i.y,x[T+I+10]=i.z,x[T+I+11]=4===P.itemSize?i.w:1)}}function E(){_.dispose(),r.delete(o),o.removeEventListener("dispose",E)}d={count:c,texture:_,size:new Yt(b,w)},r.set(o,d),o.addEventListener("dispose",E)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let R=0;for(let D=0;D<l.length;D++)R+=l[D];const O=o.morphTargetsRelative?1:1-R;s.getUniforms().setValue(e,"morphTargetBaseInfluence",O),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function cd(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=r.render.frame,l=o.geometry,u=t.get(o,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return u},dispose:function(){i=new WeakMap}}}const dd=new vn,fd=new Do(1,1),hd=new xn,pd=new _n,md=new Vi,gd=[],vd=[],yd=new Float32Array(16),bd=new Float32Array(9),wd=new Float32Array(4);function xd(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=gd[i];if(void 0===a&&(a=new Float32Array(i),gd[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function _d(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Sd(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ed(e,t){let n=vd[t];void 0===n&&(n=new Int32Array(t),vd[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function kd(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Cd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(_d(n,t))return;e.uniform2fv(this.addr,t),Sd(n,t)}}function Md(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(_d(n,t))return;e.uniform3fv(this.addr,t),Sd(n,t)}}function Pd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(_d(n,t))return;e.uniform4fv(this.addr,t),Sd(n,t)}}function Td(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(_d(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Sd(n,t)}else{if(_d(n,r))return;wd.set(r),e.uniformMatrix2fv(this.addr,!1,wd),Sd(n,r)}}function Ad(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(_d(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Sd(n,t)}else{if(_d(n,r))return;bd.set(r),e.uniformMatrix3fv(this.addr,!1,bd),Sd(n,r)}}function Id(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(_d(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Sd(n,t)}else{if(_d(n,r))return;yd.set(r),e.uniformMatrix4fv(this.addr,!1,yd),Sd(n,r)}}function Rd(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Od(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(_d(n,t))return;e.uniform2iv(this.addr,t),Sd(n,t)}}function Dd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(_d(n,t))return;e.uniform3iv(this.addr,t),Sd(n,t)}}function zd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(_d(n,t))return;e.uniform4iv(this.addr,t),Sd(n,t)}}function Ld(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Nd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(_d(n,t))return;e.uniform2uiv(this.addr,t),Sd(n,t)}}function jd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(_d(n,t))return;e.uniform3uiv(this.addr,t),Sd(n,t)}}function Fd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(_d(n,t))return;e.uniform4uiv(this.addr,t),Sd(n,t)}}function Ud(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(fd.compareFunction=515,a=fd):a=dd,n.setTexture2D(t||a,i)}function Bd(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||pd,i)}function Vd(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||md,i)}function Hd(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||hd,i)}function Wd(e,t){e.uniform1fv(this.addr,t)}function Gd(e,t){const n=xd(t,this.size,2);e.uniform2fv(this.addr,n)}function qd(e,t){const n=xd(t,this.size,3);e.uniform3fv(this.addr,n)}function Xd(e,t){const n=xd(t,this.size,4);e.uniform4fv(this.addr,n)}function Yd(e,t){const n=xd(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Kd(e,t){const n=xd(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function $d(e,t){const n=xd(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Zd(e,t){e.uniform1iv(this.addr,t)}function Qd(e,t){e.uniform2iv(this.addr,t)}function Jd(e,t){e.uniform3iv(this.addr,t)}function ef(e,t){e.uniform4iv(this.addr,t)}function tf(e,t){e.uniform1uiv(this.addr,t)}function nf(e,t){e.uniform2uiv(this.addr,t)}function rf(e,t){e.uniform3uiv(this.addr,t)}function af(e,t){e.uniform4uiv(this.addr,t)}function of(e,t,n){const r=this.cache,i=t.length,a=Ed(n,i);_d(r,a)||(e.uniform1iv(this.addr,a),Sd(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||dd,a[e])}function sf(e,t,n){const r=this.cache,i=t.length,a=Ed(n,i);_d(r,a)||(e.uniform1iv(this.addr,a),Sd(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||pd,a[e])}function lf(e,t,n){const r=this.cache,i=t.length,a=Ed(n,i);_d(r,a)||(e.uniform1iv(this.addr,a),Sd(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||md,a[e])}function uf(e,t,n){const r=this.cache,i=t.length,a=Ed(n,i);_d(r,a)||(e.uniform1iv(this.addr,a),Sd(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||hd,a[e])}class cf{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return kd;case 35664:return Cd;case 35665:return Md;case 35666:return Pd;case 35674:return Td;case 35675:return Ad;case 35676:return Id;case 5124:case 35670:return Rd;case 35667:case 35671:return Od;case 35668:case 35672:return Dd;case 35669:case 35673:return zd;case 5125:return Ld;case 36294:return Nd;case 36295:return jd;case 36296:return Fd;case 35678:case 36198:case 36298:case 36306:case 35682:return Ud;case 35679:case 36299:case 36307:return Bd;case 35680:case 36300:case 36308:case 36293:return Vd;case 36289:case 36303:case 36311:case 36292:return Hd}}(t.type)}}class df{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Wd;case 35664:return Gd;case 35665:return qd;case 35666:return Xd;case 35674:return Yd;case 35675:return Kd;case 35676:return $d;case 5124:case 35670:return Zd;case 35667:case 35671:return Qd;case 35668:case 35672:return Jd;case 35669:case 35673:return ef;case 5125:return tf;case 36294:return nf;case 36295:return rf;case 36296:return af;case 35678:case 36198:case 36298:case 36306:case 35682:return of;case 35679:case 36299:case 36307:return sf;case 35680:case 36300:case 36308:case 36293:return lf;case 36289:case 36303:case 36311:case 36292:return uf}}(t.type)}}class ff{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const hf=/(\w+)(\])?(\[|\.)?/g;function pf(e,t){e.seq.push(t),e.map[t.id]=t}function mf(e,t,n){const r=e.name,i=r.length;for(hf.lastIndex=0;;){const a=hf.exec(r),o=hf.lastIndex;let s=a[1];const l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){pf(n,void 0===u?new cf(s,e,t):new df(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new ff(s),pf(n,e)),n=e}}}class gf{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);mf(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function vf(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let yf=0;const bf=new Kt;function wf(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){const i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function xf(e,t){const n=function(e){ln._getMatrix(bf,ln.workingColorSpace,e);const t=`mat3( ${bf.elements.map(e=>e.toFixed(4))} )`;switch(ln.getTransfer(e)){case xt:return[t,"LinearTransferOETF"];case _t:return[t,"sRGBTransferOETF"];default:return[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function _f(e,t){let n;switch(t){case 1:default:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Sf=new En;function Ef(){ln.getLuminanceCoefficients(Sf);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${Sf.x.toFixed(4)}, ${Sf.y.toFixed(4)}, ${Sf.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function kf(e){return""!==e}function Cf(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Mf(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Pf=/^[ \t]*#include +<([\w\d./]+)>/gm;function Tf(e){return e.replace(Pf,If)}const Af=new Map;function If(e,t){let n=Tc[t];if(void 0===n){const e=Af.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=Tc[e]}return Tf(n)}const Rf=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Of(e){return e.replace(Rf,Df)}function Df(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function zf(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Lf(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),u=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Y:case K:t="ENVMAP_TYPE_CUBE";break;case Q:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),c=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===K&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),f=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),h=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(kf).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(kf).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(kf).join("\n"),v.length>0&&(v+="\n")):(g=[zf(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(kf).join("\n"),v=[zf(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Tc.tonemapping_pars_fragment:"",0!==n.toneMapping?_f("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Tc.colorspace_pars_fragment,xf("linearToOutputTexel",n.outputColorSpace),Ef(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(kf).join("\n")),o=Tf(o),o=Cf(o,n),o=Mf(o,n),s=Tf(s),s=Cf(s,n),s=Mf(s,n),o=Of(o),s=Of(s),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[h,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Ot?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ot?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+o,w=y+v+s,x=vf(i,i.VERTEX_SHADER,b),_=vf(i,i.FRAGMENT_SHADER,w);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(x).trim(),a=i.getShaderInfoLog(_).trim();let o=!0,s=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(o=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(i,m,x,_);else{wf(i,x,"vertex"),wf(i,_,"fragment")}else""!==n||""!==r&&""!==a||(s=!1);s&&(t.diagnostics={runnable:o,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:a,prefix:v}})}i.deleteShader(x),i.deleteShader(_),E=new gf(i,m),k=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,m)}let E,k;i.attachShader(m,x),i.attachShader(m,_),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===E&&S(this),E},this.getAttributes=function(){return void 0===k&&S(this),k};let C=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===C&&(C=i.getProgramParameter(m,37297)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=yf++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=_,this}let Nf=0;class jf{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Ff(e),t.set(e,n)),n}}class Ff{constructor(e){this.id=Nf++,this.code=e,this.usedTimes=0}}function Uf(e,t,n,r,i,a,o){const s=new dr,l=new jf,u=new Set,c=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return u.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(a,s,c,g,v){const y=g.fog,b=v.geometry,w=a.isMeshStandardMaterial?g.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),_=x&&x.mapping===Q?x.image.height:null,S=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision),a.precision);const E=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,k=void 0!==E?E.length:0;let C,M,P,T,A=0;if(void 0!==b.morphAttributes.position&&(A=1),void 0!==b.morphAttributes.normal&&(A=2),void 0!==b.morphAttributes.color&&(A=3),S){const e=Ic[S];C=e.vertexShader,M=e.fragmentShader}else C=a.vertexShader,M=a.fragmentShader,l.update(a),P=l.getVertexShaderID(a),T=l.getFragmentShaderID(a);const I=e.getRenderTarget(),R=e.state.buffers.depth.getReversed(),O=!0===v.isInstancedMesh,D=!0===v.isBatchedMesh,z=!!a.map,L=!!a.matcap,N=!!x,j=!!a.aoMap,F=!!a.lightMap,U=!!a.bumpMap,B=!!a.normalMap,V=!!a.displacementMap,H=!!a.emissiveMap,W=!!a.metalnessMap,G=!!a.roughnessMap,q=a.anisotropy>0,X=a.clearcoat>0,Y=a.dispersion>0,K=a.iridescence>0,$=a.sheen>0,Z=a.transmission>0,J=q&&!!a.anisotropyMap,ee=X&&!!a.clearcoatMap,te=X&&!!a.clearcoatNormalMap,ne=X&&!!a.clearcoatRoughnessMap,re=K&&!!a.iridescenceMap,ie=K&&!!a.iridescenceThicknessMap,ae=$&&!!a.sheenColorMap,oe=$&&!!a.sheenRoughnessMap,se=!!a.specularMap,le=!!a.specularColorMap,ue=!!a.specularIntensityMap,ce=Z&&!!a.transmissionMap,de=Z&&!!a.thicknessMap,fe=!!a.gradientMap,he=!!a.alphaMap,pe=a.alphaTest>0,me=!!a.alphaHash,ge=!!a.extensions;let ve=0;a.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(ve=e.toneMapping));const ye={shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:C,fragmentShader:M,defines:a.defines,customVertexShaderID:P,customFragmentShaderID:T,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,batching:D,batchingColor:D&&null!==v._colorsTexture,instancing:O,instancingColor:O&&null!==v.instanceColor,instancingMorph:O&&null!==v.morphTexture,supportsVertexTextures:f,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:wt,alphaToCoverage:!!a.alphaToCoverage,map:z,matcap:L,envMap:N,envMapMode:N&&x.mapping,envMapCubeUVHeight:_,aoMap:j,lightMap:F,bumpMap:U,normalMap:B,displacementMap:f&&V,emissiveMap:H,normalMapObjectSpace:B&&1===a.normalMapType,normalMapTangentSpace:B&&0===a.normalMapType,metalnessMap:W,roughnessMap:G,anisotropy:q,anisotropyMap:J,clearcoat:X,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,dispersion:Y,iridescence:K,iridescenceMap:re,iridescenceThicknessMap:ie,sheen:$,sheenColorMap:ae,sheenRoughnessMap:oe,specularMap:se,specularColorMap:le,specularIntensityMap:ue,transmission:Z,transmissionMap:ce,thicknessMap:de,gradientMap:fe,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:he,alphaTest:pe,alphaHash:me,combine:a.combine,mapUv:z&&m(a.map.channel),aoMapUv:j&&m(a.aoMap.channel),lightMapUv:F&&m(a.lightMap.channel),bumpMapUv:U&&m(a.bumpMap.channel),normalMapUv:B&&m(a.normalMap.channel),displacementMapUv:V&&m(a.displacementMap.channel),emissiveMapUv:H&&m(a.emissiveMap.channel),metalnessMapUv:W&&m(a.metalnessMap.channel),roughnessMapUv:G&&m(a.roughnessMap.channel),anisotropyMapUv:J&&m(a.anisotropyMap.channel),clearcoatMapUv:ee&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:te&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:oe&&m(a.sheenRoughnessMap.channel),specularMapUv:se&&m(a.specularMap.channel),specularColorMapUv:le&&m(a.specularColorMap.channel),specularIntensityMapUv:ue&&m(a.specularIntensityMap.channel),transmissionMapUv:ce&&m(a.transmissionMap.channel),thicknessMapUv:de&&m(a.thicknessMap.channel),alphaMapUv:he&&m(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(B||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!b.attributes.uv&&(z||he),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:R,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:k,morphTextureStride:A,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:ve,decodeVideoTexture:z&&!0===a.map.isVideoTexture&&ln.getTransfer(a.map.colorSpace)===_t,decodeVideoTextureEmissive:H&&!0===a.emissiveMap.isVideoTexture&&ln.getTransfer(a.emissiveMap.colorSpace)===_t,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:ge&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ge&&!0===a.extensions.multiDraw||D)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ye.vertexUv1s=u.has(1),ye.vertexUv2s=u.has(2),ye.vertexUv3s=u.has(3),u.clear(),ye},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.reverseDepthBuffer&&s.enable(4);t.skinning&&s.enable(5);t.morphTargets&&s.enable(6);t.morphNormals&&s.enable(7);t.morphColors&&s.enable(8);t.premultipliedAlpha&&s.enable(9);t.shadowMapEnabled&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.decodeVideoTextureEmissive&&s.enable(20);t.alphaToCoverage&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=Ic[t];n=Oi.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,t=c.length;e<t;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Lf(e,n,t,a),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Bf(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Vf(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Hf(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Wf(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){const c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){const c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Vf),r.length>1&&r.sort(t||Hf),i.length>1&&i.sort(t||Hf)}}}function Gf(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Wf,e.set(t,[i])):n>=r.length?(i=new Wf,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function qf(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new En,color:new qr};break;case"SpotLight":n={position:new En,direction:new En,color:new qr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new En,color:new qr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new En,skyColor:new qr,groundColor:new qr};break;case"RectAreaLight":n={color:new qr,position:new En,halfWidth:new En,halfHeight:new En}}return e[t.id]=n,n}}}let Xf=0;function Yf(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Kf(e){const t=new qf,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yt,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new En);const i=new En,a=new er,o=new er;return{setup:function(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0;i.sort(Yf);for(let e=0,b=i.length;e<b;e++){const b=i[e],w=b.color,x=b.intensity,_=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)a+=w.r*x,o+=w.g*x,s+=w.b*x;else if(b.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(b.sh.coefficients[e],x);y++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=b.shadow.matrix,h++}r.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(w).multiplyScalar(x),e.distance=_,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,r.spot[c]=e;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[c]=i.matrix,b.castShadow){const e=n.get(b);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[c]=e,r.spotShadowMap[c]=S,m++}c++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(w).multiplyScalar(x),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),r.rectArea[d]=e,d++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[u]=t,r.pointShadowMap[u]=S,r.pointShadowMatrix[u]=b.shadow.matrix,p++}r.point[u]=e,u++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(x),e.groundColor.copy(b.groundColor).multiplyScalar(x),r.hemi[f]=e,f++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=Ac.LTC_FLOAT_1,r.rectAreaLTC2=Ac.LTC_FLOAT_2):(r.rectAreaLTC1=Ac.LTC_HALF_1,r.rectAreaLTC2=Ac.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;const b=r.hash;b.directionalLength===l&&b.pointLength===u&&b.spotLength===c&&b.rectAreaLength===d&&b.hemiLength===f&&b.numDirectionalShadows===h&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===y||(r.directional.length=l,r.spot.length=c,r.rectArea.length=d,r.point.length=u,r.hemi.length=f,r.directionalShadow.length=h,r.directionalShadowMap.length=h,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=h,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,b.directionalLength=l,b.pointLength=u,b.spotLength=c,b.rectAreaLength=d,b.hemiLength=f,b.numDirectionalShadows=h,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=y,r.version=Xf++)},setupView:function(e,t){let n=0,s=0,l=0,u=0,c=0;const d=t.matrixWorldInverse;for(let t=0,f=e.length;t<f;t++){const f=e[t];if(f.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(f.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(f.isRectAreaLight){const e=r.rectArea[u];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(f.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*f.width,0,0),e.halfHeight.set(0,.5*f.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),u++}else if(f.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),s++}else if(f.isHemisphereLight){const e=r.hemi[c];e.direction.setFromMatrixPosition(f.matrixWorld),e.direction.transformDirection(d),c++}}},state:r}}function $f(e){const t=new Kf(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Zf(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let a;return void 0===i?(a=new $f(e),t.set(n,[a])):r>=i.length?(a=new $f(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}function Qf(e,t,n){let r=new Ga;const i=new Yt,a=new Yt,o=new yn,s=new hl({depthPacking:3201}),l=new pl,u={},c=n.maxTextureSize,d={[g]:1,[v]:0,[y]:2},f=new Di({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Yt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new mi;p.setAttribute("position",new ii(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Mi(p,f),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let w=this.type;function x(n,r){const a=t.update(m);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,h.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new wn(i.x,i.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,f,m,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,h,m,null)}function _(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=a.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",E)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function S(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let u=0,c=t.length;u<c;u++){const c=t[u],d=l[c.materialIndex];if(d&&d.visible){const t=_(n,d,o,s);n.onBeforeShadow(e,n,i,a,r,t,c),e.renderBufferDirect(a,null,r,t,n,c),n.onAfterShadow(e,n,i,a,r,t,c)}}}else if(l.visible){const t=_(n,l,o,s);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)S(l[e],i,a,o,s)}function E(e){e.target.removeEventListener("dispose",E);for(const t in u){const n=u[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,s){if(!1===b.enabled)return;if(!1===b.autoUpdate&&!1===b.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);const h=3!==w&&3===this.type,p=3===w&&3!==this.type;for(let l=0,u=t.length;l<u;l++){const u=t[l],d=u.shadow;if(void 0===d)continue;if(!1===d.autoUpdate&&!1===d.needsUpdate)continue;i.copy(d.mapSize);const m=d.getFrameExtents();if(i.multiply(m),a.copy(d.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/m.x),i.x=a.x*m.x,d.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/m.y),i.y=a.y*m.y,d.mapSize.y=a.y)),null===d.map||!0===h||!0===p){const e=3!==this.type?{minFilter:ne,magFilter:ne}:{};null!==d.map&&d.map.dispose(),d.map=new wn(i.x,i.y,e),d.map.texture.name=u.name+".shadowMap",d.camera.updateProjectionMatrix()}e.setRenderTarget(d.map),e.clear();const g=d.getViewportCount();for(let e=0;e<g;e++){const t=d.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),f.viewport(o),d.updateMatrices(u,e),r=d.getFrustum(),S(n,s,d.camera,u,this.type)}!0!==d.isPointLightShadow&&3===this.type&&x(d,s),d.needsUpdate=!1}w=this.type,b.needsUpdate=!1,e.setRenderTarget(l,u,d)}}const Jf={[N]:1,[F]:6,[B]:7,[U]:5,[j]:0,[H]:2,[W]:4,[V]:3};function eh(e,t){const n=new function(){let t=!1;const n=new yn;let r=null;const i=new yn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const e=t.get("EXT_clip_control");r?e.clipControlEXT(e.LOWER_LEFT_EXT,e.ZERO_TO_ONE_EXT):e.clipControlEXT(e.LOWER_LEFT_EXT,e.NEGATIVE_ONE_TO_ONE_EXT);const n=o;o=null,this.setClear(n)}r=e},getReversed:function(){return r},setTest:function(t){t?ie(e.DEPTH_TEST):ae(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=Jf[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?ie(e.STENCIL_TEST):ae(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},a=new WeakMap,o=new WeakMap;let s={},l={},u=new WeakMap,c=[],d=null,f=!1,h=null,p=null,m=null,g=null,v=null,y=null,N=null,j=new qr(0,0,0),F=0,U=!1,B=null,V=null,H=null,W=null,G=null;const q=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Y=0;const K=e.getParameter(e.VERSION);-1!==K.indexOf("WebGL")?(Y=parseFloat(/^WebGL (\d)/.exec(K)[1]),X=Y>=1):-1!==K.indexOf("OpenGL ES")&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),X=Y>=2);let $=null,Z={};const Q=e.getParameter(e.SCISSOR_BOX),J=e.getParameter(e.VIEWPORT),ee=(new yn).fromArray(Q),te=(new yn).fromArray(J);function ne(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const re={};function ie(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function ae(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}re[e.TEXTURE_2D]=ne(e.TEXTURE_2D,e.TEXTURE_2D,1),re[e.TEXTURE_CUBE_MAP]=ne(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),re[e.TEXTURE_2D_ARRAY]=ne(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),re[e.TEXTURE_3D]=ne(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),ie(e.DEPTH_TEST),r.setFunc(3),ue(!1),ce(1),ie(e.CULL_FACE),le(0);const oe={[b]:e.FUNC_ADD,[w]:e.FUNC_SUBTRACT,[x]:e.FUNC_REVERSE_SUBTRACT};oe[103]=e.MIN,oe[104]=e.MAX;const se={[_]:e.ZERO,[S]:e.ONE,[E]:e.SRC_COLOR,[C]:e.SRC_ALPHA,[R]:e.SRC_ALPHA_SATURATE,[A]:e.DST_COLOR,[P]:e.DST_ALPHA,[k]:e.ONE_MINUS_SRC_COLOR,[M]:e.ONE_MINUS_SRC_ALPHA,[I]:e.ONE_MINUS_DST_COLOR,[T]:e.ONE_MINUS_DST_ALPHA,[O]:e.CONSTANT_COLOR,[D]:e.ONE_MINUS_CONSTANT_COLOR,[z]:e.CONSTANT_ALPHA,[L]:e.ONE_MINUS_CONSTANT_ALPHA};function le(t,n,r,i,a,o,s,l,u,c){if(0!==t){if(!1===f&&(ie(e.BLEND),f=!0),5===t)a=a||n,o=o||r,s=s||i,n===p&&a===v||(e.blendEquationSeparate(oe[n],oe[a]),p=n,v=a),r===m&&i===g&&o===y&&s===N||(e.blendFuncSeparate(se[r],se[i],se[o],se[s]),m=r,g=i,y=o,N=s),!1!==l.equals(j)&&u===F||(e.blendColor(l.r,l.g,l.b,u),j.copy(l),F=u),h=t,U=!1;else if(t!==h||c!==U){if(p===b&&v===b||(e.blendEquation(e.FUNC_ADD),p=b,v=b),c)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR)}m=null,g=null,y=null,N=null,j.set(0,0,0),F=0,h=t,U=c}}else!0===f&&(ae(e.BLEND),f=!1)}function ue(t){B!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),B=t)}function ce(t){0!==t?(ie(e.CULL_FACE),t!==V&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):ae(e.CULL_FACE),V=t}function de(t,n,r){t?(ie(e.POLYGON_OFFSET_FILL),W===n&&G===r||(e.polygonOffset(n,r),W=n,G=r)):ae(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:ie,disable:ae,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=c,i=!1;if(t){r=u.get(n),void 0===r&&(r=[],u.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:le,setMaterial:function(t,a){2===t.side?ae(e.CULL_FACE):ie(e.CULL_FACE);let o=1===t.side;a&&(o=!o),ue(o),1===t.blending&&!1===t.transparent?le(0):le(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;i.setTest(s),s&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),de(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?ie(e.SAMPLE_ALPHA_TO_COVERAGE):ae(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ue,setCullFace:ce,setLineWidth:function(t){t!==H&&(X&&e.lineWidth(t),H=t)},setPolygonOffset:de,setScissorTest:function(t){t?ie(e.SCISSOR_TEST):ae(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+q-1),$!==t&&(e.activeTexture(t),$=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===$?e.TEXTURE0+q-1:$);let i=Z[r];void 0===i&&(i={type:void 0,texture:void 0},Z[r]=i),i.type===t&&i.texture===n||($!==r&&(e.activeTexture(r),$=r),e.bindTexture(t,n||re[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=Z[$];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){}},scissor:function(t){!1===ee.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ee.copy(t))},viewport:function(t){!1===te.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),te.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},$=null,Z={},l={},u=new WeakMap,c=[],d=null,f=!1,h=null,p=null,m=null,g=null,v=null,y=null,N=null,j=new qr(0,0,0),F=0,U=!1,B=null,V=null,H=null,W=null,G=null,ee.set(0,0,e.canvas.width,e.canvas.height),te.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function th(e,t,n,r,i,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),u=new Yt,c=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function p(e,t){return h?new OffscreenCanvas(e,t):en("canvas")}function m(e,t,n){let r=1;const i=B(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===d&&(d=p(n,a));const o=t?p(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),o}return e}return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function b(n,r,i,a,o=!1){if(null!==n&&void 0!==e[n])return e[n];let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),r===e.RGBA){const t=o?xt:ln.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===_t?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function w(t,n){let r;return t?null===n||n===he||n===ye?r=e.DEPTH24_STENCIL8:n===pe?r=e.DEPTH32F_STENCIL8:n===de&&(r=e.DEPTH24_STENCIL8):null===n||n===he||n===ye?r=e.DEPTH_COMPONENT24:n===pe?r=e.DEPTH_COMPONENT32F:n===de&&(r=e.DEPTH_COMPONENT16),r}function x(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==ne&&e.minFilter!==ae?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){const t=e.target;t.removeEventListener("dispose",_),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=f.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&E(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&c.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t);t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let r=0;r<n.__webglFramebuffer[t].length;r++)e.deleteFramebuffer(n.__webglFramebuffer[t][r]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let t=0,n=i.length;t<n;t++){const n=r.get(i[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),o.memory.textures--),r.remove(i[t])}r.remove(t)}(n)}function E(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete f.get(i)[n.__cacheKey],o.memory.textures--}let k=0;function C(t,i){const a=r.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;c.get(e)!==t&&(c.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e);else if(!1!==e.complete)return void R(a,t,i)}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const M={[J]:e.REPEAT,[ee]:e.CLAMP_TO_EDGE,[te]:e.MIRRORED_REPEAT},P={[ne]:e.NEAREST,[re]:e.NEAREST_MIPMAP_NEAREST,[ie]:e.NEAREST_MIPMAP_LINEAR,[ae]:e.LINEAR,[oe]:e.LINEAR_MIPMAP_NEAREST,[se]:e.LINEAR_MIPMAP_LINEAR},T={[Et]:e.NEVER,[It]:e.ALWAYS,[kt]:e.LESS,[Mt]:e.LEQUAL,[Ct]:e.EQUAL,[At]:e.GEQUAL,[Pt]:e.GREATER,[Tt]:e.NOTEQUAL};function A(n,a){if(a.type===pe&&!1===t.has("OES_texture_float_linear")&&(a.magFilter===ae||a.magFilter===oe||a.magFilter===ie||a.magFilter===se||a.minFilter===ae||a.minFilter===oe||a.minFilter===ie||a.minFilter),e.texParameteri(n,e.TEXTURE_WRAP_S,M[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,M[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,M[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,P[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,P[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,T[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===ne)return;if(a.minFilter!==ie&&a.minFilter!==se)return;if(a.type===pe&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function I(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));const i=n.source;let a=f.get(i);void 0===a&&(a={},f.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&E(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function R(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const u=I(t,o),c=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=r.get(c);if(c.version!==d.__version||!0===u){n.activeTexture(e.TEXTURE0+s);const t=ln.getPrimaries(ln.workingColorSpace),r=o.colorSpace===yt?null:ln.getPrimaries(o.colorSpace),f=o.colorSpace===yt||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);let h=m(o.image,!1,i.maxTextureSize);h=U(o,h);const p=a.convert(o.format,o.colorSpace),y=a.convert(o.type);let _,S=b(o.internalFormat,p,y,o.colorSpace,o.isVideoTexture);A(l,o);const E=o.mipmaps,k=!0!==o.isVideoTexture,C=void 0===d.__version||!0===u,M=c.dataReady,P=x(o,h);if(o.isDepthTexture)S=w(o.format===Ce,o.type),C&&(k?n.texStorage2D(e.TEXTURE_2D,1,S,h.width,h.height):n.texImage2D(e.TEXTURE_2D,0,S,h.width,h.height,0,p,y,null));else if(o.isDataTexture)if(E.length>0){k&&C&&n.texStorage2D(e.TEXTURE_2D,P,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)_=E[t],k?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,y,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,p,y,_.data);o.generateMipmaps=!1}else k?(C&&n.texStorage2D(e.TEXTURE_2D,P,S,h.width,h.height),M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,h.width,h.height,p,y,h.data)):n.texImage2D(e.TEXTURE_2D,0,S,h.width,h.height,0,p,y,h.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){k&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,S,E[0].width,E[0].height,h.depth);for(let t=0,r=E.length;t<r;t++)if(_=E[t],o.format!==_e){if(null!==p)if(k){if(M)if(o.layerUpdates.size>0){const r=kc(_.width,_.height,o.format,o.type);for(const i of o.layerUpdates){const a=_.data.subarray(i*r/_.data.BYTES_PER_ELEMENT,(i+1)*r/_.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,_.width,_.height,1,p,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,h.depth,p,_.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,h.depth,0,_.data,0,0)}else k?M&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,h.depth,p,y,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,h.depth,0,p,y,_.data)}else{k&&C&&n.texStorage2D(e.TEXTURE_2D,P,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)_=E[t],o.format!==_e?null!==p&&(k?M&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,_.data)):k?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,y,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,p,y,_.data)}else if(o.isDataArrayTexture)if(k){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,S,h.width,h.height,h.depth),M)if(o.layerUpdates.size>0){const t=kc(h.width,h.height,o.format,o.type);for(const r of o.layerUpdates){const i=h.data.subarray(r*t/h.data.BYTES_PER_ELEMENT,(r+1)*t/h.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,h.width,h.height,1,p,y,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,h.width,h.height,h.depth,p,y,h.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,h.width,h.height,h.depth,0,p,y,h.data);else if(o.isData3DTexture)k?(C&&n.texStorage3D(e.TEXTURE_3D,P,S,h.width,h.height,h.depth),M&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,h.width,h.height,h.depth,p,y,h.data)):n.texImage3D(e.TEXTURE_3D,0,S,h.width,h.height,h.depth,0,p,y,h.data);else if(o.isFramebufferTexture){if(C)if(k)n.texStorage2D(e.TEXTURE_2D,P,S,h.width,h.height);else{let t=h.width,r=h.height;for(let i=0;i<P;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,y,null),t>>=1,r>>=1}}else if(E.length>0){if(k&&C){const t=B(E[0]);n.texStorage2D(e.TEXTURE_2D,P,S,t.width,t.height)}for(let t=0,r=E.length;t<r;t++)_=E[t],k?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,y,_):n.texImage2D(e.TEXTURE_2D,t,S,p,y,_);o.generateMipmaps=!1}else if(k){if(C){const t=B(h);n.texStorage2D(e.TEXTURE_2D,P,S,t.width,t.height)}M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,y,h)}else n.texImage2D(e.TEXTURE_2D,0,S,p,y,h);g(o)&&v(l),d.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function O(t,i,o,l,u,c){const d=a.convert(o.format,o.colorSpace),f=a.convert(o.type),h=b(o.internalFormat,d,f,o.colorSpace),p=r.get(i),m=r.get(o);if(m.__renderTarget=i,!p.__hasExternalTextures){const t=Math.max(1,i.width>>c),r=Math.max(1,i.height>>c);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,c,h,t,r,i.depth,0,d,f,null):n.texImage2D(u,c,h,t,r,0,d,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),F(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,u,m.__webglTexture,0,j(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,u,m.__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function D(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=w(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=j(n);F(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],l=a.convert(o.format,o.colorSpace),u=a.convert(o.type),c=b(o.internalFormat,l,u,o.colorSpace),d=j(n);r&&!1===F(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,c,n.width,n.height):F(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function z(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const a=r.get(i.depthTexture);a.__renderTarget=i,a.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),C(i.depthTexture,0);const o=a.__webglTexture,l=j(i);if(i.depthTexture.format===ke)F(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==Ce)throw new Error("Unknown depthTexture format");F(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),D(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),D(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}n.bindFramebuffer(e.FRAMEBUFFER,null)}const L=[],N=[];function j(e){return Math.min(i.maxSamples,e.samples)}function F(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function U(e,t){const n=e.colorSpace;e.format,e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==wt&&n!==yt&&ln.getTransfer(n),t}function B(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(u.width=e.naturalWidth||e.width,u.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(u.width=e.displayWidth,u.height=e.displayHeight):(u.width=e.width,u.height=e.height),u}this.allocateTextureUnit=function(){const e=k;return i.maxTextures,k+=1,e},this.resetTextureUnits=function(){k=0},this.setTexture2D=C,this.setTexture2DArray=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){const s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=I(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const c=r.get(u);if(u.version!==c.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=ln.getPrimaries(ln.workingColorSpace),r=o.colorSpace===yt?null:ln.getPrimaries(o.colorSpace),d=o.colorSpace===yt||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const f=o.isCompressedTexture||o.image[0].isCompressedTexture,h=o.image[0]&&o.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=f||h?h?o.image[e].image:o.image[e]:m(o.image[e],!0,i.maxCubemapSize),p[e]=U(o,p[e]);const y=p[0],w=a.convert(o.format,o.colorSpace),_=a.convert(o.type),S=b(o.internalFormat,w,_,o.colorSpace),E=!0!==o.isVideoTexture,k=void 0===c.__version||!0===l,C=u.dataReady;let M,P=x(o,y);if(A(e.TEXTURE_CUBE_MAP,o),f){E&&k&&n.texStorage2D(e.TEXTURE_CUBE_MAP,P,S,y.width,y.height);for(let t=0;t<6;t++){M=p[t].mipmaps;for(let r=0;r<M.length;r++){const i=M[r];o.format!==_e?null!==w&&(E?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,w,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data)):E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,w,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,w,_,i.data)}}}else{if(M=o.mipmaps,E&&k){M.length>0&&P++;const t=B(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,P,S,t.width,t.height)}for(let t=0;t<6;t++)if(h){E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,w,_,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,w,_,p[t].data);for(let r=0;r<M.length;r++){const i=M[r].image[t].image;E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,w,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,w,_,i.data)}}else{E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,w,_,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,w,_,p[t]);for(let r=0;r<M.length;r++){const i=M[r];E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,w,_,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,w,_,i.image[t])}}}g(o)&&v(e.TEXTURE_CUBE_MAP),c.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&O(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&z(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",S);const u=t.textures,c=!0===t.isWebGLCubeRenderTarget,d=u.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),c){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=u.length;t<n;t++){const n=r.get(u[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===F(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<u.length;n++){const r=u[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=b(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),c=j(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),D(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),A(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)O(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else O(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=u.length;i<a;i++){const a=u[i],o=r.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),A(e.TEXTURE_2D,a),O(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(a)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),A(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)O(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else O(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(g(a)){const t=y(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===F(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(L.length=0,N.length=0,L.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(L.push(u),N.push(u),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,N)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,L))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=O,this.useMultisampledRTT=F}function nh(e,t){return{convert:function(n,r=""){let i;const a=ln.getTransfer(r);if(n===le)return e.UNSIGNED_BYTE;if(n===ge)return e.UNSIGNED_SHORT_4_4_4_4;if(n===ve)return e.UNSIGNED_SHORT_5_5_5_1;if(n===be)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===ue)return e.BYTE;if(n===ce)return e.SHORT;if(n===de)return e.UNSIGNED_SHORT;if(n===fe)return e.INT;if(n===he)return e.UNSIGNED_INT;if(n===pe)return e.FLOAT;if(n===me)return e.HALF_FLOAT;if(n===we)return e.ALPHA;if(n===xe)return e.RGB;if(n===_e)return e.RGBA;if(n===Se)return e.LUMINANCE;if(n===Ee)return e.LUMINANCE_ALPHA;if(n===ke)return e.DEPTH_COMPONENT;if(n===Ce)return e.DEPTH_STENCIL;if(n===Me)return e.RED;if(n===Pe)return e.RED_INTEGER;if(n===Te)return e.RG;if(n===Ae)return e.RG_INTEGER;if(n===Ie)return e.RGBA_INTEGER;if(n===Re||n===Oe||n===De||n===ze)if(a===_t){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Re)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Oe)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===De)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ze)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Re)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Oe)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===De)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ze)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Le||n===Ne||n===je||n===Fe){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===Le)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ne)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===je)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Fe)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Ue||n===Be||n===Ve){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===Ue||n===Be)return a===_t?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Ve)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===He||n===We||n===Ge||n===qe||n===Xe||n===Ye||n===Ke||n===$e||n===Ze||n===Qe||n===Je||n===et||n===tt||n===nt){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===He)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===We)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Ge)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===qe)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Xe)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Ye)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Ke)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===$e)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Ze)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Qe)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Je)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===et)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===tt)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===nt)return a===_t?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===rt||n===it||n===at){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===rt)return a===_t?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===it)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===at)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===ot||n===st||n===lt||n===ut){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===rt)return i.COMPRESSED_RED_RGTC1_EXT;if(n===st)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===lt)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===ut)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===ye?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}const rh={type:"move"};class ih{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Ro,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Ro,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new En,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new En),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Ro,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new En,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new En),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const r of e.hand.values()){const e=t.getJointPose(r,n),i=this._getHandJoint(l,r);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=e.radius),i.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,u=.005;l.inputState.pinching&&o>s+u?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-u&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(rh)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Ro;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ah{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new vn;e.properties.get(r).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Di({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Mi(new Ys(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oh extends Lt{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,u=null,c=null,d=null,f=null,h=null;const p=new ah,m=t.getContextAttributes();let g=null,v=null;const y=[],b=[],w=new Yt;let x=null;const _=new Fi;_.viewport=new yn;const S=new Fi;S.viewport=new yn;const E=[_,S],k=new Su;let C=null,M=null;function P(e){const t=b.indexOf(e.inputSource);if(-1===t)return;const n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function T(){r.removeEventListener("select",P),r.removeEventListener("selectstart",P),r.removeEventListener("selectend",P),r.removeEventListener("squeeze",P),r.removeEventListener("squeezestart",P),r.removeEventListener("squeezeend",P),r.removeEventListener("end",T),r.removeEventListener("inputsourceschange",A);for(let e=0;e<y.length;e++){const t=b[e];null!==t&&(b[e]=null,y[e].disconnect(t))}C=null,M=null,p.reset(),e.setRenderTarget(g),f=null,d=null,c=null,r=null,v=null,z.stop(),n.isPresenting=!1,e.setPixelRatio(x),e.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}function A(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=b.indexOf(n);r>=0&&(b[r]=null,y[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=b.indexOf(n);if(-1===r){for(let e=0;e<y.length;e++){if(e>=b.length){b.push(n),r=e;break}if(null===b[e]){b[e]=n,r=e;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new ih,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new ih,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new ih,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){o=e,n.isPresenting},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:f},this.getBinding=function(){return c},this.getFrame=function(){return h},this.getSession=function(){return r},this.setSession=async function(u){if(r=u,null!==r){g=e.getRenderTarget(),r.addEventListener("select",P),r.addEventListener("selectstart",P),r.addEventListener("selectend",P),r.addEventListener("squeeze",P),r.addEventListener("squeezestart",P),r.addEventListener("squeezeend",P),r.addEventListener("end",T),r.addEventListener("inputsourceschange",A),!0!==m.xrCompatible&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(w);if(void 0!==r.enabledFeatures&&r.enabledFeatures.includes("layers")){let n=null,a=null,o=null;m.depth&&(o=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?Ce:ke,a=m.stencil?ye:he);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};c=new XRWebGLBinding(r,t),d=c.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),v=new wn(d.textureWidth,d.textureHeight,{format:_e,type:le,depthTexture:new Do(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),v=new wn(f.framebufferWidth,f.framebufferHeight,{format:_e,type:le,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}v.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),z.setContext(r),z.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const I=new En,R=new En;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==p.texture&&(p.depthNear>0&&(t=p.depthNear),p.depthFar>0&&(n=p.depthFar)),k.near=S.near=_.near=t,k.far=S.far=_.far=n,C===k.near&&M===k.far||(r.updateRenderState({depthNear:k.near,depthFar:k.far}),C=k.near,M=k.far),_.layers.mask=2|e.layers.mask,S.layers.mask=4|e.layers.mask,k.layers.mask=_.layers.mask|S.layers.mask;const i=e.parent,a=k.cameras;O(k,i);for(let e=0;e<a.length;e++)O(a[e],i);2===a.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);const r=I.distanceTo(R),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*c,h=o*d,p=r/(-c+d),m=p*-c;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+p,n=s+p,i=f-m,a=h+(r-m),c=l*s/n*t,d=u*s/n*t;e.projectionMatrix.makePerspective(i,a,c,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(k,_,S):k.projectionMatrix.copy(_.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Ut*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,k,i)},this.getCamera=function(){return k},this.getFoveation=function(){if(null!==d||null!==f)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(k)};let D=null;const z=new Mc;z.setAnimationLoop(function(t,i){if(u=i.getViewerPose(l||a),h=i,null!==u){const t=u.views;null!==f&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==k.cameras.length&&(k.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==f)a=f.getViewport(i);else{const t=c.getViewSubImage(d,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(v))}let o=E[r];void 0===o&&(o=new Fi,o.layers.enable(r),o.viewport=new yn,E[r]=o),o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(i.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&(k.matrix.copy(o.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),!0===n&&k.cameras.push(o)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=c.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<y.length;e++){const t=b[e],n=y[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}D&&D(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),h=null}),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}const sh=new cr,lh=new er;function uh(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,sh.copy(o),sh.x*=-1,sh.y*=-1,sh.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(sh.y*=-1,sh.z*=-1),e.envMapRotation.value.setFromMatrix4(lh.makeRotationFromEuler(sh)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Ri(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function ch(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"==typeof i||"boolean"==typeof i?i:i.clone(),!0;{const e=r[a];if("number"==typeof i||"boolean"==typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function u(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}function c(t){const n=t.target;n.removeEventListener("dispose",c);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let f=i[n.id];void 0===f&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let e=0,i=t.length;e<i;e++){const i=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=i.length;e<t;e++){const t=i[e],a=Array.isArray(t.value)?t.value:[t.value];for(let e=0,i=a.length;e<i;e++){const i=u(a[e]),o=n%r,s=o%i.boundary,l=o+s;n+=s,0!==l&&r-l<i.storage&&(n+=r-l),t.__data=new Float32Array(i.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=i.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return 0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));const h=d.program;r.updateUBOMapping(n,h);const p=t.render.frame;a[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){const n=Array.isArray(r[t])?r[t]:[r[t]];for(let r=0,i=n.length;r<i;r++){const i=n[r];if(!0===l(i,t,r,a)){const t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let a=0;a<n.length;a++){const o=n[a],s=u(o);"number"==typeof o||"boolean"==typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}class dh{constructor(e={}){const{canvas:t=tn(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:c=!1,reverseDepthBuffer:d=!1}=e;let f;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=a;const p=new Uint32Array(4),m=new Int32Array(4);let g=null,v=null;const y=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=bt,this.toneMapping=0,this.toneMappingExposure=1;const w=this;let x=!1,_=0,S=0,E=null,k=-1,C=null;const M=new yn,P=new yn;let T=null;const A=new qr(0);let I=0,R=t.width,O=t.height,D=1,z=null,L=null;const N=new yn(0,0,R,O),j=new yn(0,0,R,O);let F=!1;const U=new Ga;let B=!1,V=!1;this.transmissionResolutionScale=1;const H=new er,W=new er,G=new En,q=new yn,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Y=!1;function K(){return null===E?D:1}let $,Z,Q,J,ee,te,ne,re,ie,ae,oe,ue,ce,fe,pe,be,we,xe,_e,Se,Ee,ke,Ce,Me,Te=n;function Re(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${h}`),t.addEventListener("webglcontextlost",ze,!1),t.addEventListener("webglcontextrestored",Le,!1),t.addEventListener("webglcontextcreationerror",Ne,!1),null===Te){const t="webgl2";if(Te=Re(t,e),null===Te)throw Re(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(e){throw e}function Oe(){$=new ad(Te),$.init(),ke=new nh(Te,$),Z=new jc(Te,$,e,ke),Q=new eh(Te,$),Z.reverseDepthBuffer&&d&&Q.buffers.depth.setReversed(!0),J=new ld(Te),ee=new Bf,te=new th(Te,$,Q,ee,Z,ke,J),ne=new Uc(w),re=new id(w),ie=new Pc(Te),Ce=new Lc(Te,ie),ae=new od(Te,ie,J,Ce),oe=new cd(Te,ae,ie,J),_e=new ud(Te,Z,te),be=new Fc(ee),ue=new Uf(w,ne,re,$,Z,Ce,be),ce=new uh(w,ee),fe=new Gf,pe=new Zf($),xe=new zc(w,ne,re,Q,oe,f,s),we=new Qf(w,oe,Z),Me=new ch(Te,J,Z,Q),Se=new Nc(Te,$,J),Ee=new sd(Te,$,J),J.programs=ue.programs,w.capabilities=Z,w.extensions=$,w.properties=ee,w.renderLists=fe,w.shadowMap=we,w.state=Q,w.info=J}Oe();const De=new oh(w,Te);function ze(e){e.preventDefault(),x=!0}function Le(){x=!1;const e=J.autoReset,t=we.enabled,n=we.autoUpdate,r=we.needsUpdate,i=we.type;Oe(),J.autoReset=e,we.enabled=t,we.autoUpdate=n,we.needsUpdate=r,we.type=i}function Ne(e){}function je(e){const t=e.target;t.removeEventListener("dispose",je),function(e){(function(e){const t=ee.get(e).programs;void 0!==t&&(t.forEach(function(e){ue.releaseProgram(e)}),e.isShaderMaterial&&ue.releaseShaderCache(e))})(e),ee.remove(e)}(t)}function Fe(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,Ke(e,t,n),e.side=0,e.needsUpdate=!0,Ke(e,t,n),e.side=2):Ke(e,t,n)}this.xr=De,this.getContext=function(){return Te},this.getContextAttributes=function(){return Te.getContextAttributes()},this.forceContextLoss=function(){const e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(e){void 0!==e&&(D=e,this.setSize(R,O,!1))},this.getSize=function(e){return e.set(R,O)},this.setSize=function(e,n,r=!0){De.isPresenting||(R=e,O=n,t.width=Math.floor(e*D),t.height=Math.floor(n*D),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(R*D,O*D).floor()},this.setDrawingBufferSize=function(e,n,r){R=e,O=n,D=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(N)},this.setViewport=function(e,t,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,r),Q.viewport(M.copy(N).multiplyScalar(D).round())},this.getScissor=function(e){return e.copy(j)},this.setScissor=function(e,t,n,r){e.isVector4?j.set(e.x,e.y,e.z,e.w):j.set(e,t,n,r),Q.scissor(P.copy(j).multiplyScalar(D).round())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){Q.setScissorTest(F=e)},this.setOpaqueSort=function(e){z=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(e){return e.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==E){const t=E.texture.format;e=t===Ie||t===Ae||t===Pe}if(e){const e=E.texture.type,t=e===le||e===he||e===de||e===ye||e===ge||e===ve,n=xe.getClearColor(),r=xe.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(p[0]=i,p[1]=a,p[2]=o,p[3]=r,Te.clearBufferuiv(Te.COLOR,0,p)):(m[0]=i,m[1]=a,m[2]=o,m[3]=r,Te.clearBufferiv(Te.COLOR,0,m))}else r|=Te.COLOR_BUFFER_BIT}t&&(r|=Te.DEPTH_BUFFER_BIT),n&&(r|=Te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Te.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ze,!1),t.removeEventListener("webglcontextrestored",Le,!1),t.removeEventListener("webglcontextcreationerror",Ne,!1),xe.dispose(),fe.dispose(),pe.dispose(),ee.dispose(),ne.dispose(),re.dispose(),oe.dispose(),Ce.dispose(),Me.dispose(),ue.dispose(),De.dispose(),De.removeEventListener("sessionstart",Be),De.removeEventListener("sessionend",Ve),He.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=X);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=X);te.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===E?w.outputColorSpace:!0===E.isXRRenderTarget?E.texture.colorSpace:wt,l=(r.isMeshStandardMaterial?re:ne).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,h=!!n.morphAttributes.color;let p=0;r.toneMapped&&(null!==E&&!0!==E.isXRRenderTarget||(p=w.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,y=ee.get(r),b=v.state.lights;if(!0===B&&(!0===V||e!==C)){const t=e===C&&r.id===k;be.setState(r,e,t)}let x=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputColorSpace!==s||i.isBatchedMesh&&!1===y.batching?x=!0:i.isBatchedMesh||!0!==y.batching?i.isBatchedMesh&&!0===y.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===y.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===y.instancing?x=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?x=!0:i.isSkinnedMesh||!0!==y.skinning?i.isInstancedMesh&&!0===y.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===y.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===y.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===y.instancingMorph&&null!==i.morphTexture||y.envMap!==l||!0===r.fog&&y.fog!==a?x=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===be.numPlanes&&y.numIntersection===be.numIntersection?(y.vertexAlphas!==u||y.vertexTangents!==c||y.morphTargets!==d||y.morphNormals!==f||y.morphColors!==h||y.toneMapping!==p||y.morphTargetsCount!==g)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,y.__version=r.version);let _=y.currentProgram;!0===x&&(_=Ke(r,t,i));let S=!1,M=!1,P=!1;const T=_.getUniforms(),A=y.uniforms;Q.useProgram(_.program)&&(S=!0,M=!0,P=!0);r.id!==k&&(k=r.id,M=!0);if(S||C!==e){Q.buffers.depth.getReversed()?(H.copy(e.projectionMatrix),function(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(H),function(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(H),T.setValue(Te,"projectionMatrix",H)):T.setValue(Te,"projectionMatrix",e.projectionMatrix),T.setValue(Te,"viewMatrix",e.matrixWorldInverse);const t=T.map.cameraPosition;void 0!==t&&t.setValue(Te,G.setFromMatrixPosition(e.matrixWorld)),Z.logarithmicDepthBuffer&&T.setValue(Te,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(Te,"isOrthographic",!0===e.isOrthographicCamera),C!==e&&(C=e,M=!0,P=!0)}if(i.isSkinnedMesh){T.setOptional(Te,i,"bindMatrix"),T.setOptional(Te,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(Te,"boneTexture",e.boneTexture,te))}i.isBatchedMesh&&(T.setOptional(Te,i,"batchingTexture"),T.setValue(Te,"batchingTexture",i._matricesTexture,te),T.setOptional(Te,i,"batchingIdTexture"),T.setValue(Te,"batchingIdTexture",i._indirectTexture,te),T.setOptional(Te,i,"batchingColorTexture"),null!==i._colorsTexture&&T.setValue(Te,"batchingColorTexture",i._colorsTexture,te));const I=n.morphAttributes;void 0===I.position&&void 0===I.normal&&void 0===I.color||_e.update(i,n,_);(M||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,T.setValue(Te,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(A.envMap.value=l,A.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(A.envMapIntensity.value=t.environmentIntensity);M&&(T.setValue(Te,"toneMappingExposure",w.toneMappingExposure),y.needsLights&&(z=P,(R=A).ambientLightColor.needsUpdate=z,R.lightProbe.needsUpdate=z,R.directionalLights.needsUpdate=z,R.directionalLightShadows.needsUpdate=z,R.pointLights.needsUpdate=z,R.pointLightShadows.needsUpdate=z,R.spotLights.needsUpdate=z,R.spotLightShadows.needsUpdate=z,R.rectAreaLights.needsUpdate=z,R.hemisphereLights.needsUpdate=z),a&&!0===r.fog&&ce.refreshFogUniforms(A,a),ce.refreshMaterialUniforms(A,r,D,O,v.state.transmissionRenderTarget[e.id]),gf.upload(Te,$e(y),A,te));var R,z;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(gf.upload(Te,$e(y),A,te),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&T.setValue(Te,"center",i.center);if(T.setValue(Te,"modelViewMatrix",i.modelViewMatrix),T.setValue(Te,"normalMatrix",i.normalMatrix),T.setValue(Te,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];Me.update(n,_),Me.bind(n,_)}}return _}(e,t,n,r,i);Q.setMaterial(r,o);let l=n.index,u=1;if(!0===r.wireframe){if(l=ae.getWireframeAttribute(n),void 0===l)return;u=2}const c=n.drawRange,d=n.attributes.position;let f=c.start*u,h=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),h=Math.min(h,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),h=Math.min(h,l.count)):null!=d&&(f=Math.max(f,0),h=Math.min(h,d.count));const p=h-f;if(p<0||p===1/0)return;let m;Ce.setup(i,r,s,n,l);let g=Se;if(null!==l&&(m=ie.get(l),g=Ee,g.setIndex(m)),i.isMesh)!0===r.wireframe?(Q.setLineWidth(r.wireframeLinewidth*K()),g.setMode(Te.LINES)):g.setMode(Te.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),Q.setLineWidth(e*K()),i.isLineSegments?g.setMode(Te.LINES):i.isLineLoop?g.setMode(Te.LINE_LOOP):g.setMode(Te.LINE_STRIP)}else i.isPoints?g.setMode(Te.POINTS):i.isSprite&&g.setMode(Te.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)g.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if($.get("WEBGL_multi_draw"))g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=l?ie.get(l).bytesPerElement:1,o=ee.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(Te,"_gl_DrawID",r),g.render(e[r]/a,t[r])}else if(i.isInstancedMesh)g.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(f,p,t)}else g.render(f,p)},this.compile=function(e,t,n=null){null===n&&(n=e),v=pe.get(n),v.init(t),b.push(v),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(v.pushLight(e),e.castShadow&&v.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(v.pushLight(e),e.castShadow&&v.pushShadow(e))}),v.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Fe(a,n,e),r.add(a)}else Fe(t,n,e),r.add(t)}),b.pop(),v=null,r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){ee.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==$.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Ue=null;function Be(){He.stop()}function Ve(){He.start()}const He=new Mc;function We(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)v.pushLight(e),e.castShadow&&v.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||U.intersectsSprite(e)){r&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(W);const t=oe.update(e),i=e.material;i.visible&&g.push(e,t,i,n,q.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||U.intersectsObject(e))){const t=oe.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),q.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),q.copy(t.boundingSphere.center)),q.applyMatrix4(e.matrixWorld).applyMatrix4(W)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&g.push(e,t,s,n,q.z,o)}}else i.visible&&g.push(e,t,i,n,q.z,null)}const i=e.children;for(let e=0,a=i.length;e<a;e++)We(i[e],t,n,r)}function Ge(e,t,n,r){const i=e.opaque,a=e.transmissive,o=e.transparent;v.setupLightsView(n),!0===B&&be.setGlobalState(w.clippingPlanes,n),r&&Q.viewport(M.copy(r)),i.length>0&&Xe(i,t,n),a.length>0&&Xe(a,t,n),o.length>0&&Xe(o,t,n),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1)}function qe(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===v.state.transmissionRenderTarget[r.id]&&(v.state.transmissionRenderTarget[r.id]=new wn(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float")?me:le,minFilter:se,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ln.workingColorSpace}));const a=v.state.transmissionRenderTarget[r.id],o=r.viewport||M;a.setSize(o.z*w.transmissionResolutionScale,o.w*w.transmissionResolutionScale);const s=w.getRenderTarget();w.setRenderTarget(a),w.getClearColor(A),I=w.getClearAlpha(),I<1&&w.setClearColor(16777215,.5),w.clear(),Y&&xe.render(n);const l=w.toneMapping;w.toneMapping=0;const u=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),v.setupLightsView(r),!0===B&&be.setGlobalState(w.clippingPlanes,r),Xe(e,n,r),te.updateMultisampleRenderTarget(a),te.updateRenderTargetMipmap(a),!1===$.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],o=a.object,s=a.geometry,l=a.material,u=a.group;if(2===l.side&&o.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,Ye(o,n,r,s,l,u),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(te.updateMultisampleRenderTarget(a),te.updateRenderTargetMipmap(a))}w.setRenderTarget(s),w.setClearColor(A,I),void 0!==u&&(r.viewport=u),w.toneMapping=l}function Xe(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,u=a.group;o.layers.test(n.layers)&&Ye(o,t,n,s,l,u)}}function Ye(e,t,n,r,i,a){e.onBeforeRender(w,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(w,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,w.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,w.renderBufferDirect(n,t,r,i,e,a),i.side=2):w.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(w,t,n,r,i,a)}function Ke(e,t,n){!0!==t.isScene&&(t=X);const r=ee.get(e),i=v.state.lights,a=v.state.shadowsArray,o=i.state.version,s=ue.getParameters(e,i.state,a,t,n),l=ue.getProgramCacheKey(s);let u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?re:ne).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===u&&(e.addEventListener("dispose",je),u=new Map,r.programs=u);let c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Ze(e,s),c}else s.uniforms=ue.getUniforms(e),e.onBeforeCompile(s,w),c=ue.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=be.uniform),Ze(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function $e(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=gf.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Ze(e,t){const n=ee.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}He.setAnimationLoop(function(e){Ue&&Ue(e)}),"undefined"!=typeof self&&He.setContext(self),this.setAnimationLoop=function(e){Ue=e,De.setAnimationLoop(e),null===e?He.stop():He.start()},De.addEventListener("sessionstart",Be),De.addEventListener("sessionend",Ve),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return;if(!0===x)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===De.enabled&&!0===De.isPresenting&&(!0===De.cameraAutoUpdate&&De.updateCamera(t),t=De.getCamera()),!0===e.isScene&&e.onBeforeRender(w,e,t,E),v=pe.get(e,b.length),v.init(t),b.push(v),W.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),U.setFromProjectionMatrix(W),V=this.localClippingEnabled,B=be.init(this.clippingPlanes,V),g=fe.get(e,y.length),g.init(),y.push(g),!0===De.enabled&&!0===De.isPresenting){const e=w.xr.getDepthSensingMesh();null!==e&&We(e,t,-1/0,w.sortObjects)}We(e,t,0,w.sortObjects),g.finish(),!0===w.sortObjects&&g.sort(z,L),Y=!1===De.enabled||!1===De.isPresenting||!1===De.hasDepthSensing(),Y&&xe.addToRenderList(g,e),this.info.render.frame++,!0===B&&be.beginShadows();const n=v.state.shadowsArray;we.render(n,e,t),!0===B&&be.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=g.opaque,i=g.transmissive;if(v.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){qe(r,i,e,n[t])}Y&&xe.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Ge(g,e,r,r.viewport)}}else i.length>0&&qe(r,i,e,t),Y&&xe.render(e),Ge(g,e,t);null!==E&&0===S&&(te.updateMultisampleRenderTarget(E),te.updateRenderTargetMipmap(E)),!0===e.isScene&&e.onAfterRender(w,e,t),Ce.resetDefaultState(),k=-1,C=null,b.pop(),b.length>0?(v=b[b.length-1],!0===B&&be.setGlobalState(w.clippingPlanes,v.state.camera)):v=null,y.pop(),g=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(e,t,n){ee.get(e.texture).__webglTexture=t,ee.get(e.depthTexture).__webglTexture=n;const r=ee.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=ee.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const Qe=Te.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){E=e,_=t,S=n;let r=!0,i=null,a=!1,o=!1;if(e){const s=ee.get(e);if(void 0!==s.__useDefaultFramebuffer)Q.bindFramebuffer(Te.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)te.setupRenderTarget(e);else if(s.__hasExternalTextures)te.rebindTextures(e,ee.get(e.texture).__webglTexture,ee.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&ee.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const u=ee.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(u[t])?u[t][n]:u[t],a=!0):i=e.samples>0&&!1===te.useMultisampledRTT(e)?ee.get(e).__webglMultisampledFramebuffer:Array.isArray(u)?u[n]:u,M.copy(e.viewport),P.copy(e.scissor),T=e.scissorTest}else M.copy(N).multiplyScalar(D).floor(),P.copy(j).multiplyScalar(D).floor(),T=F;0!==n&&(i=Qe);if(Q.bindFramebuffer(Te.FRAMEBUFFER,i)&&r&&Q.drawBuffers(e,i),Q.viewport(M),Q.scissor(P),Q.setScissorTest(T),a){const r=ee.get(e.texture);Te.framebufferTexture2D(Te.FRAMEBUFFER,Te.COLOR_ATTACHMENT0,Te.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(o){const r=ee.get(e.texture),i=t;Te.framebufferTextureLayer(Te.FRAMEBUFFER,Te.COLOR_ATTACHMENT0,r.__webglTexture,n,i)}else if(null!==e&&0!==n){const t=ee.get(e.texture);Te.framebufferTexture2D(Te.FRAMEBUFFER,Te.COLOR_ATTACHMENT0,Te.TEXTURE_2D,t.__webglTexture,n)}k=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return;let s=ee.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){Q.bindFramebuffer(Te.FRAMEBUFFER,s);try{const o=e.texture,s=o.format,l=o.type;if(!Z.textureFormatReadable(s))return;if(!Z.textureTypeReadable(l))return;t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Te.readPixels(t,n,r,i,ke.convert(s),ke.convert(l),a)}finally{const e=null!==E?ee.get(E).__webglFramebuffer:null;Q.bindFramebuffer(Te.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=ee.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){const o=e.texture,l=o.format,u=o.type;if(!Z.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){Q.bindFramebuffer(Te.FRAMEBUFFER,s);const e=Te.createBuffer();Te.bindBuffer(Te.PIXEL_PACK_BUFFER,e),Te.bufferData(Te.PIXEL_PACK_BUFFER,a.byteLength,Te.STREAM_READ),Te.readPixels(t,n,r,i,ke.convert(l),ke.convert(u),0);const o=null!==E?ee.get(E).__webglFramebuffer:null;Q.bindFramebuffer(Te.FRAMEBUFFER,o);const c=Te.fenceSync(Te.SYNC_GPU_COMMANDS_COMPLETE,0);return Te.flush(),await function(e,t,n){return new Promise(function(r,i){setTimeout(function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}},n)})}(Te,c,4),Te.bindBuffer(Te.PIXEL_PACK_BUFFER,e),Te.getBufferSubData(Te.PIXEL_PACK_BUFFER,0,a),Te.deleteBuffer(e),Te.deleteSync(c),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e,t=null,n=0){!0!==e.isTexture&&(rn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;te.setTexture2D(e,0),Te.copyTexSubImage2D(Te.TEXTURE_2D,n,0,0,o,s,i,a),Q.unbindTexture()};const Je=Te.createFramebuffer(),et=Te.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,i=0,a=null){let o,s,l,u,c,d,f,h,p;!0!==e.isTexture&&(rn("WebGLRenderer: copyTextureToTexture function signature has changed."),r=arguments[0]||null,e=arguments[1],t=arguments[2],a=arguments[3]||0,n=null),null===a&&(0!==i?(rn("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),a=i,i=0):a=0);const m=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)o=n.max.x-n.min.x,s=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,u=n.min.x,c=n.min.y,d=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-i);o=Math.floor(m.width*t),s=Math.floor(m.height*t),l=e.isDataArrayTexture?m.depth:e.isData3DTexture?Math.floor(m.depth*t):1,u=0,c=0,d=0}null!==r?(f=r.x,h=r.y,p=r.z):(f=0,h=0,p=0);const g=ke.convert(t.format),v=ke.convert(t.type);let y;t.isData3DTexture?(te.setTexture3D(t,0),y=Te.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(te.setTexture2DArray(t,0),y=Te.TEXTURE_2D_ARRAY):(te.setTexture2D(t,0),y=Te.TEXTURE_2D),Te.pixelStorei(Te.UNPACK_FLIP_Y_WEBGL,t.flipY),Te.pixelStorei(Te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Te.pixelStorei(Te.UNPACK_ALIGNMENT,t.unpackAlignment);const b=Te.getParameter(Te.UNPACK_ROW_LENGTH),w=Te.getParameter(Te.UNPACK_IMAGE_HEIGHT),x=Te.getParameter(Te.UNPACK_SKIP_PIXELS),_=Te.getParameter(Te.UNPACK_SKIP_ROWS),S=Te.getParameter(Te.UNPACK_SKIP_IMAGES);Te.pixelStorei(Te.UNPACK_ROW_LENGTH,m.width),Te.pixelStorei(Te.UNPACK_IMAGE_HEIGHT,m.height),Te.pixelStorei(Te.UNPACK_SKIP_PIXELS,u),Te.pixelStorei(Te.UNPACK_SKIP_ROWS,c),Te.pixelStorei(Te.UNPACK_SKIP_IMAGES,d);const E=e.isDataArrayTexture||e.isData3DTexture,k=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=ee.get(e),r=ee.get(t),m=ee.get(n.__renderTarget),g=ee.get(r.__renderTarget);Q.bindFramebuffer(Te.READ_FRAMEBUFFER,m.__webglFramebuffer),Q.bindFramebuffer(Te.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let n=0;n<l;n++)E&&(Te.framebufferTextureLayer(Te.READ_FRAMEBUFFER,Te.COLOR_ATTACHMENT0,ee.get(e).__webglTexture,i,d+n),Te.framebufferTextureLayer(Te.DRAW_FRAMEBUFFER,Te.COLOR_ATTACHMENT0,ee.get(t).__webglTexture,a,p+n)),Te.blitFramebuffer(u,c,o,s,f,h,o,s,Te.DEPTH_BUFFER_BIT,Te.NEAREST);Q.bindFramebuffer(Te.READ_FRAMEBUFFER,null),Q.bindFramebuffer(Te.DRAW_FRAMEBUFFER,null)}else if(0!==i||e.isRenderTargetTexture||ee.has(e)){const n=ee.get(e),r=ee.get(t);Q.bindFramebuffer(Te.READ_FRAMEBUFFER,Je),Q.bindFramebuffer(Te.DRAW_FRAMEBUFFER,et);for(let e=0;e<l;e++)E?Te.framebufferTextureLayer(Te.READ_FRAMEBUFFER,Te.COLOR_ATTACHMENT0,n.__webglTexture,i,d+e):Te.framebufferTexture2D(Te.READ_FRAMEBUFFER,Te.COLOR_ATTACHMENT0,Te.TEXTURE_2D,n.__webglTexture,i),k?Te.framebufferTextureLayer(Te.DRAW_FRAMEBUFFER,Te.COLOR_ATTACHMENT0,r.__webglTexture,a,p+e):Te.framebufferTexture2D(Te.DRAW_FRAMEBUFFER,Te.COLOR_ATTACHMENT0,Te.TEXTURE_2D,r.__webglTexture,a),0!==i?Te.blitFramebuffer(u,c,o,s,f,h,o,s,Te.COLOR_BUFFER_BIT,Te.NEAREST):k?Te.copyTexSubImage3D(y,a,f,h,p+e,u,c,o,s):Te.copyTexSubImage2D(y,a,f,h,u,c,o,s);Q.bindFramebuffer(Te.READ_FRAMEBUFFER,null),Q.bindFramebuffer(Te.DRAW_FRAMEBUFFER,null)}else k?e.isDataTexture||e.isData3DTexture?Te.texSubImage3D(y,a,f,h,p,o,s,l,g,v,m.data):t.isCompressedArrayTexture?Te.compressedTexSubImage3D(y,a,f,h,p,o,s,l,g,m.data):Te.texSubImage3D(y,a,f,h,p,o,s,l,g,v,m):e.isDataTexture?Te.texSubImage2D(Te.TEXTURE_2D,a,f,h,o,s,g,v,m.data):e.isCompressedTexture?Te.compressedTexSubImage2D(Te.TEXTURE_2D,a,f,h,m.width,m.height,g,m.data):Te.texSubImage2D(Te.TEXTURE_2D,a,f,h,o,s,g,v,m);Te.pixelStorei(Te.UNPACK_ROW_LENGTH,b),Te.pixelStorei(Te.UNPACK_IMAGE_HEIGHT,w),Te.pixelStorei(Te.UNPACK_SKIP_PIXELS,x),Te.pixelStorei(Te.UNPACK_SKIP_ROWS,_),Te.pixelStorei(Te.UNPACK_SKIP_IMAGES,S),0===a&&t.generateMipmaps&&Te.generateMipmap(y),Q.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,i=0){return!0!==e.isTexture&&(rn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,r=arguments[1]||null,e=arguments[2],t=arguments[3],i=arguments[4]||0),rn('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,i)},this.initRenderTarget=function(e){void 0===ee.get(e).__webglFramebuffer&&te.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?te.setTextureCube(e,0):e.isData3DTexture?te.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?te.setTexture2DArray(e,0):te.setTexture2D(e,0),Q.unbindTexture()},this.resetState=function(){_=0,S=0,E=null,Q.reset(),Ce.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dt}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ln._getDrawingBufferColorSpace(e),t.unpackColorSpace=ln._getUnpackColorSpace()}}var fh=Object.freeze({__proto__:null,ACESFilmicToneMapping:4,AddEquation:b,AddOperation:2,AdditiveBlending:2,AgXToneMapping:6,AlphaFormat:we,AlwaysCompare:519,AlwaysDepth:1,ArrayCamera:Su,BackSide:1,BoxGeometry:Ti,BufferAttribute:ii,BufferGeometry:mi,ByteType:ue,CineonToneMapping:3,ClampToEdgeWrapping:ee,Color:qr,ColorManagement:ln,ConstantAlphaFactor:213,ConstantColorFactor:211,CubeReflectionMapping:Y,CubeRefractionMapping:K,CubeTexture:Vi,CubeUVReflectionMapping:Q,CullFaceBack:1,CullFaceFront:2,CullFaceNone:0,CustomBlending:5,CustomToneMapping:5,Data3DTexture:_n,DataArrayTexture:xn,DepthFormat:ke,DepthStencilFormat:Ce,DepthTexture:Do,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,EqualCompare:514,EqualDepth:4,EquirectangularReflectionMapping:$,EquirectangularRefractionMapping:Z,Euler:cr,EventDispatcher:Lt,FloatType:pe,FrontSide:0,Frustum:Ga,GLSL3:Ot,GreaterCompare:516,GreaterDepth:6,GreaterEqualCompare:518,GreaterEqualDepth:5,Group:Ro,HalfFloatType:me,IntType:fe,Layers:dr,LessCompare:513,LessDepth:2,LessEqualCompare:515,LessEqualDepth:3,LinearFilter:ae,LinearMipmapLinearFilter:se,LinearMipmapNearestFilter:oe,LinearSRGBColorSpace:wt,LinearToneMapping:1,LinearTransfer:xt,LuminanceAlphaFormat:Ee,LuminanceFormat:Se,Matrix3:Kt,Matrix4:er,MaxEquation:104,Mesh:Mi,MeshBasicMaterial:$r,MeshDepthMaterial:hl,MeshDistanceMaterial:pl,MinEquation:103,MirroredRepeatWrapping:te,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:ne,NearestMipmapLinearFilter:ie,NearestMipmapNearestFilter:re,NeutralToneMapping:7,NeverCompare:512,NeverDepth:0,NoBlending:0,NoColorSpace:yt,NoToneMapping:0,NormalBlending:1,NotEqualCompare:517,NotEqualDepth:7,ObjectSpaceNormalMap:1,OneFactor:201,OneMinusConstantAlphaFactor:214,OneMinusConstantColorFactor:212,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:M,OneMinusSrcColorFactor:203,OrthographicCamera:iu,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:Qc,PerspectiveCamera:Fi,Plane:Va,PlaneGeometry:Ys,RED_GREEN_RGTC2_Format:lt,RED_RGTC1_Format:ot,REVISION:h,RGBADepthPacking:3201,RGBAFormat:_e,RGBAIntegerFormat:Ie,RGBA_ASTC_10x10_Format:et,RGBA_ASTC_10x5_Format:Ze,RGBA_ASTC_10x6_Format:Qe,RGBA_ASTC_10x8_Format:Je,RGBA_ASTC_12x10_Format:tt,RGBA_ASTC_12x12_Format:nt,RGBA_ASTC_4x4_Format:He,RGBA_ASTC_5x4_Format:We,RGBA_ASTC_5x5_Format:Ge,RGBA_ASTC_6x5_Format:qe,RGBA_ASTC_6x6_Format:Xe,RGBA_ASTC_8x5_Format:Ye,RGBA_ASTC_8x6_Format:Ke,RGBA_ASTC_8x8_Format:$e,RGBA_BPTC_Format:rt,RGBA_ETC2_EAC_Format:Ve,RGBA_PVRTC_2BPPV1_Format:Fe,RGBA_PVRTC_4BPPV1_Format:je,RGBA_S3TC_DXT1_Format:Oe,RGBA_S3TC_DXT3_Format:De,RGBA_S3TC_DXT5_Format:ze,RGBFormat:xe,RGB_BPTC_SIGNED_Format:it,RGB_BPTC_UNSIGNED_Format:at,RGB_ETC1_Format:Ue,RGB_ETC2_Format:Be,RGB_PVRTC_2BPPV1_Format:Ne,RGB_PVRTC_4BPPV1_Format:Le,RGB_S3TC_DXT1_Format:Re,RGFormat:Te,RGIntegerFormat:Ae,RedFormat:Me,RedIntegerFormat:Pe,ReinhardToneMapping:2,RepeatWrapping:J,ReverseSubtractEquation:102,SIGNED_RED_GREEN_RGTC2_Format:ut,SIGNED_RED_RGTC1_Format:st,SRGBColorSpace:bt,SRGBTransfer:_t,ShaderChunk:Tc,ShaderLib:Ic,ShaderMaterial:Di,ShortType:ce,SrcAlphaFactor:C,SrcAlphaSaturateFactor:210,SrcColorFactor:202,SubtractEquation:101,SubtractiveBlending:3,TangentSpaceNormalMap:0,Texture:vn,Uint16BufferAttribute:ai,Uint32BufferAttribute:oi,UniformsLib:Ac,UniformsUtils:Oi,UnsignedByteType:le,UnsignedInt248Type:ye,UnsignedInt5999Type:be,UnsignedIntType:he,UnsignedShort4444Type:ge,UnsignedShort5551Type:ve,UnsignedShortType:de,VSMShadowMap:3,Vector2:Yt,Vector3:En,Vector4:yn,WebGLCoordinateSystem:Dt,WebGLCubeRenderTarget:Hi,WebGLRenderTarget:wn,WebGLRenderer:dh,WebGLUtils:nh,ZeroFactor:200,createCanvasElement:tn,AdditiveAnimationBlendMode:vt,AlwaysStencilFunc:519,AmbientLight:su,AnimationAction:Hu,AnimationClip:zl,AnimationLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Hl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r&&r(t),i.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=zl.parse(e[n]);t.push(r)}return t}},AnimationMixer:class extends Lt{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let u=l[s];void 0===u&&(u={},l[s]=u);for(let e=0;e!==i;++e){const i=r[e],l=i.name;let c=u[l];if(void 0!==c)++c.referenceCount,a[e]=c;else{if(c=a[e],void 0!==c){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,s,l));continue}const r=t&&t._propertyBindings[e].binding.parsedPath;c=new zu(Vu.create(n,l,r),i.ValueTypeName,i.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,s,l),a[e]=c}o[e].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new kl(new Float32Array(2),new Float32Array(2),1,Wu),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"==typeof e?zl.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:gt),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const u=new Hu(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,o,i),u}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?zl.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==n;++o){t[o]._update(r,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(a);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const r=n[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){const t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Bt(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){const c=arguments[u],d=c.uuid;let f=t[d];if(void 0===f){f=s++,t[d]=f,e.push(c);for(let e=0,t=a;e!==t;++e)i[e].push(new Vu(c,n[e],r[e]))}else if(f<l){o=e[f];const s=--l,u=e[s];t[u.uuid]=f,e[f]=u,t[d]=s,e[s]=c;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[f];t[f]=a,void 0===o&&(o=new Vu(c,n[e],r[e])),t[s]=o}}else e[f]}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,u=e[a];t[u.uuid]=l,e[l]=u,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const o=--i,s=e[o],u=--a,c=e[u];t[s.uuid]=l,e[l]=s,t[c.uuid]=o,e[o]=c,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[u];t[l]=r,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(let n=u,r=s.length;n!==r;++n){const r=s[n];c[n]=new Vu(r,e,t)}return c}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},AnimationUtils:_l,ArcCurve:No,ArrowHelper:class extends Mr{constructor(e=new En(0,0,1),t=new En(0,0,0),n=1,r=16776960,i=.2*n,a=.2*i){super(),this.type="ArrowHelper",void 0===Sc&&(Sc=new mi,Sc.setAttribute("position",new si([0,0,0,0,1,0],3)),Ec=new os(0,.5,1,5,1),Ec.translate(0,-.5,0)),this.position.copy(t),this.line=new bo(Sc,new co({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mi(Ec,new $r({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_c.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(_c,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},AttachedBindMode:G,Audio:Au,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:bu,AudioListener:class extends Mr{constructor(){super(),this.type="AudioListener",this.context=bu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Eu}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cu,Mu,Pu),Tu.set(0,0,-1).applyQuaternion(Mu),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Cu.x,e),t.positionY.linearRampToValueAtTime(Cu.y,e),t.positionZ.linearRampToValueAtTime(Cu.z,e),t.forwardX.linearRampToValueAtTime(Tu.x,e),t.forwardY.linearRampToValueAtTime(Tu.y,e),t.forwardZ.linearRampToValueAtTime(Tu.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(Cu.x,Cu.y,Cu.z),t.setOrientation(Tu.x,Tu.y,Tu.z,n.x,n.y,n.z)}},AudioLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Hl(this.manager);function o(t){r&&r(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){try{const n=e.slice(0);bu.getContext().decodeAudioData(n,function(e){t(e)}).catch(o)}catch(e){o(e)}},n,r)}},AxesHelper:class extends So{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new mi;n.setAttribute("position",new si(t,3)),n.setAttribute("color",new si([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new co({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new qr,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BasicDepthPacking:3200,BasicShadowMap:0,BatchedMesh:uo,Bone:ka,BooleanKeyframeTrack:Pl,Box2:class{constructor(e=new Yt(1/0,1/0),t=new Yt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ju.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ju).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:Mn,Box3Helper:class extends So{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new mi;r.setIndex(new ii(n,1)),r.setAttribute("position",new si([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new co({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxHelper:xc,BufferGeometryLoader:pu,Cache:Nl,Camera:zi,CameraHelper:yc,CanvasTexture:class extends vn{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleGeometry:is,CatmullRomCurve3:Ho,CircleGeometry:as,Clock:Eu,ColorKeyframeTrack:Tl,CompressedArrayTexture:class extends Oo{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ee,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},CompressedCubeTexture:class extends Oo{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Y),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},CompressedTexture:Oo,CompressedTextureLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new Oo,s=new Hl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function u(u){s.load(e[u],function(e){const n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=ae),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)u(t);else s.load(e,function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=ae),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}},ConeGeometry:ss,Controls:class extends Lt{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}},CubeCamera:Bi,CubeTextureLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=new Vi;i.colorSpace=bt;const a=new Wl(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(let t=0;t<e.length;++t)s(t);return i}},CubicBezierCurve:Xo,CubicBezierCurve3:Yo,CubicInterpolant:El,CullFaceFrontBack:3,Curve:zo,CurvePath:ts,CylinderGeometry:os,Cylindrical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},DataTexture:Ca,DataTextureLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Ca,o=new Hl(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,function(e){let n;try{n=i.parse(e)}catch(e){if(void 0===r)return;r(e)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:ee,a.wrapT=void 0!==n.wrapT?n.wrapT:ee,a.magFilter=void 0!==n.magFilter?n.magFilter:ae,a.minFilter=void 0!==n.minFilter?n.minFilter:ae,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=se),1===n.mipmapCount&&(a.minFilter=ae),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)},n,r),a}},DataUtils:ti,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:Fl,DetachedBindMode:q,DirectionalLight:ou,DirectionalLightHelper:mc,DiscreteInterpolant:Cl,DodecahedronGeometry:us,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:ps,EllipseCurve:Lo,EqualStencilFunc:514,ExtrudeGeometry:Ws,FileLoader:Hl,Float16BufferAttribute:class extends ii{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=ei(this.array[e*this.itemSize]);return this.normalized&&(t=Gt(t,this.array)),t}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize]=Jr(t),this}getY(e){let t=ei(this.array[e*this.itemSize+1]);return this.normalized&&(t=Gt(t,this.array)),t}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+1]=Jr(t),this}getZ(e){let t=ei(this.array[e*this.itemSize+2]);return this.normalized&&(t=Gt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+2]=Jr(t),this}getW(e){let t=ei(this.array[e*this.itemSize+3]);return this.normalized&&(t=Gt(t,this.array)),t}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+3]=Jr(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array)),this.array[e+0]=Jr(t),this.array[e+1]=Jr(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array),r=qt(r,this.array)),this.array[e+0]=Jr(t),this.array[e+1]=Jr(n),this.array[e+2]=Jr(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),n=qt(n,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.array[e+0]=Jr(t),this.array[e+1]=Jr(n),this.array[e+2]=Jr(r),this.array[e+3]=Jr(i),this}},Float32BufferAttribute:si,Fog:Gi,FogExp2:Wi,FramebufferTexture:class extends vn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ne,this.minFilter=ne,this.generateMipmaps=!1,this.needsUpdate=!0}},GLBufferAttribute:class{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends So{constructor(e=10,t=10,n=4473924,r=8947848){n=new qr(n),r=new qr(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let e=0,u=0,c=-o;e<=t;e++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);const t=e===i?n:r;t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3}const u=new mi;u.setAttribute("position",new si(s,3)),u.setAttribute("color",new si(l,3));super(u,new co({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},HemisphereLight:ql,HemisphereLightHelper:class extends Mr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Xs(t);r.rotateY(.5*Math.PI),this.material=new $r({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new ii(a,3)),this.add(new Mi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");cc.copy(this.light.color),dc.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?cc:dc;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(uc.setFromMatrixPosition(this.light.matrixWorld).negate())}},IcosahedronGeometry:qs,ImageBitmapLoader:class extends Ul{constructor(e){super(e),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Nl.get(e);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then(n=>{t&&t(n),i.manager.itemEnd(e)}).catch(e=>{r&&r(e)}):(setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;const s=fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){return Nl.add(e,n),t&&t(n),i.manager.itemEnd(e),n}).catch(function(t){r&&r(t),Nl.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)});Nl.add(e,s),i.manager.itemStart(e)}},ImageLoader:Wl,ImageUtils:fn,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Aa,InstancedBufferGeometry:hu,InstancedInterleavedBuffer:class extends Xi{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:ja,Int16BufferAttribute:class extends ii{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends ii{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends ii{constructor(e,t,n){super(new Int8Array(e),t,n)}},InterleavedBuffer:Xi,InterleavedBufferAttribute:Ki,Interpolant:Sl,InterpolateDiscrete:ct,InterpolateLinear:dt,InterpolateSmooth:ft,InvertStencilOp:5386,KeepStencilOp:St,KeyframeTrack:Ml,LOD:pa,LatheGeometry:rs,LessEqualStencilFunc:515,LessStencilFunc:513,Light:Gl,LightProbe:cu,Line:bo,Line3:class{constructor(e=new En,t=new En){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ec.subVectors(e,this.start),tc.subVectors(this.end,this.start);const n=tc.dot(tc);let r=tc.dot(ec)/n;return t&&(r=Vt(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:co,LineCurve:Ko,LineCurve3:$o,LineDashedMaterial:gl,LineLoop:Eo,LineSegments:So,LinearInterpolant:kl,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,Loader:Ul,LoaderUtils:fu,LoadingManager:jl,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,MOUSE:p,Material:Kr,MaterialLoader:du,MathUtils:Xt,Matrix2:Qu,MeshLambertMaterial:fl,MeshMatcapMaterial:ml,MeshNormalMaterial:dl,MeshPhongMaterial:ul,MeshPhysicalMaterial:ll,MeshStandardMaterial:sl,MeshToonMaterial:cl,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NeverStencilFunc:512,NormalAnimationBlendMode:gt,NotEqualStencilFunc:517,NumberKeyframeTrack:Al,Object3D:Mr,ObjectLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?fu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Hl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(e){return void(void 0!==r&&r(e))}const o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e))},n,r)}async loadAsync(e,t){const n=""===this.path?fu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Hl(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){void 0!==t&&t(l)}),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),this.bindLightTargets(s),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new ms).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let t=0,i=e.length;t<i;t++){const i=(new Ta).fromJSON(e[t],r);n[i.uuid]=i}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new pu;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;default:o.type in il&&(a=il[o.type].fromJSON(o,t))}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new du;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=zl.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:Jt(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new jl(t);i=new Wl(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Ca(n.data,n.width,n.height)))}r[n.uuid]=new pn(e)}else{const e=a(n.url);r[n.uuid]=new pn(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:Jt(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Wl(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new Ca(r.data,r.width,r.height)))}n[r.uuid]=new pn(e)}else{const e=await i(r.url);n[r.uuid]=new pn(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:t[e]}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];a.image,t[a.image];const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new Vi,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Ca:new vn,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,mu)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],gu),l.wrapT=n(a.wrap[1],gu)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,vu)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,vu)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return t[e],t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n[i],t.push(n[i])}return t}return n[e],n[e]}}function c(e){return r[e],r[e]}switch(e.type){case"Scene":a=new qi,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new qr(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Gi(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Wi(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Fi(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new iu(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new su(e.color,e.intensity);break;case"DirectionalLight":a=new ou(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new ru(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new lu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Ql(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new ql(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new cu).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new Ea(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new Mi(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;a=new ja(o,s,t),a.instanceMatrix=new Aa(new Float32Array(n.array),16),void 0!==r&&(a.instanceColor=new Aa(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=u(e.material),a=new uo(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s),a.geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(e=>{const t=new Mn;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new Gn;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new pa;break;case"Line":a=new bo(l(e.geometry),u(e.material));break;case"LineLoop":a=new Eo(l(e.geometry),u(e.material));break;case"LineSegments":a=new So(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new Ao(l(e.geometry),u(e.material));break;case"Sprite":a=new ca(u(e.material));break;case"Group":a=new Ro;break;case"Bone":a=new ka;break;default:a=new Mr}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n||e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new Mr}})}},OctahedronGeometry:Xs,Path:ns,PlaneHelper:class extends bo{constructor(e,t=1,n=16776960){const r=n,i=new mi;i.setAttribute("position",new si([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new co({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=new mi;a.setAttribute("position",new si([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new Mi(a,new $r({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:ru,PointLightHelper:lc,Points:Ao,PointsMaterial:ko,PolarGridHelper:class extends So{constructor(e=10,t=16,n=8,r=64,i=4473924,a=8947848){i=new qr(i),a=new qr(a);const o=[],s=[];if(t>1)for(let n=0;n<t;n++){const r=n/t*(2*Math.PI),l=Math.sin(r)*e,u=Math.cos(r)*e;o.push(0,0,0),o.push(l,0,u);const c=1&n?i:a;s.push(c.r,c.g,c.b),s.push(c.r,c.g,c.b)}for(let t=0;t<n;t++){const l=1&t?i:a,u=e-e/n*t;for(let e=0;e<r;e++){let t=e/r*(2*Math.PI),n=Math.sin(t)*u,i=Math.cos(t)*u;o.push(n,0,i),s.push(l.r,l.g,l.b),t=(e+1)/r*(2*Math.PI),n=Math.sin(t)*u,i=Math.cos(t)*u,o.push(n,0,i),s.push(l.r,l.g,l.b)}}const l=new mi;l.setAttribute("position",new si(o,3)),l.setAttribute("color",new si(s,3));super(l,new co({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronGeometry:ls,PositionalAudio:class extends Au{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Iu,Ru,Ou),Du.set(0,0,1).applyQuaternion(Ru);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Iu.x,e),t.positionY.linearRampToValueAtTime(Iu.y,e),t.positionZ.linearRampToValueAtTime(Iu.z,e),t.orientationX.linearRampToValueAtTime(Du.x,e),t.orientationY.linearRampToValueAtTime(Du.y,e),t.orientationZ.linearRampToValueAtTime(Du.z,e)}else t.setPosition(Iu.x,Iu.y,Iu.z),t.setOrientation(Du.x,Du.y,Du.z)}},PropertyBinding:Vu,PropertyMixer:zu,QuadraticBezierCurve:Zo,QuadraticBezierCurve3:Qo,Quaternion:Sn,QuaternionKeyframeTrack:Rl,QuaternionLinearInterpolant:Il,RGBDepthPacking:3202,RGBIntegerFormat:1032,RGDepthPacking:3203,RawShaderMaterial:ol,Ray:Jn,Raycaster:Yu,RectAreaLight:lu,RenderTarget:bn,RenderTarget3D:class extends bn{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new _n(null,e,t,n),this.texture.isRenderTargetTexture=!0}},RenderTargetArray:class extends bn{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=n,this.texture=new xn(null,e,t,n),this.texture.isRenderTargetTexture=!0}},ReplaceStencilOp:7681,RingGeometry:Ks,Scene:qi,ShadowMaterial:al,Shape:ms,ShapeGeometry:$s,ShapePath:class{constructor(){this.type="ShapePath",this.color=new qr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ns,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const n=Bs.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,o;const s=[];if(1===r.length)return a=r[0],o=new ms,o.curves=a.curves,s.push(o),s;let l=!n(r[0].getPoints());l=e?!l:l;const u=[],c=[];let d,f,h=[],p=0;c[p]=void 0,h[p]=[];for(let t=0,o=r.length;t<o;t++)a=r[t],d=a.getPoints(),i=n(d),i=e?!i:i,i?(!l&&c[p]&&p++,c[p]={s:new ms,p:d},c[p].s.curves=a.curves,l&&p++,h[p]=[]):h[p].push({h:a,p:d[0]});if(!c[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new ms;i.curves=r.curves,t.push(i)}return t}(r);if(c.length>1){let e=!1,n=0;for(let e=0,t=c.length;e<t;e++)u[e]=[];for(let r=0,i=c.length;r<i;r++){const i=h[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<c.length;i++)t(o.p,c[i].p)&&(r!==i&&n++,s?(s=!1,u[i].push(o)):e=!0);s&&u[r].push(o)}}n>0&&!1===e&&(h=u)}for(let e=0,t=c.length;e<t;e++){o=c[e].s,s.push(o),f=h[e];for(let e=0,t=f.length;e<t;e++)o.holes.push(f[e].h)}return s}},ShapeUtils:Bs,Skeleton:Ta,SkeletonHelper:class extends So{constructor(e){const t=sc(e),n=new mi,r=[],i=[],a=new qr(0,0,1),o=new qr(0,1,0);for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new si(r,3)),n.setAttribute("color",new si(i,3));super(n,new co({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");oc.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.isBone&&(ac.multiplyMatrices(oc,i.matrixWorld),ic.setFromMatrixPosition(ac),r.setXYZ(n,ic.x,ic.y,ic.z),ac.multiplyMatrices(oc,i.parent.matrixWorld),ic.setFromMatrixPosition(ac),r.setXYZ(n+1,ic.x,ic.y,ic.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:Ea,Source:pn,Sphere:Gn,SphereGeometry:Zs,Spherical:Zu,SphericalHarmonics3:uu,SplineCurve:Jo,SpotLight:Ql,SpotLightHelper:rc,Sprite:ca,SpriteMaterial:$i,StaticCopyUsage:35046,StaticDrawUsage:Rt,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_u.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Ft*t.fov*.5)/t.zoom;let a,o;xu.elements[12]=-n,wu.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,_u.elements[0]=2*t.near/(o-a),_u.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(_u),a=-i*t.aspect-r,o=i*t.aspect-r,_u.elements[0]=2*t.near/(o-a),_u.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(_u)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xu),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wu)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:Ol,TOUCH:m,TetrahedronGeometry:Qs,TextureLoader:class extends Ul{constructor(e){super(e)}load(e,t,n,r){const i=new vn,a=new Wl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}},TextureUtils:Cc,TorusGeometry:Js,TorusKnotGeometry:el,Triangle:Br,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeGeometry:tl,UVMapping:X,Uint8BufferAttribute:class extends ii{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends ii{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:Gu,UniformsGroup:class extends Lt{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:qu++}),this.name="",this.usage=Rt,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let e=0,n=t.length;e<n;e++){const n=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0;e<n.length;e++)this.uniforms.push(n[e].clone())}return this}clone(){return(new this.constructor).copy(this)}},VectorKeyframeTrack:Dl,VideoTexture:class extends vn{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:ae,this.magFilter=void 0!==i?i:ae,this.generateMipmaps=!1;const u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){u.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},WebGL3DRenderTarget:class extends wn{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new _n(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends wn{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new xn(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGPUCoordinateSystem:zt,WireframeGeometry:nl,WrapAroundEnding:mt,ZeroCurvatureEnding:ht,ZeroSlopeEnding:pt,ZeroStencilOp:0}),hh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mh,gh={exports:{}},vh={};var yh,bh,wh={};var xh=(bh||(bh=1,"production"===process.env.NODE_ENV?gh.exports=(mh||(mh=1,vh.ConcurrentRoot=1,vh.ContinuousEventPriority=4,vh.DefaultEventPriority=16,vh.DiscreteEventPriority=1,vh.IdleEventPriority=536870912,vh.LegacyRoot=0),vh):gh.exports=(yh||(yh=1,"production"!==process.env.NODE_ENV&&(wh.ConcurrentRoot=1,wh.ContinuousEventPriority=4,wh.DefaultEventPriority=16,wh.DiscreteEventPriority=1,wh.IdleEventPriority=536870912,wh.LegacyRoot=0)),wh)),gh.exports);function _h(e){let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?((e,r=i,a=Object.is)=>{let o=r(t);function s(){const n=r(t);if(!a(o,n)){const t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}const Sh="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?a:o;var Eh,kh={exports:{}},Ch={exports:{}},Mh={};var Ph,Th,Ah,Ih,Rh={};function Oh(){return Ph||(Ph=1,function(e){"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);function t(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;r>0;){var a=r-1>>>1,o=e[a];if(!(i(o,t)>0))return;e[a]=t,e[r]=o,r=a}}(e,t,n)}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,a=e.length,o=a>>>1;for(;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(i(l,t)<0)u<a&&i(c,l)<0?(e[r]=c,e[u]=t,r=u):(e[r]=l,e[s]=t,r=s);else{if(!(u<a&&i(c,t)<0))return;e[r]=c,e[u]=t,r=u}}}(e,n,0)),t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))return;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,D()),h=!0;var a=f;try{return function(t,i){var a=i;b(a),d=n(l);for(;null!==d&&(!(d.expirationTime>a)||t&&!M());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=a);a=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(a)}else r(l);d=n(l)}if(null!==d)return!0;var c=n(u);return null!==c&&O(w,c.startTime-a),!1}(t,i)}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _=!1,S=null,E=-1,k=5,C=-1;function M(){return!(e.unstable_now()-C<k)}var P,T=function(){if(null!==S){var t=e.unstable_now();C=t;var n=!0;try{n=S(!0,t)}finally{n?P():(_=!1,S=null)}}else _=!1};if("function"==typeof y)P=function(){y(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=T,P=function(){I.postMessage(null)}}else P=function(){g(T,0)};function R(e){S=e,_||(_=!0,P())}function O(t,n){E=g(function(){t(e.unstable_now())},n)}function D(){v(E),E=-1}var z=function(){};e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){e<0||e>125||(k=e>0?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){var t;switch(f){case 1:case 2:case 3:t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o,s,d=e.unstable_now();if("object"==typeof a&&null!==a){var f=a.delay;o="number"==typeof f&&f>0?d+f:d}else o=d;switch(r){case 1:s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}var g=o+s,v={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:g,sortIndex:-1};return o>d?(v.sortIndex=o,t(u,v),null===n(l)&&v===n(u)&&(m?D():m=!0,O(w,o-d))):(v.sortIndex=g,t(l,v),p||h||(p=!0,R(x))),v},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(Rh)),Rh}function Dh(){return Th||(Th=1,"production"===process.env.NODE_ENV?Ch.exports=(Eh||(Eh=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(k),k=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!P());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,k=-1,C=5,M=-1;function P(){return!(e.unstable_now()-M<C)}function T(){if(null!==E){var t=e.unstable_now();M=t;var n=!0;try{n=E(!0,t)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"==typeof y)_=function(){y(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=T,_=function(){I.postMessage(null)}}else _=function(){g(T,0)};function R(e){E=e,S||(S=!0,_())}function O(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(k),k=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,R(x))),r},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(Mh)),Mh):Ch.exports=Oh()),Ch.exports}function zh(){return Ih||(Ih=1,Ah=function(e){var n={},r=t,i=Dh(),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),x=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(e){}}return null}function E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(k(e)!==e)throw Error(o(188))}function M(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return C(i),e;if(a===r)return C(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function P(e){return null!==(e=M(e))?T(e):null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=T(e);if(null!==t)return t;e=e.sibling}return null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=A(e);if(null!==t)return t}e=e.sibling}return null}var I,R=Array.isArray,O=e.getPublicInstance,D=e.getRootHostContext,z=e.getChildHostContext,L=e.prepareForCommit,N=e.resetAfterCommit,j=e.createInstance,F=e.appendInitialChild,U=e.finalizeInitialChildren,B=e.prepareUpdate,V=e.shouldSetTextContent,H=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,Y=e.supportsMutation,K=e.supportsPersistence,$=e.supportsHydration,Z=e.getInstanceFromNode,Q=e.preparePortalMount,J=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,he=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,_e=e.hideTextInstance,Se=e.unhideInstance,Ee=e.unhideTextInstance,ke=e.clearContainer,Ce=e.cloneInstance,Me=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,Te=e.finalizeContainerChildren,Ae=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,De=e.canHydrateTextInstance,ze=e.canHydrateSuspenseInstance,Le=e.isSuspenseInstancePending,Ne=e.isSuspenseInstanceFallback,je=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,Ue=e.getFirstHydratableChild,Be=e.getFirstHydratableChildWithinContainer,Ve=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,Je=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===I)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ut={},ct=ot(ut),dt=ot(!1),ft=ut;function ht(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!=(e=e.childContextTypes)}function mt(){st(dt),st(ct)}function gt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(dt,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,E(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ft=ct.current,lt(ct,e),lt(dt,dt.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=vt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ct),lt(ct,e)):st(dt),lt(dt,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/_t|0)|0},xt=Math.log,_t=Math.LN2;var St=64,Et=4194304;function kt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=kt(s):0!==(a&=o)&&(r=kt(a))}else 0!==(o=n&~i)?r=kt(o):0!==a&&(r=kt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function Mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function Ot(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Dt=i.unstable_scheduleCallback,zt=i.unstable_cancelCallback,Lt=i.unstable_shouldYield,Nt=i.unstable_requestPaint,jt=i.unstable_now,Ft=i.unstable_ImmediatePriority,Ut=i.unstable_UserBlockingPriority,Bt=i.unstable_NormalPriority,Vt=i.unstable_IdlePriority,Ht=null,Wt=null;var Gt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},qt=null,Xt=!1,Yt=!1;function Kt(e){null===qt?qt=[e]:qt.push(e)}function $t(){if(!Yt&&null!==qt){Yt=!0;var e=0,t=Rt;try{var n=qt;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(t){throw null!==qt&&(qt=qt.slice(e+1)),Dt(Ft,$t),t}finally{Rt=t,Yt=!1}}return null}var Zt=s.ReactCurrentBatchConfig;function Qt(e,t){if(Gt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Jt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){X?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(zi=!0),e.firstContext=null)}function dn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&1&e.mode&&!(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(s=0,d=c=u=null,l=o;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=g.payload)?m.call(p,f,h):m))break e;f=a({},f,h);break e;case 2:hn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);eo|=s,e.lanes=s,e.memoizedState=f}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function Sn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var En={isMounted:function(e){return!!(e=e._reactInternals)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wo(),i=xo(e),a=gn(r,i);a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=_o(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wo(),i=xo(e),a=gn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=_o(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wo(),r=xo(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),vn(e,i),null!==(t=_o(e,r,n))&&yn(t,e,r)}};function kn(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qt(n,r)||!Qt(i,a))}function Cn(e,t,n){var r=!1,i=ut,a=t.contextType;return"object"==typeof a&&null!==a?a=dn(a):(i=pt(t)?ft:ct.current,a=(r=null!=(r=t.contextTypes))?ht(e,i):ut),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=En,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&En.enqueueReplaceState(t,t.state,null)}function Pn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=dn(a):(a=pt(t)?ft:ct.current,i.context=ht(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&En.enqueueReplaceState(i,i.state,null),wn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Tn=[],An=0,In=null,Rn=0,On=[],Dn=0,zn=null,Ln=1,Nn="";function jn(e,t){Tn[An++]=Rn,Tn[An++]=In,In=e,Rn=t}function Fn(e,t,n){On[Dn++]=Ln,On[Dn++]=Nn,On[Dn++]=zn,zn=e;var r=Ln;e=Nn;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ln=1<<32-wt(t)+i|n<<i|r,Nn=a+e}else Ln=1<<a|n<<i|r,Nn=e}function Un(e){null!==e.return&&(jn(e,1),Fn(e,1,0))}function Bn(e){for(;e===In;)In=Tn[--An],Tn[An]=null,Rn=Tn[--An],Tn[An]=null;for(;e===zn;)zn=On[--Dn],On[Dn]=null,Nn=On[--Dn],On[Dn]=null,Ln=On[--Dn],On[Dn]=null}var Vn=null,Hn=null,Wn=!1,Gn=!1,qn=null;function Xn(e,t){var n=Zo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Yn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=Ue(t),!0);case 6:return null!==(t=De(t,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=null,!0);case 13:if(null!==(t=ze(t))){var n=null!==zn?{id:Ln,overflow:Nn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Zo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Vn=e,Hn=null,!0}return!1;default:return!1}}function Kn(e){return!(!(1&e.mode)||128&e.flags)}function $n(e){if(Wn){var t=Hn;if(t){var n=t;if(!Yn(e,t)){if(Kn(e))throw Error(o(418));t=Fe(n);var r=Vn;t&&Yn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Vn=e)}}else{if(Kn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Wn=!1,Vn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vn=e}function Qn(e){if(!$||e!==Vn)return!1;if(!Wn)return Zn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!V(e.type,e.memoizedProps))){var t=Hn;if(t){if(Kn(e)){for(e=Hn;e;)e=Fe(e);throw Error(o(418))}for(;t;)Xn(e,t),t=Fe(t)}}if(Zn(e),13===e.tag){if(!$)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hn=qe(e)}else Hn=Vn?Fe(e.stateNode):null;return!0}function Jn(){$&&(Hn=Vn=null,Gn=Wn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Jo(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=rs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=es(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ts(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=rs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=es(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=is(t,e.mode,n)).return=e,t;case b:return m(e,(0,t._init)(t._payload),n)}if(R(t)||_(t))return(t=ts(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?f(e,t,n,r):null;case u:return n.key===i?h(e,t,n,r):null;case b:return g(e,t,(i=n._init)(n._payload),r)}if(R(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return v(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,d=o,f=o=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=g(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),Wn&&jn(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=m(i,s[f],l))&&(o=a(d,o,f),null===c?u=d:c.sibling=d,c=d);return Wn&&jn(i,f),u}for(d=r(i,d);f<s.length;f++)null!==(h=v(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=a(h,o,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(i,e)}),Wn&&jn(i,f),u}function w(i,s,l,u){var c=_(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=g(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=a(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),Wn&&jn(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=m(i,y.value,u))&&(s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return Wn&&jn(i,h),c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=v(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(i,e)}),Wn&&jn(i,h),c}return function e(r,a,o,d){if("object"==typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var f=o.key,h=a;null!==h;){if(h.key===f){if((f=o.type)===c){if(7===h.tag){n(r,h.sibling),(a=i(h,o.props.children)).return=r,r=a;break e}}else if(h.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===b&&rr(f)===h.type){n(r,h.sibling),(a=i(h,o.props)).ref=tr(r,h,o),a.return=r,r=a;break e}n(r,h);break}t(r,h),h=h.sibling}o.type===c?((a=ts(o.props.children,r.mode,d,o.key)).return=r,r=a):((d=es(o.type,o.key,o.props,null,r.mode,d)).ref=tr(r,a,o),d.return=r,r=d)}return s(r);case u:e:{for(h=o.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=is(o,r.mode,d)).return=r,r=a}return s(r);case b:return e(r,a,(h=o._init)(o._payload),d)}if(R(o))return y(r,a,o,d);if(_(o))return w(r,a,o,d);nr(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=rs(o,r.mode,d)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function dr(e){if(e===sr)throw Error(o(174));return e}function fr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=D(t),st(lr),lt(lr,e)}function hr(){st(lr),st(ur),st(cr)}function pr(e){var t=dr(cr.current),n=dr(lr.current);n!==(t=z(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function mr(e){ur.current===e&&(st(lr),st(ur))}var gr=ot(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Le(n)||Ne(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var wr=s.ReactCurrentDispatcher,xr=s.ReactCurrentBatchConfig,_r=0,Sr=null,Er=null,kr=null,Cr=!1,Mr=!1,Pr=0,Tr=0;function Ar(){throw Error(o(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,a){if(_r=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Mr){a=0;do{if(Mr=!1,Pr=0,25<=a)throw Error(o(301));a+=1,kr=Er=null,t.updateQueue=null,wr.current=gi,e=n(r,i)}while(Mr)}if(wr.current=hi,t=null!==Er&&null!==Er.next,_r=0,kr=Er=Sr=null,Cr=!1,t)throw Error(o(300));return e}function Or(){var e=0!==Pr;return Pr=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kr?Sr.memoizedState=kr=e:kr=kr.next=e,kr}function zr(){if(null===Er){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Er.next;var t=null===kr?Sr.memoizedState:kr.next;if(null!==t)kr=t,Er=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Er=e).memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},null===kr?Sr.memoizedState=kr=e:kr=kr.next=e}return kr}function Lr(e,t){return"function"==typeof t?t(e):t}function Nr(e){var t=zr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Er,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((_r&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,Sr.lanes|=d,eo|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,Gt(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,eo|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jr(e){var t=zr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Gt(a,t.memoizedState)||(zi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fr(){}function Ur(e,t){var n=Sr,r=zr(),i=t(),a=!Gt(r.memoizedState,i);if(a&&(r.memoizedState=i,zi=!0),r=r.queue,Zr(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==kr&&1&kr.memoizedState.tag){if(n.flags|=2048,qr(9,Vr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));30&_r||Br(n,t,i)}return i}function Br(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&_o(e,1,-1)}function Hr(e,t,n){return n(function(){Wr(t)&&_o(e,1,-1)})}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(e){return!0}}function Gr(e){var t=Dr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return zr().memoizedState}function Yr(e,t,n,r){var i=Dr();Sr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var i=zr();r=void 0===r?null:r;var a=void 0;if(null!==Er){var o=Er.memoizedState;if(a=o.destroy,null!==r&&Ir(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}Sr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function $r(e,t){return Yr(8390656,8,e,t)}function Zr(e,t){return Kr(2048,8,e,t)}function Qr(e,t){return Kr(4,2,e,t)}function Jr(e,t){return Kr(4,4,e,t)}function ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!=n?n.concat([e]):null,Kr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{Rt=n,xr.transition=r}}function oi(){return zr().memoizedState}function si(e,t,n){var r=xo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?ci(t,n):(di(e,t,n),null!==(e=_o(e,r,n=wo()))&&fi(e,t,r))}function li(e,t,n){var r=xo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))ci(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(e){}null!==(e=_o(e,r,n=wo()))&&fi(e,t,r)}}function ui(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Mr=Cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Xa&&1&e.mode&&!(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var hi={readContext:dn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},pi={readContext:dn,useCallback:function(e,t){return Dr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:$r,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dr().memoizedState=e},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return $r(function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}},[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Dr();if(Wn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));30&_r||Br(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$r(Hr.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Vr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Dr(),t=Xa.identifierPrefix;if(Wn){var n=Nn;t=":"+t+"R"+(n=(Ln&~(1<<32-wt(Ln)-1)).toString(32)+n),0<(n=Pr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Tr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:Jr,useMemo:ii,useReducer:Nr,useRef:Xr,useState:function(){return Nr(Lr)},useDebugValue:ni,useDeferredValue:function(e){var t=Nr(Lr),n=t[0],r=t[1];return Zr(function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}},[e]),n},useTransition:function(){return[Nr(Lr)[0],zr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Ur,useId:oi,unstable_isNewReconciler:!1},gi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:Jr,useMemo:ii,useReducer:jr,useRef:Xr,useState:function(){return jr(Lr)},useDebugValue:ni,useDeferredValue:function(e){var t=jr(Lr),n=t[0],r=t[1];return Zr(function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}},[e]),n},useTransition:function(){return[jr(Lr)[0],zr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Ur,useId:oi,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=Jt(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}var yi,bi,wi,xi,_i="function"==typeof WeakMap?WeakMap:Map;function Si(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uo||(uo=!0,co=r)},n}function Ei(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===fo?fo=new Set([this]):fo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ki(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _i;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Go.bind(null,e,t,n),t.then(e,e))}function Ci(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Mi(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e)}function Pi(e){e.flags|=4}function Ti(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(Y)yi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)F(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(lr.current);n=B(a,n,e,r,i,o),(t.updateQueue=n)&&Pi(t)}},xi=function(e,t,n,r){n!==r&&Pi(t)};else if(K){yi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),F(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),F(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),yi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ai=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),Pe(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),Pe(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Ai(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bi=function(e,t){var n=t.stateNode;if(!Ti(e,t)){e=n.containerInfo;var r=Me(e);Ai(r,t,!1,!1),n.pendingChildren=r,Pi(t),Te(e,r)}},wi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ti(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=dr(lr.current),u=null;o!==r&&(u=B(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Ce(a,u,n,o,r,t,e,s),U(a,n,r,i,l)&&Pi(t),t.stateNode=a,e?Pi(t):yi(a,t,!1,!1))}},xi=function(e,t,n,r){n!==r?(e=dr(cr.current),n=dr(lr.current),t.stateNode=H(r,e,n,t),Pi(t)):t.stateNode=e.stateNode}}else bi=function(){},wi=function(){},xi=function(){};function Ii(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ri(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Oi(e,t,n){var r=t.pendingProps;switch(Bn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(t),null;case 1:case 17:return pt(t.type)&&mt(),Ri(t),null;case 3:return r=t.stateNode,hr(),st(dt),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qn(t)?Pi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==qn&&(Mo(qn),qn=null))),bi(e,t),Ri(t),null;case 5:mr(t),n=dr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ri(t),null}if(e=dr(lr.current),Qn(t)){if(!$)throw Error(o(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Pi(t)}else{var a=j(i,r,n,e,t);yi(a,t,!1,!1),t.stateNode=a,U(a,i,r,n,e)&&Pi(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ri(t),null;case 6:if(e&&null!=t.stateNode)xi(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=dr(cr.current),n=dr(lr.current),Qn(t)){if(!$)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=Vn))switch(a=!!(1&i.mode),i.tag){case 3:Qe(i.stateNode.containerInfo,e,r,a);break;case 5:Je(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Pi(t)}else t.stateNode=H(r,e,n,t)}return Ri(t),null;case 13:if(st(gr),r=t.memoizedState,Wn&&null!==Hn&&1&t.mode&&!(128&t.flags)){for(e=Hn;e;)e=Fe(e);return Jn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Qn(t),null===e){if(!r)throw Error(o(318));if(!$)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ge(e,t)}else Jn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ri(t),null}return null!==qn&&(Mo(qn),qn=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Qn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&gr.current?0===Qa&&(Qa=3):zo())),null!==t.updateQueue&&(t.flags|=4),Ri(t),null);case 4:return hr(),bi(e,t),null===e&&Q(t.stateNode.containerInfo),Ri(t),null;case 10:return ln(t.type._context),Ri(t),null;case 19:if(st(gr),null===(i=t.memoizedState))return Ri(t),null;if(r=!!(128&t.flags),null===(a=i.rendering))if(r)Ii(i,!1);else{if(0!==Qa||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=vr(e))){for(t.flags|=128,Ii(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&jt()>oo&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ii(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Wn)return Ri(t),null}else 2*jt()-i.renderingStartTime>oo&&1073741824!==n&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Ri(t),null);case 22:case 23:return Io(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&$a)&&(Ri(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):Ri(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Di=s.ReactCurrentOwner,zi=!1;function Li(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Ni(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Rr(e,t,n,r,a,i),n=Or(),null===e||zi?(Wn&&n&&Un(t),t.flags|=1,Li(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i))}function ji(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Qo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=es(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qt)(o,r)&&e.ref===t.ref)return ra(e,t,i)}return t.flags|=1,(e=Jo(a,r)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,r,i){if(null!==e&&Qt(e.memoizedProps,r)&&e.ref===t.ref){if(zi=!1,0===(e.lanes&i))return t.lanes=e.lanes,ra(e,t,i);131072&e.flags&&(zi=!0)}return Vi(e,t,n,r,i)}function Ui(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Za,$a),$a|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Za,$a),$a|=r}else t.memoizedState={baseLanes:0,cachePool:null},lt(Za,$a),$a|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Za,$a),$a|=r;return Li(e,t,i,n),t.child}function Bi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=pt(n)?ft:ct.current;return a=ht(t,a),cn(t,i),n=Rr(e,t,n,r,a,i),r=Or(),null===e||zi?(Wn&&r&&Un(t),t.flags|=1,Li(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i))}function Hi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,r),Pn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=dn(u):u=ht(t,u=pt(n)?ft:ct.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Mn(t,o,r,u),hn=!1;var f=t.memoizedState;o.state=f,wn(t,r,o,i),l=t.memoizedState,s!==r||f!==l||dt.current||hn?("function"==typeof c&&(Sn(t,n,c,r),l=t.memoizedState),(s=hn||kn(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=dn(l):l=ht(t,l=pt(n)?ft:ct.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Mn(t,o,r,l),hn=!1,f=t.memoizedState,o.state=f,wn(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||dt.current||hn?("function"==typeof h&&(Sn(t,n,h,r),p=t.memoizedState),(u=hn||kn(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Bi(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ra(e,t,a);r=t.stateNode,Di.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Li(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Gi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),fr(e,t.containerInfo)}function qi(e,t,n,r,i){return Jn(),er(i),t.flags|=256,Li(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Ki(e,t,n){var r,i=t.pendingProps,a=gr.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(gr,1&a),null===e)return $n(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Ne(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},1&i||null===s?s=ns(a,i,0,null):(s.childLanes=0,s.pendingProps=a),e=ts(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Xi,e):$i(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Ji(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=ns({mode:"visible",children:i.children},a,0,null),(s=ts(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Xi,s);if(1&t.mode)if(Ne(r))t=Ji(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),zi||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,_o(e,i,-1))}zo(),t=Ji(e,t,n,Error(o(421)))}else Le(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),je(r,t),t=null):(n=a.treeContext,$&&(Hn=Ve(r),Vn=t,Wn=!0,qn=null,Gn=!1,null!==n&&(On[Dn++]=Ln,On[Dn++]=Nn,On[Dn++]=zn,Ln=n.id,Nn=n.overflow,zn=t)),(t=$i(t,t.pendingProps.children)).flags|=4096);else t=Ji(e,t,n,null);return t}return s?(i=Qi(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Qi(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}function $i(e,t){return(t=ns({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zi(e,t,n,r){var i=e.child;return e=i.sibling,n=Jo(i,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Qi(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 1&a||t.child===e?(n=Jo(e,s)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null),null!==o?r=Jo(o,r):(r=ts(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ji(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=$i(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ea(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function ta(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Li(e,t,r.children,n),2&(r=gr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n,t);else if(19===e.tag)ea(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,a);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),eo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Jo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Jo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ia(e,t){switch(Bn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return hr(),st(dt),st(ct),br(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Jn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(gr),null;case 4:return hr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Io(),null;default:return null}}var aa=!1,oa=!1,sa="function"==typeof WeakSet?WeakSet:Set,la=null;function ua(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Wo(e,t,n)}else n.current=null}function ca(e,t,n){try{n()}catch(n){Wo(e,t,n)}}var da=!1;function fa(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ca(t,n,a)}i=i.next}while(i!==r)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"==typeof t?t(e):t.current=e}}function ma(e,t,n){if(Wt&&"function"==typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&ca(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ua(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Wo(t,n,e)}break;case 5:ua(t,n);break;case 4:Y?Sa(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=Me(t),Ae(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||Y&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function va(e){var t=e.alternate;null!==t&&(e.alternate=null,va(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wa(e){if(Y){e:{for(var t=e.return;null!==t;){if(ya(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),_a(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,xa(e,n=ba(e),t);break;default:throw Error(o(161))}}}function xa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?$e(r,a.stateNode):Ke(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:return fa(3,t,t.return),ha(3,t),void fa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&me(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void he(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void($&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void ka(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return fa(3,t,t.return),ha(3,t),void fa(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void ka(t);case 3:$&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Ae(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function ka(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach(function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Ca(e,t,n){la=e,Ma(e)}function Ma(e,t,n){for(var r=!!(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||aa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||oa;s=aa;var u=oa;if(aa=o,(oa=l)&&!u)for(la=i;null!==la;)l=(o=la).child,22===o.tag&&null!==o.memoizedState?Aa(i):null!==l?(l.return=o,la=l):Aa(i);for(;null!==a;)la=a,Ma(a),a=a.sibling;la=i,aa=s,oa=u}Pa(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,la=a):Pa(e)}}function Pa(e){for(;null!==la;){var t=la;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:oa||ha(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!oa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if($&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(o(163))}oa||512&t.flags&&pa(t)}catch(e){Wo(t,t.return,e)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Ta(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Aa(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(e){Wo(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Wo(t,i,e)}}var a=t.return;try{pa(t)}catch(e){Wo(t,a,e)}break;case 5:var o=t.return;try{pa(t)}catch(e){Wo(t,o,e)}}}catch(e){Wo(t,t.return,e)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ia=0,Ra=1,Oa=2,Da=3,za=4;if("function"==typeof Symbol&&Symbol.for){var La=Symbol.for;Ia=La("selector.component"),Ra=La("selector.has_pseudo_class"),Oa=La("selector.role"),Da=La("selector.test_id"),za=La("selector.text")}function Na(e){var t=Z(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function ja(e,t){switch(t.$$typeof){case Ia:if(e.type===t.value)return!0;break;case Ra:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&ja(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Oa:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case za:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Da:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Fa(e){switch(e.$$typeof){case Ia:return"<"+(S(e.value)||"Unknown")+">";case Ra:return":has("+(Fa(e)||"")+")";case Oa:return'[role="'+e.value+'"]';case za:return'"'+e.value+'"';case Da:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ua(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&ja(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ba(e,t){if(!re)throw Error(o(363));e=Ua(e=Na(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,Ha=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,Ga=s.ReactCurrentBatchConfig,qa=0,Xa=null,Ya=null,Ka=0,$a=0,Za=ot(0),Qa=0,Ja=null,eo=0,to=0,no=0,ro=null,io=null,ao=0,oo=1/0;function so(){oo=jt()+500}var lo,uo=!1,co=null,fo=null,ho=!1,po=null,mo=0,go=0,vo=null,yo=-1,bo=0;function wo(){return 6&qa?jt():-1!==yo?yo:yo=jt()}function xo(e){return 1&e.mode?2&qa&&0!==Ka?Ka&-Ka:null!==Zt.transition?(0===bo&&(e=St,!(4194240&(St<<=1))&&(St=64),bo=e),bo):0!==(e=Rt)?e:J():1}function _o(e,t,n){if(50<go)throw go=0,vo=null,Error(o(185));var r=So(e,t);return null===r?null:(At(r,t,n),2&qa&&r===Xa||(r===Xa&&(!(2&qa)&&(to|=t),4===Qa&&Po(r,Ka)),Eo(r,n),1===t&&0===qa&&!(1&e.mode)&&(so(),Xt&&$t())),r)}function So(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wt(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Mt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ct(e,e===Xa?Ka:0);if(0===r)null!==n&&zt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&zt(n),1===t)0===e.tag?function(e){Xt=!0,Kt(e)}(To.bind(null,e)):Kt(To.bind(null,e)),te?ne(function(){0===qa&&$t()}):Dt(Ft,$t),n=null;else{switch(Ot(r)){case 1:n=Ft;break;case 4:n=Ut;break;case 16:default:n=Bt;break;case 536870912:n=Vt}n=Ko(n,ko.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ko(e,t){if(yo=-1,bo=0,6&qa)throw Error(o(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Ct(e,e===Xa?Ka:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=Lo(e,r);else{t=r;var i=qa;qa|=2;var a=Do();for(Xa===e&&Ka===t||(so(),Ro(e,t));;)try{jo();break}catch(t){Oo(e,t)}on(),Ha.current=a,qa=i,null!==Ya?t=0:(Xa=null,Ka=0,t=Qa)}if(0!==t){if(2===t&&(0!==(i=Pt(e))&&(r=i,t=Co(e,i))),1===t)throw n=Ja,Ro(e,0),Po(e,r),Eo(e,jt()),n;if(6===t)Po(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=Lo(e,r),2===t&&(a=Pt(e),0!==a&&(r=a,t=Co(e,a))),1!==t)))throw n=Ja,Ro(e,0),Po(e,r),Eo(e,jt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Bo(e,io);break;case 3:if(Po(e,r),(130023424&r)===r&&10<(t=ao+500-jt())){if(0!==Ct(e,0))break;if(((i=e.suspendedLanes)&r)!==r){wo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Bo.bind(null,e,io),t);break}Bo(e,io);break;case 4:if(Po(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=W(Bo.bind(null,e,io),r);break}Bo(e,io);break;default:throw Error(o(329))}}}return Eo(e,jt()),e.callbackNode===n?ko.bind(null,e):null}function Co(e,t){var n=ro;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),2!==(e=Lo(e,t))&&(t=io,io=n,null!==t&&Mo(t)),e}function Mo(e){null===io?io=e:io.push.apply(io,e)}function Po(e,t){for(t&=~no,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function To(e){if(6&qa)throw Error(o(327));Vo();var t=Ct(e,0);if(!(1&t))return Eo(e,jt()),null;var n=Lo(e,t);if(0!==e.tag&&2===n){var r=Pt(e);0!==r&&(t=r,n=Co(e,r))}if(1===n)throw n=Ja,Ro(e,0),Po(e,t),Eo(e,jt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bo(e,io),Eo(e,jt()),null}function Ao(e){null!==po&&0===po.tag&&!(6&qa)&&Vo();var t=qa;qa|=1;var n=Ga.transition,r=Rt;try{if(Ga.transition=null,Rt=1,e)return e()}finally{Rt=r,Ga.transition=n,!(6&(qa=t))&&$t()}}function Io(){$a=Za.current,st(Za)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,G(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(Bn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:hr(),st(dt),st(ct),br();break;case 5:mr(r);break;case 4:hr();break;case 13:case 19:st(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Xa=e,Ya=e=Jo(e.current,null),Ka=$a=t,Qa=0,Ja=null,no=to=eo=0,io=ro=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}fn=null}return e}function Oo(e,t){for(;;){var n=Ya;try{if(on(),wr.current=hi,Cr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Cr=!1}if(_r=0,kr=Er=Sr=null,Mr=!1,Pr=0,Wa.current=null,null===n||null===n.return){Qa=1,Ja=t,Ya=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Ka,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ci(s);if(null!==p){p.flags&=-257,Mi(p,s,l,0,t),1&p.mode&&ki(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){ki(a,c,t),zo();break e}u=Error(o(426))}else if(Wn&&1&l.mode){var v=Ci(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),Mi(v,s,l,0,t),er(u);break e}}a=u,4!==Qa&&(Qa=2),null===ro?ro=[a]:ro.push(a),u=vi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Si(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(!(128&l.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==fo&&fo.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Ei(l,a,t));break e}}l=l.return}while(null!==l)}Uo(n)}catch(e){t=e,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function Do(){var e=Ha.current;return Ha.current=hi,null===e?hi:e}function zo(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===Xa||!(268435455&eo)&&!(268435455&to)||Po(Xa,Ka)}function Lo(e,t){var n=qa;qa|=2;var r=Do();for(Xa===e&&Ka===t||Ro(e,t);;)try{No();break}catch(t){Oo(e,t)}if(on(),qa=n,Ha.current=r,null!==Ya)throw Error(o(261));return Xa=null,Ka=0,Qa}function No(){for(;null!==Ya;)Fo(Ya)}function jo(){for(;null!==Ya&&!Lt();)Fo(Ya)}function Fo(e){var t=lo(e.alternate,e,$a);e.memoizedProps=e.pendingProps,null===t?Uo(e):Ya=t,Wa.current=null}function Uo(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=ia(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return Qa=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Oi(n,t,$a)))return void(Ya=n);if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===Qa&&(Qa=5)}function Bo(e,t){var n=Rt,r=Ga.transition;try{Ga.transition=null,Rt=1,function(e,t,n){do{Vo()}while(null!==po);if(6&qa)throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&(Ya=Xa=null,Ka=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||ho||(ho=!0,Ko(Bt,function(){return Vo(),null})),a=!!(15990&r.flags),!!(15990&r.subtreeFlags)||a){a=Ga.transition,Ga.transition=null;var s=Rt;Rt=1;var l=qa;qa|=4,Wa.current=null,function(e,t){for(L(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,1028&e.subtreeFlags&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&ke(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(t){Wo(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=da,da=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Y?Sa(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){Wo(i,t,e)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&Y&&we(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"==typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(ao=jt())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,Y)e:if(r=n,i=d,a=null,Y)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?xe(m):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?_e(g):Ee(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!h&&1&n.mode){la=n;for(var v=n.child;null!==v;){for(n=la=v;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:fa(4,r,r.return);break;case 1:ua(r,r.return);var b=r.stateNode;if("function"==typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(e){Wo(r,w,e)}}break;case 5:ua(r,r.return);break;case 22:if(null!==r.memoizedState){Ta(n);continue}}null!==y?(y.return=r,la=y):Ta(n)}v=v.sibling}}}switch(4102&s){case 2:wa(t),t.flags&=-3;break;case 6:wa(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(e){Wo(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),N(e.containerInfo),e.current=r,Ca(r),Nt(),qa=l,Rt=s,Ga.transition=a}else e.current=r;if(ho&&(ho=!1,po=e,mo=i),a=e.pendingLanes,0===a&&(fo=null),function(e){if(Wt&&"function"==typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),Eo(e,jt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(uo)throw uo=!1,e=co,co=null,e;!!(1&mo)&&0!==e.tag&&Vo(),a=e.pendingLanes,1&a?e===vo?go++:(go=0,vo=e):go=0,$t()}(e,t,n)}finally{Ga.transition=r,Rt=n}return null}function Vo(){if(null!==po){var e=Ot(mo),t=Ga.transition,n=Rt;try{if(Ga.transition=null,Rt=16>e?16:e,null===po)var r=!1;else{if(e=po,po=null,mo=0,6&qa)throw Error(o(331));var i=qa;for(qa|=4,la=e.current;null!==la;){var a=la,s=a.child;if(16&la.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(la=c;null!==la;){var d=la;switch(d.tag){case 0:case 11:case 15:fa(8,d,a)}var f=d.child;if(null!==f)f.return=d,la=f;else for(;null!==la;){var h=(d=la).sibling,p=d.return;if(va(d),d===c){la=null;break}if(null!==h){h.return=p,la=h;break}la=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}la=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(2048&(a=la).flags)switch(a.tag){case 0:case 11:case 15:fa(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,la=y;break e}la=a.return}}var b=e.current;for(la=b;null!==la;){var w=(s=la).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,la=w;else e:for(s=b;null!==la;){if(2048&(l=la).flags)try{switch(l.tag){case 0:case 11:case 15:ha(9,l)}}catch(e){Wo(l,l.return,e)}if(l===s){la=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,la=x;break e}la=l.return}}if(qa=i,$t(),Wt&&"function"==typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(e){}r=!0}return r}finally{Rt=n,Ga.transition=t}}return!1}function Ho(e,t,n){vn(e,t=Si(0,t=vi(n,t),1)),t=wo(),null!==(e=So(e,1))&&(At(e,1,t),Eo(e,t))}function Wo(e,t,n){if(3===e.tag)Ho(e,e,n);else for(;null!==t;){if(3===t.tag){Ho(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===fo||!fo.has(r))){vn(t,e=Ei(t,e=vi(n,e),1)),e=wo(),null!==(t=So(t,1))&&(At(t,1,e),Eo(t,e));break}}t=t.return}}function Go(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Ka&n)===n&&(4===Qa||3===Qa&&(130023424&Ka)===Ka&&500>jt()-ao?Ro(e,0):no|=n),Eo(e,t)}function qo(e,t){0===t&&(1&e.mode?(t=Et,!(130023424&(Et<<=1))&&(Et=4194304)):t=1);var n=wo();null!==(e=So(e,t))&&(At(e,t,n),Eo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),qo(e,n)}function Ko(e,t){return Dt(e,t)}function $o(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zo(e,t,n,r){return new $o(e,t,n,r)}function Qo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Jo(e,t){var n=e.alternate;return null===n?((n=Zo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function es(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Qo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return ts(n.children,i,a,t);case d:s=8,i|=8;break;case f:return(e=Zo(12,n,t,2|i)).elementType=f,e.lanes=a,e;case g:return(e=Zo(13,n,t,i)).elementType=g,e.lanes=a,e;case v:return(e=Zo(19,n,t,i)).elementType=v,e.lanes=a,e;case w:return ns(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case m:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Zo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ts(e,t,n,r){return(e=Zo(7,e,r,t)).lanes=n,e}function ns(e,t,n,r){return(e=Zo(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function rs(e,t,n){return(e=Zo(6,e,null,t)).lanes=n,e}function is(e,t,n){return(t=Zo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function as(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,$&&(this.mutableSourceEagerHydrationData=null)}function os(e,t,n,r,i,a,o,s,l){return e=new as(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Zo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ss(e){if(!e)return ut;e:{if(k(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=P(t))?null:e.stateNode}function us(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function cs(e,t){us(e,t),(e=e.alternate)&&us(e,t)}function ds(e){return null===(e=P(e))?null:e.stateNode}function fs(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)zi=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return zi=!1,function(e,t,n){switch(t.tag){case 3:Gi(t),Jn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ki(e,t,n):(lt(gr,1&gr.current),null!==(e=ra(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return na(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,Ui(e,t,n)}return ra(e,t,n)}(e,t,n);zi=!!(131072&e.flags)}else zi=!1,Wn&&1048576&t.flags&&Fn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ht(t,ct.current);cn(t,n),i=Rr(null,t,r,e,i,n);var a=Or();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=En,t.stateNode=i,i._reactInternals=t,Pn(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,Wn&&a&&Un(t),Li(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Qo(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Hi(null,t,r,e,n);break e;case 11:t=Ni(null,t,r,e,n);break e;case 14:t=ji(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Gi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,mn(e,t),wn(t,r,null,n);var s=t.memoizedState;if(r=s.element,$&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=qi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(o(424)));break e}for($&&(Hn=Be(t.stateNode.containerInfo),Vn=t,Wn=!0,qn=null,Gn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Jn(),r===i){t=ra(e,t,n);break e}Li(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&$n(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,V(r,i)?s=null:null!==a&&V(r,a)&&(t.flags|=32),Bi(e,t),Li(e,t,s,n),t.child;case 6:return null===e&&$n(t),null;case 13:return Ki(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Li(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ni(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Gt(a.value,s)){if(a.children===i.children&&!dt.current){t=ra(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=gn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),un(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Li(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=dn(i)),t.flags|=1,Li(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),ji(e,t,r,i=en(r.type,i),n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Cn(t,r,i),Pn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return na(e,t,n);case 22:return Ui(e,t,n)}throw Error(o(156,t.tag))},n.attemptContinuousHydration=function(e){13===e.tag&&(_o(e,134217728,wo()),cs(e,134217728))},n.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=wo(),n=xo(e);_o(e,n,t),cs(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kt(t.pendingLanes);0!==n&&(It(t,1|n),Eo(t,jt()),!(6&qa)&&(so(),$t()))}break;case 13:var r=wo();Ao(function(){return _o(e,1,r)}),cs(e,1)}},n.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(so(),Xt&&$t())}},n.createComponentSelector=function(e){return{$$typeof:Ia,value:e}},n.createContainer=function(e,t,n,r,i,a,o){return os(e,t,!1,null,0,r,0,a,o)},n.createHasPseudoClassSelector=function(e){return{$$typeof:Ra,value:e}},n.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=os(n,r,!0,e,0,a,0,s,l)).context=ss(null),n=e.current,(a=gn(r=wo(),i=xo(n))).callback=null!=t?t:null,vn(n,a),e.current.lanes=i,At(e,i,r),Eo(e,r),e},n.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Oa,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Da,value:e}},n.createTextSelector=function(e){return{$$typeof:za,value:e}},n.deferredUpdates=function(e){var t=Rt,n=Ga.transition;try{return Ga.transition=null,Rt=16,e()}finally{Rt=t,Ga.transition=n}},n.discreteUpdates=function(e,t,n,r,i){var a=Rt,o=Ga.transition;try{return Ga.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=a,Ga.transition=o,0===qa&&so()}},n.findAllNodes=Ba,n.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Ba(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&a>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<a||f>s)){f>a&&(u.height+=f-a,u.y=a),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(a!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},n.findHostInstance=ls,n.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=M(e))?A(e):null)?null:e.stateNode},n.findHostInstanceWithWarning=function(e){return ls(e)},n.flushControlled=function(e){var t=qa;qa|=1;var n=Ga.transition,r=Rt;try{Ga.transition=null,Rt=1,e()}finally{Rt=r,Ga.transition=n,0===(qa=t)&&(so(),$t())}},n.flushPassiveEffects=Vo,n.flushSync=Ao,n.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ua(e=Na(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Rt},n.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Na(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!se(a))&&(ja(a,l)&&(r.push(Fa(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Fa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},n.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},n.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ds,findFiberByHostInstance:e.findFiberByHostInstance||fs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(e){}e=!!t.checkDCE}}return e},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Ba(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},n.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(e,t,n,r){var i=t.current,a=wo(),o=xo(i);return n=ss(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=_o(i,o,a))&&yn(e,i,o),o},n}),Ah}var Lh,Nh,jh={exports:{}};function Fh(){return Lh||(Lh=1,"production"!==process.env.NODE_ENV&&(jh.exports=function(e){var n={},r=t,i=Dh(),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=!1;function s(e){if(!o){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("warn",e,n)}}function l(e){if(!o){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("error",e,n)}}function u(e,t,n){var r=a.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}var c=Object.assign;function d(e){return e._reactInternals}var f=!1,h=!1,p=10,m=11,g=12,v=13,y=14,b=15,w=17,x=18,_=19,S=22,E=23,k=Symbol.for("react.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),N=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),j=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function F(e){if(null===e||"object"!=typeof e)return null;var t=j&&e[j]||e["@@iterator"];return"function"==typeof t?t:null}function U(e){return e.displayName||"Context"}function B(e){if(null==e)return null;if("number"==typeof e.tag&&l("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case M:return"Fragment";case C:return"Portal";case T:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return U(e)+".Consumer";case A:return U(e._context)+".Provider";case R:return function(e,t,n){var r=e.displayName;if(r)return r;var i=t.displayName||t.name||"";return""!==i?n+"("+i+")":n}(e,e.render,"ForwardRef");case z:var t=e.displayName||null;return null!==t?t:B(e.type)||"Memo";case L:var n=e,r=n._payload,i=n._init;try{return B(i(r))}catch(e){return null}}return null}function V(e){return e.displayName||"Context"}function H(e){var t,n,r,i,a=e.tag,o=e.type;switch(a){case 24:return"Cache";case 9:return V(o)+".Consumer";case p:return V(o._context)+".Provider";case x:return"DehydratedFragment";case m:return t=o,n=o.render,r="ForwardRef",i=n.displayName||n.name||"",t.displayName||(""!==i?r+"("+i+")":r);case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(o);case 8:return o===P?"StrictMode":"Mode";case S:return"Offscreen";case g:return"Profiler";case 21:return"Scope";case v:return"Suspense";case _:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case w:case 2:case y:case b:if("function"==typeof o)return o.displayName||o.name||null;if("string"==typeof o)return o}return null}var W=16,G=128,q=256,X=512,Y=1024,K=2048,$=4096,Z=8192,Q=16384,J=32768,ee=65536,te=131072,ne=1048576,re=2097152,ie=4194304,ae=16777216,oe=33554432,se=1028,le=12854,ue=8772,ce=2064,de=14680064,fe=a.ReactCurrentOwner;function he(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{4098&(t=r).flags&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function pe(e){if(he(e)!==e)throw new Error("Unable to find node on an unmounted component.")}function me(e){var t=e.alternate;if(!t){var n=he(e);if(null===n)throw new Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){var s=a.return;if(null!==s){r=i=s;continue}break}if(a.child===o.child){for(var l=a.child;l;){if(l===r)return pe(a),e;if(l===i)return pe(a),t;l=l.sibling}throw new Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=a,i=o;else{for(var u=!1,c=a.child;c;){if(c===r){u=!0,r=a,i=o;break}if(c===i){u=!0,i=a,r=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===r){u=!0,r=o,i=a;break}if(c===i){u=!0,i=o,r=a;break}c=c.sibling}if(!u)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw new Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function ge(e){var t=me(e);return null!==t?ve(t):null}function ve(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){var n=ve(t);if(null!==n)return n;t=t.sibling}return null}function ye(e){var t=me(e);return null!==t?be(t):null}function be(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){if(4!==t.tag){var n=be(t);if(null!==n)return n}t=t.sibling}return null}var we=Array.isArray;function xe(e){return we(e)}var _e=e.getPublicInstance,Se=e.getRootHostContext,Ee=e.getChildHostContext,ke=e.prepareForCommit,Ce=e.resetAfterCommit,Me=e.createInstance,Pe=e.appendInitialChild,Te=e.finalizeInitialChildren,Ae=e.prepareUpdate,Ie=e.shouldSetTextContent,Re=e.createTextInstance,Oe=e.scheduleTimeout,De=e.cancelTimeout,ze=e.noTimeout;e.now;var Le=e.isPrimaryRenderer,Ne=e.warnsIfNotActing,je=e.supportsMutation,Fe=e.supportsPersistence,Ue=e.supportsHydration,Be=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ve=e.preparePortalMount;e.preparePortalMount,e.getInstanceFromScope;var He=e.getCurrentEventPriority,We=e.detachDeletedInstance,Ge=e.supportsMicrotasks,qe=e.scheduleMicrotask,Xe=e.supportsTestSelectors,Ye=e.findFiberRoot,Ke=e.getBoundingRect,$e=e.getTextContent,Ze=e.isHiddenSubtree,Qe=e.matchAccessibilityRole,Je=e.setFocusIfFocusable,et=e.setupIntersectionObserver,tt=e.appendChild,nt=e.appendChildToContainer,rt=e.commitTextUpdate,it=e.commitMount,at=e.commitUpdate,ot=e.insertBefore,st=e.insertInContainerBefore,lt=e.removeChild,ut=e.removeChildFromContainer,ct=e.resetTextContent,dt=e.hideInstance,ft=e.hideTextInstance,ht=e.unhideInstance,pt=e.unhideTextInstance,mt=e.clearContainer,gt=e.cloneInstance,vt=e.createContainerChildSet,yt=e.appendChildToContainerChildSet,bt=e.finalizeContainerChildren,wt=e.replaceContainerChildren;e.getOffscreenContainerType;e.getOffscreenContainerProps;var xt,_t,St,Et,kt,Ct,Mt,Pt=e.cloneHiddenInstance,Tt=e.cloneHiddenTextInstance,At=e.canHydrateInstance,It=e.canHydrateTextInstance,Rt=e.canHydrateSuspenseInstance,Ot=e.isSuspenseInstancePending,Dt=e.isSuspenseInstanceFallback,zt=e.registerSuspenseInstanceRetry,Lt=e.getNextHydratableSibling,Nt=e.getFirstHydratableChild,jt=e.getFirstHydratableChildWithinContainer,Ft=e.getFirstHydratableChildWithinSuspenseInstance,Ut=e.hydrateInstance,Bt=e.hydrateTextInstance,Vt=e.hydrateSuspenseInstance,Ht=e.getNextHydratableInstanceAfterSuspenseInstance,Wt=e.commitHydratedContainer,Gt=e.commitHydratedSuspenseInstance,qt=e.clearSuspenseBoundary,Xt=e.clearSuspenseBoundaryFromContainer,Yt=e.shouldDeleteUnhydratedTailInstances,Kt=e.didNotMatchHydratedContainerTextInstance,$t=e.didNotMatchHydratedTextInstance,Zt=e.didNotHydrateInstanceWithinContainer,Qt=e.didNotHydrateInstanceWithinSuspenseInstance,Jt=e.didNotHydrateInstance,en=e.didNotFindHydratableInstanceWithinContainer,tn=e.didNotFindHydratableTextInstanceWithinContainer,nn=e.didNotFindHydratableSuspenseInstanceWithinContainer,rn=e.didNotFindHydratableInstanceWithinSuspenseInstance,an=e.didNotFindHydratableTextInstanceWithinSuspenseInstance,on=e.didNotFindHydratableSuspenseInstanceWithinSuspenseInstance,sn=e.didNotFindHydratableInstance,ln=e.didNotFindHydratableTextInstance,un=e.didNotFindHydratableSuspenseInstance,cn=e.errorHydratingContainer,dn=0;function fn(){}fn.__reactDisabledLog=!0;var hn,pn=a.ReactCurrentDispatcher;function mn(e,t,n){if(void 0===hn)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);hn=r&&r[1]||""}return"\n"+hn+e}var gn,vn=!1,yn="function"==typeof WeakMap?WeakMap:Map;function bn(e,t){if(!e||vn)return"";var n,r=gn.get(e);if(void 0!==r)return r;vn=!0;var i,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=pn.current,pn.current=null,function(){if(0===dn){xt=console.log,_t=console.info,St=console.warn,Et=console.error,kt=console.group,Ct=console.groupCollapsed,Mt=console.groupEnd;var e={configurable:!0,enumerable:!0,value:fn,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}dn++}();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(e){n=e}Reflect.construct(e,[],o)}else{try{o.call()}catch(e){n=e}e.call(o.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),u=n.stack.split("\n"),d=s.length-1,f=u.length-1;d>=1&&f>=0&&s[d]!==u[f];)f--;for(;d>=1&&f>=0;d--,f--)if(s[d]!==u[f]){if(1!==d||1!==f)do{if(d--,--f<0||s[d]!==u[f]){var h="\n"+s[d].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),"function"==typeof e&&gn.set(e,h),h}}while(d>=1&&f>=0);break}}}finally{vn=!1,pn.current=i,function(){if(0===--dn){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:c({},e,{value:xt}),info:c({},e,{value:_t}),warn:c({},e,{value:St}),error:c({},e,{value:Et}),group:c({},e,{value:kt}),groupCollapsed:c({},e,{value:Ct}),groupEnd:c({},e,{value:Mt})})}dn<0&&l("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var p=e?e.displayName||e.name:"",m=p?mn(p):"";return"function"==typeof e&&gn.set(e,m),m}function wn(e,t,n){return bn(e,!1)}function xn(e,t,n){if(null==e)return"";if("function"==typeof e)return bn(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return mn(e);switch(e){case O:return mn("Suspense");case D:return mn("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case R:return wn(e.render);case z:return xn(e.type,t,n);case L:var i=e,a=i._payload,o=i._init;try{return xn(o(a),t,n)}catch(e){}}return""}gn=new yn;var _n=Object.prototype.hasOwnProperty,Sn={},En=a.ReactDebugCurrentFrame;function kn(e){if(e){var t=e._owner,n=xn(e.type,e._source,t?t.type:null);En.setExtraStackFrame(n)}else En.setExtraStackFrame(null)}function Cn(e,t,n,r,i){var a=Function.call.bind(_n);for(var o in e)if(a(e,o)){var s=void 0;try{if("function"!=typeof e[o]){var u=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}s=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(kn(i),l("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof s),kn(null)),s instanceof Error&&!(s.message in Sn)&&(Sn[s.message]=!0,kn(i),l("Failed %s type: %s",n,s.message),kn(null))}}var Mn,Pn=[];Mn=[];var Tn,An=-1;function In(e){return{current:e}}function Rn(e,t){An<0?l("Unexpected pop."):(t!==Mn[An]&&l("Unexpected Fiber popped."),e.current=Pn[An],Pn[An]=null,Mn[An]=null,An--)}function On(e,t,n){An++,Pn[An]=e.current,Mn[An]=n,e.current=t}Tn={};var Dn={};Object.freeze(Dn);var zn=In(Dn),Ln=In(!1),Nn=Dn;function jn(e,t,n){return n&&Vn(t)?Nn:zn.current}function Fn(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function Un(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={};for(var a in n)i[a]=t[a];return Cn(n,i,"context",H(e)||"Unknown"),r&&Fn(e,t,i),i}function Bn(){return Ln.current}function Vn(e){var t=e.childContextTypes;return null!=t}function Hn(e){Rn(Ln,e),Rn(zn,e)}function Wn(e){Rn(Ln,e),Rn(zn,e)}function Gn(e,t,n){if(zn.current!==Dn)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");On(zn,t,e),On(Ln,n,e)}function qn(e,t,n){var r=e.stateNode,i=t.childContextTypes;if("function"!=typeof r.getChildContext){var a=H(e)||"Unknown";return Tn[a]||(Tn[a]=!0,l("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",a,a)),n}var o=r.getChildContext();for(var s in o)if(!(s in i))throw new Error((H(e)||"Unknown")+'.getChildContext(): key "'+s+'" is not defined in childContextTypes.');return Cn(i,o,"child context",H(e)||"Unknown"),c({},n,o)}function Xn(e){var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||Dn;return Nn=zn.current,On(zn,n,e),On(Ln,Ln.current,e),!0}function Yn(e,t,n){var r=e.stateNode;if(!r)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=qn(e,t,Nn);r.__reactInternalMemoizedMergedChildContext=i,Rn(Ln,e),Rn(zn,e),On(zn,i,e),On(Ln,n,e)}else Rn(Ln,e),On(Ln,n,e)}function Kn(e){if(!function(e){return he(e)===e}(e)||1!==e.tag)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(Vn(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var $n=16,Zn=Math.clz32?Math.clz32:function(e){var t=e>>>0;if(0===t)return 32;return 31-(Qn(t)/Jn|0)|0},Qn=Math.log,Jn=Math.LN2;var er=16,tr=4194240,nr=1024,rr=2048,ir=4096,ar=8192,or=16384,sr=32768,lr=65536,ur=131072,cr=262144,dr=524288,fr=1048576,hr=2097152,pr=130023424,mr=4194304,gr=8388608,vr=16777216,yr=33554432,br=67108864,wr=mr,xr=134217728,_r=268435455,Sr=268435456,Er=536870912,kr=1073741824;function Cr(e){return 1&e?"Sync":2&e?"InputContinuousHydration":4&e?"InputContinuous":8&e?"DefaultHydration":e&er?"Default":32&e?"TransitionHydration":e&tr?"Transition":e&pr?"Retry":e&xr?"SelectiveHydration":e&Sr?"IdleHydration":e&Er?"Idle":e&kr?"Offscreen":void 0}var Mr=-1,Pr=64,Tr=mr;function Ar(e){switch(jr(e)){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case er:return er;case 32:return 32;case 64:case 128:case 256:case 512:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case dr:case fr:case hr:return e&tr;case mr:case gr:case vr:case yr:case br:return e&pr;case xr:return xr;case Sr:return Sr;case Er:return Er;case kr:return kr;default:return l("Should have found matching lanes. This is a bug in React."),e}}function Ir(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&_r;if(0!==o){var s=o&~i;if(0!==s)r=Ar(s);else{var l=o&a;0!==l&&(r=Ar(l))}}else{var u=n&~i;0!==u?r=Ar(u):0!==a&&(r=Ar(a))}if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)){var c=jr(r),d=jr(t);if(c>=d||c===er&&0!==(d&tr))return t}4&r&&(r|=n&er);var f=e.entangledLanes;if(0!==f)for(var h=e.entanglements,p=r&f;p>0;){var m=Ur(p),g=1<<m;r|=h[m],p&=~g}return r}function Rr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case er:case 32:case 64:case 128:case 256:case 512:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case dr:case fr:case hr:return t+5e3;case mr:case gr:case vr:case yr:case br:case xr:case Sr:case Er:case kr:return Mr;default:return l("Should have found matching lanes. This is a bug in React."),Mr}}function Or(e){var t=-1073741825&e.pendingLanes;return 0!==t?t:t&kr?kr:0}function Dr(e){return 0!==(e&_r)}function zr(e){return(e&pr)===e}function Lr(e,t){return!!(30&t)}function Nr(e){return 0!==(e&tr)}function jr(e){return e&-e}function Fr(e){return jr(e)}function Ur(e){return 31-Zn(e)}function Br(e){return Ur(e)}function Vr(e,t){return 0!==(e&t)}function Hr(e,t){return(e&t)===t}function Wr(e,t){return e|t}function Gr(e,t){return e&~t}function qr(e,t){return e&t}function Xr(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Yr(e,t,n){e.pendingLanes|=t,t!==Er&&(e.suspendedLanes=0,e.pingedLanes=0),e.eventTimes[Br(t)]=n}function Kr(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function $r(e,t){for(var n=e.entangledLanes|=t,r=e.entanglements,i=n;i;){var a=Ur(i),o=1<<a;o&t|r[a]&t&&(r[a]|=t),i&=~o}}function Zr(e,t,n){if(xi)for(var r=e.pendingUpdatersLaneMap;n>0;){var i=Br(n),a=1<<i;r[i].add(t),n&=~a}}function Qr(e,t){if(xi)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;t>0;){var i=Br(t),a=1<<i,o=n[i];o.size>0&&(o.forEach(function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)}),o.clear()),t&=~a}}var Jr=er,ei=Er,ti=0;function ni(){return ti}function ri(e){ti=e}function ii(e,t){return 0!==e&&e<t}function ai(e){var t=jr(e);return ii(1,t)?ii(4,t)?Dr(t)?Jr:ei:4:1}var oi=i.unstable_scheduleCallback,si=i.unstable_cancelCallback,li=i.unstable_shouldYield,ui=i.unstable_requestPaint,ci=i.unstable_now,di=i.unstable_ImmediatePriority,fi=i.unstable_UserBlockingPriority,hi=i.unstable_NormalPriority,pi=i.unstable_IdlePriority,mi=i.unstable_yieldValue,gi=i.unstable_setDisableYieldValue,vi=null,yi=null,bi=null,wi=!1,xi="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function _i(e){if("function"==typeof mi&&(gi(e),o=e),yi&&"function"==typeof yi.setStrictMode)try{yi.setStrictMode(vi,e)}catch(e){wi||(wi=!0,l("React instrumentation encountered an error: %s",e))}}function Si(e){bi=e}function Ei(){for(var e=new Map,t=1,n=0;n<31;n++){var r=Cr(t);e.set(t,r),t*=2}return e}function ki(){null!==bi&&"function"==typeof bi.markCommitStopped&&bi.markCommitStopped()}function Ci(e){null!==bi&&"function"==typeof bi.markComponentRenderStarted&&bi.markComponentRenderStarted(e)}function Mi(){null!==bi&&"function"==typeof bi.markComponentRenderStopped&&bi.markComponentRenderStopped()}function Pi(e){null!==bi&&"function"==typeof bi.markComponentPassiveEffectMountStarted&&bi.markComponentPassiveEffectMountStarted(e)}function Ti(){null!==bi&&"function"==typeof bi.markComponentPassiveEffectMountStopped&&bi.markComponentPassiveEffectMountStopped()}function Ai(e){null!==bi&&"function"==typeof bi.markComponentPassiveEffectUnmountStarted&&bi.markComponentPassiveEffectUnmountStarted(e)}function Ii(){null!==bi&&"function"==typeof bi.markComponentPassiveEffectUnmountStopped&&bi.markComponentPassiveEffectUnmountStopped()}function Ri(e){null!==bi&&"function"==typeof bi.markComponentLayoutEffectMountStarted&&bi.markComponentLayoutEffectMountStarted(e)}function Oi(){null!==bi&&"function"==typeof bi.markComponentLayoutEffectMountStopped&&bi.markComponentLayoutEffectMountStopped()}function Di(e){null!==bi&&"function"==typeof bi.markComponentLayoutEffectUnmountStarted&&bi.markComponentLayoutEffectUnmountStarted(e)}function zi(){null!==bi&&"function"==typeof bi.markComponentLayoutEffectUnmountStopped&&bi.markComponentLayoutEffectUnmountStopped()}function Li(e,t,n){null!==bi&&"function"==typeof bi.markComponentErrored&&bi.markComponentErrored(e,t,n)}function Ni(e,t,n){null!==bi&&"function"==typeof bi.markComponentSuspended&&bi.markComponentSuspended(e,t,n)}function ji(e){null!==bi&&"function"==typeof bi.markRenderStarted&&bi.markRenderStarted(e)}function Fi(){null!==bi&&"function"==typeof bi.markRenderStopped&&bi.markRenderStopped()}function Ui(e,t){null!==bi&&"function"==typeof bi.markStateUpdateScheduled&&bi.markStateUpdateScheduled(e,t)}var Bi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Vi=null,Hi=!1,Wi=!1;function Gi(e){null===Vi?Vi=[e]:Vi.push(e)}function qi(){Hi&&Xi()}function Xi(){if(!Wi&&null!==Vi){Wi=!0;var e=0,t=ni();try{var n=Vi;for(ri(1);e<n.length;e++){var r=n[e];do{r=r(true)}while(null!==r)}Vi=null,Hi=!1}catch(t){throw null!==Vi&&(Vi=Vi.slice(e+1)),oi(di,Xi),t}finally{ri(t),Wi=!1}}return null}function Yi(e){return e.current.memoizedState.isDehydrated}var Ki=a.ReactCurrentBatchConfig;function $i(e,t){if(Bi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!_n.call(t,a)||!Bi(e[a],t[a]))return!1}return!0}function Zi(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case 5:return mn(e.type);case 16:return mn("Lazy");case v:return mn("Suspense");case _:return mn("SuspenseList");case 0:case 2:case b:return wn(e.type);case m:return wn(e.type.render);case 1:return bn(e.type,!0);default:return""}}function Qi(e){try{var t="",n=e;do{t+=Zi(n),n=n.return}while(n);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var Ji=a.ReactDebugCurrentFrame,ea=null,ta=!1;function na(){return null===ea?"":Qi(ea)}function ra(){Ji.getCurrentStack=null,ea=null,ta=!1}function ia(e){Ji.getCurrentStack=na,ea=e,ta=!1}function aa(e){ta=e}var oa={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},sa=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")},la=[],ua=[],ca=[],da=[],fa=[],ha=[],pa=new Set;oa.recordUnsafeLifecycleWarnings=function(e,t){pa.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&la.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&ua.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&ca.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&da.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&fa.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&ha.push(e))},oa.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;la.length>0&&(la.forEach(function(t){e.add(H(t)||"Component"),pa.add(t.type)}),la=[]);var t=new Set;ua.length>0&&(ua.forEach(function(e){t.add(H(e)||"Component"),pa.add(e.type)}),ua=[]);var n=new Set;ca.length>0&&(ca.forEach(function(e){n.add(H(e)||"Component"),pa.add(e.type)}),ca=[]);var r=new Set;da.length>0&&(da.forEach(function(e){r.add(H(e)||"Component"),pa.add(e.type)}),da=[]);var i=new Set;fa.length>0&&(fa.forEach(function(e){i.add(H(e)||"Component"),pa.add(e.type)}),fa=[]);var a=new Set;(ha.length>0&&(ha.forEach(function(e){a.add(H(e)||"Component"),pa.add(e.type)}),ha=[]),t.size>0)&&l("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",sa(t));r.size>0&&l("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",sa(r));a.size>0&&l("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",sa(a));e.size>0&&s("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",sa(e));n.size>0&&s("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",sa(n));i.size>0&&s("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",sa(i))};var ma=new Map,ga=new Set;function va(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function ya(e){try{return ba(e),!1}catch(e){return!0}}function ba(e){return""+e}function wa(e,t){if(e&&e.defaultProps){var n=c({},t),r=e.defaultProps;for(var i in r)void 0===n[i]&&(n[i]=r[i]);return n}return t}oa.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)8&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!ga.has(e.type)){var r=ma.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],ma.set(n,r)),r.push(e))}}else l("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},oa.flushLegacyContextWarning=function(){ma.forEach(function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach(function(e){r.add(H(e)||"Component"),ga.add(e.type)});var i=sa(r);try{ia(n),l("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{ra()}}})},oa.discardPendingWarnings=function(){la=[],ua=[],ca=[],da=[],fa=[],ha=[],ma=new Map};var xa,_a=In(null);xa={};var Sa=null,Ea=null,ka=null,Ca=!1;function Ma(){Sa=null,Ea=null,ka=null,Ca=!1}function Pa(){Ca=!0}function Ta(){Ca=!1}function Aa(e,t,n){Le?(On(_a,t._currentValue,e),t._currentValue=n,void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer!==xa&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=xa):(On(_a,t._currentValue2,e),t._currentValue2=n,void 0!==t._currentRenderer2&&null!==t._currentRenderer2&&t._currentRenderer2!==xa&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer2=xa)}function Ia(e,t){var n=_a.current;Rn(_a,t),Le?e._currentValue=n:e._currentValue2=n}function Ra(e,t,n){for(var r=e;null!==r;){var i=r.alternate;if(Hr(r.childLanes,t)?null===i||Hr(i.childLanes,t)||(i.childLanes=Wr(i.childLanes,t)):(r.childLanes=Wr(r.childLanes,t),null!==i&&(i.childLanes=Wr(i.childLanes,t))),r===n)break;r=r.return}r!==n&&l("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Oa(e,t,n){!function(e,t,n){var r=e.child;null!==r&&(r.return=e);for(;null!==r;){var i=void 0,a=r.dependencies;if(null!==a){i=r.child;for(var o=a.firstContext;null!==o;){if(o.context===t){if(1===r.tag){var s=Fr(n),l=Ga(Mr,s);l.tag=Ba;var u=r.updateQueue;if(null===u);else{var c=u.shared,d=c.pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes=Wr(r.lanes,n);var f=r.alternate;null!==f&&(f.lanes=Wr(f.lanes,n)),Ra(r.return,n,e),a.lanes=Wr(a.lanes,n);break}o=o.next}}else if(r.tag===p)i=r.type===e.type?null:r.child;else if(r.tag===x){var h=r.return;if(null===h)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");h.lanes=Wr(h.lanes,n);var m=h.alternate;null!==m&&(m.lanes=Wr(m.lanes,n)),Ra(h,n,e),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}var g=i.sibling;if(null!==g){g.return=i.return,i=g;break}i=i.return}r=i}}(e,t,n)}function Da(e,t){Sa=e,Ea=null,ka=null;var n=e.dependencies;null!==n&&(null!==n.firstContext&&(Vr(n.lanes,t)&&Jc(),n.firstContext=null))}function za(e){Ca&&l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=Le?e._currentValue:e._currentValue2;if(ka===e);else{var n={context:e,memoizedValue:t,next:null};if(null===Ea){if(null===Sa)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Ea=n,Sa.dependencies={lanes:0,firstContext:n}}else Ea=Ea.next=n}return t}var La=null;function Na(e){null===La?La=[e]:La.push(e)}var ja,Fa,Ua=0,Ba=2,Va=!1;function Ha(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null};e.updateQueue=t}function Wa(e,t){var n=t.updateQueue,r=e.updateQueue;if(n===r){var i={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects};t.updateQueue=i}}function Ga(e,t){return{eventTime:e,lane:t,tag:Ua,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(null!==r){var i=r.shared;if(jh(e)){var a=i.interleaved;null===a?(t.next=t,Na(i)):(t.next=a.next,a.next=t),i.interleaved=t}else{var o=i.pending;null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t}Fa!==i||ja||(l("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),ja=!0)}}function Xa(e,t,n){var r=t.updateQueue;if(null!==r){var i=r.shared;if(Nr(n)){var a=i.lanes,o=Wr(a=qr(a,e.pendingLanes),n);i.lanes=o,$r(e,o)}}}function Ya(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var a=null,o=null,s=n.firstBaseUpdate;if(null!==s){var l=s;do{var u={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===o?a=o=u:(o.next=u,o=u),l=l.next}while(null!==l);null===o?a=o=t:(o.next=t,o=t)}else a=o=t;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}}var c=n.lastBaseUpdate;null===c?n.firstBaseUpdate=t:c.next=t,n.lastBaseUpdate=t}function Ka(e,t,n,r,i,a){switch(n.tag){case 1:var o=n.payload;if("function"==typeof o){Pa();var s=o.call(a,r,i);if(8&e.mode){_i(!0);try{o.call(a,r,i)}finally{_i(!1)}}return Ta(),s}return o;case 3:e.flags=-65537&e.flags|G;case Ua:var l,u=n.payload;if("function"==typeof u){if(Pa(),l=u.call(a,r,i),8&e.mode){_i(!0);try{u.call(a,r,i)}finally{_i(!1)}}Ta()}else l=u;return null==l?r:c({},r,l);case Ba:return Va=!0,r}return r}function $a(e,t,n,r){var i=e.updateQueue;Va=!1,Fa=i.shared;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;if(null!==c){var d=c.updateQueue,f=d.lastBaseUpdate;f!==o&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=l)}}if(null!==a){for(var h=i.baseState,p=0,m=null,g=null,v=null,y=a;;){var b=y.lane,w=y.eventTime;if(Hr(r,b)){if(null!==v){var x={eventTime:w,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};v=v.next=x}if(h=Ka(e,0,y,h,t,n),null!==y.callback&&0!==y.lane){e.flags|=64;var _=i.effects;null===_?i.effects=[y]:_.push(y)}}else{var S={eventTime:w,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===v?(g=v=S,m=h):v=v.next=S,p=Wr(p,b)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var E=s,k=E.next;E.next=null,y=k,i.lastBaseUpdate=E,i.shared.pending=null}}null===v&&(m=h),i.baseState=m,i.firstBaseUpdate=g,i.lastBaseUpdate=v;var C=i.shared.interleaved;if(null!==C){var M=C;do{p=Wr(p,M.lane),M=M.next}while(M!==C)}else null===a&&(i.shared.lanes=0);Qh(p),e.lanes=p,e.memoizedState=h}Fa=null}function Za(e,t){if("function"!=typeof e)throw new Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function Qa(){Va=!1}function Ja(){return Va}function eo(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.callback;null!==o&&(a.callback=null,Za(o,n))}}ja=!1,Fa=null;var to,no,ro,io,ao,oo,so,lo,uo,co,fo={},ho=(new r.Component).refs;to=new Set,no=new Set,ro=new Set,io=new Set,lo=new Set,ao=new Set,uo=new Set,co=new Set;var po=new Set;function mo(e,t,n,r){var i=e.memoizedState,a=n(r,i);if(8&e.mode){_i(!0);try{a=n(r,i)}finally{_i(!1)}}oo(t,a);var o=null==a?i:c({},i,a);(e.memoizedState=o,0===e.lanes)&&(e.updateQueue.baseState=o)}so=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;po.has(n)||(po.add(n),l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},oo=function(e,t){if(void 0===t){var n=B(e)||"Component";ao.has(n)||(ao.add(n),l("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(fo,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(fo);var go={isMounted:function(e){var t=fe.current;if(null!==t&&1===t.tag){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||l("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",H(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=d(e);return!!i&&he(i)===i},enqueueSetState:function(e,t,n){var r=d(e),i=Rh(),a=Oh(r),o=Ga(i,a);o.payload=t,null!=n&&(so(n,"setState"),o.callback=n),qa(r,o);var s=Lh(r,a,i);null!==s&&Xa(s,r,a),Ui(r,a)},enqueueReplaceState:function(e,t,n){var r=d(e),i=Rh(),a=Oh(r),o=Ga(i,a);o.tag=1,o.payload=t,null!=n&&(so(n,"replaceState"),o.callback=n),qa(r,o);var s=Lh(r,a,i);null!==s&&Xa(s,r,a),Ui(r,a)},enqueueForceUpdate:function(e,t){var n=d(e),r=Rh(),i=Oh(n),a=Ga(r,i);a.tag=Ba,null!=t&&(so(t,"forceUpdate"),a.callback=t),qa(n,a);var o=Lh(n,i,r);null!==o&&Xa(o,n,i),function(e,t){null!==bi&&"function"==typeof bi.markForceUpdateScheduled&&bi.markForceUpdateScheduled(e,t)}(n,i)}};function vo(e,t,n,r,i,a,o){var s=e.stateNode;if("function"==typeof s.shouldComponentUpdate){var u=s.shouldComponentUpdate(r,a,o);if(8&e.mode){_i(!0);try{u=s.shouldComponentUpdate(r,a,o)}finally{_i(!1)}}return void 0===u&&l("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",B(t)||"Component"),u}return!t.prototype||!t.prototype.isPureReactComponent||(!$i(n,r)||!$i(i,a))}function yo(e,t){var n;t.updater=go,e.stateNode=t,n=e,t._reactInternals=n,t._reactInternalInstance=fo}function bo(e,t,n){var r=!1,i=Dn,a=Dn,o=t.contextType;if("contextType"in t&&(!(null===o||void 0!==o&&o.$$typeof===I&&void 0===o._context)&&!co.has(t))){co.add(t);var s="";s=void 0===o?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof o?" However, it is set to a "+typeof o+".":o.$$typeof===A?" Did you accidentally pass the Context.Provider instead?":void 0!==o._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(o).join(", ")+"}.",l("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",B(t)||"Component",s)}if("object"==typeof o&&null!==o)a=za(o);else{i=jn(0,t,!0);var u=t.contextTypes;a=(r=null!=u)?Un(e,i):Dn}var c=new t(n,a);if(8&e.mode){_i(!0);try{c=new t(n,a)}finally{_i(!1)}}var d=e.memoizedState=null!==c.state&&void 0!==c.state?c.state:null;if(yo(e,c),"function"==typeof t.getDerivedStateFromProps&&null===d){var f=B(t)||"Component";no.has(f)||(no.add(f),l("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",f,null===c.state?"null":"undefined",f))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof c.getSnapshotBeforeUpdate){var h=null,p=null,m=null;if("function"==typeof c.componentWillMount&&!0!==c.componentWillMount.__suppressDeprecationWarning?h="componentWillMount":"function"==typeof c.UNSAFE_componentWillMount&&(h="UNSAFE_componentWillMount"),"function"==typeof c.componentWillReceiveProps&&!0!==c.componentWillReceiveProps.__suppressDeprecationWarning?p="componentWillReceiveProps":"function"==typeof c.UNSAFE_componentWillReceiveProps&&(p="UNSAFE_componentWillReceiveProps"),"function"==typeof c.componentWillUpdate&&!0!==c.componentWillUpdate.__suppressDeprecationWarning?m="componentWillUpdate":"function"==typeof c.UNSAFE_componentWillUpdate&&(m="UNSAFE_componentWillUpdate"),null!==h||null!==p||null!==m){var g=B(t)||"Component",v="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";io.has(g)||(io.add(g),l("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",g,v,null!==h?"\n  "+h:"",null!==p?"\n  "+p:"",null!==m?"\n  "+m:""))}}return r&&Fn(e,i,a),c}function wo(e,t,n,r){var i=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var a=H(e)||"Component";to.has(a)||(to.add(a),l("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),go.enqueueReplaceState(t,t.state,null)}}function xo(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=B(t)||"Component";r.render||(t.prototype&&"function"==typeof t.prototype.render?l("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):l("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||l("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&l("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&l("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&l("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),r.contextTypes&&l("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!uo.has(t)&&(uo.add(t),l("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof r.componentShouldUpdate&&l("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&l("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",B(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&l("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof r.componentDidReceiveProps&&l("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof r.componentWillRecieveProps&&l("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof r.UNSAFE_componentWillRecieveProps&&l("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i);var a=r.props!==n;void 0!==r.props&&a&&l("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&l("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||ro.has(t)||(ro.add(t),l("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",B(t))),"function"==typeof r.getDerivedStateFromProps&&l("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof r.getDerivedStateFromError&&l("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof t.getSnapshotBeforeUpdate&&l("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var o=r.state;o&&("object"!=typeof o||xe(o))&&l("%s.state: must be set to an object or null",i),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&l("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,Ha(e);var a=t.contextType;if("object"==typeof a&&null!==a)i.context=za(a);else{var o=jn(0,t,!0);i.context=Un(e,o)}if(i.state===n){var s=B(t)||"Component";lo.has(s)||(lo.add(s),l("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",s))}8&e.mode&&oa.recordLegacyContextWarning(e,i),oa.recordUnsafeLifecycleWarnings(e,i),i.state=e.memoizedState;var u=t.getDerivedStateFromProps;if("function"==typeof u&&(mo(e,t,u,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(!function(e,t){var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(l("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",H(e)||"Component"),go.enqueueReplaceState(t,t.state,null))}(e,i),$a(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount){var c=4;c|=ie,0!==(e.mode&$n)&&(c|=ae),e.flags|=c}}var _o=[],So=0,Eo=null,ko=0,Co=[],Mo=0,Po=null,To=1,Ao="";function Io(){var e=Ao;return(To&~function(e){return 1<<zo(e)-1}(To)).toString(32)+e}function Ro(e,t){No(),_o[So++]=ko,_o[So++]=Eo,Eo=e,ko=t}function Oo(e,t,n){No(),Co[Mo++]=To,Co[Mo++]=Ao,Co[Mo++]=Po,Po=e;var r=To,i=Ao,a=zo(r)-1,o=r&~(1<<a),s=n+1,l=zo(t)+a;if(l>30){var u=a-a%5,c=(o&(1<<u)-1).toString(32),d=o>>u,f=a-u,h=zo(t)+f;To=1<<h|(s<<f|d),Ao=c+i}else{To=1<<l|(s<<a|o),Ao=i}}function Do(e){if(No(),null!==e.return){Ro(e,1),Oo(e,1,0)}}function zo(e){return 32-Zn(e)}function Lo(e){for(;e===Eo;)Eo=_o[--So],_o[So]=null,ko=_o[--So],_o[So]=null;for(;e===Po;)Po=Co[--Mo],Co[Mo]=null,Ao=Co[--Mo],Co[Mo]=null,To=Co[--Mo],Co[Mo]=null}function No(){ls()||l("Expected to be hydrating. This is a bug in React. Please file an issue.")}var jo,Fo,Uo,Bo,Vo,Ho=null,Wo=null,Go=!1,qo=!1,Xo=null;function Yo(e,t,n){return!!Ue&&(Wo=Ft(t),Ho=e,Go=!0,Xo=null,qo=!1,null!==n&&function(e,t){No(),Co[Mo++]=To,Co[Mo++]=Ao,Co[Mo++]=Po,To=t.id,Ao=t.overflow,Po=e}(e,n),!0)}function Ko(e,t){switch(e.tag){case 3:Zt(e.stateNode.containerInfo,t);break;case 5:Jt(e.type,e.memoizedProps,e.stateNode,t);break;case v:var n=e.memoizedState;null!==n.dehydrated&&Qt(n.dehydrated,t)}}function $o(e,t){Ko(e,t);var n,r=((n=Hp(5,null,null,0)).elementType="DELETED",n);r.stateNode=t,r.return=e;var i=e.deletions;null===i?(e.deletions=[r],e.flags|=W):i.push(r)}function Zo(e,t){if(!qo)switch(e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:var r=t.type,i=t.pendingProps;en(n,r,i);break;case 6:var a=t.pendingProps;tn(n,a);break;case v:nn(n)}break;case 5:var o=e.type,s=e.memoizedProps,l=e.stateNode;switch(t.tag){case 5:var u=t.type,c=t.pendingProps;sn(o,s,l,u,c);break;case 6:var d=t.pendingProps;ln(o,s,l,d);break;case v:un(o,s,l)}break;case v:var f=e.memoizedState.dehydrated;if(null!==f)switch(t.tag){case 5:var h=t.type,p=t.pendingProps;rn(f,h,p);break;case 6:var m=t.pendingProps;an(f,m);break;case v:on(f)}break;default:return}}function Qo(e,t){t.flags=-4097&t.flags|2,Zo(e,t)}function Jo(e,t){switch(e.tag){case 5:var n=e.type,r=e.pendingProps,i=At(t,n,r);return null!==i&&(e.stateNode=i,Ho=e,Wo=Nt(i),!0);case 6:var a=e.pendingProps,o=It(t,a);return null!==o&&(e.stateNode=o,Ho=e,Wo=null,!0);case v:var s=Rt(t);if(null!==s){var l={dehydrated:s,treeContext:(No(),null!==Po?{id:To,overflow:Ao}:null),retryLane:kr};e.memoizedState=l;var u=function(e){var t=Hp(x,null,null,0);return t.stateNode=e,t}(s);return u.return=e,e.child=u,Ho=e,Wo=null,!0}return!1;default:return!1}}function es(e){return!!(1&e.mode)&&0===(e.flags&G)}function ts(e){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function ns(e){if(Go){var t=Wo;if(!t)return es(e)&&(Zo(Ho,e),ts()),Qo(Ho,e),Go=!1,void(Ho=e);var n=t;if(!Jo(e,t)){es(e)&&(Zo(Ho,e),ts()),t=Lt(n);var r=Ho;if(!t||!Jo(e,t))return Qo(Ho,e),Go=!1,void(Ho=e);$o(r,n)}}}function rs(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==v;)t=t.return;Ho=t}function is(e){if(!Ue)return!1;if(e!==Ho)return!1;if(!Go)return rs(e),Go=!0,!1;if(3!==e.tag&&(5!==e.tag||Yt(e.type)&&!Ie(e.type,e.memoizedProps))){var t=Wo;if(t)if(es(e))as(e),ts();else for(;t;)$o(e,t),t=Lt(t)}return rs(e),Wo=e.tag===v?function(e){if(!Ue)throw new Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Ht(n)}(e):Ho?Lt(e.stateNode):null,!0}function as(e){for(var t=Wo;t;)Ko(e,t),t=Lt(t)}function os(){Ue&&(Ho=null,Wo=null,Go=!1,qo=!1)}function ss(){null!==Xo&&(Vh(Xo),Xo=null)}function ls(){return Go}function us(e){null===Xo?Xo=[e]:Xo.push(e)}var cs;function ds(e,t,n){var r=n.ref;if(null!==r&&"function"!=typeof r&&"object"!=typeof r){if(8&e.mode&&(!n._owner||!n._self||n._owner.stateNode===n._self)){var i=H(e)||"Component";Uo[i]||(l('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r),Uo[i]=!0)}if(n._owner){var a,o=n._owner;if(o){var s=o;if(1!==s.tag)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");a=s.stateNode}if(!a)throw new Error("Missing owner for string ref "+r+". This error is likely caused by a bug in React. Please file an issue.");var u=a;!function(e,t){if(ya(e))l("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",t,va(e)),ba(e)}(r,"ref");var c=""+r;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===c)return t.ref;var d=function(e){var t=u.refs;t===ho&&(t=u.refs={}),null===e?delete t[c]:t[c]=e};return d._stringRef=c,d}if("string"!=typeof r)throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw new Error("Element ref was specified as a string ("+r+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return r}function fs(e,t){var n=Object.prototype.toString.call(t);throw new Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function hs(e){var t=H(e)||"Component";Vo[t]||(Vo[t]=!0,l("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function ps(e){var t=e._payload;return(0,e._init)(t)}function ms(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=W):r.push(n)}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function i(e,t){var n=Gp(e,t);return n.index=0,n.sibling=null,n}function a(t,n,r){if(t.index=r,!e)return t.flags|=ne,n;var i=t.alternate;if(null!==i){var a=i.index;return a<n?(t.flags|=2,n):a}return t.flags|=2,n}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){if(null===t||6!==t.tag){var a=Zp(n,e.mode,r);return a.return=e,a}var o=i(t,n);return o.return=e,o}function u(e,t,n,r){var a=n.type;if(a===M)return d(e,t,n.props.children,r,n.key);if(null!==t&&(t.elementType===a||Op(t,n)||"object"==typeof a&&null!==a&&a.$$typeof===L&&ps(a)===t.type)){var o=i(t,n.props);return o.ref=ds(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var s=Yp(n,e.mode,r);return s.ref=ds(e,t,n),s.return=e,s}function c(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var a=Qp(n,e.mode,r);return a.return=e,a}var o=i(t,n.children||[]);return o.return=e,o}function d(e,t,n,r,a){if(null===t||7!==t.tag){var o=Kp(n,e.mode,r,a);return o.return=e,o}var s=i(t,n);return s.return=e,s}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t){var r=Zp(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:var i=Yp(t,e.mode,n);return i.ref=ds(e,null,t),i.return=e,i;case C:var a=Qp(t,e.mode,n);return a.return=e,a;case L:var o=t._payload;return f(e,(0,t._init)(o),n)}if(xe(t)||F(t)){var s=Kp(t,e.mode,n,null);return s.return=e,s}fs(0,t)}return"function"==typeof t&&hs(e),null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null;case L:var a=n._payload;return h(e,t,(0,n._init)(a),r)}if(xe(n)||F(n))return null!==i?null:d(e,t,n,r,null);fs(0,n)}return"function"==typeof n&&hs(e),null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e.get(null===r.key?n:r.key)||null,r,i);case C:return c(t,e.get(null===r.key?n:r.key)||null,r,i);case L:var a=r._payload;return p(e,t,n,(0,r._init)(a),i)}if(xe(r)||F(r))return d(t,e.get(n)||null,r,i,null);fs(0,r)}return"function"==typeof r&&hs(t),null}function m(e,t,n){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case k:case C:cs(e,n);var r=e.key;if("string"!=typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}l("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",r);break;case L:var i=e._payload;m((0,e._init)(i),t,n)}return t}return function s(u,c,d,g){if("object"==typeof d&&null!==d&&d.type===M&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case k:return o(function(e,r,a,o){for(var s=a.key,l=r;null!==l;){if(l.key===s){var u=a.type;if(u===M){if(7===l.tag){n(e,l.sibling);var c=i(l,a.props.children);return c.return=e,c._debugSource=a._source,c._debugOwner=a._owner,c}}else if(l.elementType===u||Op(l,a)||"object"==typeof u&&null!==u&&u.$$typeof===L&&ps(u)===l.type){n(e,l.sibling);var d=i(l,a.props);return d.ref=ds(e,l,a),d.return=e,d._debugSource=a._source,d._debugOwner=a._owner,d}n(e,l);break}t(e,l),l=l.sibling}if(a.type===M){var f=Kp(a.props.children,e.mode,o,a.key);return f.return=e,f}var h=Yp(a,e.mode,o);return h.ref=ds(e,r,a),h.return=e,h}(u,c,d,g));case C:return o(function(e,r,a,o){for(var s=a.key,l=r;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){n(e,l.sibling);var u=i(l,a.children||[]);return u.return=e,u}n(e,l);break}t(e,l),l=l.sibling}var c=Qp(a,e.mode,o);return c.return=e,c}(u,c,d,g));case L:var v=d._payload;return s(u,c,(0,d._init)(v),g)}if(xe(d))return function(i,o,s,l){for(var u=null,c=0;c<s.length;c++)u=m(s[c],u,i);for(var d=null,g=null,v=o,y=0,b=0,w=null;null!==v&&b<s.length;b++){v.index>b?(w=v,v=null):w=v.sibling;var x=h(i,v,s[b],l);if(null===x){null===v&&(v=w);break}e&&v&&null===x.alternate&&t(i,v),y=a(x,y,b),null===g?d=x:g.sibling=x,g=x,v=w}if(b===s.length)return n(i,v),ls()&&Ro(i,b),d;if(null===v){for(;b<s.length;b++){var _=f(i,s[b],l);null!==_&&(y=a(_,y,b),null===g?d=_:g.sibling=_,g=_)}return ls()&&Ro(i,b),d}for(var S=r(0,v);b<s.length;b++){var E=p(S,i,b,s[b],l);null!==E&&(e&&null!==E.alternate&&S.delete(null===E.key?b:E.key),y=a(E,y,b),null===g?d=E:g.sibling=E,g=E)}return e&&S.forEach(function(e){return t(i,e)}),ls()&&Ro(i,b),d}(u,c,d,g);if(F(d))return function(i,o,s,u){var c=F(s);if("function"!=typeof c)throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===s[Symbol.toStringTag]&&(Fo||l("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Fo=!0),s.entries===c&&(jo||l("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),jo=!0);var d=c.call(s);if(d)for(var g=null,v=d.next();!v.done;v=d.next())g=m(v.value,g,i);var y=c.call(s);if(null==y)throw new Error("An iterable object provided no iterator.");for(var b=null,w=null,x=o,_=0,S=0,E=null,k=y.next();null!==x&&!k.done;S++,k=y.next()){x.index>S?(E=x,x=null):E=x.sibling;var C=h(i,x,k.value,u);if(null===C){null===x&&(x=E);break}e&&x&&null===C.alternate&&t(i,x),_=a(C,_,S),null===w?b=C:w.sibling=C,w=C,x=E}if(k.done)return n(i,x),ls()&&Ro(i,S),b;if(null===x){for(;!k.done;S++,k=y.next()){var M=f(i,k.value,u);null!==M&&(_=a(M,_,S),null===w?b=M:w.sibling=M,w=M)}return ls()&&Ro(i,S),b}for(var P=r(0,x);!k.done;S++,k=y.next()){var T=p(P,i,S,k.value,u);null!==T&&(e&&null!==T.alternate&&P.delete(null===T.key?S:T.key),_=a(T,_,S),null===w?b=T:w.sibling=T,w=T)}return e&&P.forEach(function(e){return t(i,e)}),ls()&&Ro(i,S),b}(u,c,d,g);fs(0,d)}return"string"==typeof d&&""!==d||"number"==typeof d?o(function(e,t,r,a){if(null!==t&&6===t.tag){n(e,t.sibling);var o=i(t,r);return o.return=e,o}n(e,t);var s=Zp(r,e.mode,a);return s.return=e,s}(u,c,""+d,g)):("function"==typeof d&&hs(u),n(u,c))}}jo=!1,Fo=!1,Uo={},Bo={},Vo={},cs=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=H(t)||"Component";Bo[n]||(Bo[n]=!0,l('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var gs=ms(!0),vs=ms(!1);function ys(e,t){for(var n=e.child;null!==n;)qp(n,t),n=n.sibling}var bs={},ws=In(bs),xs=In(bs),_s=In(bs);function Ss(e){if(e===bs)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function Es(){return Ss(_s.current)}function ks(e,t){On(_s,t,e),On(xs,e,e),On(ws,bs,e);var n=Se(t);Rn(ws,e),On(ws,n,e)}function Cs(e){Rn(ws,e),Rn(xs,e),Rn(_s,e)}function Ms(){return Ss(ws.current)}function Ps(e){var t=Ss(_s.current),n=Ss(ws.current),r=Ee(n,e.type,t);n!==r&&(On(xs,e,e),On(ws,r,e))}function Ts(e){xs.current===e&&(Rn(ws,e),Rn(xs,e))}var As=1,Is=1,Rs=2,Os=In(0);function Ds(e,t){return 0!==(e&t)}function zs(e){return e&As}function Ls(e,t){return e&As|t}function Ns(e,t){On(Os,t,e)}function js(e){Rn(Os,e)}function Fs(e,t){var n=e.memoizedState;return null!==n?null!==n.dehydrated:(e.memoizedProps,!0)}function Us(e){for(var t=e;null!==t;){if(t.tag===v){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||Ot(r)||Dt(r))return t}}else if(t.tag===_&&void 0!==t.memoizedProps.revealOrder){if(0!==(t.flags&G))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bs=0,Vs=1,Hs=2,Ws=4,Gs=8,qs=[];function Xs(){for(var e=0;e<qs.length;e++){var t=qs[e];Le?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}qs.length=0}var Ys,Ks,$s=a.ReactCurrentDispatcher,Zs=a.ReactCurrentBatchConfig;Ys=new Set;var Qs=0,Js=null,el=null,tl=null,nl=!1,rl=!1,il=0,al=0,ol=null,sl=null,ll=-1,ul=!1;function cl(){var e=ol;null===sl?sl=[e]:sl.push(e)}function dl(){var e=ol;null!==sl&&(ll++,sl[ll]!==e&&function(e){var t=H(Js);if(!Ys.has(t)&&(Ys.add(t),null!==sl)){for(var n="",r=30,i=0;i<=ll;i++){for(var a=sl[i],o=i===ll?e:a,s=i+1+". "+a;s.length<r;)s+=" ";n+=s+=o+"\n"}l("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function fl(e){null==e||xe(e)||l("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",ol,typeof e)}function hl(){throw new Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function pl(e,t){if(ul)return!1;if(null===t)return l("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",ol),!1;e.length!==t.length&&l("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",ol,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!Bi(e[n],t[n]))return!1;return!0}function ml(e,t,n,r,i,a){Qs=a,Js=t,sl=null!==e?e._debugHookTypes:null,ll=-1,ul=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?$s.current=xu:$s.current=null!==sl?wu:bu;var o=n(r,i);if(rl){var s=0;do{if(rl=!1,il=0,s>=25)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");s+=1,ul=!1,el=null,tl=null,t.updateQueue=null,ll=-1,$s.current=_u,o=n(r,i)}while(rl)}$s.current=yu,t._debugHookTypes=sl;var u=null!==el&&null!==el.next;if(Qs=0,Js=null,el=null,tl=null,ol=null,sl=null,ll=-1,null!==e&&(e.flags&de)!==(t.flags&de)&&1&e.mode&&l("Internal React error: Expected static flag was missing. Please notify the React team."),nl=!1,u)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return o}function gl(){var e=0!==il;return il=0,e}function vl(e,t,n){t.updateQueue=e.updateQueue,0!==(t.mode&$n)?t.flags&=-50333701:t.flags&=-2053,e.lanes=Gr(e.lanes,n)}function yl(){if($s.current=yu,nl){for(var e=Js.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}nl=!1}Qs=0,Js=null,el=null,tl=null,sl=null,ll=-1,ol=null,lu=!1,rl=!1,il=0}function bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===tl?Js.memoizedState=tl=e:tl=tl.next=e,tl}function wl(){var e,t;if(null===el){var n=Js.alternate;e=null!==n?n.memoizedState:null}else e=el.next;if(null!==(t=null===tl?Js.memoizedState:tl.next))t=(tl=t).next,el=e;else{if(null===e)throw new Error("Rendered more hooks than during the previous render.");var r={memoizedState:(el=e).memoizedState,baseState:el.baseState,baseQueue:el.baseQueue,queue:el.queue,next:null};null===tl?Js.memoizedState=tl=r:tl=tl.next=r}return tl}function xl(e,t){return"function"==typeof t?t(e):t}function _l(e,t,n){var r,i=bl();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r};i.queue=a;var o=a.dispatch=du.bind(null,Js,a);return[i.memoizedState,o]}function Sl(e,t,n){var r=wl(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=el,o=a.baseQueue,s=i.pending;if(null!==s){if(null!==o){var u=o.next,c=s.next;o.next=c,s.next=u}a.baseQueue!==o&&l("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=o=s,i.pending=null}if(null!==o){var d=o.next,f=a.baseState,h=null,p=null,m=null,g=d;do{var v=g.lane;if(Hr(Qs,v)){if(null!==m){var y={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};m=m.next=y}if(g.hasEagerState)f=g.eagerState;else f=e(f,g.action)}else{var b={lane:v,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};null===m?(p=m=b,h=f):m=m.next=b,Js.lanes=Wr(Js.lanes,v),Qh(v)}g=g.next}while(null!==g&&g!==d);null===m?h=f:m.next=p,Bi(f,r.memoizedState)||Jc(),r.memoizedState=f,r.baseState=h,r.baseQueue=m,i.lastRenderedState=f}var w=i.interleaved;if(null!==w){var x=w;do{var _=x.lane;Js.lanes=Wr(Js.lanes,_),Qh(_),x=x.next}while(x!==w)}else null===o&&(i.lanes=0);var S=i.dispatch;return[r.memoizedState,S]}function El(e,t,n){var r=wl(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,s=r.memoizedState;if(null!==o){i.pending=null;var l=o.next,u=l;do{s=e(s,u.action),u=u.next}while(u!==l);Bi(s,r.memoizedState)||Jc(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,a]}function kl(e,t,n){var r,i=Js,a=bl();if(ls()){if(void 0===n)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");r=n(),Ks||r!==n()&&(l("The result of getServerSnapshot should be cached to avoid an infinite loop"),Ks=!0)}else{if(r=t(),!Ks){var o=t();Bi(r,o)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Ks=!0)}var s=Ih();if(null===s)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Lr(0,Qs)||Ml(i,t,r)}a.memoizedState=r;var u={value:r,getSnapshot:t};return a.queue=u,Ul(Tl.bind(null,i,u,e),[e]),i.flags|=K,zl(Vs|Gs,Pl.bind(null,i,u,r,t),void 0,null),r}function Cl(e,t,n){var r=Js,i=wl(),a=t();if(!Ks){var o=t();Bi(a,o)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Ks=!0)}var s=i.memoizedState,u=!Bi(s,a);u&&(i.memoizedState=a,Jc());var c=i.queue;if(Bl(Tl.bind(null,r,c,e),[e]),c.getSnapshot!==t||u||null!==tl&&tl.memoizedState.tag&Vs){r.flags|=K,zl(Vs|Gs,Pl.bind(null,r,c,a,t),void 0,null);var d=Ih();if(null===d)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Lr(0,Qs)||Ml(r,t,a)}return a}function Ml(e,t,n){e.flags|=Q;var r={getSnapshot:t,value:n},i=Js.updateQueue;if(null===i)i={lastEffect:null,stores:null},Js.updateQueue=i,i.stores=[r];else{var a=i.stores;null===a?i.stores=[r]:a.push(r)}}function Pl(e,t,n,r){t.value=n,t.getSnapshot=r,Al(t)&&Il(e)}function Tl(e,t,n){return n(function(){Al(t)&&Il(e)})}function Al(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Bi(n,r)}catch(e){return!0}}function Il(e){Lh(e,1,Mr)}function Rl(e){var t=bl();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e};t.queue=n;var r=n.dispatch=fu.bind(null,Js,n);return[t.memoizedState,r]}function Ol(e){return Sl(xl)}function Dl(e){return El(xl)}function zl(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},a=Js.updateQueue;if(null===a)a={lastEffect:null,stores:null},Js.updateQueue=a,a.lastEffect=i.next=i;else{var o=a.lastEffect;if(null===o)a.lastEffect=i.next=i;else{var s=o.next;o.next=i,i.next=s,a.lastEffect=i}}return i}function Ll(e){var t={current:e};return bl().memoizedState=t,t}function Nl(e){return wl().memoizedState}function jl(e,t,n,r){var i=bl(),a=void 0===r?null:r;Js.flags|=e,i.memoizedState=zl(Vs|t,n,void 0,a)}function Fl(e,t,n,r){var i=wl(),a=void 0===r?null:r,o=void 0;if(null!==el){var s=el.memoizedState;if(o=s.destroy,null!==a)if(pl(a,s.deps))return void(i.memoizedState=zl(t,n,o,a))}Js.flags|=e,i.memoizedState=zl(Vs|t,n,o,a)}function Ul(e,t){return 0!==(Js.mode&$n)?jl(41945088,Gs,e,t):jl(8390656,Gs,e,t)}function Bl(e,t){return Fl(K,Gs,e,t)}function Vl(e,t){return jl(4,Hs,e,t)}function Hl(e,t){return Fl(4,Hs,e,t)}function Wl(e,t){var n=4;return n|=ie,0!==(Js.mode&$n)&&(n|=ae),jl(n,Ws,e,t)}function Gl(e,t){return Fl(4,Ws,e,t)}function ql(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var i=t;i.hasOwnProperty("current")||l("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var a=e();return i.current=a,function(){i.current=null}}}function Xl(e,t,n){"function"!=typeof t&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null,i=4;return i|=ie,0!==(Js.mode&$n)&&(i|=ae),jl(i,Ws,ql.bind(null,t,e),r)}function Yl(e,t,n){"function"!=typeof t&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return Fl(4,Ws,ql.bind(null,t,e),r)}function Kl(e,t){}var $l=Kl;function Zl(e,t){var n=void 0===t?null:t;return bl().memoizedState=[e,n],e}function Ql(e,t){var n=wl(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&(null!==r&&pl(r,i[1])))return i[0];return n.memoizedState=[e,r],e}function Jl(e,t){var n=bl(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function eu(e,t){var n=wl(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&(null!==r&&pl(r,i[1])))return i[0];var a=e();return n.memoizedState=[a,r],a}function tu(e){var t=Rl(e),n=t[0],r=t[1];return Ul(function(){var t=Zs.transition;Zs.transition={};try{r(e)}finally{Zs.transition=t}},[e]),n}function nu(e){var t=Ol(),n=t[0],r=t[1];return Bl(function(){var t=Zs.transition;Zs.transition={};try{r(e)}finally{Zs.transition=t}},[e]),n}function ru(e){var t=Dl(),n=t[0],r=t[1];return Bl(function(){var t=Zs.transition;Zs.transition={};try{r(e)}finally{Zs.transition=t}},[e]),n}function iu(e,t,n){var r=ni();ri(function(e,t){return 0!==e&&e<t?e:t}(r,4)),e(!0);var i=Zs.transition;Zs.transition={};var a=Zs.transition;Zs.transition._updatedFibers=new Set;try{e(!1),t()}finally{if(ri(r),Zs.transition=i,null===i&&a._updatedFibers)a._updatedFibers.size>10&&s("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),a._updatedFibers.clear()}}function au(){var e=Rl(!1),t=e[0],n=e[1],r=iu.bind(null,n);return bl().memoizedState=r,[t,r]}function ou(){return[Ol()[0],wl().memoizedState]}function su(){return[Dl()[0],wl().memoizedState]}var lu=!1;function uu(){var e,t=bl(),n=Ih().identifierPrefix;if(ls()){e=":"+n+"R"+Io();var r=il++;r>0&&(e+="H"+r.toString(32)),e+=":"}else{e=":"+n+"r"+(al++).toString(32)+":"}return t.memoizedState=e,e}function cu(){return wl().memoizedState}function du(e,t,n){"function"==typeof arguments[3]&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Oh(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hu(e))pu(t,i);else{mu(e,t,i);var a=Lh(e,r,Rh());null!==a&&gu(a,t,r)}vu(e,r)}function fu(e,t,n){"function"==typeof arguments[3]&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Oh(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hu(e))pu(t,i);else{mu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)){var o=t.lastRenderedReducer;if(null!==o){var s;s=$s.current,$s.current=Eu;try{var u=t.lastRenderedState,c=o(u,n);if(i.hasEagerState=!0,i.eagerState=c,Bi(c,u))return}catch(e){}finally{$s.current=s}}}var d=Lh(e,r,Rh());null!==d&&gu(d,t,r)}vu(e,r)}function hu(e){var t=e.alternate;return e===Js||null!==t&&t===Js}function pu(e,t){rl=nl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mu(e,t,n,r){if(jh(e)){var i=t.interleaved;null===i?(n.next=n,Na(t)):(n.next=i.next,i.next=n),t.interleaved=n}else{var a=t.pending;null===a?n.next=n:(n.next=a.next,a.next=n),t.pending=n}}function gu(e,t,n){if(Nr(n)){var r=t.lanes,i=Wr(r=qr(r,e.pendingLanes),n);t.lanes=i,$r(e,i)}}function vu(e,t,n){Ui(e,t)}var yu={readContext:za,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:f},bu=null,wu=null,xu=null,_u=null,Su=null,Eu=null,ku=null,Cu=function(){l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Mu=function(){l("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};bu={readContext:function(e){return za(e)},useCallback:function(e,t){return ol="useCallback",cl(),fl(t),Zl(e,t)},useContext:function(e){return ol="useContext",cl(),za(e)},useEffect:function(e,t){return ol="useEffect",cl(),fl(t),Ul(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",cl(),fl(n),Xl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",cl(),fl(t),Vl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",cl(),fl(t),Wl(e,t)},useMemo:function(e,t){ol="useMemo",cl(),fl(t);var n=$s.current;$s.current=Su;try{return Jl(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",cl();var r=$s.current;$s.current=Su;try{return _l(e,t,n)}finally{$s.current=r}},useRef:function(e){return ol="useRef",cl(),Ll(e)},useState:function(e){ol="useState",cl();var t=$s.current;$s.current=Su;try{return Rl(e)}finally{$s.current=t}},useDebugValue:function(e,t){ol="useDebugValue",cl()},useDeferredValue:function(e){return ol="useDeferredValue",cl(),tu(e)},useTransition:function(){return ol="useTransition",cl(),au()},useMutableSource:function(e,t,n){ol="useMutableSource",cl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",cl(),kl(e,t,n)},useId:function(){return ol="useId",cl(),uu()},unstable_isNewReconciler:f},wu={readContext:function(e){return za(e)},useCallback:function(e,t){return ol="useCallback",dl(),Zl(e,t)},useContext:function(e){return ol="useContext",dl(),za(e)},useEffect:function(e,t){return ol="useEffect",dl(),Ul(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",dl(),Xl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",dl(),Vl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",dl(),Wl(e,t)},useMemo:function(e,t){ol="useMemo",dl();var n=$s.current;$s.current=Su;try{return Jl(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",dl();var r=$s.current;$s.current=Su;try{return _l(e,t,n)}finally{$s.current=r}},useRef:function(e){return ol="useRef",dl(),Ll(e)},useState:function(e){ol="useState",dl();var t=$s.current;$s.current=Su;try{return Rl(e)}finally{$s.current=t}},useDebugValue:function(e,t){ol="useDebugValue",dl()},useDeferredValue:function(e){return ol="useDeferredValue",dl(),tu(e)},useTransition:function(){return ol="useTransition",dl(),au()},useMutableSource:function(e,t,n){ol="useMutableSource",dl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",dl(),kl(e,t,n)},useId:function(){return ol="useId",dl(),uu()},unstable_isNewReconciler:f},xu={readContext:function(e){return za(e)},useCallback:function(e,t){return ol="useCallback",dl(),Ql(e,t)},useContext:function(e){return ol="useContext",dl(),za(e)},useEffect:function(e,t){return ol="useEffect",dl(),Bl(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",dl(),Yl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",dl(),Hl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",dl(),Gl(e,t)},useMemo:function(e,t){ol="useMemo",dl();var n=$s.current;$s.current=Eu;try{return eu(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",dl();var r=$s.current;$s.current=Eu;try{return Sl(e)}finally{$s.current=r}},useRef:function(e){return ol="useRef",dl(),Nl()},useState:function(e){ol="useState",dl();var t=$s.current;$s.current=Eu;try{return Ol()}finally{$s.current=t}},useDebugValue:function(e,t){return ol="useDebugValue",dl(),$l()},useDeferredValue:function(e){return ol="useDeferredValue",dl(),nu(e)},useTransition:function(){return ol="useTransition",dl(),ou()},useMutableSource:function(e,t,n){ol="useMutableSource",dl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",dl(),Cl(e,t)},useId:function(){return ol="useId",dl(),cu()},unstable_isNewReconciler:f},_u={readContext:function(e){return za(e)},useCallback:function(e,t){return ol="useCallback",dl(),Ql(e,t)},useContext:function(e){return ol="useContext",dl(),za(e)},useEffect:function(e,t){return ol="useEffect",dl(),Bl(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",dl(),Yl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",dl(),Hl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",dl(),Gl(e,t)},useMemo:function(e,t){ol="useMemo",dl();var n=$s.current;$s.current=ku;try{return eu(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",dl();var r=$s.current;$s.current=ku;try{return El(e)}finally{$s.current=r}},useRef:function(e){return ol="useRef",dl(),Nl()},useState:function(e){ol="useState",dl();var t=$s.current;$s.current=ku;try{return Dl()}finally{$s.current=t}},useDebugValue:function(e,t){return ol="useDebugValue",dl(),$l()},useDeferredValue:function(e){return ol="useDeferredValue",dl(),ru(e)},useTransition:function(){return ol="useTransition",dl(),su()},useMutableSource:function(e,t,n){ol="useMutableSource",dl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",dl(),Cl(e,t)},useId:function(){return ol="useId",dl(),cu()},unstable_isNewReconciler:f},Su={readContext:function(e){return Cu(),za(e)},useCallback:function(e,t){return ol="useCallback",Mu(),cl(),Zl(e,t)},useContext:function(e){return ol="useContext",Mu(),cl(),za(e)},useEffect:function(e,t){return ol="useEffect",Mu(),cl(),Ul(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",Mu(),cl(),Xl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",Mu(),cl(),Vl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",Mu(),cl(),Wl(e,t)},useMemo:function(e,t){ol="useMemo",Mu(),cl();var n=$s.current;$s.current=Su;try{return Jl(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",Mu(),cl();var r=$s.current;$s.current=Su;try{return _l(e,t,n)}finally{$s.current=r}},useRef:function(e){return ol="useRef",Mu(),cl(),Ll(e)},useState:function(e){ol="useState",Mu(),cl();var t=$s.current;$s.current=Su;try{return Rl(e)}finally{$s.current=t}},useDebugValue:function(e,t){ol="useDebugValue",Mu(),cl()},useDeferredValue:function(e){return ol="useDeferredValue",Mu(),cl(),tu(e)},useTransition:function(){return ol="useTransition",Mu(),cl(),au()},useMutableSource:function(e,t,n){ol="useMutableSource",Mu(),cl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",Mu(),cl(),kl(e,t,n)},useId:function(){return ol="useId",Mu(),cl(),uu()},unstable_isNewReconciler:f},Eu={readContext:function(e){return Cu(),za(e)},useCallback:function(e,t){return ol="useCallback",Mu(),dl(),Ql(e,t)},useContext:function(e){return ol="useContext",Mu(),dl(),za(e)},useEffect:function(e,t){return ol="useEffect",Mu(),dl(),Bl(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",Mu(),dl(),Yl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",Mu(),dl(),Hl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",Mu(),dl(),Gl(e,t)},useMemo:function(e,t){ol="useMemo",Mu(),dl();var n=$s.current;$s.current=Eu;try{return eu(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",Mu(),dl();var r=$s.current;$s.current=Eu;try{return Sl(e)}finally{$s.current=r}},useRef:function(e){return ol="useRef",Mu(),dl(),Nl()},useState:function(e){ol="useState",Mu(),dl();var t=$s.current;$s.current=Eu;try{return Ol()}finally{$s.current=t}},useDebugValue:function(e,t){return ol="useDebugValue",Mu(),dl(),$l()},useDeferredValue:function(e){return ol="useDeferredValue",Mu(),dl(),nu(e)},useTransition:function(){return ol="useTransition",Mu(),dl(),ou()},useMutableSource:function(e,t,n){ol="useMutableSource",Mu(),dl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",Mu(),dl(),Cl(e,t)},useId:function(){return ol="useId",Mu(),dl(),cu()},unstable_isNewReconciler:f},ku={readContext:function(e){return Cu(),za(e)},useCallback:function(e,t){return ol="useCallback",Mu(),dl(),Ql(e,t)},useContext:function(e){return ol="useContext",Mu(),dl(),za(e)},useEffect:function(e,t){return ol="useEffect",Mu(),dl(),Bl(e,t)},useImperativeHandle:function(e,t,n){return ol="useImperativeHandle",Mu(),dl(),Yl(e,t,n)},useInsertionEffect:function(e,t){return ol="useInsertionEffect",Mu(),dl(),Hl(e,t)},useLayoutEffect:function(e,t){return ol="useLayoutEffect",Mu(),dl(),Gl(e,t)},useMemo:function(e,t){ol="useMemo",Mu(),dl();var n=$s.current;$s.current=Eu;try{return eu(e,t)}finally{$s.current=n}},useReducer:function(e,t,n){ol="useReducer",Mu(),dl();var r=$s.current;$s.current=Eu;try{return El(e)}finally{$s.current=r}},useRef:function(e){return ol="useRef",Mu(),dl(),Nl()},useState:function(e){ol="useState",Mu(),dl();var t=$s.current;$s.current=Eu;try{return Dl()}finally{$s.current=t}},useDebugValue:function(e,t){return ol="useDebugValue",Mu(),dl(),$l()},useDeferredValue:function(e){return ol="useDeferredValue",Mu(),dl(),ru(e)},useTransition:function(){return ol="useTransition",Mu(),dl(),su()},useMutableSource:function(e,t,n){ol="useMutableSource",Mu(),dl()},useSyncExternalStore:function(e,t,n){return ol="useSyncExternalStore",Mu(),dl(),Cl(e,t)},useId:function(){return ol="useId",Mu(),dl(),cu()},unstable_isNewReconciler:f};var Pu=i.unstable_now,Tu=0,Au=-1,Iu=-1,Ru=-1,Ou=!1,Du=!1;function zu(){return Ou}function Lu(){return Tu}function Nu(){Tu=Pu()}function ju(e){Iu=Pu(),e.actualStartTime<0&&(e.actualStartTime=Pu())}function Fu(e){Iu=-1}function Uu(e,t){if(Iu>=0){var n=Pu()-Iu;e.actualDuration+=n,t&&(e.selfBaseDuration=n),Iu=-1}}function Bu(e){if(Au>=0){var t=Pu()-Au;Au=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:return void(n.stateNode.effectDuration+=t);case g:return void(n.stateNode.effectDuration+=t)}n=n.return}}}function Vu(e){if(Ru>=0){var t=Pu()-Ru;Ru=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:var r=n.stateNode;return void(null!==r&&(r.passiveEffectDuration+=t));case g:var i=n.stateNode;return void(null!==i&&(i.passiveEffectDuration+=t))}n=n.return}}}function Hu(){Au=Pu()}function Wu(){Ru=Pu()}function Gu(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function qu(e,t){return{value:e,source:t,stack:Qi(t)}}function Xu(e,t){try{0;var n=t.value,r=t.source,i=t.stack,a=null!==i?i:"";if(null!=n&&n._suppressLogging&&1===e.tag)return;var o=r?H(r):null;3===e.tag||H(e)}catch(e){setTimeout(function(){throw e})}}var Yu,Ku,$u,Zu,Qu="function"==typeof WeakMap?WeakMap:Map;function Ju(e,t,n){var r=Ga(Mr,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){lp(i),Xu(e,t)},r}function ec(e,t,n){var r=Ga(Mr,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){Dp(e),Xu(e,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){var n;Dp(e),Xu(e,t),"function"!=typeof i&&(n=this,null===bh?bh=new Set([n]):bh.add(n));var r=t.value,a=t.stack;this.componentDidCatch(r,{componentStack:null!==a?a:""}),"function"!=typeof i&&(Vr(e.lanes,1)||l("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",H(e)||"Unknown"))}),r}function tc(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new Qu,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var a=dp.bind(null,e,t,n);xi&&_p(e,n),t.then(a,a)}}function nc(e){var t=e;do{if(t.tag===v&&Fs(t))return t;t=t.return}while(null!==t);return null}function rc(e,t,n,r,i){if(!(1&e.mode)){if(e===t)e.flags|=ee;else{if(e.flags|=G,n.flags|=te,n.flags&=-52805,1===n.tag)if(null===n.alternate)n.tag=w;else{var a=Ga(Mr,1);a.tag=Ba,qa(n,a)}n.lanes=Wr(n.lanes,1)}return e}return e.flags|=ee,e.lanes=i,e}function ic(e,t,n,r,i){if(n.flags|=J,xi&&_p(e,i),null!==r&&"object"==typeof r&&"function"==typeof r.then){var a=r;!function(e){var t=e.tag;if(!(1&e.mode||0!==t&&t!==m&&t!==b)){var n=e.alternate;n?(e.updateQueue=n.updateQueue,e.memoizedState=n.memoizedState,e.lanes=n.lanes):(e.updateQueue=null,e.memoizedState=null)}}(n);var o=nc(t);if(null!==o)return o.flags&=-257,rc(o,t,n,0,i),1&o.mode&&tc(e,a,i),void function(e,t,n){var r=e.updateQueue;if(null===r){var i=new Set;i.add(n),e.updateQueue=i}else r.add(n)}(o,0,a);if(!(1&i))return tc(e,a,i),void Jh();r=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}else if(ls()&&1&n.mode){qo=!0;var s=nc(t);if(null!==s)return 0===(s.flags&ee)&&(s.flags|=q),rc(s,t,n,0,i),void us(r)}!function(e){ih!==Kf&&(ih=Xf);null===uh?uh=[e]:uh.push(e)}(r),r=qu(r,n);var l=t;do{switch(l.tag){case 3:var u=r;l.flags|=ee;var c=Fr(i);return l.lanes=Wr(l.lanes,c),void Ya(l,Ju(l,u,c));case 1:var d=r,f=l.type,h=l.stateNode;if(0===(l.flags&G)&&("function"==typeof f.getDerivedStateFromError||null!==h&&"function"==typeof h.componentDidCatch&&!sp(h))){l.flags|=ee;var p=Fr(i);return l.lanes=Wr(l.lanes,p),void Ya(l,ec(l,d,p))}}l=l.return}while(null!==l)}function ac(e){e.flags|=4}function oc(e){e.flags|=X,e.flags|=re}function sc(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(t.flags&W))return!1;for(var n=t.child;null!==n;){if(0!==(n.flags&le)||0!==(n.subtreeFlags&le))return!1;n=n.sibling}return!0}if(je)Yu=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)Pe(e,i.stateNode);else if(4===i.tag);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ku=function(e,t){},$u=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o=t.stateNode,s=Ms(),l=Ae(o,n,a,r,i,s);t.updateQueue=l,l&&ac(t)}},Zu=function(e,t,n,r){n!==r&&ac(t)};else if(Fe){Yu=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;if(n&&r){var o=i.memoizedProps,s=i.type;a=Pt(a,s,o,i)}Pe(e,a)}else if(6===i.tag){var l=i.stateNode;if(n&&r){var u=i.memoizedProps;l=Tt(l,u,i)}Pe(e,l)}else if(4===i.tag);else if(i.tag===S&&null!==i.memoizedState){var c=i.child;null!==c&&(c.return=i),Yu(e,i,!0,!0)}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var lc=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;if(n&&r){var o=i.memoizedProps,s=i.type;a=Pt(a,s,o,i)}yt(e,a)}else if(6===i.tag){var l=i.stateNode;if(n&&r){var u=i.memoizedProps;l=Tt(l,u,i)}yt(e,l)}else if(4===i.tag);else if(i.tag===S&&null!==i.memoizedState){var c=i.child;null!==c&&(c.return=i),lc(e,i,!0,!0)}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Ku=function(e,t){var n=t.stateNode;if(sc(e,t));else{var r=n.containerInfo,i=vt(r);lc(i,t,!1,!1),n.pendingChildren=i,ac(t),bt(r,i)}},$u=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps,s=sc(e,t);if(s&&o===r)t.stateNode=a;else{var l=t.stateNode,u=Ms(),c=null;if(o!==r&&(c=Ae(l,n,o,r,i,u)),s&&null===c)t.stateNode=a;else{var d=gt(a,c,n,o,r,t,s,l);Te(d,n,r,i,u)&&ac(t),t.stateNode=d,s?ac(t):Yu(d,t,!1,!1)}}},Zu=function(e,t,n,r){if(n!==r){var i=Es(),a=Ms();t.stateNode=Re(r,i,a,t),ac(t)}else t.stateNode=e.stateNode}}else Ku=function(e,t){},$u=function(e,t,n,r,i){},Zu=function(e,t,n,r){};function uc(e,t){if(!ls())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function cc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t){if(2&e.mode){for(var i=e.selfBaseDuration,a=e.child;null!==a;)n=Wr(n,Wr(a.lanes,a.childLanes)),r|=a.subtreeFlags&de,r|=a.flags&de,i+=a.treeBaseDuration,a=a.sibling;e.treeBaseDuration=i}else for(var o=e.child;null!==o;)n=Wr(n,Wr(o.lanes,o.childLanes)),r|=o.subtreeFlags&de,r|=o.flags&de,o.return=e,o=o.sibling;e.subtreeFlags|=r}else{if(2&e.mode){for(var s=e.actualDuration,l=e.selfBaseDuration,u=e.child;null!==u;)n=Wr(n,Wr(u.lanes,u.childLanes)),r|=u.subtreeFlags,r|=u.flags,s+=u.actualDuration,l+=u.treeBaseDuration,u=u.sibling;e.actualDuration=s,e.treeBaseDuration=l}else for(var c=e.child;null!==c;)n=Wr(n,Wr(c.lanes,c.childLanes)),r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;e.subtreeFlags|=r}return e.childLanes=n,t}function dc(e,t,n){var r=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case b:case 0:case m:case 7:case 8:case g:case 9:case y:return cc(t),null;case 1:return Vn(t.type)&&Hn(t),cc(t),null;case 3:var i=t.stateNode;if(Cs(t),Wn(t),Xs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null===e||null===e.child)if(is(t))ac(t);else if(null!==e)e.memoizedState.isDehydrated&&0===(t.flags&q)||(t.flags|=Y,ss());return Ku(e,t),cc(t),null;case 5:Ts(t);var a=Es(),o=t.type;if(null!==e&&null!=t.stateNode)$u(e,t,o,r,a),e.ref!==t.ref&&oc(t);else{if(!r){if(null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return cc(t),null}var s=Ms();if(is(t))(function(e,t,n){if(!Ue)throw new Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var r=e.stateNode,i=!qo,a=Ut(r,e.type,e.memoizedProps,t,n,e,i);return e.updateQueue=a,null!==a})(t,a,s)&&ac(t);else{var l=Me(o,r,a,s,t);Yu(l,t,!1,!1),t.stateNode=l,Te(l,o,r,a,s)&&ac(t)}null!==t.ref&&oc(t)}return cc(t),null;case 6:var u=r;if(e&&null!=t.stateNode){var c=e.memoizedProps;Zu(e,t,c,u)}else{if("string"!=typeof u&&null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var d=Es(),f=Ms();is(t)?function(e){if(!Ue)throw new Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.stateNode,n=e.memoizedProps,r=Bt(t,n,e,!qo);if(r){var i=Ho;if(null!==i){var a=!!(1&i.mode);switch(i.tag){case 3:var o=i.stateNode.containerInfo;Kt(o,t,n,a);break;case 5:var s=i.type,l=i.memoizedProps,u=i.stateNode;$t(s,l,u,t,n,a)}}}return r}(t)&&ac(t):t.stateNode=Re(u,d,f,t)}return cc(t),null;case v:js(t);var h=t.memoizedState;if(Go&&null!==Wo&&1&t.mode&&0===(t.flags&G))return as(t),os(),t.flags|=98560,t;if(null!==h&&null!==h.dehydrated){var x=is(t);if(null===e){if(!x)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(function(e){if(!Ue)throw new Error("Expected prepareToHydrateHostSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Vt(n,e)}(t),cc(t),2&t.mode)if(null!==h){var k=t.child;null!==k&&(t.treeBaseDuration-=k.treeBaseDuration)}return null}if(os(),0===(t.flags&G)&&(t.memoizedState=null),t.flags|=4,cc(t),2&t.mode&&null!==h){var C=t.child;null!==C&&(t.treeBaseDuration-=C.treeBaseDuration)}return null}if(ss(),0!==(t.flags&G))return t.lanes=n,2&t.mode&&Gu(t),t;var M=null!==h,P=!1;if(null===e)is(t);else P=null!==e.memoizedState;if(M&&!P)if(t.child.flags|=Z,1&t.mode)null===e&&(!0!==t.memoizedProps.unstable_avoidThisFallback||!0)||Ds(Os.current,Is)?ih===Gf&&(ih=Yf):Jh();if(null!==t.updateQueue&&(t.flags|=4),cc(t),2&t.mode&&M){var T=t.child;null!==T&&(t.treeBaseDuration-=T.treeBaseDuration)}return null;case 4:return Cs(t),Ku(e,t),null===e&&Ve(t.stateNode.containerInfo),cc(t),null;case p:return Ia(t.type._context,t),cc(t),null;case w:return Vn(t.type)&&Hn(t),cc(t),null;case _:js(t);var A=t.memoizedState;if(null===A)return cc(t),null;var I=0!==(t.flags&G),R=A.rendering;if(null===R)if(I)uc(A,!1);else{if(!(ih===Gf&&(null===e||0===(e.flags&G))))for(var O=t.child;null!==O;){var D=Us(O);if(null!==D){I=!0,t.flags|=G,uc(A,!1);var z=D.updateQueue;return null!==z&&(t.updateQueue=z,t.flags|=4),t.subtreeFlags=0,ys(t,n),Ns(t,Ls(Os.current,Rs)),t.child}O=O.sibling}null!==A.tail&&ci()>gh()&&(t.flags|=G,I=!0,uc(A,!1),t.lanes=wr)}else{if(!I){var L=Us(R);if(null!==L){t.flags|=G,I=!0;var N=L.updateQueue;if(null!==N&&(t.updateQueue=N,t.flags|=4),uc(A,!0),null===A.tail&&"hidden"===A.tailMode&&!R.alternate&&!ls())return cc(t),null}else 2*ci()-A.renderingStartTime>gh()&&n!==kr&&(t.flags|=G,I=!0,uc(A,!1),t.lanes=wr)}if(A.isBackwards)R.sibling=t.child,t.child=R;else{var j=A.last;null!==j?j.sibling=R:t.child=R,A.last=R}}if(null!==A.tail){var F=A.tail;A.rendering=F,A.tail=F.sibling,A.renderingStartTime=ci(),F.sibling=null;var U=Os.current;return Ns(t,U=I?Ls(U,Rs):zs(U)),F}return cc(t),null;case 21:break;case S:case E:Xh(t);var B=null!==t.memoizedState;if(null!==e)null!==e.memoizedState!==B&&(t.flags|=Z);return B&&1&t.mode?Vr(nh,kr)&&(cc(t),je&&6&t.subtreeFlags&&(t.flags|=Z)):cc(t),null;case 24:case 25:return null}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}var fc,hc,pc,mc,gc,vc,yc,bc,wc=a.ReactCurrentOwner,xc=!1;function _c(e,t,n,r){t.child=null===e?vs(t,null,n,r):gs(t,e.child,n,r)}function Sc(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&Cn(a,r,"prop",B(n))}var o,s,l=n.render,u=t.ref;if(Da(t,i),Ci(t),wc.current=t,aa(!0),o=ml(e,t,l,r,u,i),s=gl(),8&t.mode){_i(!0);try{o=ml(e,t,l,r,u,i),s=gl()}finally{_i(!1)}}return aa(!1),Mi(),null===e||xc?(ls()&&s&&Do(t),t.flags|=1,_c(e,t,o,i),t.child):(vl(e,t,i),ed(e,t,i))}function Ec(e,t,n,r,i){if(null===e){var a=n.type;if(function(e){return"function"==typeof e&&!Wp(e)&&void 0===e.defaultProps}(a)&&null===n.compare&&void 0===n.defaultProps){var o;return o=Ap(a),t.tag=b,t.type=o,zc(t,a),kc(e,t,o,r,i)}var s=a.propTypes;s&&Cn(s,r,"prop",B(a));var l=Xp(n.type,null,r,t,t.mode,i);return l.ref=t.ref,l.return=t,t.child=l,l}var u=n.type,c=u.propTypes;c&&Cn(c,r,"prop",B(u));var d=e.child;if(!td(e,i)){var f=d.memoizedProps,h=n.compare;if((h=null!==h?h:$i)(f,r)&&e.ref===t.ref)return ed(e,t,i)}t.flags|=1;var p=Gp(d,r);return p.ref=t.ref,p.return=t,t.child=p,p}function kc(e,t,n,r,i){if(t.type!==t.elementType){var a=t.elementType;if(a.$$typeof===L){var o=a,s=o._payload,l=o._init;try{a=l(s)}catch(e){a=null}var u=a&&a.propTypes;u&&Cn(u,r,"prop",B(a))}}if(null!==e&&($i(e.memoizedProps,r)&&e.ref===t.ref&&t.type===e.type)){if(xc=!1,!td(e,i))return t.lanes=e.lanes,ed(e,t,i);0!==(e.flags&te)&&(xc=!0)}return Pc(e,t,n,r,i)}function Cc(e,t,n){var r,i=t.pendingProps,a=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!Vr(n,kr)){var s;if(null!==o)s=Wr(o.baseLanes,n);else s=n;t.lanes=t.childLanes=kr;var l={baseLanes:s,cachePool:null};return t.memoizedState=l,t.updateQueue=null,qh(t,s),null}var u={baseLanes:0,cachePool:null};t.memoizedState=u,qh(t,null!==o?o.baseLanes:n)}else{var c={baseLanes:0,cachePool:null};t.memoizedState=c,qh(t,n)}else null!==o?(r=Wr(o.baseLanes,n),t.memoizedState=null):r=n,qh(t,r);return _c(e,t,a,n),t.child}function Mc(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=X,t.flags|=re)}function Pc(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&Cn(a,r,"prop",B(n))}var o,s,l;if(o=Un(t,jn(0,n,!0)),Da(t,i),Ci(t),wc.current=t,aa(!0),s=ml(e,t,n,r,o,i),l=gl(),8&t.mode){_i(!0);try{s=ml(e,t,n,r,o,i),l=gl()}finally{_i(!1)}}return aa(!1),Mi(),null===e||xc?(ls()&&l&&Do(t),t.flags|=1,_c(e,t,s,i),t.child):(vl(e,t,i),ed(e,t,i))}function Tc(e,t,n,r,i){switch(um(t)){case!1:var a=t.stateNode,o=new(0,t.type)(t.memoizedProps,a.context).state;a.updater.enqueueSetState(a,o,null);break;case!0:t.flags|=G,t.flags|=ee;var s=new Error("Simulated error coming from DevTools"),u=Fr(i);t.lanes=Wr(t.lanes,u),Ya(t,ec(t,qu(s,t),u))}if(t.type!==t.elementType){var c=n.propTypes;c&&Cn(c,r,"prop",B(n))}var d,f;Vn(n)?(d=!0,Xn(t)):d=!1,Da(t,i),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),xo(t,n,r,i),f=!0):f=null===e?function(e,t,n,r){var i=e.stateNode,a=e.memoizedProps;i.props=a;var o=i.context,s=t.contextType,l=Dn;l="object"==typeof s&&null!==s?za(s):Un(e,jn(0,t,!0));var u=t.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||a===n&&o===l||wo(e,i,n,l),Qa();var d=e.memoizedState,f=i.state=d;if($a(e,n,i,r),f=e.memoizedState,a===n&&d===f&&!Bn()&&!Ja()){if("function"==typeof i.componentDidMount){var h=4;h|=ie,0!==(e.mode&$n)&&(h|=ae),e.flags|=h}return!1}"function"==typeof u&&(mo(e,t,u,n),f=e.memoizedState);var p=Ja()||vo(e,t,a,n,d,f,l);if(p){if(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount){var m=4;m|=ie,0!==(e.mode&$n)&&(m|=ae),e.flags|=m}}else{if("function"==typeof i.componentDidMount){var g=4;g|=ie,0!==(e.mode&$n)&&(g|=ae),e.flags|=g}e.memoizedProps=n,e.memoizedState=f}return i.props=n,i.state=f,i.context=l,p}(t,n,r,i):function(e,t,n,r,i){var a=t.stateNode;Wa(e,t);var o=t.memoizedProps,s=t.type===t.elementType?o:wa(t.type,o);a.props=s;var l=t.pendingProps,u=a.context,c=n.contextType,d=Dn;d="object"==typeof c&&null!==c?za(c):Un(t,jn(0,n,!0));var f=n.getDerivedStateFromProps,p="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||o===l&&u===d||wo(t,a,r,d),Qa();var m=t.memoizedState,g=a.state=m;if($a(t,r,a,i),g=t.memoizedState,o===l&&m===g&&!Bn()&&!Ja())return"function"==typeof a.componentDidUpdate&&(o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4)),"function"==typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&m===e.memoizedState||(t.flags|=Y)),!1;"function"==typeof f&&(mo(t,n,f,r),g=t.memoizedState);var v=Ja()||vo(t,n,s,r,m,g,d)||h;return v?(p||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,d),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,d)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=Y)):("function"==typeof a.componentDidUpdate&&(o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4)),"function"==typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&m===e.memoizedState||(t.flags|=Y)),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=d,v}(e,t,n,r,i);var p=Ac(e,t,n,f,d,i),m=t.stateNode;return f&&m.props!==r&&(vc||l("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",H(t)||"a component"),vc=!0),p}function Ac(e,t,n,r,i,a){Mc(e,t);var o=0!==(t.flags&G);if(!r&&!o)return i&&Yn(t,n,!1),ed(e,t,a);var s,l=t.stateNode;if(wc.current=t,o&&"function"!=typeof n.getDerivedStateFromError)s=null,Fu();else{if(Ci(t),aa(!0),s=l.render(),8&t.mode){_i(!0);try{l.render()}finally{_i(!1)}}aa(!1),Mi()}return t.flags|=1,null!==e&&o?function(e,t,n,r){t.child=gs(t,e.child,null,r),t.child=gs(t,null,n,r)}(e,t,s,a):_c(e,t,s,a),t.memoizedState=l.state,i&&Yn(t,n,!0),t.child}function Ic(e){var t=e.stateNode;t.pendingContext?Gn(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gn(e,t.context,!1),ks(e,t.containerInfo)}function Rc(e,t,n){if(Ic(t),null===e)throw new Error("Should have a current fiber. This is a bug in React.");var r=t.pendingProps,i=t.memoizedState,a=i.element;Wa(e,t),$a(t,r,null,n);var o=t.memoizedState;t.stateNode;var s=o.element;if(Ue&&i.isDehydrated){var l={element:s,isDehydrated:!1,cache:o.cache,transitions:o.transitions};if(t.updateQueue.baseState=l,t.memoizedState=l,t.flags&q)return Oc(e,t,s,n,new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."));if(s!==a)return Oc(e,t,s,n,new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."));!function(e){if(!Ue)return!1;var t=e.stateNode.containerInfo;Wo=jt(t),Ho=e,Go=!0,Xo=null,qo=!1}(t);var u=vs(t,null,s,n);t.child=u;for(var c=u;c;)c.flags=-3&c.flags|$,c=c.sibling}else{if(os(),s===a)return ed(e,t,n);_c(e,t,s,n)}return t.child}function Oc(e,t,n,r,i){return os(),us(i),t.flags|=q,_c(e,t,n,r),t.child}function Dc(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i=t.pendingProps,a=n,o=a._payload,s=(0,a._init)(o);t.type=s;var l=t.tag=function(e){if("function"==typeof e)return Wp(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===R)return m;if(t===z)return y}return 2}(s),u=wa(s,i);switch(l){case 0:return zc(t,s),t.type=s=Ap(s),Pc(null,t,s,u,r);case 1:return t.type=s=Ip(s),Tc(null,t,s,u,r);case m:return t.type=s=Rp(s),Sc(null,t,s,u,r);case y:if(t.type!==t.elementType){var c=s.propTypes;c&&Cn(c,u,"prop",B(s))}return Ec(null,t,s,wa(s.type,u),r)}var d="";throw null!==s&&"object"==typeof s&&s.$$typeof===L&&(d=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+s+". Lazy element type must resolve to a class or function."+d)}function zc(e,t){if(t&&t.childContextTypes&&l("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=function(){if(null===ea)return null;var e=ea._debugOwner;return null!=e?H(e):null}();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||"",a=e._debugSource;a&&(i=a.fileName+":"+a.lineNumber),gc[i]||(gc[i]=!0,l("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if("function"==typeof t.getDerivedStateFromProps){var o=B(t)||"Unknown";mc[o]||(l("%s: Function components do not support getDerivedStateFromProps.",o),mc[o]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var s=B(t)||"Unknown";pc[s]||(l("%s: Function components do not support contextType.",s),pc[s]=!0)}}fc={},hc={},pc={},mc={},gc={},vc=!1,yc={},bc={};var Lc={dehydrated:null,treeContext:null,retryLane:0};function Nc(e){return{baseLanes:e,cachePool:null}}function jc(e,t){return{baseLanes:Wr(e.baseLanes,t),cachePool:null}}function Fc(e,t){return Gr(e.childLanes,t)}function Uc(e,t,n){var r=t.pendingProps;dm(t)&&(t.flags|=G);var i=Os.current,a=!1,o=0!==(t.flags&G);if(o||function(e,t){return(null===t||null!==t.memoizedState)&&Ds(e,Rs)}(i,e)?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i=i|Is),Ns(t,i=zs(i)),null===e){ns(t);var s=t.memoizedState;if(null!==s){var u=s.dehydrated;if(null!==u)return function(e,t){1&e.mode?Dt(t)?e.lanes=8:e.lanes=kr:(l("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),e.lanes=1);return null}(t,u)}var c=r.children,d=r.fallback;if(a){var f=function(e,t,n,r){var i,a,o=e.mode,s=e.child,l={mode:"hidden",children:t};1&o||null===s?(i=Vc(l,o),a=Kp(n,o,r,null)):((i=s).childLanes=0,i.pendingProps=l,2&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),a=Kp(n,o,r,null));return i.return=e,a.return=e,i.sibling=a,e.child=i,a}(t,c,d,n);return t.child.memoizedState=Nc(n),t.memoizedState=Lc,f}return Bc(t,c)}var h=e.memoizedState;if(null!==h){var p=h.dehydrated;if(null!==p){if(o){if(t.flags&q)return t.flags&=-257,qc(e,t,n,new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));if(null!==t.memoizedState)return t.child=e.child,t.flags|=G,null;var m=function(e,t,n,r,i){var a=t.mode,o=Vc({mode:"visible",children:n},a),s=Kp(r,a,i,null);s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,!(1&t.mode)||gs(t,e.child,null,i);return s}(e,t,r.children,r.fallback,n);return t.child.memoizedState=Nc(n),t.memoizedState=Lc,m}return function(e,t,n,r,i){if(function(){Go&&l("We should not be hydrating here. This is a bug in React. Please file a bug.")}(),!(1&t.mode))return qc(e,t,i,null);if(Dt(n))return qc(e,t,i,new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."));var a=Vr(i,e.childLanes);if(xc||a){var o=Ih();if(null!==o){var s=function(e,t){var n;switch(jr(t)){case 4:n=2;break;case er:n=8;break;case 64:case 128:case 256:case 512:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case dr:case fr:case hr:case mr:case gr:case vr:case yr:case br:n=32;break;case Er:n=Sr;break;default:n=0}return 0!==(n&(e.suspendedLanes|t))?0:n}(o,i);if(0!==s&&s!==r.retryLane)r.retryLane=s,Lh(e,s,Mr)}return Jh(),qc(e,t,i,new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."))}if(Ot(n)){t.flags|=G,t.child=e.child;var u=hp.bind(null,e);return zt(n,u),null}Yo(t,n,r.treeContext);var c=Bc(t,t.pendingProps.children);return c.flags|=$,c}(e,t,p,h,n)}if(a){var g=r.fallback,v=Gc(e,t,r.children,g,n),y=t.child,b=e.child.memoizedState;return y.memoizedState=null===b?Nc(n):jc(b,n),y.childLanes=Fc(e,n),t.memoizedState=Lc,v}var w=Wc(e,t,r.children,n);return t.memoizedState=null,w}if(a){var x=r.fallback,_=Gc(e,t,r.children,x,n),S=t.child,E=e.child.memoizedState;return S.memoizedState=null===E?Nc(n):jc(E,n),S.childLanes=Fc(e,n),t.memoizedState=Lc,_}var k=Wc(e,t,r.children,n);return t.memoizedState=null,k}function Bc(e,t,n){var r=Vc({mode:"visible",children:t},e.mode);return r.return=e,e.child=r,r}function Vc(e,t,n){return $p(e,t,0,null)}function Hc(e,t){return Gp(e,t)}function Wc(e,t,n,r){var i=e.child,a=i.sibling,o=Hc(i,{mode:"visible",children:n});if(1&t.mode||(o.lanes=r),o.return=t,o.sibling=null,null!==a){var s=t.deletions;null===s?(t.deletions=[a],t.flags|=W):s.push(a)}return t.child=o,o}function Gc(e,t,n,r,i){var a,o,s=t.mode,l=e.child,u=l.sibling,c={mode:"hidden",children:n};1&s||t.child===l?(a=Hc(l,c)).subtreeFlags=l.subtreeFlags&de:((a=t.child).childLanes=0,a.pendingProps=c,2&t.mode&&(a.actualDuration=0,a.actualStartTime=-1,a.selfBaseDuration=l.selfBaseDuration,a.treeBaseDuration=l.treeBaseDuration),t.deletions=null);return null!==u?o=Gp(u,r):(o=Kp(r,s,i,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,o}function qc(e,t,n,r){null!==r&&us(r),gs(t,e.child,null,n);var i=Bc(t,t.pendingProps.children);return i.flags|=2,t.memoizedState=null,i}function Xc(e,t,n){e.lanes=Wr(e.lanes,t);var r=e.alternate;null!==r&&(r.lanes=Wr(r.lanes,t)),Ra(e.return,t,n)}function Yc(e,t){var n=xe(e),r=!n&&"function"==typeof F(e);if(n||r){var i=n?"array":"iterable";return l("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Kc(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $c(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail,o=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!yc[e])if(yc[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":l('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":l('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:l('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else l('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||bc[e]||("collapsed"!==e&&"hidden"!==e?(bc[e]=!0,l('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(bc[e]=!0,l('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(a,i),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(xe(e)){for(var n=0;n<e.length;n++)if(!Yc(e[n],n))return}else{var r=F(e);if("function"==typeof r){var i=r.call(e);if(i)for(var a=i.next(),o=0;!a.done;a=i.next()){if(!Yc(a.value,o))return;o++}}else l('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(o,i),_c(e,t,o,n);var s=Os.current;Ds(s,Rs)?(s=Ls(s,Rs),t.flags|=G):(null!==e&&0!==(e.flags&G)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===v)null!==r.memoizedState&&Xc(r,n,e);else if(r.tag===_)Xc(r,n,e);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),s=zs(s));if(Ns(t,s),1&t.mode)switch(i){case"forwards":var u,c=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===Us(r)&&(n=t),t=t.sibling}return n}(t.child);null===c?(u=t.child,t.child=null):(u=c.sibling,c.sibling=null),Kc(t,!1,u,c,a);break;case"backwards":var d=null,f=t.child;for(t.child=null;null!==f;){var h=f.alternate;if(null!==h&&null===Us(h)){t.child=f;break}var p=f.sibling;f.sibling=d,d=f,f=p}Kc(t,!0,d,null,a);break;case"together":Kc(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}var Zc=!1;var Qc=!1;function Jc(){xc=!0}function ed(e,t,n){return null!==e&&(t.dependencies=e.dependencies),Fu(),Qh(t.lanes),Vr(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw new Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=Gp(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=Gp(n,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function td(e,t){return!!Vr(e.lanes,t)}function nd(e,t,n){if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var a=r.deletions;return null===a?(r.deletions=[e],r.flags|=W):a.push(e),n.flags|=2,n}(e,t,Xp(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||Bn()||t.type!==e.type)xc=!0;else{if(!td(e,n)&&0===(t.flags&G))return xc=!1,function(e,t,n){switch(t.tag){case 3:Ic(t),t.stateNode,os();break;case 5:Ps(t);break;case 1:Vn(t.type)&&Xn(t);break;case 4:ks(t,t.stateNode.containerInfo);break;case p:var r=t.memoizedProps.value;Aa(t,t.type._context,r);break;case g:Vr(n,t.childLanes)&&(t.flags|=4);var i=t.stateNode;i.effectDuration=0,i.passiveEffectDuration=0;break;case v:var a=t.memoizedState;if(null!==a){if(null!==a.dehydrated)return Ns(t,zs(Os.current)),t.flags|=G,null;if(Vr(n,t.child.childLanes))return Uc(e,t,n);Ns(t,zs(Os.current));var o=ed(e,t,n);return null!==o?o.sibling:null}Ns(t,zs(Os.current));break;case _:var s=0!==(e.flags&G),l=Vr(n,t.childLanes);if(s){if(l)return $c(e,t,n);t.flags|=G}var u=t.memoizedState;if(null!==u&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ns(t,Os.current),l)break;return null;case S:case E:return t.lanes=0,Cc(e,t,n)}return ed(e,t,n)}(e,t,n);xc=0!==(e.flags&te)}else if(xc=!1,ls()&&function(e){return No(),0!==(e.flags&ne)}(t)){var r=t.index;Oo(t,(No(),ko),r)}switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i,a,o,s=t.pendingProps;if(i=Un(t,jn(0,n,!1)),Da(t,r),Ci(t),n.prototype&&"function"==typeof n.prototype.render){var u=B(n)||"Unknown";fc[u]||(l("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",u,u),fc[u]=!0)}if(8&t.mode&&oa.recordLegacyContextWarning(t,null),aa(!0),wc.current=t,a=ml(null,t,n,s,i,r),o=gl(),aa(!1),Mi(),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var c=B(n)||"Unknown";hc[c]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),hc[c]=!0)}if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var d=B(n)||"Unknown";hc[d]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",d,d,d),hc[d]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var f=!1;return Vn(n)?(f=!0,Xn(t)):f=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ha(t),yo(t,a),xo(t,n,s,r),Ac(null,t,n,!0,f,r)}if(t.tag=0,8&t.mode){_i(!0);try{a=ml(null,t,n,s,i,r),o=gl()}finally{_i(!1)}}return ls()&&o&&Do(t),_c(null,t,a,r),zc(t,n),t.child}(e,t,t.type,n);case 16:return Dc(e,t,t.elementType,n);case 0:var i=t.type,a=t.pendingProps;return Pc(e,t,i,t.elementType===i?a:wa(i,a),n);case 1:var o=t.type,s=t.pendingProps;return Tc(e,t,o,t.elementType===o?s:wa(o,s),n);case 3:return Rc(e,t,n);case 5:return function(e,t,n){Ps(t),null===e&&ns(t);var r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children;return Ie(r,i)?o=null:null!==a&&Ie(r,a)&&(t.flags|=32),Mc(e,t),_c(e,t,o,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&ns(t),null}(e,t);case v:return Uc(e,t,n);case 4:return function(e,t,n){ks(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=gs(t,null,r,n):_c(e,t,r,n),t.child}(e,t,n);case m:var u=t.type,c=t.pendingProps;return Sc(e,t,u,t.elementType===u?c:wa(u,c),n);case 7:return function(e,t,n){return _c(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return _c(e,t,t.pendingProps.children,n),t.child}(e,t,n);case g:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,_c(e,t,t.pendingProps.children,n),t.child}(e,t,n);case p:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;"value"in i||Zc||(Zc=!0,l("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var s=t.type.propTypes;if(s&&Cn(s,i,"prop","Context.Provider"),Aa(t,r,o),null!==a){var u=a.value;if(Bi(u,o)){if(a.children===i.children&&!Bn())return ed(e,t,n)}else Oa(t,r,n)}return _c(e,t,i.children,n),t.child}(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(Qc||(Qc=!0,l("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps.children;"function"!=typeof i&&l("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Da(t,n);var a,o=za(r);return Ci(t),wc.current=t,aa(!0),a=i(o),aa(!1),Mi(),t.flags|=1,_c(e,t,a,n),t.child}(e,t,n);case y:var d=t.type,f=wa(d,t.pendingProps);if(t.type!==t.elementType){var h=d.propTypes;h&&Cn(h,f,"prop",B(d))}return Ec(e,t,d,f=wa(d.type,f),n);case b:return kc(e,t,t.type,t.pendingProps,n);case w:var x=t.type,k=t.pendingProps;return function(e,t,n,r,i){var a;return null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Vn(n)?(a=!0,Xn(t)):a=!1,Da(t,i),bo(t,n,r),xo(t,n,r,i),Ac(null,t,n,!0,a,i)}(e,t,x,t.elementType===x?k:wa(x,k),n);case _:return $c(e,t,n);case 21:break;case S:return Cc(e,t,n)}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function rd(e,t,n){switch(Lo(t),t.tag){case 1:Vn(t.type)&&Hn(t);var r=t.flags;return r&ee?(t.flags=-65537&r|G,2&t.mode&&Gu(t),t):null;case 3:Cs(t),Wn(t),Xs();var i=t.flags;return 0!==(i&ee)&&0===(i&G)?(t.flags=-65537&i|G,t):null;case 5:return Ts(t),null;case v:js(t);var a=t.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===t.alternate)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");os()}var o=t.flags;return o&ee?(t.flags=-65537&o|G,2&t.mode&&Gu(t),t):null;case _:return js(t),null;case 4:return Cs(t),null;case p:return Ia(t.type._context,t),null;case S:case E:return Xh(t),null;default:return null}}function id(e,t,n){switch(Lo(t),t.tag){case 1:var r=t.type.childContextTypes;null!=r&&Hn(t);break;case 3:Cs(t),Wn(t),Xs();break;case 5:Ts(t);break;case 4:Cs(t);break;case v:case _:js(t);break;case p:Ia(t.type._context,t);break;case S:case E:Xh(t)}}function ad(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var od=ad;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var sd=document.createElement("react");od=function(e,t,n,r,i,a,o,s,l){if("undefined"==typeof document||null===document)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var u=document.createEvent("Event"),c=!1,d=!0,f=window.event,h=Object.getOwnPropertyDescriptor(window,"event");function p(){sd.removeEventListener(x,v,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=f)}var m,g=Array.prototype.slice.call(arguments,3);function v(){c=!0,p(),t.apply(n,g),d=!1}var y=!1,b=!1;function w(e){if(m=e.error,y=!0,null===m&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=m&&"object"==typeof m)try{m._suppressLogging=!0}catch(e){}}var x="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",w),sd.addEventListener(x,v,!1),u.initEvent(x,!1,!1),sd.dispatchEvent(u),h&&Object.defineProperty(window,"event",h),c&&d&&(y?b&&(m=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):m=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(m)),window.removeEventListener("error",w),!c)return p(),ad.apply(this,arguments)}}var ld=od,ud=!1,cd=null,dd={onError:function(e){ud=!0,cd=e}};function fd(e,t,n,r,i,a,o,s,l){ud=!1,cd=null,ld.apply(dd,arguments)}function hd(){if(ud){var e=cd;return ud=!1,cd=null,e}throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}var pd=null;pd=new Set;var md=!1,gd=!1,vd="function"==typeof WeakSet?WeakSet:Set,yd=null,bd=null,wd=null;function xd(e){fd(null,function(){throw e}),hd()}var _d=function(e,t){if(t.props=e.memoizedProps,t.state=e.memoizedState,2&e.mode)try{Hu(),t.componentWillUnmount()}finally{Bu(e)}else t.componentWillUnmount()};function Sd(e,t){try{Od(Ws,e)}catch(n){xd(n),cp(e,t,n)}}function Ed(e,t,n){try{_d(e,n)}catch(n){xd(n),cp(e,t,n)}}function kd(e,t){try{Nd(e)}catch(n){xd(n),cp(e,t,n)}}function Cd(e,t){var n=e.ref;if(null!==n)if("function"==typeof n){var r;try{if(2&e.mode)try{Hu(),r=n(null)}finally{Bu(e)}else r=n(null)}catch(n){xd(n),cp(e,t,n)}"function"==typeof r&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",H(e))}else n.current=null}function Md(e,t,n){try{n()}catch(n){xd(n),cp(e,t,n)}}var Pd=!1;function Td(e,t){ke(e.containerInfo),yd=t,function(){for(;null!==yd;){var e=yd,t=e.child;0!==(e.subtreeFlags&se)&&null!==t?(yf(t,e),yd=t):Ad()}}();var n=Pd;return Pd=!1,n}function Ad(){for(;null!==yd;){var e=yd;ia(e);try{Id(e)}catch(t){xd(t),cp(e,e.return,t)}ra();var t=e.sibling;if(null!==t)return yf(t,e.return),void(yd=t);yd=e.return}}function Id(e){var t=e.alternate;if(0!==(e.flags&Y)){switch(ia(e),e.tag){case 0:case m:case b:break;case 1:if(null!==t){var n=t.memoizedProps,r=t.memoizedState,i=e.stateNode;e.type!==e.elementType||vc||(i.props!==e.memoizedProps&&l("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(e)||"instance"),i.state!==e.memoizedState&&l("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(e)||"instance"));var a=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:wa(e.type,n),r),o=pd;void 0!==a||o.has(e.type)||(o.add(e.type),l("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",H(e))),i.__reactInternalSnapshotBeforeUpdate=a}break;case 3:if(je){var s=e.stateNode;mt(s.containerInfo)}break;case 5:case 6:case 4:case w:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}ra()}}function Rd(e,t,n){var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next,o=a;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,void 0!==s&&((e&Gs)!==Bs?Ai(t):(e&Ws)!==Bs&&Di(t),Md(t,n,s),(e&Gs)!==Bs?Ii():(e&Ws)!==Bs&&zi())}o=o.next}while(o!==a)}}function Od(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,a=i;do{if((a.tag&e)===e){(e&Gs)!==Bs?Pi(t):(e&Ws)!==Bs&&Ri(t);var o=a.create;a.destroy=o(),(e&Gs)!==Bs?Ti():(e&Ws)!==Bs&&Oi();var s=a.destroy;if(void 0!==s&&"function"!=typeof s){var u=void 0;l("%s must not return anything besides a function, which is used for clean-up.%s",u=0!==(a.tag&Ws)?"useLayoutEffect":0!==(a.tag&Hs)?"useInsertionEffect":"useEffect",null===s?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof s.then?"\n\nIt looks like you wrote "+u+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+u+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+s)}}a=a.next}while(a!==i)}}function Dd(e,t){if(4&t.flags&&t.tag===g){var n=t.stateNode.passiveEffectDuration,r=t.memoizedProps,i=r.id,a=r.onPostCommit,o=Lu(),s=null===t.alternate?"mount":"update";zu()&&(s="nested-update"),"function"==typeof a&&a(i,s,n,o);var l=t.return;e:for(;null!==l;){switch(l.tag){case 3:l.stateNode.passiveEffectDuration+=n;break e;case g:l.stateNode.passiveEffectDuration+=n;break e}l=l.return}}}function zd(e,t,n,r){if(0!==(n.flags&ue))switch(n.tag){case 0:case m:case b:if(!gd)if(2&n.mode)try{Hu(),Od(Ws|Vs,n)}finally{Bu(n)}else Od(Ws|Vs,n);break;case 1:var i=n.stateNode;if(4&n.flags&&!gd)if(null===t)if(n.type!==n.elementType||vc||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(n)||"instance")),2&n.mode)try{Hu(),i.componentDidMount()}finally{Bu(n)}else i.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:wa(n.type,t.memoizedProps),o=t.memoizedState;if(n.type!==n.elementType||vc||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(n)||"instance")),2&n.mode)try{Hu(),i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}finally{Bu(n)}else i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;null!==s&&(n.type!==n.elementType||vc||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",H(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",H(n)||"instance")),eo(0,s,i));break;case 3:var u=n.updateQueue;if(null!==u){var c=null;if(null!==n.child)switch(n.child.tag){case 5:c=_e(n.child.stateNode);break;case 1:c=n.child.stateNode}eo(0,u,c)}break;case 5:var d=n.stateNode;if(null===t&&4&n.flags){var f=n.type,h=n.memoizedProps;it(d,f,h,n)}break;case 6:case 4:break;case g:var p=n.memoizedProps,y=p.onCommit,x=p.onRender,k=n.stateNode.effectDuration,C=Lu(),M=null===t?"mount":"update";zu()&&(M="nested-update"),"function"==typeof x&&x(n.memoizedProps.id,M,n.actualDuration,n.treeBaseDuration,n.actualStartTime,C),"function"==typeof y&&y(n.memoizedProps.id,M,k,C),T=n,Sh.push(T),wh||(wh=!0,Ep(hi,function(){return op(),null}));var P=n.return;e:for(;null!==P;){switch(P.tag){case 3:P.stateNode.effectDuration+=k;break e;case g:P.stateNode.effectDuration+=k;break e}P=P.return}break;case v:!function(e,t){if(!Ue)return;var n=t.memoizedState;if(null===n){var r=t.alternate;if(null!==r){var i=r.memoizedState;if(null!==i){var a=i.dehydrated;null!==a&&Gt(a)}}}}(0,n);break;case _:case w:case 21:case S:case E:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}var T;gd||n.flags&X&&Nd(n)}function Ld(e){switch(e.tag){case 0:case m:case b:if(2&e.mode)try{Hu(),Sd(e,e.return)}finally{Bu(e)}else Sd(e,e.return);break;case 1:var t=e.stateNode;"function"==typeof t.componentDidMount&&function(e,t,n){try{n.componentDidMount()}catch(n){xd(n),cp(e,t,n)}}(e,e.return,t),kd(e,e.return);break;case 5:kd(e,e.return)}}function Nd(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;if(5===e.tag)n=_e(r);else n=r;if("function"==typeof t){var i;if(2&e.mode)try{Hu(),i=t(n)}finally{Bu(e)}else i=t(n);"function"==typeof i&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",H(e))}else t.hasOwnProperty("current")||l("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",H(e)),t.current=n}}function jd(e,t,n){switch(function(e){if(yi&&"function"==typeof yi.onCommitFiberUnmount)try{yi.onCommitFiberUnmount(vi,e)}catch(e){wi||(wi=!0,l("React instrumentation encountered an error: %s",e))}}(t),t.tag){case 0:case m:case y:case b:var r=t.updateQueue;if(null!==r){var i=r.lastEffect;if(null!==i){var a=i.next,o=a;do{var s=o,u=s.destroy,c=s.tag;void 0!==u&&((c&Hs)!==Bs?Md(t,n,u):(c&Ws)!==Bs&&(Di(t),2&t.mode?(Hu(),Md(t,n,u),Bu(t)):Md(t,n,u),zi())),o=o.next}while(o!==a)}}return;case 1:Cd(t,n);var d=t.stateNode;return void("function"==typeof d.componentWillUnmount&&Ed(t,n,d));case 5:return void Cd(t,n);case 4:return void(je?qd(e,t,n):Fe&&function(e){if(!Fe)return;var t=e.stateNode,n=t.containerInfo,r=vt(n);wt(n,r)}(t));case x:case 21:return}}function Fd(e,t,n){for(var r=t;;)if(jd(e,r,n),null===r.child||je&&4===r.tag){if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Ud(e){var t=e.alternate;if(null!==t&&(e.alternate=null,Ud(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag){var n=e.stateNode;null!==n&&We(n)}e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bd(e){return 5===e.tag||3===e.tag||4===e.tag}function Vd(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||Bd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&t.tag!==x;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Hd(e){if(je){var t=function(e){for(var t=e.return;null!==t;){if(Bd(t))return t;t=t.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e);switch(t.tag){case 5:var n=t.stateNode;32&t.flags&&(ct(n),t.flags&=-33),Gd(e,Vd(e),n);break;case 3:case 4:var r=t.stateNode.containerInfo;Wd(e,Vd(e),r);break;default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function Wd(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?st(n,i,t):nt(n,i)}else if(4===r);else{var a=e.child;if(null!==a){Wd(a,t,n);for(var o=a.sibling;null!==o;)Wd(o,t,n),o=o.sibling}}}function Gd(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?ot(n,i,t):tt(n,i)}else if(4===r);else{var a=e.child;if(null!==a){Gd(a,t,n);for(var o=a.sibling;null!==o;)Gd(o,t,n),o=o.sibling}}}function qd(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){var s=a.return;e:for(;;){if(null===s)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var l=s.stateNode;switch(s.tag){case 5:r=l,i=!1;break e;case 3:case 4:r=l.containerInfo,i=!0;break e}s=s.return}o=!0}if(5===a.tag||6===a.tag)Fd(e,a,n),i?ut(r,a.stateNode):lt(r,a.stateNode);else if(a.tag===x)i?Xt(r,a.stateNode):qt(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(jd(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)return;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Xd(e,t,n){var r,i;je?qd(e,t,n):Fd(e,t,n),null!==(i=(r=t).alternate)&&(i.return=null),r.return=null}function Yd(e,t){if(je){switch(t.tag){case 0:case m:case y:case b:if(Rd(Hs|Vs,t,t.return),Od(Hs|Vs,t),2&t.mode)try{Hu(),Rd(Ws|Vs,t,t.return)}finally{Bu(t)}else Rd(Ws|Vs,t,t.return);return;case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&at(n,o,a,i,r,t)}return;case 6:if(null===t.stateNode)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.stateNode,l=t.memoizedProps,u=null!==e?e.memoizedProps:l;return void rt(s,u,l);case 3:if(Ue)if(null!==e)if(e.memoizedState.isDehydrated){var c=t.stateNode;Wt(c.containerInfo)}return;case g:return;case v:return Kd(t),void $d(t);case _:return void $d(t);case w:return}throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}switch(t.tag){case 0:case m:case y:case b:if(Rd(Hs|Vs,t,t.return),Od(Hs|Vs,t),2&t.mode)try{Hu(),Rd(Ws|Vs,t,t.return)}finally{Bu(t)}else Rd(Ws|Vs,t,t.return);return;case g:return;case v:return Kd(t),void $d(t);case _:return void $d(t);case 3:if(Ue)if(null!==e)if(e.memoizedState.isDehydrated){var d=t.stateNode;Wt(d.containerInfo)}break;case S:case E:return}!function(e){if(Fe){switch(e.tag){case 1:case 5:case 6:return;case 3:case 4:var t=e.stateNode,n=t.containerInfo,r=t.pendingChildren;return void wt(n,r)}throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}(t)}function Kd(e){e.memoizedState}function $d(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new vd),t.forEach(function(t){var r=pp.bind(null,e,t);if(!n.has(t)){if(n.add(t),xi){if(null===bd||null===wd)throw Error("Expected finished root and lanes to be set. This is a bug in React.");_p(wd,bd)}t.then(r,r)}})}}function Zd(e,t,n){bd=n,wd=e,yd=t,function(e,t){for(;null!==yd;){var n=yd,r=n.deletions;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i];try{Xd(e,a,n)}catch(e){xd(e),cp(a,n,e)}}var o=n.child;0!==(n.subtreeFlags&le)&&null!==o?(yf(o,n),yd=o):Qd(e,t)}}(e,n),bd=null,wd=null}function Qd(e,t){for(;null!==yd;){var n=yd;ia(n);try{Jd(n,e,t)}catch(e){xd(e),cp(n,n.return,e)}ra();var r=n.sibling;if(null!==r)return yf(r,n.return),void(yd=r);yd=n.return}}function Jd(e,t,n){var r=e.flags;if(32&r&&function(e){je&&ct(e.stateNode)}(e),r&X){var i=e.alternate;null!==i&&function(e){var t=e.ref;if(null!==t)if("function"==typeof t)if(2&e.mode)try{Hu(),t(null)}finally{Bu(e)}else t(null);else t.current=null}(i)}if(r&Z)switch(e.tag){case v:if(null!==e.memoizedState){var a=e.alternate;null!==a&&null!==a.memoizedState||(dh=ci())}break;case S:var o=null!==e.memoizedState,s=e.alternate,l=null!==s&&null!==s.memoizedState,u=e;if(je&&function(e,t){var n=null;if(je)for(var r=e;;){if(5===r.tag){if(null===n){n=r;var i=r.stateNode;t?dt(i):ht(r.stateNode,r.memoizedProps)}}else if(6===r.tag){if(null===n){var a=r.stateNode;t?ft(a):pt(a,r.memoizedProps)}}else if((r.tag!==S&&r.tag!==E||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;n===r&&(n=null),r=r.return}n===r&&(n=null),r.sibling.return=r.return,r=r.sibling}}(u,o),o&&!l&&1&u.mode){yd=u;for(var c=u.child;null!==c;)yd=c,rf(c),c=c.sibling}}switch(4102&r){case 2:Hd(e),e.flags&=-3;break;case 6:Hd(e),e.flags&=-3,Yd(e.alternate,e);break;case $:e.flags&=-4097;break;case 4100:e.flags&=-4097,Yd(e.alternate,e);break;case 4:Yd(e.alternate,e)}}function ef(e,t,n){bd=n,wd=t,yd=e,tf(e,t,n),bd=null,wd=null}function tf(e,t,n){for(var r=!!(1&e.mode);null!==yd;){var i=yd,a=i.child;if(i.tag===S&&r){var o=null!==i.memoizedState||md;if(o){nf(e,t,n);continue}var s=i.alternate,l=null!==s&&null!==s.memoizedState,u=md,c=gd;md=o,(gd=l||gd)&&!c&&(yd=i,of(i));for(var d=a;null!==d;)yd=d,tf(d,t,n),d=d.sibling;yd=i,md=u,gd=c,nf(e,t,n)}else 0!==(i.subtreeFlags&ue)&&null!==a?(yf(a,i),yd=a):nf(e,t,n)}}function nf(e,t,n){for(;null!==yd;){var r=yd;if(0!==(r.flags&ue)){var i=r.alternate;ia(r);try{zd(0,i,r)}catch(e){xd(e),cp(r,r.return,e)}ra()}if(r===e)return void(yd=null);var a=r.sibling;if(null!==a)return yf(a,r.return),void(yd=a);yd=r.return}}function rf(e){for(;null!==yd;){var t=yd,n=t.child;switch(t.tag){case 0:case m:case y:case b:if(2&t.mode)try{Hu(),Rd(Ws,t,t.return)}finally{Bu(t)}else Rd(Ws,t,t.return);break;case 1:Cd(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&Ed(t,t.return,r);break;case 5:Cd(t,t.return);break;case S:if(null!==t.memoizedState){af(e);continue}}null!==n?(n.return=t,yd=n):af(e)}}function af(e){for(;null!==yd;){var t=yd;if(t===e)return void(yd=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(yd=n);yd=t.return}}function of(e){for(;null!==yd;){var t=yd,n=t.child;if(t.tag===S)if(null!==t.memoizedState){sf(e);continue}null!==n?(n.return=t,yd=n):sf(e)}}function sf(e){for(;null!==yd;){var t=yd;ia(t);try{Ld(t)}catch(e){xd(e),cp(t,t.return,e)}if(ra(),t===e)return void(yd=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(yd=n);yd=t.return}}function lf(e,t){yd=t,function(e,t){for(;null!==yd;){var n=yd,r=n.child;0!==(n.subtreeFlags&ce)&&null!==r?(yf(r,n),yd=r):uf(e,t)}}(t,e)}function uf(e,t){for(;null!==yd;){var n=yd;if(0!==(n.flags&K)){ia(n);try{cf(t,n)}catch(e){xd(e),cp(n,n.return,e)}ra()}if(n===e)return void(yd=null);var r=n.sibling;if(null!==r)return yf(r,n.return),void(yd=r);yd=n.return}}function cf(e,t){switch(t.tag){case 0:case m:case b:if(2&t.mode){Wu();try{Od(Gs|Vs,t)}finally{Vu(t)}}else Od(Gs|Vs,t)}}function df(e){yd=e,function(){for(;null!==yd;){var e=yd,t=e.child;if(0!==(yd.flags&W)){var n=e.deletions;if(null!==n){for(var r=0;r<n.length;r++){var i=n[r];yd=i,pf(i,e)}var a=e.alternate;if(null!==a){var o=a.child;if(null!==o){a.child=null;do{var s=o.sibling;o.sibling=null,o=s}while(null!==o)}}yd=e}}0!==(e.subtreeFlags&ce)&&null!==t?(yf(t,e),yd=t):ff()}}()}function ff(){for(;null!==yd;){var e=yd;0!==(e.flags&K)&&(ia(e),hf(e),ra());var t=e.sibling;if(null!==t)return yf(t,e.return),void(yd=t);yd=e.return}}function hf(e){switch(e.tag){case 0:case m:case b:2&e.mode?(Wu(),Rd(Gs|Vs,e,e.return),Vu(e)):Rd(Gs|Vs,e,e.return)}}function pf(e,t){for(;null!==yd;){var n=yd;ia(n),gf(n,t),ra();var r=n.child;null!==r?(yf(r,n),yd=r):mf(e)}}function mf(e){for(;null!==yd;){var t=yd,n=t.sibling,r=t.return;if(Ud(t),t===e)return void(yd=null);if(null!==n)return yf(n,r),void(yd=n);yd=r}}function gf(e,t){switch(e.tag){case 0:case m:case b:2&e.mode?(Wu(),Rd(Gs,e,t),Vu(e)):Rd(Gs,e,t)}}var vf=!1;function yf(e,t){vf||e.return===t||(vf=!0,l("Internal React error: Return pointer is inconsistent with parent.")),e.return=t}function bf(e){switch(e.tag){case 0:case m:case b:try{Od(Ws|Vs,e)}catch(t){xd(t),cp(e,e.return,t)}break;case 1:var t=e.stateNode;try{t.componentDidMount()}catch(t){xd(t),cp(e,e.return,t)}}}function wf(e){switch(e.tag){case 0:case m:case b:try{Od(Gs|Vs,e)}catch(t){xd(t),cp(e,e.return,t)}}}function xf(e){switch(e.tag){case 0:case m:case b:try{Rd(Ws|Vs,e,e.return)}catch(t){xd(t),cp(e,e.return,t)}break;case 1:var t=e.stateNode;"function"==typeof t.componentWillUnmount&&Ed(e,e.return,t)}}function _f(e){switch(e.tag){case 0:case m:case b:try{Rd(Gs|Vs,e,e.return)}catch(t){xd(t),cp(e,e.return,t)}}}var Sf=0,Ef=1,kf=2,Cf=3,Mf=4;if("function"==typeof Symbol&&Symbol.for){var Pf=Symbol.for;Sf=Pf("selector.component"),Ef=Pf("selector.has_pseudo_class"),kf=Pf("selector.role"),Cf=Pf("selector.test_id"),Mf=Pf("selector.text")}function Tf(e){var t=Be(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw new Error("Invalid host root specified. Should be either a React container or a node with a testname attribute.");return t}var n=Ye(e);if(null===n)throw new Error("Could not find React container within specified host subtree.");return n.stateNode.current}function Af(e,t){switch(t.$$typeof){case Sf:if(e.type===t.value)return!0;break;case Ef:return function(e,t){var n=[e,0],r=0;for(;r<n.length;){var i=n[r++],a=n[r++],o=t[a];if(5!==i.tag||!Ze(i)){for(;null!=o&&Af(i,o);)o=t[++a];if(a===t.length)return!0;for(var s=i.child;null!==s;)n.push(s,a),s=s.sibling}}return!1}(e,t.value);case kf:if(5===e.tag){var n=e.stateNode;if(Qe(n,t.value))return!0}break;case Mf:if(5===e.tag||6===e.tag){var r=$e(e);if(null!==r&&r.indexOf(t.value)>=0)return!0}break;case Cf:if(5===e.tag){var i=e.memoizedProps["data-testname"];if("string"==typeof i&&i.toLowerCase()===t.value.toLowerCase())return!0}break;default:throw new Error("Invalid selector type specified.")}return!1}function If(e){switch(e.$$typeof){case Sf:return"<"+(B(e.value)||"Unknown")+">";case Ef:return":has("+(If(e)||"")+")";case kf:return'[role="'+e.value+'"]';case Mf:return'"'+e.value+'"';case Cf:return'[data-testname="'+e.value+'"]';default:throw new Error("Invalid selector type specified.")}}function Rf(e,t){for(var n=[],r=[e,0],i=0;i<r.length;){var a=r[i++],o=r[i++],s=t[o];if(5!==a.tag||!Ze(a)){for(;null!=s&&Af(a,s);)s=t[++o];if(o===t.length)n.push(a);else for(var l=a.child;null!==l;)r.push(l,o),l=l.sibling}}return n}function Of(e,t){if(!Xe)throw new Error("Test selector API is not supported by this renderer.");for(var n=Rf(Tf(e),t),r=[],i=Array.from(n),a=0;a<i.length;){var o=i[a++];if(5===o.tag){if(Ze(o))continue;r.push(o.stateNode)}else for(var s=o.child;null!==s;)i.push(s),s=s.sibling}return r}var Df=[];var zf=a.ReactCurrentActQueue;function Lf(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===zf.current||l("The current testing environment is not configured to support act(...)"),e}var Nf=Math.ceil,jf=a.ReactCurrentDispatcher,Ff=a.ReactCurrentOwner,Uf=a.ReactCurrentBatchConfig,Bf=a.ReactCurrentActQueue,Vf=0,Hf=2,Wf=4,Gf=0,qf=1,Xf=2,Yf=3,Kf=4,$f=5,Zf=6,Qf=Vf,Jf=null,eh=null,th=0,nh=0,rh=In(0),ih=Gf,ah=null,oh=0,sh=0,lh=0,uh=null,ch=null,dh=0,fh=500,hh=1/0,ph=500;function mh(){hh=ci()+ph}function gh(){return hh}var vh=!1,yh=null,bh=null,wh=!1,xh=null,_h=0,Sh=[],Eh=50,kh=0,Ch=null,Mh=50,Ph=0,Th=Mr,Ah=0;function Ih(){return Jf}function Rh(){return(Qf&(Hf|Wf))!==Vf?ci():Th!==Mr?Th:Th=ci()}function Oh(e){var t;if(!(1&e.mode))return 1;if((Qf&Hf)!==Vf&&0!==th)return Fr(th);if(null!==Ki.transition){if(null!==Uf.transition){var n=Uf.transition;n._updatedFibers||(n._updatedFibers=new Set),n._updatedFibers.add(e)}return 0===Ah&&(t=Pr,!((Pr<<=1)&tr)&&(Pr=64),Ah=t),Ah}var r=ni();return 0!==r?r:He()}function zh(e){var t;return 1&e.mode?(t=Tr,!((Tr<<=1)&pr)&&(Tr=mr),t):1}function Lh(e,t,n){!function(){if(kh>Eh)throw kh=0,Ch=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Ph>Mh&&(Ph=0,l("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}();var r=Nh(e,t);return null===r?null:(Yr(r,t,n),0!==(Qf&Hf)&&r===Jf?function(e){if(ta&&!lu)switch(e.tag){case 0:case m:case b:var t=eh&&H(eh)||"Unknown",n=t;if(!wp.has(n))wp.add(n),l("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",H(e)||"Unknown",t,t);break;case 1:xp||(l("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),xp=!0)}}(e):(xi&&Zr(r,e,t),function(e){if(1&e.mode){if(!Lf())return}else{if(t="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0,n="undefined"!=typeof jest,!Ne||!n||!1===t)return;if(Qf!==Vf)return;if(0!==e.tag&&e.tag!==m&&e.tag!==b)return}var t,n;if(null===Bf.current){var r=ea;try{ia(e),l("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",H(e))}finally{r?ia(e):ra()}}}(e),r===Jf&&((Qf&Hf)===Vf&&(sh=Wr(sh,t)),ih===Kf&&Hh(r,th)),Fh(r,n),1!==t||Qf!==Vf||1&e.mode||Bf.isBatchingLegacy||(mh(),qi())),r)}function Nh(e,t){e.lanes=Wr(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=Wr(n.lanes,t)),null===n&&4098&e.flags&&bp(e);for(var r=e,i=e.return;null!==i;)i.childLanes=Wr(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=Wr(n.childLanes,t):4098&i.flags&&bp(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}function jh(e,t){return null!==Jf&&!!(1&e.mode)&&(Qf&Hf)===Vf}function Fh(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=n;o>0;){var s=Ur(o),l=1<<s,u=a[s];u===Mr?0!==(l&r)&&0===(l&i)||(a[s]=Rr(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=Ir(e,e===Jf?th:0);if(0===r)return null!==n&&kp(n),e.callbackNode=null,void(e.callbackPriority=0);var i=jr(r),a=e.callbackPriority;if(a!==i||null!==Bf.current&&n!==Sp){var o,s;if(null!=n&&kp(n),1===i)0===e.tag?(null!==Bf.isBatchingLegacy&&(Bf.didScheduleLegacyUpdate=!0),s=Wh.bind(null,e),Hi=!0,Gi(s)):Gi(Wh.bind(null,e)),Ge?null!==Bf.current?Bf.current.push(Xi):qe(function(){Qf===Vf&&Xi()}):Ep(di,Xi),o=null;else{var u;switch(ai(r)){case 1:u=di;break;case 4:u=fi;break;case Jr:u=hi;break;case ei:u=pi;break;default:u=hi}o=Ep(u,Uh.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}else null==n&&1!==a&&l("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.")}function Uh(e,t){if(Ou=!1,Du=!1,Th=Mr,Ah=0,(Qf&(Hf|Wf))!==Vf)throw new Error("Should not already be working.");var n=e.callbackNode;if(op()&&e.callbackNode!==n)return null;var r=Ir(e,e===Jf?th:0);if(0===r)return null;var i=!Lr(0,r)&&!function(e,t){return 0!==(t&e.expiredLanes)}(e,r)&&!t,a=i?function(e,t){var n=Qf;Qf|=Hf;var r=$h();if(Jf!==e||th!==t){if(xi){var i=e.memoizedUpdaters;i.size>0&&(_p(e,th),i.clear()),Qr(e,t)}mh(),Yh(e,t)}ji(t);for(;;)try{np();break}catch(t){Kh(e,t)}return Ma(),Zh(r),Qf=n,null!==eh?(null!==bi&&"function"==typeof bi.markRenderYielded&&bi.markRenderYielded(),Gf):(Fi(),Jf=null,th=0,ih)}(e,r):ep(e,r);if(a!==Gf){if(a===Xf){var o=Or(e);0!==o&&(r=o,a=Bh(e,o))}if(a===qf){var s=ah;throw Yh(e,0),Hh(e,r),Fh(e,ci()),s}if(a===Zf)Hh(e,r);else{var l=!Lr(0,r),u=e.current.alternate;if(l&&!function(e){var t=e;for(;;){if(t.flags&Q){var n=t.updateQueue;if(null!==n){var r=n.stores;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.getSnapshot,s=a.value;try{if(!Bi(o(),s))return!1}catch(e){return!1}}}}var l=t.child;if(t.subtreeFlags&Q&&null!==l)l.return=t,t=l;else{if(t===e)return!0;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(u)){if((a=ep(e,r))===Xf){var c=Or(e);0!==c&&(r=c,a=Bh(e,c))}if(a===qf){var d=ah;throw Yh(e,0),Hh(e,r),Fh(e,ci()),d}}e.finishedWork=u,e.finishedLanes=r,function(e,t,n){switch(t){case Gf:case qf:throw new Error("Root did not complete. This is a bug in React.");case Xf:ap(e,ch);break;case Yf:if(Hh(e,n),zr(n)&&!Cp()){var r=dh+fh-ci();if(r>10){if(0!==Ir(e,0))break;var i=e.suspendedLanes;if(!Hr(i,n)){Rh(),Kr(e,i);break}e.timeoutHandle=Oe(ap.bind(null,e,ch),r);break}}ap(e,ch);break;case Kf:if(Hh(e,n),function(e){return(e&tr)===e}(n))break;if(!Cp()){var a=function(e,t){for(var n=e.eventTimes,r=Mr;t>0;){var i=Ur(t),a=1<<i,o=n[i];o>r&&(r=o),t&=~a}return r}(e,n),o=a,s=ci()-o,l=((u=s)<120?120:u<480?480:u<1080?1080:u<1920?1920:u<3e3?3e3:u<4320?4320:1960*Nf(u/1960))-s;if(l>10){e.timeoutHandle=Oe(ap.bind(null,e,ch),l);break}}ap(e,ch);break;case $f:ap(e,ch);break;default:throw new Error("Unknown root exit status.")}var u}(e,a,r)}}return Fh(e,ci()),e.callbackNode===n?Uh.bind(null,e):null}function Bh(e,t){var n=uh;Yi(e)&&(Yh(e,t).flags|=q,cn(e.containerInfo));var r=ep(e,t);if(r!==Xf){var i=ch;ch=n,null!==i&&Vh(i)}return r}function Vh(e){null===ch?ch=e:ch.push.apply(ch,e)}function Hh(e,t){t=Gr(t,lh),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=Ur(r),a=1<<i;n[i]=Mr,r&=~a}}(e,t=Gr(t,sh))}function Wh(e){if(Ou=Du,Du=!1,(Qf&(Hf|Wf))!==Vf)throw new Error("Should not already be working.");op();var t=Ir(e,0);if(!Vr(t,1))return Fh(e,ci()),null;var n=ep(e,t);if(0!==e.tag&&n===Xf){var r=Or(e);0!==r&&(t=r,n=Bh(e,r))}if(n===qf){var i=ah;throw Yh(e,0),Hh(e,t),Fh(e,ci()),i}if(n===Zf)throw new Error("Root did not complete. This is a bug in React.");var a=e.current.alternate;return e.finishedWork=a,e.finishedLanes=t,ap(e,ch),Fh(e,ci()),null}function Gh(e){null!==xh&&0===xh.tag&&(Qf&(Hf|Wf))===Vf&&op();var t=Qf;Qf|=1;var n=Uf.transition,r=ni();try{return Uf.transition=null,ri(1),e?e():void 0}finally{ri(r),Uf.transition=n,((Qf=t)&(Hf|Wf))===Vf&&Xi()}}function qh(e,t){On(rh,nh,e),nh=Wr(nh,t)}function Xh(e){nh=rh.current,Rn(rh,e)}function Yh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==ze&&(e.timeoutHandle=ze,De(n)),null!==eh)for(var r=eh.return;null!==r;){r.alternate;id(0,r),r=r.return}Jf=e;var i=Gp(e.current,null);return eh=i,th=nh=t,ih=Gf,ah=null,oh=0,sh=0,lh=0,uh=null,ch=null,function(){if(null!==La){for(var e=0;e<La.length;e++){var t=La[e],n=t.interleaved;if(null!==n){t.interleaved=null;var r=n.next,i=t.pending;if(null!==i){var a=i.next;i.next=r,n.next=a}t.pending=n}}La=null}}(),oa.discardPendingWarnings(),i}function Kh(e,t){for(;;){var n=eh;try{if(Ma(),yl(),ra(),Ff.current=null,null===n||null===n.return)return ih=qf,ah=t,void(eh=null);2&n.mode&&Uu(n,!0),Mi(),null!==t&&"object"==typeof t&&"function"==typeof t.then?Ni(n,t,th):Li(n,t,th),ic(e,n.return,n,t,th),ip(n)}catch(e){t=e,eh===n&&null!==n?(n=n.return,eh=n):n=eh;continue}return}}function $h(){var e=jf.current;return jf.current=yu,null===e?yu:e}function Zh(e){jf.current=e}function Qh(e){oh=Wr(e,oh)}function Jh(){ih!==Gf&&ih!==Yf&&ih!==Xf||(ih=Kf),null!==Jf&&(Dr(oh)||Dr(sh))&&Hh(Jf,th)}function ep(e,t){var n=Qf;Qf|=Hf;var r=$h();if(Jf!==e||th!==t){if(xi){var i=e.memoizedUpdaters;i.size>0&&(_p(e,th),i.clear()),Qr(e,t)}Yh(e,t)}for(ji(t);;)try{tp();break}catch(t){Kh(e,t)}if(Ma(),Qf=n,Zh(r),null!==eh)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Fi(),Jf=null,th=0,ih}function tp(){for(;null!==eh;)rp(eh)}function np(){for(;null!==eh&&!li();)rp(eh)}function rp(e){var t,n=e.alternate;ia(e),2&e.mode?(ju(e),t=vp(n,e,nh),Uu(e,!0)):t=vp(n,e,nh),ra(),e.memoizedProps=e.pendingProps,null===t?ip(e):eh=t,Ff.current=null}function ip(e){var t=e;do{var n=t.alternate,r=t.return;if(0===(t.flags&J)){ia(t);var i=void 0;if(2&t.mode?(ju(t),i=dc(n,t,nh),Uu(t,!1)):i=dc(n,t,nh),ra(),null!==i)return void(eh=i)}else{var a=rd(0,t);if(null!==a)return a.flags&=32767,void(eh=a);if(2&t.mode){Uu(t,!1);for(var o=t.actualDuration,s=t.child;null!==s;)o+=s.actualDuration,s=s.sibling;t.actualDuration=o}if(null===r)return ih=Zf,void(eh=null);r.flags|=J,r.subtreeFlags=0,r.deletions=null}var l=t.sibling;if(null!==l)return void(eh=l);eh=t=r}while(null!==t);ih===Gf&&(ih=$f)}function ap(e,t){var n=ni(),r=Uf.transition;try{Uf.transition=null,ri(1),function(e,t,n){do{op()}while(null!==xh);if(function(){oa.flushLegacyContextWarning(),oa.flushPendingUnsafeLifecycleWarnings()}(),(Qf&(Hf|Wf))!==Vf)throw new Error("Should not already be working.");var r=e.finishedWork,i=e.finishedLanes;if(function(e){null!==bi&&"function"==typeof bi.markCommitStarted&&bi.markCommitStarted(e)}(i),null===r)return ki(),null;0===i&&l("root.finishedLanes should not be empty during a commit. This is a bug in React.");if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var a=Wr(r.lanes,r.childLanes);(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,a=e.expirationTimes,o=n;o>0;){var s=Ur(o),l=1<<s;r[s]=0,i[s]=Mr,a[s]=Mr,o&=~l}})(e,a),e===Jf&&(Jf=null,eh=null,th=0);0===(r.subtreeFlags&ce)&&0===(r.flags&ce)||wh||(wh=!0,Ep(hi,function(){return op(),null}));var o=!!(15990&r.subtreeFlags),s=!!(15990&r.flags);if(o||s){var u=Uf.transition;Uf.transition=null;var c=ni();ri(1);var d=Qf;Qf|=Wf,Ff.current=null,Td(e,r),Nu(),Zd(e,r,i),Ce(e.containerInfo),e.current=r,function(e){null!==bi&&"function"==typeof bi.markLayoutEffectsStarted&&bi.markLayoutEffectsStarted(e)}(i),ef(r,e,i),null!==bi&&"function"==typeof bi.markLayoutEffectsStopped&&bi.markLayoutEffectsStopped(),ui(),Qf=d,ri(c),Uf.transition=u}else e.current=r,Nu();var f=wh;wh&&(wh=!1,xh=e,_h=i);a=e.pendingLanes,0===a&&(bh=null);f||mp(e.current,!1);(function(e,t){if(yi&&"function"==typeof yi.onCommitFiberRoot)try{var n,r=(e.current.flags&G)===G;switch(t){case 1:n=di;break;case 4:n=fi;break;case Jr:n=hi;break;case ei:n=pi;break;default:n=hi}yi.onCommitFiberRoot(vi,e,n,r)}catch(e){wi||(wi=!0,l("React instrumentation encountered an error: %s",e))}})(r.stateNode,n),xi&&e.memoizedUpdaters.clear();if(function(){Xe&&Df.forEach(function(e){return e()})}(),Fh(e,ci()),null!==t)for(var h=e.onRecoverableError,p=0;p<t.length;p++){h(t[p])}if(vh){vh=!1;var m=yh;throw yh=null,m}Vr(_h,1)&&0!==e.tag&&op();a=e.pendingLanes,Vr(a,1)?(Du=!0,e===Ch?kh++:(kh=0,Ch=e)):kh=0;Xi(),ki()}(e,t,n)}finally{Uf.transition=r,ri(n)}return null}function op(){if(null!==xh){var e=ai(_h),t=function(e,t){return 0===e||e>t?e:t}(Jr,e),n=Uf.transition,r=ni();try{return Uf.transition=null,ri(t),function(){if(null===xh)return!1;var e=xh,t=_h;if(xh=null,_h=0,(Qf&(Hf|Wf))!==Vf)throw new Error("Cannot flush passive effects while already rendering.");!function(e){null!==bi&&"function"==typeof bi.markPassiveEffectsStarted&&bi.markPassiveEffectsStarted(e)}(t);var n=Qf;Qf|=Wf,df(e.current),lf(e,e.current);var r=Sh;Sh=[];for(var i=0;i<r.length;i++){Dd(0,r[i])}null!==bi&&"function"==typeof bi.markPassiveEffectsStopped&&bi.markPassiveEffectsStopped(),mp(e.current,!0),Qf=n,Xi(),Ph=null===xh?0:Ph+1,function(e){if(yi&&"function"==typeof yi.onPostCommitFiberRoot)try{yi.onPostCommitFiberRoot(vi,e)}catch(e){wi||(wi=!0,l("React instrumentation encountered an error: %s",e))}}(e);var a=e.current.stateNode;return a.effectDuration=0,a.passiveEffectDuration=0,!0}()}finally{ri(r),Uf.transition=n}}return!1}function sp(e){return null!==bh&&bh.has(e)}var lp=function(e){vh||(vh=!0,yh=e)};function up(e,t,n){qa(e,Ju(e,qu(n,t),1));var r=Rh(),i=Nh(e,1);null!==i&&(Yr(i,1,r),Fh(i,r))}function cp(e,t,n){if(3!==e.tag){var r=null;for(r=t;null!==r;){if(3===r.tag)return void up(r,e,n);if(1===r.tag){var i=r.type,a=r.stateNode;if("function"==typeof i.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&!sp(a)){qa(r,ec(r,qu(n,e),1));var o=Rh(),s=Nh(r,1);return void(null!==s&&(Yr(s,1,o),Fh(s,o)))}}r=r.return}l("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",n)}else up(e,e,n)}function dp(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=Rh();Kr(e,n),function(e){0!==e.tag&&Lf()&&null===Bf.current&&l("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act")}(e),Jf===e&&Hr(th,n)&&(ih===Kf||ih===Yf&&zr(th)&&ci()-dh<fh?Yh(e,0):lh=Wr(lh,n)),Fh(e,i)}function fp(e,t){0===t&&(t=zh(e));var n=Rh(),r=Nh(e,t);null!==r&&(Yr(r,t,n),Fh(r,n))}function hp(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fp(e,n)}function pp(e,t){var n,r=0;switch(e.tag){case v:n=e.stateNode;var i=e.memoizedState;null!==i&&(r=i.retryLane);break;case _:n=e.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==n&&n.delete(t),fp(e,r)}function mp(e,t){ia(e),gp(e,ae,xf),t&&gp(e,oe,_f),gp(e,ae,bf),t&&gp(e,oe,wf),ra()}function gp(e,t,n){for(var r=e,i=null;null!==r;){var a=r.subtreeFlags&t;r!==i&&null!==r.child&&0!==a?r=r.child:(0!==(r.flags&t)&&n(r),r=null!==r.sibling?r.sibling:i=r.return)}}var vp,yp=null;function bp(e){if((Qf&Hf)===Vf&&1&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===m||t===y||t===b){var n=H(e)||"ReactComponent";if(null!==yp){if(yp.has(n))return;yp.add(n)}else yp=new Set([n]);var r=ea;try{ia(e),l("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?ia(e):ra()}}}}vp=function(e,t,n){var r=Jp(null,t);try{return nd(e,t,n)}catch(a){if(null!==a&&"object"==typeof a&&"function"==typeof a.then)throw a;if(Ma(),yl(),id(0,t),Jp(t,r),2&t.mode&&ju(t),fd(null,nd,null,e,t,n),ud){var i=hd();"object"==typeof i&&null!==i&&i._suppressLogging&&"object"==typeof a&&null!==a&&!a._suppressLogging&&(a._suppressLogging=!0)}throw a}};var wp,xp=!1;function _p(e,t){xi&&e.memoizedUpdaters.forEach(function(n){Zr(e,n,t)})}wp=new Set;var Sp={};function Ep(e,t){var n=Bf.current;return null!==n?(n.push(t),Sp):oi(e,t)}function kp(e){if(e!==Sp)return si(e)}function Cp(){return null!==Bf.current}var Mp=null,Pp=null,Tp=function(e){Mp=e};function Ap(e){if(null===Mp)return e;var t=Mp(e);return void 0===t?e:t.current}function Ip(e){return Ap(e)}function Rp(e){if(null===Mp)return e;var t=Mp(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=Ap(e.render);if(e.render!==n){var r={$$typeof:R,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function Op(e,t){if(null===Mp)return!1;var n=e.elementType,r=t.type,i=!1,a="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"==typeof r&&(i=!0);break;case 0:("function"==typeof r||a===L)&&(i=!0);break;case m:(a===R||a===L)&&(i=!0);break;case y:case b:(a===z||a===L)&&(i=!0);break;default:return!1}if(i){var o=Mp(n);if(void 0!==o&&o===Mp(r))return!0}return!1}function Dp(e){null!==Mp&&"function"==typeof WeakSet&&(null===Pp&&(Pp=new WeakSet),Pp.add(e))}var zp=function(e,t){if(null!==Mp){var n=t.staleFamilies,r=t.updatedFamilies;op(),Gh(function(){Np(e.current,r,n)})}},Lp=function(e,t){e.context===Dn&&(op(),Gh(function(){am(t,e,null,null)}))};function Np(e,t,n){var r=e.alternate,i=e.child,a=e.sibling,o=e.tag,s=e.type,l=null;switch(o){case 0:case b:case 1:l=s;break;case m:l=s.render}if(null===Mp)throw new Error("Expected resolveFamily to be set during hot reload.");var u=!1,c=!1;if(null!==l){var d=Mp(l);void 0!==d&&(n.has(d)?c=!0:t.has(d)&&(1===o?c=!0:u=!0))}null!==Pp&&(Pp.has(e)||null!==r&&Pp.has(r))&&(c=!0),c&&(e._debugNeedsRemount=!0),(c||u)&&Lh(e,1,Mr),null===i||c||Np(i,t,n),null!==a&&Np(a,t,n)}var jp,Fp=function(e,t){var n=new Set,r=new Set(t.map(function(e){return e.current}));return Up(e.current,r,n),n};function Up(e,t,n){var r=e.child,i=e.sibling,a=e.tag,o=e.type,s=null;switch(a){case 0:case b:case 1:s=o;break;case m:s=o.render}var l=!1;null!==s&&t.has(s)&&(l=!0),l?function(e,t){var n=function(e,t){var n=e,r=!1;for(;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t);if(n)return;var r=e;for(;;){switch(r.tag){case 5:return void t.add(r.stateNode);case 4:case 3:return void t.add(r.stateNode.containerInfo)}if(null===r.return)throw new Error("Expected to reach root first.");r=r.return}}(e,n):null!==r&&Up(r,t,n),null!==i&&Up(i,t,n)}jp=!1;try{var Bp=Object.preventExtensions({});new Map([[Bp,null]]),new Set([Bp])}catch(e){jp=!0}function Vp(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.subtreeFlags=0,this.deletions=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,jp||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var Hp=function(e,t,n,r){return new Vp(e,t,n,r)};function Wp(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function Gp(e,t){var n=e.alternate;null===n?((n=Hp(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null,n.actualDuration=0,n.actualStartTime=-1),n.flags=e.flags&de,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case b:n.type=Ap(e.type);break;case 1:n.type=Ip(e.type);break;case m:n.type=Rp(e.type)}return n}function qp(e,t){e.flags&=14680066;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function Xp(e,t,n,r,i,a){var o=2,s=e;if("function"==typeof e)Wp(e)?(o=1,s=Ip(s)):s=Ap(s);else if("string"==typeof e)o=5;else e:switch(e){case M:return Kp(n.children,i,a,t);case P:o=8,1&(i|=8)&&(i|=$n);break;case T:return function(e,t,n,r){"string"!=typeof e.id&&l('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof e.id);var i=Hp(g,e,r,2|t);return i.elementType=T,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,a,t);case O:return function(e,t,n,r){var i=Hp(v,e,r,t);return i.elementType=O,i.lanes=n,i}(n,i,a,t);case D:return function(e,t,n,r){var i=Hp(_,e,r,t);return i.elementType=D,i.lanes=n,i}(n,i,a,t);case N:return $p(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:o=p;break e;case I:o=9;break e;case R:o=m,s=Rp(s);break e;case z:o=y;break e;case L:o=16,s=null;break e}var u="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(u+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var c=r?H(r):null;throw c&&(u+="\n\nCheck the render method of `"+c+"`."),new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+u)}var d=Hp(o,n,t,i);return d.elementType=e,d.type=s,d.lanes=a,d._debugOwner=r,d}function Yp(e,t,n){var r;r=e._owner;var i=Xp(e.type,e.key,e.props,r,t,n);return i._debugSource=e._source,i._debugOwner=e._owner,i}function Kp(e,t,n,r){var i=Hp(7,e,r,t);return i.lanes=n,i}function $p(e,t,n,r){var i=Hp(S,e,r,t);i.elementType=N,i.lanes=n;return i.stateNode={},i}function Zp(e,t,n){var r=Hp(6,e,null,t);return r.lanes=n,r}function Qp(e,t,n){var r=null!==e.children?e.children:[],i=Hp(4,r,e.key,t);return i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Jp(e,t){return null===e&&(e=Hp(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.subtreeFlags=t.subtreeFlags,e.deletions=t.deletions,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function em(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=ze,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Xr(0),this.expirationTimes=Xr(Mr),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=Xr(0),this.identifierPrefix=r,this.onRecoverableError=i,Ue&&(this.mutableSourceEagerHydrationData=null),this.effectDuration=0,this.passiveEffectDuration=0,this.memoizedUpdaters=new Set;for(var a=this.pendingUpdatersLaneMap=[],o=0;o<31;o++)a.push(new Set);switch(t){case 1:this._debugRootType=n?"hydrateRoot()":"createRoot()";break;case 0:this._debugRootType=n?"hydrate()":"render()"}}function tm(e,t,n,r,i,a,o,s,l,u){var c=new em(e,t,n,s,l),d=function(e,t){var n;return 1===e?(n=1,!0===t&&(n|=8,n|=$n)):n=0,xi&&(n|=2),Hp(3,null,null,n)}(t,a);c.current=d,d.stateNode=c;var f={element:r,isDehydrated:n,cache:null,transitions:null};return d.memoizedState=f,Ha(d),c}var nm,rm;function im(e){if(!e)return Dn;var t=d(e),n=Kn(t);if(1===t.tag){var r=t.type;if(Vn(r))return qn(t,r,n)}return n}function am(e,t,n,r){!function(e,t){if(yi&&"function"==typeof yi.onScheduleFiberRoot)try{yi.onScheduleFiberRoot(vi,e,t)}catch(e){wi||(wi=!0,l("React instrumentation encountered an error: %s",e))}}(t,e);var i=t.current,a=Rh(),o=Oh(i);!function(e){null!==bi&&"function"==typeof bi.markRenderScheduled&&bi.markRenderScheduled(e)}(o);var s=im(n);null===t.context?t.context=s:t.pendingContext=s,ta&&null!==ea&&!nm&&(nm=!0,l("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",H(ea)||"Unknown"));var u=Ga(a,o);u.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&l("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),u.callback=r),qa(i,u);var c=Lh(i,o,a);return null!==c&&Xa(c,i,o),o}function om(e,t){var n=e.memoizedState;null!==n&&null!==n.dehydrated&&(n.retryLane=function(e,t){return 0!==e&&e<t?e:t}(n.retryLane,t))}function sm(e,t){om(e,t);var n=e.alternate;n&&om(n,t)}nm=!1,rm={};var lm=function(e){return null};function um(e){return lm(e)}var cm=function(e){return!1};function dm(e){return cm(e)}var fm,hm,pm,mm,gm,vm,ym,bm,wm,xm=function(e,t,n){var r=t[n],i=xe(e)?e.slice():c({},e);return n+1===t.length?(xe(i)?i.splice(r,1):delete i[r],i):(i[r]=xm(e[r],t,n+1),i)},_m=function(e,t){return xm(e,t,0)},Sm=function(e,t,n,r){var i=t[r],a=xe(e)?e.slice():c({},e);r+1===t.length?(a[n[r]]=a[i],xe(a)?a.splice(i,1):delete a[i]):a[i]=Sm(e[i],t,n,r+1);return a},Em=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void s("copyWithRename() expects paths to be the same except for the deepest key");return Sm(e,t,n,0)}s("copyWithRename() expects paths of the same length")},km=function(e,t,n,r){if(n>=t.length)return r;var i=t[n],a=xe(e)?e.slice():c({},e);return a[i]=km(e[i],t,n+1,r),a},Cm=function(e,t,n){return km(e,t,0,n)},Mm=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function Pm(e){var t=ge(e);return null===t?null:t.stateNode}function Tm(e){return null}function Am(){return ea}return fm=function(e,t,n,r){var i=Mm(e,t);if(null!==i){var a=Cm(i.memoizedState,n,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=c({},e.memoizedProps),Lh(e,1,Mr)}},hm=function(e,t,n){var r=Mm(e,t);if(null!==r){var i=_m(r.memoizedState,n);r.memoizedState=i,r.baseState=i,e.memoizedProps=c({},e.memoizedProps),Lh(e,1,Mr)}},pm=function(e,t,n,r){var i=Mm(e,t);if(null!==i){var a=Em(i.memoizedState,n,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=c({},e.memoizedProps),Lh(e,1,Mr)}},mm=function(e,t,n){e.pendingProps=Cm(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Lh(e,1,Mr)},gm=function(e,t){e.pendingProps=_m(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Lh(e,1,Mr)},vm=function(e,t,n){e.pendingProps=Em(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Lh(e,1,Mr)},ym=function(e){Lh(e,1,Mr)},bm=function(e){lm=e},wm=function(e){cm=e},n.attemptContinuousHydration=function(e){if(e.tag===v){var t=Rh(),n=xr;Lh(e,n,t),sm(e,n)}},n.attemptHydrationAtCurrentPriority=function(e){if(e.tag===v){var t=Rh(),n=Oh(e);Lh(e,n,t),sm(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(Yi(t)){var n=function(e){return Ar(e.pendingLanes)}(t);!function(e,t){0!==t&&($r(e,Wr(t,1)),Fh(e,ci()),(Qf&(Hf|Wf))===Vf&&(mh(),Xi()))}(t,n)}break;case v:var r=Rh();Gh(function(){return Lh(e,1,r)});sm(e,1)}},n.batchedUpdates=function(e,t){var n=Qf;Qf|=1;try{return e(t)}finally{(Qf=n)!==Vf||Bf.isBatchingLegacy||(mh(),qi())}},n.createComponentSelector=function(e){return{$$typeof:Sf,value:e}},n.createContainer=function(e,t,n,r,i,a,o,s){return tm(e,t,!1,null,0,r,0,a,o)},n.createHasPseudoClassSelector=function(e){return{$$typeof:Ef,value:e}},n.createHydrationContainer=function(e,t,n,r,i,a,o,s,l,u){var c=tm(n,r,!0,e,0,a,0,s,l);c.context=im(null);var d=c.current,f=Rh(),h=Oh(d),p=Ga(f,h);return p.callback=null!=t?t:null,qa(d,p),function(e,t,n){e.current.lanes=t,Yr(e,t,n),Fh(e,n)}(c,h,f),c},n.createPortal=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(e){if(ya(e))l("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",va(e)),ba(e)}(r),{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:kf,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Cf,value:e}},n.createTextSelector=function(e){return{$$typeof:Mf,value:e}},n.deferredUpdates=function(e){var t=ni(),n=Uf.transition;try{return Uf.transition=null,ri(Jr),e()}finally{ri(t),Uf.transition=n}},n.discreteUpdates=function(e,t,n,r,i){var a=ni(),o=Uf.transition;try{return Uf.transition=null,ri(1),e(t,n,r,i)}finally{ri(a),Uf.transition=o,Qf===Vf&&mh()}},n.findAllNodes=Of,n.findBoundingRects=function(e,t){if(!Xe)throw new Error("Test selector API is not supported by this renderer.");for(var n=Of(e,t),r=[],i=0;i<n.length;i++)r.push(Ke(n[i]));for(var a=r.length-1;a>0;a--)for(var o=r[a],s=o.x,l=s+o.width,u=o.y,c=u+o.height,d=a-1;d>=0;d--)if(a!==d){var f=r[d],h=f.x,p=h+f.width,m=f.y,g=m+f.height;if(s>=h&&u>=m&&l<=p&&c<=g){r.splice(a,1);break}if(!(s!==h||o.width!==f.width||g<u||m>c)){m>u&&(f.height+=m-u,f.y=u),g<c&&(f.height=c-m),r.splice(a,1);break}if(!(u!==m||o.height!==f.height||p<s||h>l)){h>s&&(f.width+=h-s,f.x=s),p<l&&(f.width=l-h),r.splice(a,1);break}}return r},n.findHostInstance=function(e){var t=d(e);if(void 0===t){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var n=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+n)}var r=ge(t);return null===r?null:r.stateNode},n.findHostInstanceWithNoPortals=function(e){var t=ye(e);return null===t?null:t.stateNode},n.findHostInstanceWithWarning=function(e,t){var n=d(e);if(void 0===n){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var r=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+r)}var i=ge(n);if(null===i)return null;if(8&i.mode){var a=H(n)||"Component";if(!rm[a]){rm[a]=!0;var o=ea;try{ia(i),8&n.mode?l("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a):l("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a)}finally{o?ia(o):ra()}}}return i.stateNode},n.flushControlled=function(e){var t=Qf;Qf|=1;var n=Uf.transition,r=ni();try{Uf.transition=null,ri(1),e()}finally{ri(r),Uf.transition=n,(Qf=t)===Vf&&(mh(),Xi())}},n.flushPassiveEffects=op,n.flushSync=Gh,n.focusWithin=function(e,t){if(!Xe)throw new Error("Test selector API is not supported by this renderer.");for(var n=Rf(Tf(e),t),r=Array.from(n),i=0;i<r.length;){var a=r[i++];if(!Ze(a)){if(5===a.tag){var o=a.stateNode;if(Je(o))return!0}for(var s=a.child;null!==s;)r.push(s),s=s.sibling}}return!1},n.getCurrentUpdatePriority=ni,n.getFindAllNodesFailureDescription=function(e,t){if(!Xe)throw new Error("Test selector API is not supported by this renderer.");for(var n=0,r=[],i=[Tf(e),0],a=0;a<i.length;){var o=i[a++],s=i[a++],l=t[s];if((5!==o.tag||!Ze(o))&&(Af(o,l)&&(r.push(If(l)),++s>n&&(n=s)),s<t.length))for(var u=o.child;null!==u;)i.push(u,s),u=u.sibling}if(n<t.length){for(var c=[],d=n;d<t.length;d++)c.push(If(t[d]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+c.join(" > ")}return null},n.getPublicRootInstance=function(e){var t=e.current;return t.child?5===t.child.tag?_e(t.child.stateNode):t.child.stateNode:null},n.injectIntoDevTools=function(e){var t=e.findFiberByHostInstance,n=a.ReactCurrentDispatcher;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return l("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{e=c({},e,{getLaneLabelMap:Ei,injectProfilingHooks:Si}),vi=t.inject(e),yi=t}catch(e){l("React instrumentation encountered an error: %s.",e)}return!!t.checkDCE}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:fm,overrideHookStateDeletePath:hm,overrideHookStateRenamePath:pm,overrideProps:mm,overridePropsDeletePath:gm,overridePropsRenamePath:vm,setErrorHandler:bm,setSuspenseHandler:wm,scheduleUpdate:ym,currentDispatcherRef:n,findHostInstanceByFiber:Pm,findFiberByHostInstance:t||Tm,findHostInstancesForRefresh:Fp,scheduleRefresh:zp,scheduleRoot:Lp,setRefreshHandler:Tp,getCurrentFiber:Am,reconcilerVersion:"18.0.0-fc46dba67-20220329"})},n.isAlreadyRendering=function(){return(Qf&(Hf|Wf))!==Vf},n.observeVisibleRects=function(e,t,n,r){if(!Xe)throw new Error("Test selector API is not supported by this renderer.");var i=Of(e,t),a=et(i,n,r),o=a.disconnect,s=a.observe,l=a.unobserve,u=function(){var n=Of(e,t);i.forEach(function(e){n.indexOf(e)<0&&l(e)}),n.forEach(function(e){i.indexOf(e)<0&&s(e)})};return Df.push(u),{disconnect:function(){var e=Df.indexOf(u);e>=0&&Df.splice(e,1),o()}}},n.registerMutableSourceForHydration=function(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=ti;try{return ti=e,t()}finally{ti=n}},n.shouldError=um,n.shouldSuspend=dm,n.updateContainer=am,n})),jh.exports}var Uh,Bh=ph((Nh||(Nh=1,"production"===process.env.NODE_ENV?kh.exports=zh():kh.exports=Fh()),kh.exports)),Vh={exports:{}},Hh={};var Wh,Gh,qh={};function Xh(){return Wh||(Wh=1,function(e){"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);function t(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;r>0;){var a=r-1>>>1,o=e[a];if(!(i(o,t)>0))return;e[a]=t,e[r]=o,r=a}}(e,t,n)}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,a=e.length,o=a>>>1;for(;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(i(l,t)<0)u<a&&i(c,l)<0?(e[r]=c,e[u]=t,r=u):(e[r]=l,e[s]=t,r=s);else{if(!(u<a&&i(c,t)<0))return;e[r]=c,e[u]=t,r=u}}}(e,n,0)),t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))return;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,D()),h=!0;var a=f;try{return function(t,i){var a=i;b(a),d=n(l);for(;null!==d&&(!(d.expirationTime>a)||t&&!M());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=a);a=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(a)}else r(l);d=n(l)}if(null!==d)return!0;var c=n(u);return null!==c&&O(w,c.startTime-a),!1}(t,i)}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _=!1,S=null,E=-1,k=5,C=-1;function M(){return!(e.unstable_now()-C<k)}var P,T=function(){if(null!==S){var t=e.unstable_now();C=t;var n=!0;try{n=S(!0,t)}finally{n?P():(_=!1,S=null)}}else _=!1};if("function"==typeof y)P=function(){y(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=T,P=function(){I.postMessage(null)}}else P=function(){g(T,0)};function R(e){S=e,_||(_=!0,P())}function O(t,n){E=g(function(){t(e.unstable_now())},n)}function D(){v(E),E=-1}var z=function(){};e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){e<0||e>125||(k=e>0?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){var t;switch(f){case 1:case 2:case 3:t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o,s,d=e.unstable_now();if("object"==typeof a&&null!==a){var f=a.delay;o="number"==typeof f&&f>0?d+f:d}else o=d;switch(r){case 1:s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}var g=o+s,v={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:g,sortIndex:-1};return o>d?(v.sortIndex=o,t(u,v),null===n(l)&&v===n(u)&&(m?D():m=!0,O(w,o-d))):(v.sortIndex=g,t(l,v),p||h||(p=!0,R(x))),v},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(qh)),qh}var Yh=(Gh||(Gh=1,"production"===process.env.NODE_ENV?Vh.exports=(Uh||(Uh=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(k),k=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!P());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,k=-1,C=5,M=-1;function P(){return!(e.unstable_now()-M<C)}function T(){if(null!==E){var t=e.unstable_now();M=t;var n=!0;try{n=E(!0,t)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"==typeof y)_=function(){y(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=T,_=function(){I.postMessage(null)}}else _=function(){g(T,0)};function R(e){E=e,S||(S=!0,_())}function O(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(k),k=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,R(x))),r},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(Hh)),Hh):Vh.exports=Xh()),Vh.exports);const Kh={};var $h,Zh;const Qh=e=>"colorSpace"in e||"outputColorSpace"in e,Jh=()=>{var e;return null!=(e=Kh.ColorManagement)?e:null},ep=e=>e&&e.isOrthographicCamera,tp="undefined"!=typeof window&&(null!=($h=window.document)&&$h.createElement||"ReactNative"===(null==(Zh=window.navigator)?void 0:Zh.product))?e.useLayoutEffect:e.useEffect;function np(t){const n=e.useRef(t);return tp(()=>{n.current=t},[t]),n}function rp({set:e}){return tp(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class ip extends e.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ip.getDerivedStateFromError=()=>({error:!0});const ap="__default",op=new Map,sp=e=>e&&!!e.memoized&&!!e.changes;function lp(e){var t;const n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const up=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function cp(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const dp={obj:e=>e===Object(e)&&!dp.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(dp.str(e)||dp.num(e)||dp.boo(e))return e===t;const a=dp.obj(e);if(a&&"reference"===r)return e===t;const o=dp.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!dp.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(dp.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function fp(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function hp(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce((e,t)=>e[t],e),{target:n,key:i}}return{target:n,key:t}}const pp=/-\d+$/;function mp(e,t,n){if(dp.str(n)){if(pp.test(n)){const t=n.replace(pp,""),{target:r,key:i}=hp(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=hp(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function gp(e,t,n){var r,i;if(dp.str(n)){const{target:r,key:i}=hp(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function vp(e,{children:t,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const c=e.__r3f,d=Object.entries(i),f=[];if(u){const e=Object.keys(l);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||d.unshift([e[t],ap+"remove"])}d.forEach(([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t)return;if(dp.equ(n,l[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return f.push([t,n,!0,[]]);let a=[];t.includes("-")&&(a=t.split("-")),f.push([t,n,!1,a]);for(const e in i){const n=i[e];e.startsWith(`${t}-`)&&f.push([e,n,!1,e.split("-")])}});const h={...i};return null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.args&&(h.args=c.memoizedProps.args),null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.attach&&(h.attach=c.memoizedProps.attach),{memoized:h,changes:f}}const yp="undefined"!=typeof process&&"production"!==process.env.NODE_ENV;function bp(e,t){var n;const r=e.__r3f,i=null==r?void 0:r.root,a=null==i||null==i.getState?void 0:i.getState(),{memoized:o,changes:s}=sp(t)?t:vp(e,t),l=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=o);for(let t=0;t<s.length;t++){let[n,i,o,l]=s[t];if(Qh(e)){const e=3001,t="srgb",r="srgb-linear";"encoding"===n?(n="colorSpace",i=i===e?t:r):"outputEncoding"===n&&(n="outputColorSpace",i=i===e?t:r)}let d=e,f=d[n];if(l.length&&(f=l.reduce((e,t)=>e[t],e),!f||!f.set)){const[t,...r]=l.reverse();d=r.reverse().reduce((e,t)=>e[t],e),n=t}if(i===ap+"remove")if(d.constructor){let e=op.get(d.constructor);e||(e=new d.constructor,op.set(d.constructor,e)),i=e[n]}else i=0;if(o&&r)i?r.handlers[n]=i:delete r.handlers[n],r.eventCount=Object.keys(r.handlers).length;else if(f&&f.set&&(f.copy||f instanceof dr)){if(Array.isArray(i))f.fromArray?f.fromArray(i):f.set(...i);else if(f.copy&&i&&i.constructor&&(yp?f.constructor.name===i.constructor.name:f.constructor===i.constructor))f.copy(i);else if(void 0!==i){var u;const e=null==(u=f)?void 0:u.isColor;!e&&f.setScalar?f.setScalar(i):f instanceof dr&&i instanceof dr?f.mask=i.mask:f.set(i),!Jh()&&a&&!a.linear&&e&&f.convertSRGBToLinear()}}else{var c;if(d[n]=i,null!=(c=d[n])&&c.isTexture&&d[n].format===_e&&d[n].type===le&&a){const e=d[n];Qh(e)&&Qh(a.gl)?e.colorSpace=a.gl.outputColorSpace:e.encoding=a.gl.outputEncoding}}wp(e)}if(r&&r.parent&&e.raycast&&l!==r.eventCount){const t=cp(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),r.eventCount&&t.interaction.push(e)}return!(1===s.length&&"onUpdate"===s[0][0])&&s.length&&null!=(n=e.__r3f)&&n.parent&&xp(e),e}function wp(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function xp(e){null==e.onUpdate||e.onUpdate(e)}function _p(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Sp(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function Ep(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(_p(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=up(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(function(e){const n=up(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{const n=up(e.object),r=up(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=_p(e);return!i.has(t)&&(i.add(t),!0)});r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(_p(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=u?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=c.map(e=>e.eventObject)),u&&!c.length&&d<=2&&(r(a,s.interaction),o&&o(a)),l&&n(c),function(t,r,i,a){const o=e.getState();if(t.length){const e={stopped:!1};for(const s of t){const l=up(s.object)||o,{raycaster:u,pointer:c,camera:d,internal:f}=l,h=new En(c.x,c.y,0).unproject(d),p=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{const t={intersection:s,target:r.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(s.eventObject,t):f.capturedMap.set(e,new Map([[s.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=f.capturedMap.get(e);t&&Sp(f.capturedMap,s.eventObject,t,e)};let v={};for(let e in r){let t=r[e];"function"!=typeof t&&(v[e]=t)}let y={...s,...v,pointer:c,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:h,ray:u.ray,camera:d,stopPropagation(){const i="pointerId"in r&&f.capturedMap.get(r.pointerId);(!i||i.has(s.eventObject))&&(y.stopped=e.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find(e=>e.eventObject===s.eventObject))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r};if(a(y),!0===e.stopped)break}}}(c,a,d,function(e){const t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=_p(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[i];n?u&&!s.initialHits.includes(t)||(r(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):u&&s.initialHits.includes(t)&&r(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}const kp=e=>!(null==e||!e.render),Cp=e.createContext(null),Mp=(t,a)=>{const o=function(e){const t="function"==typeof e?_h(e):e,a=(e=t.getState,a=Object.is)=>{const[,o]=n(e=>e+1,0),s=t.getState(),l=r(s),u=r(e),c=r(a),d=r(!1),f=r();let h;void 0===f.current&&(f.current=e(s));let p=!1;(l.current!==s||u.current!==e||c.current!==a||d.current)&&(h=e(s),p=!a(f.current,h)),Sh(()=>{p&&(f.current=h),l.current=s,u.current=e,c.current=a,d.current=!1});const m=r(s);Sh(()=>{const e=()=>{try{const e=t.getState(),n=u.current(e);c.current(f.current,n)||(l.current=e,f.current=n,o())}catch(e){d.current=!0,o()}},n=t.subscribe(e);return t.getState()!==m.current&&e(),n},[]);const g=p?h:f.current;return i(g),g};return Object.assign(a,t),a[Symbol.iterator]=function(){const e=[a,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},a}((n,r)=>{const i=new En,o=new En,s=new En;function l(e=r().camera,t=o,n=r().size){const{width:a,height:l,top:u,left:c}=n,d=a/l;t.isVector3?s.copy(t):s.set(...t);const f=e.getWorldPosition(i).distanceTo(s);if(ep(e))return{width:a/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:f,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*f,r=n*(a/l);return{width:r,height:n,top:u,left:c,factor:a/r,distance:f,aspect:d}}}let u;const c=e=>n(t=>({performance:{...t.performance,current:e}})),d=new Yt,f={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(e=1)=>t(r(),e),advance:(e,t)=>a(e,t,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Eu,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();u&&clearTimeout(u),e.performance.current!==e.performance.min&&c(e.performance.min),u=setTimeout(()=>c(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i,a,s)=>{const u=r().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:i};n(e=>({size:c,viewport:{...e.viewport,...l(u,o,c)}}))},setDpr:e=>n(t=>{const n=lp(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:e.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return f}),s=o.getState();let l=s.size,u=s.viewport.dpr,c=s.camera;return o.subscribe(()=>{const{camera:e,size:t,viewport:n,gl:r,set:i}=o.getState();if(t.width!==l.width||t.height!==l.height||n.dpr!==u){var a;l=t,u=n.dpr,function(e,t){e.manual||(ep(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}(e,t),r.setPixelRatio(n.dpr);const i=null!=(a=t.updateStyle)?a:"undefined"!=typeof HTMLCanvasElement&&r.domElement instanceof HTMLCanvasElement;r.setSize(t.width,t.height,i)}e!==c&&(c=e,i(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),o.subscribe(e=>t(e)),o};let Pp,Tp,Ap,Ip=new Set,Rp=new Set,Op=new Set;function Dp(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function zp(e,t){switch(e){case"before":return Dp(Ip,t);case"after":return Dp(Rp,t);case"tail":return Dp(Op,t)}}function Lp(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Tp=t.internal.subscribers,Pp=0;Pp<Tp.length;Pp++)Ap=Tp[Pp],Ap.ref.current(Ap.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Np(){const t=e.useContext(Cp);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function jp(e=e=>e,t){return Np()(e,t)}function Fp(e,t=0){const n=Np(),r=n.getState().internal.subscribe,i=np(e);return tp(()=>r(i,t,n),[t,r,n]),null}const Up=new Map,{invalidate:Bp,advance:Vp}=function(e){let t,n,r,i=!1,a=!1;function o(s){n=requestAnimationFrame(o),i=!0,t=0,zp("before",s),a=!0;for(const n of e.values()){var l;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=Lp(s,r))}if(a=!1,zp("after",s),0===t)return zp("tail",s),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n,r=1){var s;if(!n)return e.forEach(e=>t(e.store.getState(),r));null!=(s=n.gl.xr)&&s.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):a?2:1,i||(i=!0,requestAnimationFrame(o)))},advance:function(t,n=!0,r,i){if(n&&zp("before",t),r)Lp(t,r,i);else for(const n of e.values())Lp(t,n.store.getState());n&&zp("after",t)}}}(Up),{reconciler:Hp,applyProps:Wp}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let a,o=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===r.object)throw new Error("R3F: Primitives without 'object' are invalid!");a=fp(r.object,{type:e,root:i,attach:n,primitive:!0})}else{const r=Kh[o];if(!r)throw new Error(`R3F: ${o} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw new Error("R3F: The args prop must be an array!");a=fp(new r(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return void 0===a.__r3f.attach&&(a.isBufferGeometry?a.__r3f.attach="geometry":a.isMaterial&&(a.__r3f.attach="material")),"inject"!==o&&bp(a,r),a}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?mp(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||fp(t,{}),t.__r3f.parent=e,xp(t),wp(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)mp(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const i=e.children.filter(e=>e!==t),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||fp(t,{}),t.__r3f.parent=e,xp(t),wp(t)}}function a(e,t,n=!1){e&&[...e].forEach(e=>o(t,e,n))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach)gp(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{Sp(n.capturedMap,t,e,r)})}(cp(t),t)}const u=null==(o=t.__r3f)?void 0:o.primitive,c=!u&&(void 0===n?null!==t.dispose:n);var l;if(!u)a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c);if(delete t.__r3f,c&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?Yh.unstable_scheduleCallback(Yh.unstable_IdlePriority,e):e()}wp(e)}}const s=()=>{};return{reconciler:Bh({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&o(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...a}=r,{args:o=[],children:s,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==o[t]))return[!0];const u=vp(e,a,l,!0);return u.changes.length?[!1,u]:null}},commitUpdate(e,[t,i],a,s,l,u){t?function(e,t,i,a){var s;const l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;const u=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(u,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>r(u,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),r(l,u),u.raycast&&u.__r3f.eventCount&&cp(u).getState().internal.interaction.push(u);[a,a.alternate].forEach(e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}(e,a,l,u):bp(e,i)},commitMount(e,t,n,r){var i;const a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&cp(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>fp(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&gp(r,e,n),e.isObject3D&&(e.visible=!1),wp(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&mp(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),wp(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():xh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&dp.fun(performance.now)?performance.now:dp.fun(Date.now)?Date.now:()=>0,scheduleTimeout:dp.fun(setTimeout)?setTimeout:void 0,cancelTimeout:dp.fun(clearTimeout)?clearTimeout:void 0}),applyProps:bp}}(0,function(){var e;const t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return xh.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xh.ContinuousEventPriority;default:return xh.DefaultEventPriority}}),Gp={objects:"shallow",strict:!1},qp=(e,t)=>{const n="function"==typeof e?e(t):e;return kp(n)?n:new dh({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function Xp(e){const t=Up.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store,i="function"==typeof reportError?reportError:console.error,a=r||Mp(Bp,Vp),o=n||Hp.createContainer(a,xh.ConcurrentRoot,null,!1,null,"",i,null);let s;t||Up.set(e,{fiber:o,store:a});let l,u=!1;return{configure(t={}){let{gl:n,size:r,scene:i,events:o,onCreated:c,shadows:d=!1,linear:f=!1,flat:h=!1,legacy:p=!1,orthographic:m=!1,frameloop:g="always",dpr:v=[1,2],performance:y,raycaster:b,camera:w,onPointerMissed:x}=t,_=a.getState(),S=_.gl;_.gl||_.set({gl:S=qp(n,e)});let E=_.raycaster;E||_.set({raycaster:E=new Yu});const{params:k,...C}=b||{};if(dp.equ(C,E,Gp)||Wp(E,{...C}),dp.equ(k,E.params,Gp)||Wp(E,{params:{...E.params,...k}}),!_.camera||_.camera===l&&!dp.equ(l,w,Gp)){l=w;const e=w instanceof zi,t=e?w:m?new iu(0,0,0,0,.1,1e3):new Fi(75,0,.1,1e3);e||(t.position.z=5,w&&(Wp(t,w),("aspect"in w||"left"in w||"right"in w||"bottom"in w||"top"in w)&&(t.manual=!0,t.updateProjectionMatrix())),_.camera||null!=w&&w.rotation||t.lookAt(0,0,0)),_.set({camera:t}),E.camera=t}if(!_.scene){let e;null!=i&&i.isScene?e=i:(e=new qi,i&&Wp(e,i)),_.set({scene:fp(e)})}if(!_.xr){var M;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&Vp(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||Bp(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(M=S.xr)?void 0:M.addEventListener)&&n.connect(),_.set({xr:n})}if(S.shadowMap){const e=S.shadowMap.enabled,t=S.shadowMap.type;if(S.shadowMap.enabled=!!d,dp.boo(d))S.shadowMap.type=2;else if(dp.str(d)){var P;const e={basic:0,percentage:1,soft:2,variance:3};S.shadowMap.type=null!=(P=e[d])?P:2}else dp.obj(d)&&Object.assign(S.shadowMap,d);e===S.shadowMap.enabled&&t===S.shadowMap.type||(S.shadowMap.needsUpdate=!0)}const T=Jh();if(T&&("enabled"in T?T.enabled=!p:"legacyMode"in T&&(T.legacyMode=p)),!u){Wp(S,{outputEncoding:f?3e3:3001,toneMapping:h?0:4})}_.legacy!==p&&_.set(()=>({legacy:p})),_.linear!==f&&_.set(()=>({linear:f})),_.flat!==h&&_.set(()=>({flat:h})),!n||dp.fun(n)||kp(n)||dp.equ(n,S,Gp)||Wp(S,n),o&&!_.events.handlers&&_.set({events:o(a)});const A=function(e,t){const n="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:a,updateStyle:o=n}=t;return{width:e,height:r,top:i,left:a,updateStyle:o}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a,updateStyle:n}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return dp.equ(A,_.size,Gp)||_.setSize(A.width,A.height,A.updateStyle,A.top,A.left),v&&_.viewport.dpr!==lp(v)&&_.setDpr(v),_.frameloop!==g&&_.setFrameloop(g),_.onPointerMissed||_.set({onPointerMissed:x}),y&&!dp.equ(y,_.performance,Gp)&&_.set(e=>({performance:{...e.performance,...y}})),s=c,u=!0,this},render(t){return u||this.configure(),Hp.updateContainer(f(Yp,{store:a,children:t,onCreated:s,rootElement:e}),o,null,()=>{}),a},unmount(){Kp(e)}}}function Yp({store:e,children:t,onCreated:n,rootElement:r}){return tp(()=>{const t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),f(Cp.Provider,{value:e,children:t})}function Kp(e,t){const n=Up.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Hp.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),Up.delete(e),t&&t(e)}catch(e){}},500)})}}Hp.injectIntoDevTools({bundleType:"production"===process.env.NODE_ENV?0:1,rendererPackageName:"@react-three/fiber",version:e.version});const $p={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Zp(e){const{handlePointer:t}=Ep(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys($p).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach(([e,n])=>{const[r,i]=$p[e];t.addEventListener(r,n,{passive:i})})},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[r]=$p[e];n.connected.removeEventListener(r,t)}}),t(e=>({events:{...e.events,connected:void 0}})))}}}function Qp(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function Jp({debounce:e,scroll:t,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const o=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[u,c]=s({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=r({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),f=e?"number"==typeof e?e:e.scroll:null,h=e?"number"==typeof e?e:e.resize:null,p=r(!1);a(()=>(p.current=!0,()=>{p.current=!1}));const[m,g,v]=l(()=>{const e=()=>{if(!d.current.element)return;const{left:e,top:t,width:n,height:r,bottom:a,right:o,x:s,y:l}=d.current.element.getBoundingClientRect(),u={left:e,top:t,width:n,height:r,bottom:a,right:o,x:s,y:l};d.current.element instanceof HTMLElement&&i&&(u.height=d.current.element.offsetHeight,u.width=d.current.element.offsetWidth),Object.freeze(u),p.current&&!nm(d.current.lastBounds,u)&&c(d.current.lastBounds=u)};return[e,h?Qp(e,h):e,f?Qp(e,f):e]},[c,i,f,h]);function y(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",v,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null),d.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",d.current.orientationHandler))}function b(){d.current.element&&(d.current.resizeObserver=new o(v),d.current.resizeObserver.observe(d.current.element),t&&d.current.scrollContainers&&d.current.scrollContainers.forEach(e=>e.addEventListener("scroll",v,{capture:!0,passive:!0})),d.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",d.current.orientationHandler))}return function(e,t){a(()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[e,t])}(v,!!t),function(e){a(()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}(g),a(()=>{y(),b()},[t,v,g]),a(()=>y,[]),[e=>{!e||e===d.current.element||(y(),d.current.element=e,d.current.scrollContainers=em(e),b())},u,m]}function em(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...em(e.parentElement)]}const tm=["x","y","top","bottom","left","right","width","height"],nm=(e,t)=>tm.every(n=>e[n]===t[n]);var rm,im,am=Object.defineProperty,om=Object.defineProperties,sm=Object.getOwnPropertyDescriptors,lm=Object.getOwnPropertySymbols,um=Object.prototype.hasOwnProperty,cm=Object.prototype.propertyIsEnumerable,dm=(e,t,n)=>t in e?am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fm=(e,t)=>{for(var n in t||(t={}))um.call(t,n)&&dm(e,n,t[n]);if(lm)for(var n of lm(t))cm.call(t,n)&&dm(e,n,t[n]);return e};function hm(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=hm(r,t,n);if(e)return e;r=t?null:r.sibling}}function pm(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"==typeof window||!(null==(rm=window.document)?void 0:rm.createElement)&&"ReactNative"!==(null==(im=window.navigator)?void 0:im.product)?e.useEffect:e.useLayoutEffect;const mm=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return mm.apply(this,arguments);console.error=mm};const gm=pm(e.createContext(null));class vm extends e.Component{render(){return e.createElement(gm.Provider,{value:this._reactInternals},this.props.children)}}function ym(){const t=function(){const t=e.useContext(gm);if(null===t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=e.useId();return e.useMemo(()=>{for(const e of[t,null==t?void 0:t.alternate]){if(!e)continue;const t=hm(e,!1,e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===n)return!0;t=t.next}});if(t)return t}},[t,n])}(),[n]=e.useState(()=>new Map);n.clear();let r=t;for(;r;){if(r.type&&"object"==typeof r.type){const t=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;t&&t!==gm&&!n.has(t)&&n.set(t,e.useContext(pm(t)))}r=r.return}return n}function bm(){const t=ym();return e.useMemo(()=>Array.from(t.keys()).reduce((n,r)=>i=>e.createElement(n,null,e.createElement(r.Provider,((e,t)=>om(e,sm(t)))(fm({},i),{value:t.get(r)}))),t=>e.createElement(vm,fm({},t))),[t])}const wm=e.forwardRef(function({children:t,fallback:n,resize:r,style:i,gl:a,events:o=Zp,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:h,orthographic:p,frameloop:m,dpr:g,performance:v,raycaster:y,camera:b,scene:w,onPointerMissed:x,onCreated:_,...S},E){e.useMemo(()=>{return e=fh,void Object.assign(Kh,e);var e},[]);const k=bm(),[C,M]=Jp({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=e.useRef(null),T=e.useRef(null);e.useImperativeHandle(E,()=>P.current);const A=np(x),[I,R]=e.useState(!1),[O,D]=e.useState(!1);if(I)throw I;if(O)throw O;const z=e.useRef(null);tp(()=>{const n=P.current;M.width>0&&M.height>0&&n&&(z.current||(z.current=Xp(n)),z.current.configure({gl:a,events:o,shadows:u,linear:c,flat:d,legacy:h,orthographic:p,frameloop:m,dpr:g,performance:v,raycaster:y,camera:b,scene:w,size:M,onPointerMissed:(...e)=>null==A.current?void 0:A.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(s?(t=s)&&t.hasOwnProperty("current")?s.current:s:T.current),l&&e.setEvents({compute:(e,t)=>{const n=e[l+"X"],r=e[l+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==_||_(e)}}),z.current.render(f(k,{children:f(ip,{set:D,children:f(e.Suspense,{fallback:f(rp,{set:R}),children:null!=t?t:null})})})))}),e.useEffect(()=>{const e=P.current;if(e)return()=>Kp(e)},[]);return f("div",{ref:T,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:s?"none":"auto",...i},...S,children:f("div",{ref:C,style:{width:"100%",height:"100%"},children:f("canvas",{ref:P,style:{display:"block"},children:n})})})}),xm=e.forwardRef(function(e,t){return f(vm,{children:f(wm,{...e,ref:t})})});var _m,Sm,Em={exports:{}},km={};function Cm(){return _m||(_m=1,function(e){var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;((e,n)=>{for(var r in(e=>{t(e,"__esModule",{value:!0})})(e),n)t(e,r,{get:n[r],enumerable:!0})})(e,{Atom:()=>Ct,PointerProxy:()=>Ot,Ticker:()=>It,getPointerParts:()=>Xe,isPointer:()=>$e,isPrism:()=>Je,iterateAndCountTicks:()=>At,iterateOver:()=>Rt,pointer:()=>Ke,pointerToPrism:()=>Pt,prism:()=>xt,val:()=>Tt});var l=Array.isArray,u="object"==typeof hh&&hh&&hh.Object===Object&&hh,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=d.Symbol,h=Object.prototype,p=h.hasOwnProperty,m=h.toString,g=f?f.toStringTag:void 0;var v=function(e){var t=p.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(e){}var i=m.call(e);return r&&(t?e[g]=n:delete e[g]),i},y=Object.prototype.toString;var b=function(e){return y.call(e)},w=f?f.toStringTag:void 0;var x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?v(e):b(e)};var _=function(e){return null!=e&&"object"==typeof e};var S=function(e){return"symbol"==typeof e||_(e)&&"[object Symbol]"==x(e)},E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;var C=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!S(e))||(k.test(e)||!E.test(e)||null!=t&&e in Object(t))};var M=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var P,T=function(e){if(!M(e))return!1;var t=x(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},A=d["__core-js_shared__"],I=(P=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";var R=function(e){return!!I&&I in e},O=Function.prototype.toString;var D=function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""},z=/^\[object .+?Constructor\]$/,L=Function.prototype,N=Object.prototype,j=L.toString,F=N.hasOwnProperty,U=RegExp("^"+j.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var B=function(e){return!(!M(e)||R(e))&&(T(e)?U:z).test(D(e))};var V=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=V(e,t);return B(n)?n:void 0},W=H(Object,"create");var G=function(){this.__data__=W?W(null):{},this.size=0};var q=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(W){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return X.call(t,e)?t[e]:void 0},K=Object.prototype.hasOwnProperty;var $=function(e){var t=this.__data__;return W?void 0!==t[e]:K.call(t,e)};var Z=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?"__lodash_hash_undefined__":t,this};function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Q.prototype.clear=G,Q.prototype.delete=q,Q.prototype.get=Y,Q.prototype.has=$,Q.prototype.set=Z;var J=Q;var ee=function(){this.__data__=[],this.size=0};var te=function(e,t){return e===t||e!=e&&t!=t};var ne=function(e,t){for(var n=e.length;n--;)if(te(e[n][0],t))return n;return-1},re=Array.prototype.splice;var ie=function(e){var t=this.__data__,n=ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():re.call(t,n,1),--this.size,!0)};var ae=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]};var oe=function(e){return ne(this.__data__,e)>-1};var se=function(e,t){var n=this.__data__,r=ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ee,le.prototype.delete=ie,le.prototype.get=ae,le.prototype.has=oe,le.prototype.set=se;var ue=le,ce=H(d,"Map");var de=function(){this.size=0,this.__data__={hash:new J,map:new(ce||ue),string:new J}};var fe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var he=function(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map};var pe=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t};var me=function(e){return he(this,e).get(e)};var ge=function(e){return he(this,e).has(e)};var ve=function(e,t){var n=he(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ye.prototype.clear=de,ye.prototype.delete=pe,ye.prototype.get=me,ye.prototype.has=ge,ye.prototype.set=ve;var be=ye;function we(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(we.Cache||be),n}we.Cache=be;var xe=we;var _e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Se=/\\(\\)?/g,Ee=function(e){var t=xe(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(_e,function(e,n,r,i){t.push(r?i.replace(Se,"$1"):n||e)}),t});var ke=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ce=f?f.prototype:void 0,Me=Ce?Ce.toString:void 0;var Pe=function e(t){if("string"==typeof t)return t;if(l(t))return ke(t,e)+"";if(S(t))return Me?Me.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var Te=function(e){return null==e?"":Pe(e)};var Ae=function(e,t){return l(e)?e:C(e,t)?[e]:Ee(Te(e))};var Ie=function(e){if("string"==typeof e||S(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Re=function(e,t){for(var n=0,r=(t=Ae(t,e)).length;null!=e&&n<r;)e=e[Ie(t[n++])];return n&&n==r?e:void 0};var Oe=function(e,t,n){var r=null==e?void 0:Re(e,t);return void 0===r?n:r};var De=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),ze=Function.prototype,Le=Object.prototype,Ne=ze.toString,je=Le.hasOwnProperty,Fe=Ne.call(Object);var Ue=function(e){if(!_(e)||"[object Object]"!=x(e))return!1;var t=De(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Fe};var Be=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Ve=new WeakMap,He=new WeakMap,We=Symbol("pointerMeta"),Ge={get(e,t){if(t===We)return Ve.get(e);let n=He.get(e);n||(n=new Map,He.set(e,n));const r=n.get(t);if(void 0!==r)return r;const i=Ve.get(e),a=Ye({root:i.root,path:[...i.path,t]});return n.set(t,a),a}},qe=e=>e[We],Xe=e=>{const{root:t,path:n}=qe(e);return{root:t,path:n}};function Ye(e){var t;const n={root:e.root,path:null!=(t=e.path)?t:[]},r={};return Ve.set(r,n),new Proxy(r,Ge)}var Ke=Ye,$e=e=>e&&!!qe(e);var Ze=(e,t,l)=>{if(0===t.length)return l(e);if(Array.isArray(e)){let[n,...r]=t;n=parseInt(String(n),10),isNaN(n)&&(n=0);const i=e[n],a=Ze(i,r,l);if(i===a)return e;const o=[...e];return o.splice(n,1,a),o}if("object"==typeof e&&null!==e){const[u,...c]=t,d=e[u],f=Ze(d,c,l);if(d===f)return e;const h=((e,t)=>n(e,r(t)))(((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(i)for(var n of i(t))o.call(t,n)&&s(e,n,t[n]);return e})({},e),{[u]:f});return h}{const[e,...n]=t;return{[e]:Ze(void 0,n,l)}}},Qe=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const e=this._head;if(e)return this._head=e.next,e.data}push(e){const t={next:this._head,data:e};this._head=t}};function Je(e){return!(!e||!e.isPrism||!0!==e.isPrism)}function et(){const e=new Qe,t=()=>{};return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{e.push(t)},stopIgnoringDependencies:()=>{e.peek()!==t?process.env.NODE_ENV:e.pop()},reportResolutionStart:n=>{const r=e.peek();r&&r(n),e.push(t)},reportResolutionEnd:t=>{e.pop()},pushCollector:t=>{e.push(t)},popCollector:t=>{if(e.peek()!==t)throw new Error("Popped collector is not on top of the stack");e.pop()}}}var{startIgnoringDependencies:tt,stopIgnoringDependencies:nt,reportResolutionEnd:rt,reportResolutionStart:it,pushCollector:at,popCollector:ot}=function(){const e="__dataverse_discoveryMechanism_sharedStack",t="undefined"!=typeof window?window:void 0!==hh?hh:{};if(t){const n=t[e];if(n&&"object"==typeof n&&"Dataverse_discoveryMechanism"===n.type)return n;{const n=et();return t[e]=n,n}}return et()}(),st=()=>{},lt=class{constructor(e,t){this._fn=e,this._prismInstance=t,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new dt(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=e=>{this._possiblyStaleDeps.add(e),this._markAsStale()};for(const e of this._dependencies)e._addDependent(this._reactToDependencyGoingStale);tt(),this.getValue(),nt()}get hasDependents(){return this._dependents.size>0}removeDependent(e){this._dependents.delete(e)}addDependent(e){this._dependents.add(e)}destroy(){for(const e of this._dependencies)e._removeDependent(this._reactToDependencyGoingStale);ft(this._scope)}getValue(){if(!this._isFresh){const e=this._recalculate();this._lastValue=e,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let e;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let e=!1;tt();for(const t of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(t)!==t.getValue()){e=!0;break}if(nt(),this._possiblyStaleDeps.clear(),!e)return this._lastValue}const t=new Set;this._cacheOfDendencyValues.clear();const n=e=>{t.add(e),this._addDependency(e)};at(n),pt.push(this._scope);try{e=this._fn()}catch(e){}finally{pt.pop();this._scope}ot(n);for(const e of this._dependencies)t.has(e)||this._removeDependency(e);this._dependencies=t,tt();for(const e of t)this._cacheOfDendencyValues.set(e,e.getValue());return nt(),e}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const e of this._dependents)e(this._prismInstance)}}_addDependency(e){this._dependencies.has(e)||(this._dependencies.add(e),e._addDependent(this._reactToDependencyGoingStale))}_removeDependency(e){this._dependencies.has(e)&&(this._dependencies.delete(e),e._removeDependent(this._reactToDependencyGoingStale))}},ut={},ct=class{constructor(e){this._fn=e,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(e,t,n=!1){const r=()=>{e.onThisOrNextTick(a)};let i=ut;const a=()=>{const e=this.getValue();e!==i&&(i=e,t(e))};this._addDependent(r),n&&(i=this.getValue(),t(i));return()=>{this._removeDependent(r),e.offThisOrNextTick(a),e.offNextTick(a)}}onStale(e){const t=()=>e();return this._addDependent(t),()=>{this._removeDependent(t)}}keepHot(){return this.onStale(()=>{})}_addDependent(e){this._state.hot||this._goHot(),this._state.handle.addDependent(e)}_goHot(){const e=new lt(this._fn,this);this._state={hot:!0,handle:e}}_removeDependent(e){const t=this._state;if(!t.hot)return;const n=t.handle;n.removeDependent(e),n.hasDependents||(this._state={hot:!1,handle:void 0},n.destroy())}getValue(){it(this);const e=this._state;let t;return t=e.hot?e.handle.getValue():function(e){const t=new yt;let n;pt.push(t);try{n=e()}catch(e){}finally{pt.pop()}return n}(this._fn),rt(this),t}},dt=class{constructor(e){this._hotHandle=e,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(e,t){let n=this._refs.get(e);if(void 0!==n)return n;{const n={current:t};return this._refs.set(e,n),n}}effect(e,t,n){let r=this.effects.get(e);void 0===r&&(r={cleanup:st,deps:void 0},this.effects.set(e,r)),mt(r.deps,n)&&(r.cleanup(),tt(),r.cleanup=ht(t,st).value,nt(),r.deps=n)}memo(e,t,n){let r=this.memos.get(e);return void 0===r&&(r={cachedValue:null,deps:void 0},this.memos.set(e,r)),mt(r.deps,n)&&(tt(),r.cachedValue=ht(t,void 0).value,nt(),r.deps=n),r.cachedValue}state(e,t){const{value:n,setValue:r}=this.memo("state/"+e,()=>{const e={current:t};return{value:e,setValue:t=>{e.current=t,this._hotHandle.forceStale()}}},[]);return[n.current,r]}sub(e){return this.subs[e]||(this.subs[e]=new dt(this._hotHandle)),this.subs[e]}cleanupEffects(){for(const e of this.effects.values())ht(e.cleanup,void 0);this.effects.clear()}source(e,t){return this.effect("$$source/blah",()=>e(()=>{this._hotHandle.forceStale()}),[e]),t()}};function ft(e){for(const t of Object.values(e.subs))ft(t);e.cleanupEffects()}function ht(e,t){try{return{value:e(),ok:!0}}catch(e){return setTimeout(function(){throw e}),{value:t,ok:!1}}}var pt=new Qe;function mt(e,t){if(void 0===e||void 0===t)return!0;const n=e.length;if(n!==t.length)return!0;for(let r=0;r<n;r++)if(e[r]!==t[r])return!0;return!1}function gt(e,t,n){const r=pt.peek();if(!r)throw new Error("prism.memo() is called outside of a prism() call.");return r.memo(e,t,n)}var vt=e=>new ct(e),yt=class{effect(e,t,n){}memo(e,t,n){return t()}state(e,t){return[t,()=>{}]}ref(e,t){return{current:t}}sub(e){return new yt}source(e,t){return t()}};vt.ref=function(e,t){const n=pt.peek();if(!n)throw new Error("prism.ref() is called outside of a prism() call.");return n.ref(e,t)},vt.effect=function(e,t,n){const r=pt.peek();if(!r)throw new Error("prism.effect() is called outside of a prism() call.");return r.effect(e,t,n)},vt.memo=gt,vt.ensurePrism=function(){if(!pt.peek())throw new Error("The parent function is called outside of a prism() call.")},vt.state=function(e,t){const n=pt.peek();if(!n)throw new Error("prism.state() is called outside of a prism() call.");return n.state(e,t)},vt.scope=function(e,t){const n=pt.peek();if(!n)throw new Error("prism.scope() is called outside of a prism() call.");const r=n.sub(e);pt.push(r);const i=ht(t,void 0).value;return pt.pop(),i},vt.sub=function(e,t,n){return gt(e,()=>vt(t),n).getValue()},vt.inPrism=function(){return!!pt.peek()},vt.source=function(e,t){const n=pt.peek();if(!n)throw new Error("prism.source() is called outside of a prism() call.");return n.source(e,t)};var bt,wt,xt=vt;(wt=bt||(bt={}))[wt.Dict=0]="Dict",wt[wt.Array=1]="Array",wt[wt.Other=2]="Other";var _t=e=>Array.isArray(e)?1:Ue(e)?0:2,St=(e,t,n=_t(e))=>0===n&&"string"==typeof t||1===n&&Et(t)?e[t]:void 0,Et=e=>{const t="number"==typeof e?e:parseInt(e,10);return!isNaN(t)&&t>=0&&t<1/0&&(0|t)===t},kt=class{constructor(e,t){this._parent=e,this._path=t,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(e){this.identityChangeListeners.add(e)}removeIdentityChangeListener(e){this.identityChangeListeners.delete(e),this._checkForGC()}removeChild(e){this.children.delete(e),this._checkForGC()}getChild(e){return this.children.get(e)}getOrCreateChild(e){let t=this.children.get(e);return t||(t=t=new kt(this,this._path.concat([e])),this.children.set(e,t)),t}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(Be(this._path))}},Ct=class{constructor(e){this.$$isPointerToPrismProvider=!0,this.pointer=Ke({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(e,t)=>{const{path:n}=Xe(e),r=this._getOrCreateScopeForPath(n);r.identityChangeListeners.add(t);return()=>{r.identityChangeListeners.delete(t)}},this._currentState=e,this._rootScope=new kt(void 0,[])}set(e){const t=this._currentState;this._currentState=e,this._checkUpdates(this._rootScope,t,e)}get(){return this._currentState}getByPointer(e){const t=$e(e)?e:e(this.pointer),n=Xe(t).path;return this._getIn(n)}_getIn(e){return 0===e.length?this.get():Oe(this.get(),e)}reduce(e){this.set(e(this.get()))}reduceByPointer(e,t){const n=$e(e)?e:e(this.pointer),r=Xe(n).path,i=function(e,t,n){return 0===t.length?n(e):Ze(e,t,n)}(this.get(),r,t);this.set(i)}setByPointer(e,t){this.reduceByPointer(e,()=>t)}_checkUpdates(e,t,n){if(t===n)return;for(const t of e.identityChangeListeners)t(n);if(0===e.children.size)return;const r=_t(t),i=_t(n);if(2!==r||r!==i)for(const[a,o]of e.children){const e=St(t,a,r),s=St(n,a,i);this._checkUpdates(o,e,s)}}_getOrCreateScopeForPath(e){let t=this._rootScope;for(const n of e)t=t.getOrCreateChild(n);return t}pointerToPrism(e){const{path:t}=Xe(e),n=t=>this._onPointerValueChange(e,t),r=()=>this._getIn(t);return xt(()=>xt.source(n,r))}},Mt=new WeakMap;var Pt=e=>{const t=qe(e);let n=Mt.get(t);if(!n){const i=t.root;if("object"!=typeof(r=i)||null===r||!0!==r.$$isPointerToPrismProvider)throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");n=i.pointerToPrism(e),Mt.set(t,n)}var r;return n},Tt=e=>$e(e)?Pt(e).getValue():Je(e)?e.getValue():e;function*At(e){let t;if($e(e))t=Pt(e);else{if(!Je(e))throw new Error("Only pointers and prisms are supported");t=e}let n=0;const r=t.onStale(()=>{n++});try{for(;;){const e=n;n=0,yield{value:t.getValue(),ticks:e}}}finally{r()}}var It=class{constructor(e){this._conf=e,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(e){this._scheduledForThisOrNextTick.add(e),this._dormant&&this._goActive()}onNextTick(e){this._scheduledForNextTick.add(e),this._dormant&&this._goActive()}offThisOrNextTick(e){this._scheduledForThisOrNextTick.delete(e)}offNextTick(e){this._scheduledForNextTick.delete(e)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var e,t;this._dormant&&(this._dormant=!1,null==(t=null==(e=this._conf)?void 0:e.onActive)||t.call(e))}_goDormant(){var e,t;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,null==(t=null==(e=this._conf)?void 0:e.onDormant)||t.call(e))}tick(e=performance.now()){if("development"===process.env.NODE_ENV&&!(this instanceof It))throw new Error('ticker.tick must be called while bound to the ticker. As in, "ticker.tick(time)" or "requestAnimationFrame((t) => ticker.tick(t))" for performance.');if(this.__ticks++,!this._dormant&&0===this._scheduledForNextTick.size&&0===this._scheduledForThisOrNextTick.size&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=180))this._goDormant();else{this._ticking=!0,this._timeAtCurrentTick=e;for(const e of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(e);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}}_tick(e){const t=this.time;if(e>100)throw new Error("Maximum recursion limit for _tick()");const n=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const e of n)e(t);if(this._scheduledForThisOrNextTick.size>0)return this._tick(e+1)}};function*Rt(e){let t;if($e(e))t=Pt(e);else{if(!Je(e))throw new Error("Only pointers and prisms are supported");t=e}const n=new It,r=t.onChange(n,e=>{});try{for(;;)n.tick(),yield t.getValue()}finally{r()}}var Ot=class{constructor(e){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new Ct(e),this.pointer=Ke({root:this,path:[]})}setPointer(e){this._currentPointerBox.set(e)}pointerToPrism(e){const{path:t}=qe(e);return xt(()=>{const e=this._currentPointerBox.prism.getValue(),n=t.reduce((e,t)=>e[t],e);return Tt(n)})}}}(km)),km}var Mm=(Sm||(Sm=1,function(e,t){var n,r=Object.create,i=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&h(e,n,t[n]);if(u)for(var n of u(t))f.call(t,n)&&h(e,n,t[n]);return e},m=(e,t)=>a(e,s(t)),g=(e,t)=>function(){return t||(0,e[l(e)[0]])((t={exports:{}}).exports,t),t.exports},v=(e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})},y=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of l(t))d.call(e,a)||a===n||i(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},b=(e,t,n)=>(n=null!=e?r(c(e)):{},y(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),w=(e,t,n)=>(h(e,"symbol"!=typeof t?t+"":t,n),n),x=g({"../node_modules/timing-function/lib/UnitBezier.js"(e,t){t.exports=function(){function e(e,t,n,r){this.set(e,t,n,r)}return e.prototype.set=function(e,t,n,r){this._cx=3*e,this._bx=3*(n-e)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*t,this._by=3*(r-t)-this._cy,this._ay=1-this._cy-this._by},e.epsilon=1e-6,e.prototype._sampleCurveX=function(e){return((this._ax*e+this._bx)*e+this._cx)*e},e.prototype._sampleCurveY=function(e){return((this._ay*e+this._by)*e+this._cy)*e},e.prototype._sampleCurveDerivativeX=function(e){return(3*this._ax*e+2*this._bx)*e+this._cx},e.prototype._solveCurveX=function(e,t){var n,r,i,a,o,s;for(i=void 0,a=void 0,o=void 0,s=void 0,n=void 0,r=void 0,o=e,r=0;r<8;){if(s=this._sampleCurveX(o)-e,Math.abs(s)<t)return o;if(n=this._sampleCurveDerivativeX(o),Math.abs(n)<t)break;o-=s/n,r++}if((o=e)<(i=0))return i;if(o>(a=1))return a;for(;i<a;){if(s=this._sampleCurveX(o),Math.abs(s-e)<t)return o;e>s?i=o:a=o,o=.5*(a-i)+i}return o},e.prototype.solve=function(e,t){return this._sampleCurveY(this._solveCurveX(e,t))},e.prototype.solveSimple=function(e){return this._sampleCurveY(this._solveCurveX(e,1e-6))},e}()}}),_=g({"../node_modules/levenshtein-edit-distance/index.js"(e,t){var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,l,u,c,d,f;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),d=0;d<a;)r[d]=e.charCodeAt(d),n[d]=++d;for(f=0;f<o;)for(s=t.charCodeAt(f),l=u=f++,d=-1;++d<a;)c=s===r[d]?u:u+1,u=n[d],n[d]=l=u>l?c>l?l+1:c:c>u?u+1:c;return l}}}),S=g({"../node_modules/propose/propose.js"(e,t){var n=_();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],l=arguments[1],u=l.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var d=0;d<u;++d)(e=(t=a?n(s,l[d],!0):n(s,l[d]))>s.length?1-t/l[d].length:1-t/s.length)>o&&(o=e,r=l[d]);return o>=i?r:null}}}),E=g({"../node_modules/fast-deep-equal/index.js"(e,t){t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}}}),k={};v(k,{createRafDriver:()=>Eo,getProject:()=>Il,notify:()=>bo,onChange:()=>zl,types:()=>Lo,val:()=>Ll}),e.exports=(n=k,y(i({},"__esModule",{value:!0}),n));var C={};v(C,{createRafDriver:()=>Eo,getProject:()=>Il,notify:()=>bo,onChange:()=>zl,types:()=>Lo,val:()=>Ll});var M=Cm(),P=new class{constructor(){w(this,"atom",new M.Atom({projects:{}}))}add(e,t){this.atom.setByPointer(t=>t.projects[e],t)}get(e){return this.atom.get().projects[e]}has(e){return!!this.get(e)}},T=new WeakMap;function A(e){return T.get(e)}function I(e,t){T.set(e,t)}var R,O=[],D=Array.isArray,z="object"==typeof hh&&hh&&hh.Object===Object&&hh,L="object"==typeof self&&self&&self.Object===Object&&self,N=z||L||Function("return this")(),j=N.Symbol,F=Object.prototype,U=F.hasOwnProperty,B=F.toString,V=j?j.toStringTag:void 0,H=function(e){var t=U.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch(e){}var i=B.call(e);return r&&(t?e[V]=n:delete e[V]),i},W=Object.prototype.toString,G=function(e){return W.call(e)},q=j?j.toStringTag:void 0,X=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?H(e):G(e)},Y=function(e){return null!=e&&"object"==typeof e},K=function(e){return"symbol"==typeof e||Y(e)&&"[object Symbol]"==X(e)},$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,Q=function(e,t){if(D(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!K(e))||Z.test(e)||!$.test(e)||null!=t&&e in Object(t)},J=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ee=function(e){if(!J(e))return!1;var t=X(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},te=N["__core-js_shared__"],ne=(R=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",re=function(e){return!!ne&&ne in e},ie=Function.prototype.toString,ae=function(e){if(null!=e){try{return ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""},oe=/^\[object .+?Constructor\]$/,se=Function.prototype,le=Object.prototype,ue=se.toString,ce=le.hasOwnProperty,de=RegExp("^"+ue.call(ce).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=function(e){return!(!J(e)||re(e))&&(ee(e)?de:oe).test(ae(e))},he=function(e,t){return null==e?void 0:e[t]},pe=function(e,t){var n=he(e,t);return fe(n)?n:void 0},me=pe(Object,"create"),ge=function(){this.__data__=me?me(null):{},this.size=0},ve=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye=Object.prototype.hasOwnProperty,be=function(e){var t=this.__data__;if(me){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(t,e)?t[e]:void 0},we=Object.prototype.hasOwnProperty,xe=function(e){var t=this.__data__;return me?void 0!==t[e]:we.call(t,e)},_e=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?"__lodash_hash_undefined__":t,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=ge,Se.prototype.delete=ve,Se.prototype.get=be,Se.prototype.has=xe,Se.prototype.set=_e;var Ee=Se,ke=function(){this.__data__=[],this.size=0},Ce=function(e,t){return e===t||e!=e&&t!=t},Me=function(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1},Pe=Array.prototype.splice,Te=function(e){var t=this.__data__,n=Me(t,e);return!(n<0||(n==t.length-1?t.pop():Pe.call(t,n,1),--this.size,0))},Ae=function(e){var t=this.__data__,n=Me(t,e);return n<0?void 0:t[n][1]},Ie=function(e){return Me(this.__data__,e)>-1},Re=function(e,t){var n=this.__data__,r=Me(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oe.prototype.clear=ke,Oe.prototype.delete=Te,Oe.prototype.get=Ae,Oe.prototype.has=Ie,Oe.prototype.set=Re;var De=Oe,ze=pe(N,"Map"),Le=function(){this.size=0,this.__data__={hash:new Ee,map:new(ze||De),string:new Ee}},Ne=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},je=function(e,t){var n=e.__data__;return Ne(t)?n["string"==typeof t?"string":"hash"]:n.map},Fe=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},Ue=function(e){return je(this,e).get(e)},Be=function(e){return je(this,e).has(e)},Ve=function(e,t){var n=je(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function He(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}He.prototype.clear=Le,He.prototype.delete=Fe,He.prototype.get=Ue,He.prototype.has=Be,He.prototype.set=Ve;var We=He;function Ge(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ge.Cache||We),n}Ge.Cache=We;var qe,Xe,Ye,Ke=Ge,$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/\\(\\)?/g,Qe=(qe=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($e,function(e,n,r,i){t.push(r?i.replace(Ze,"$1"):n||e)}),t},Xe=Ke(qe,function(e){return 500===Ye.size&&Ye.clear(),e}),Ye=Xe.cache,Xe),Je=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},et=j?j.prototype:void 0,tt=et?et.toString:void 0,nt=function e(t){if("string"==typeof t)return t;if(D(t))return Je(t,e)+"";if(K(t))return tt?tt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},rt=function(e){return null==e?"":nt(e)},it=function(e,t){return D(e)?e:Q(e,t)?[e]:Qe(rt(e))},at=function(e){if("string"==typeof e||K(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ot=function(e,t){for(var n=0,r=(t=it(t,e)).length;null!=e&&n<r;)e=e[at(t[n++])];return n&&n==r?e:void 0},st=function(e,t,n){var r=null==e?void 0:ot(e,t);return void 0===r?n:r};function lt(e,t){return 0===t.length?e:st(e,t)}var ut=class{constructor(){w(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{const n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}},ct=Cm(),dt=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=function(e,t,n){"__proto__"==t&&dt?dt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ht=Object.prototype.hasOwnProperty,pt=function(e,t,n){var r=e[t];ht.call(e,t)&&Ce(r,n)&&(void 0!==n||t in e)||ft(e,t,n)},mt=/^(?:0|[1-9]\d*)$/,gt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&mt.test(e))&&e>-1&&e%1==0&&e<t},vt=function(e,t,n,r){if(!J(e))return e;for(var i=-1,a=(t=it(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=at(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=J(c)?c:gt(t[i+1])?[]:{})}pt(s,l,u),s=s[l]}return e},yt=function(e,t,n){return null==e?e:vt(e,t,n)},bt=new WeakMap;function wt(e){if(bt.has(e))return bt.get(e);const t="compound"===e.type?function(e){const t={};for(const[n,r]of Object.entries(e.props))t[n]=wt(r);return t}(e):"enum"===e.type?function(e){const t={$case:e.defaultCase};for(const[n,r]of Object.entries(e.cases))t[n]=wt(r);return t}(e):e.default;return bt.set(e,t),t}var xt=Cm(),_t=b(x());function St(e,t,n){return(0,xt.prism)(()=>{const r=(0,xt.val)(t),i=xt.prism.memo("driver",()=>r?"BasicKeyframedTrack"===r.type?function(e,t,n){return(0,xt.prism)(()=>{let r=xt.prism.ref("state",{started:!1}),i=r.current;const a=n.getValue();return(!i.started||a<i.validFrom||i.validTo<=a)&&(r.current=i=function(e,t,n){const r=t.getValue();if(0===n.keyframes.length)return{started:!0,validFrom:-1/0,validTo:1/0,der:Et};let i=0;for(;;){const a=n.keyframes[i];if(!a)return"production"!==process.env.NODE_ENV&&e.logger.error("Bug here"),kt.error;const o=i===n.keyframes.length-1;if(r<a.position)return 0===i?kt.beforeFirstKeyframe(a):("production"!==process.env.NODE_ENV&&e.logger.error("Bug here"),kt.error);if(a.position===r)return o?kt.lastKeyframe(a):kt.between(a,n.keyframes[i+1],t);if(i===n.keyframes.length-1)return kt.lastKeyframe(a);{const e=i+1;if(n.keyframes[e].position<=r){i=e;continue}return kt.between(a,n.keyframes[i+1],t)}}}(e,n,t)),i.der.getValue()})}(e,r,n):(e.logger.error("Track type not yet supported."),(0,xt.prism)(()=>{})):(0,xt.prism)(()=>{}),[r]);return i.getValue()})}var Et=(0,xt.prism)(()=>{}),kt={beforeFirstKeyframe:e=>({started:!0,validFrom:-1/0,validTo:e.position,der:(0,xt.prism)(()=>({left:e.value,progression:0}))}),lastKeyframe:e=>({started:!0,validFrom:e.position,validTo:1/0,der:(0,xt.prism)(()=>({left:e.value,progression:0}))}),between(e,t,n){if(!e.connectedRight)return{started:!0,validFrom:e.position,validTo:t.position,der:(0,xt.prism)(()=>({left:e.value,progression:0}))};const r=n=>(n-e.position)/(t.position-e.position);if(!e.type||"bezier"===e.type){const i=new _t.default(e.handles[2],e.handles[3],t.handles[0],t.handles[1]),a=(0,xt.prism)(()=>{const a=r(n.getValue()),o=i.solveSimple(a);return{left:e.value,right:t.value,progression:o}});return{started:!0,validFrom:e.position,validTo:t.position,der:a}}const i=(0,xt.prism)(()=>{const i=r(n.getValue()),a=Math.floor(i);return{left:e.value,right:t.value,progression:a}});return{started:!0,validFrom:e.position,validTo:t.position,der:i}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Et}};function Ct(e,t,n){const r=n.get(e);if(r&&r.override===t)return r.merged;const i=p({},e);for(const r of Object.keys(t)){const a=t[r],o=e[r];i[r]="object"==typeof a&&"object"==typeof o?Ct(o,a,n):void 0===a?o:a}return n.set(e,{override:t,merged:i}),i}function Mt(e,t){let n=e;for(const e of t)n=n[e];return n}var Pt=Cm(),Tt=Cm(),At=Cm(),It=/\s/,Rt=function(e){for(var t=e.length;t--&&It.test(e.charAt(t)););return t},Ot=/^\s+/,Dt=function(e){return e?e.slice(0,Rt(e)+1).replace(Ot,""):e},zt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Nt=/^0o[0-7]+$/i,jt=parseInt,Ft=function(e){if("number"==typeof e)return e;if(K(e))return NaN;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Dt(e);var n=Lt.test(e);return n||Nt.test(e)?jt(e.slice(2),n?2:8):zt.test(e)?NaN:+e},Ut=1/0,Bt=function(e){return e?(e=Ft(e))===Ut||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Vt=function(e){var t=Bt(e),n=t%1;return t==t?n?t-n:t:0},Ht=function(e){return e},Wt=pe(N,"WeakMap"),Gt=Object.create,qt=function(){function e(){}return function(t){if(!J(t))return{};if(Gt)return Gt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Xt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Yt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Kt=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?ft(n,s,l):pt(n,s,l)}return n},$t=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Zt=function(e){return null!=e&&$t(e.length)&&!ee(e)},Qt=Object.prototype,Jt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qt)},en=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},tn=function(e){return Y(e)&&"[object Arguments]"==X(e)},nn=Object.prototype,rn=nn.hasOwnProperty,an=nn.propertyIsEnumerable,on=tn(function(){return arguments}())?tn:function(e){return Y(e)&&rn.call(e,"callee")&&!an.call(e,"callee")},sn=on,ln=function(){return!1},un=t&&!t.nodeType&&t,cn=un&&e&&!e.nodeType&&e,dn=cn&&cn.exports===un?N.Buffer:void 0,fn=(dn?dn.isBuffer:void 0)||ln,hn={};hn["[object Float32Array]"]=hn["[object Float64Array]"]=hn["[object Int8Array]"]=hn["[object Int16Array]"]=hn["[object Int32Array]"]=hn["[object Uint8Array]"]=hn["[object Uint8ClampedArray]"]=hn["[object Uint16Array]"]=hn["[object Uint32Array]"]=!0,hn["[object Arguments]"]=hn["[object Array]"]=hn["[object ArrayBuffer]"]=hn["[object Boolean]"]=hn["[object DataView]"]=hn["[object Date]"]=hn["[object Error]"]=hn["[object Function]"]=hn["[object Map]"]=hn["[object Number]"]=hn["[object Object]"]=hn["[object RegExp]"]=hn["[object Set]"]=hn["[object String]"]=hn["[object WeakMap]"]=!1;var pn=function(e){return Y(e)&&$t(e.length)&&!!hn[X(e)]},mn=function(e){return function(t){return e(t)}},gn=t&&!t.nodeType&&t,vn=gn&&e&&!e.nodeType&&e,yn=vn&&vn.exports===gn&&z.process,bn=function(){try{var e=vn&&vn.require&&vn.require("util").types;return e||yn&&yn.binding&&yn.binding("util")}catch(e){}}(),wn=bn&&bn.isTypedArray,xn=wn?mn(wn):pn,_n=Object.prototype.hasOwnProperty,Sn=function(e,t){var n=D(e),r=!n&&sn(e),i=!n&&!r&&fn(e),a=!n&&!r&&!i&&xn(e),o=n||r||i||a,s=o?en(e.length,String):[],l=s.length;for(var u in e)!t&&!_n.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gt(u,l))||s.push(u);return s},En=function(e,t){return function(n){return e(t(n))}},kn=En(Object.keys,Object),Cn=Object.prototype.hasOwnProperty,Mn=function(e){if(!Jt(e))return kn(e);var t=[];for(var n in Object(e))Cn.call(e,n)&&"constructor"!=n&&t.push(n);return t},Pn=function(e){return Zt(e)?Sn(e):Mn(e)},Tn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},An=Object.prototype.hasOwnProperty,In=function(e){if(!J(e))return Tn(e);var t=Jt(e),n=[];for(var r in e)("constructor"!=r||!t&&An.call(e,r))&&n.push(r);return n},Rn=function(e){return Zt(e)?Sn(e,!0):In(e)},On=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Dn=En(Object.getPrototypeOf,Object),zn=Function.prototype,Ln=Object.prototype,Nn=zn.toString,jn=Ln.hasOwnProperty,Fn=Nn.call(Object),Un=function(e){if(!Y(e)||"[object Object]"!=X(e))return!1;var t=Dn(e);if(null===t)return!0;var n=jn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Nn.call(n)==Fn},Bn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a},Vn=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Bn(e,t,n)},Hn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Wn=function(e){return Hn.test(e)},Gn=function(e){return e.split("")},qn="\\ud800-\\udfff",Xn="["+qn+"]",Yn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Kn="\\ud83c[\\udffb-\\udfff]",$n="[^"+qn+"]",Zn="(?:\\ud83c[\\udde6-\\uddff]){2}",Qn="[\\ud800-\\udbff][\\udc00-\\udfff]",Jn="(?:"+Yn+"|"+Kn+")?",er="[\\ufe0e\\ufe0f]?",tr=er+Jn+"(?:\\u200d(?:"+[$n,Zn,Qn].join("|")+")"+er+Jn+")*",nr="(?:"+[$n+Yn+"?",Yn,Zn,Qn,Xn].join("|")+")",rr=RegExp(Kn+"(?="+Kn+")|"+nr+tr,"g"),ir=function(e){return e.match(rr)||[]},ar=function(e){return Wn(e)?ir(e):Gn(e)},or=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},sr=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Ft(n))==n?n:0),void 0!==t&&(t=(t=Ft(t))==t?t:0),or(Ft(e),t,n)},lr=function(){this.__data__=new De,this.size=0},ur=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},cr=function(e){return this.__data__.get(e)},dr=function(e){return this.__data__.has(e)},fr=function(e,t){var n=this.__data__;if(n instanceof De){var r=n.__data__;if(!ze||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new We(r)}return n.set(e,t),this.size=n.size,this};function hr(e){var t=this.__data__=new De(e);this.size=t.size}hr.prototype.clear=lr,hr.prototype.delete=ur,hr.prototype.get=cr,hr.prototype.has=dr,hr.prototype.set=fr;var pr=hr,mr=function(e,t){return e&&Kt(t,Pn(t),e)},gr=function(e,t){return e&&Kt(t,Rn(t),e)},vr=t&&!t.nodeType&&t,yr=vr&&e&&!e.nodeType&&e,br=yr&&yr.exports===vr?N.Buffer:void 0,wr=br?br.allocUnsafe:void 0,xr=function(e,t){if(t)return e.slice();var n=e.length,r=wr?wr(n):new e.constructor(n);return e.copy(r),r},_r=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a},Sr=function(){return[]},Er=Object.prototype.propertyIsEnumerable,kr=Object.getOwnPropertySymbols,Cr=kr?function(e){return null==e?[]:(e=Object(e),_r(kr(e),function(t){return Er.call(e,t)}))}:Sr,Mr=function(e,t){return Kt(e,Cr(e),t)},Pr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)On(t,Cr(e)),e=Dn(e);return t}:Sr,Tr=function(e,t){return Kt(e,Pr(e),t)},Ar=function(e,t,n){var r=t(e);return D(e)?r:On(r,n(e))},Ir=function(e){return Ar(e,Pn,Cr)},Rr=function(e){return Ar(e,Rn,Pr)},Or=pe(N,"DataView"),Dr=pe(N,"Promise"),zr=pe(N,"Set"),Lr="[object Map]",Nr="[object Promise]",jr="[object Set]",Fr="[object WeakMap]",Ur="[object DataView]",Br=ae(Or),Vr=ae(ze),Hr=ae(Dr),Wr=ae(zr),Gr=ae(Wt),qr=X;(Or&&qr(new Or(new ArrayBuffer(1)))!=Ur||ze&&qr(new ze)!=Lr||Dr&&qr(Dr.resolve())!=Nr||zr&&qr(new zr)!=jr||Wt&&qr(new Wt)!=Fr)&&(qr=function(e){var t=X(e),n="[object Object]"==t?e.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case Br:return Ur;case Vr:return Lr;case Hr:return Nr;case Wr:return jr;case Gr:return Fr}return t});var Xr=qr,Yr=Object.prototype.hasOwnProperty,Kr=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Yr.call(e,"index")&&(n.index=e.index,n.input=e.input),n},$r=N.Uint8Array,Zr=function(e){var t=new e.constructor(e.byteLength);return new $r(t).set(new $r(e)),t},Qr=function(e,t){var n=t?Zr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Jr=/\w*$/,ei=function(e){var t=new e.constructor(e.source,Jr.exec(e));return t.lastIndex=e.lastIndex,t},ti=j?j.prototype:void 0,ni=ti?ti.valueOf:void 0,ri=function(e){return ni?Object(ni.call(e)):{}},ii=function(e,t){var n=t?Zr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},ai=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Zr(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Qr(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ii(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ei(e);case"[object Symbol]":return ri(e)}},oi=function(e){return"function"!=typeof e.constructor||Jt(e)?{}:qt(Dn(e))},si=function(e){return Y(e)&&"[object Map]"==Xr(e)},li=bn&&bn.isMap,ui=li?mn(li):si,ci=function(e){return Y(e)&&"[object Set]"==Xr(e)},di=bn&&bn.isSet,fi=di?mn(di):ci,hi="[object Arguments]",pi="[object Function]",mi="[object Object]",gi={};gi[hi]=gi["[object Array]"]=gi["[object ArrayBuffer]"]=gi["[object DataView]"]=gi["[object Boolean]"]=gi["[object Date]"]=gi["[object Float32Array]"]=gi["[object Float64Array]"]=gi["[object Int8Array]"]=gi["[object Int16Array]"]=gi["[object Int32Array]"]=gi["[object Map]"]=gi["[object Number]"]=gi[mi]=gi["[object RegExp]"]=gi["[object Set]"]=gi["[object String]"]=gi["[object Symbol]"]=gi["[object Uint8Array]"]=gi["[object Uint8ClampedArray]"]=gi["[object Uint16Array]"]=gi["[object Uint32Array]"]=!0,gi["[object Error]"]=gi[pi]=gi["[object WeakMap]"]=!1;var vi=function e(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!J(t))return t;var d=D(t);if(d){if(s=Kr(t),!l)return Xt(t,s)}else{var f=Xr(t),h=f==pi||"[object GeneratorFunction]"==f;if(fn(t))return xr(t,l);if(f==mi||f==hi||h&&!a){if(s=u||h?{}:oi(t),!l)return u?Tr(t,gr(s,t)):Mr(t,mr(s,t))}else{if(!gi[f])return a?t:{};s=ai(t,f,l)}}o||(o=new pr);var p=o.get(t);if(p)return p;o.set(t,s),fi(t)?t.forEach(function(i){s.add(e(i,n,r,i,t,o))}):ui(t)&&t.forEach(function(i,a){s.set(a,e(i,n,r,a,t,o))});var m=d?void 0:(c?u?Rr:Ir:u?Rn:Pn)(t);return Yt(m||t,function(i,a){m&&(i=t[a=i]),pt(s,a,e(i,n,r,a,t,o))}),s},yi=function(e){return vi(e,5)},bi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},wi=function(e){return this.__data__.has(e)};function xi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new We;++t<n;)this.add(e[t])}xi.prototype.add=xi.prototype.push=bi,xi.prototype.has=wi;var _i,Si=xi,Ei=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},ki=function(e,t){return e.has(t)},Ci=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new Si:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Ei(t,function(e,t){if(!ki(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f},Mi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Pi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Ti=j?j.prototype:void 0,Ai=Ti?Ti.valueOf:void 0,Ii=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new $r(e),new $r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ce(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Mi;case"[object Set]":var l=1&r;if(s||(s=Pi),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=Ci(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Ai)return Ai.call(e)==Ai.call(t)}return!1},Ri=Object.prototype.hasOwnProperty,Oi=function(e,t,n,r,i,a){var o=1&n,s=Ir(e),l=s.length;if(l!=Ir(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:Ri.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=o?r(g,m,c,t,e,a):r(m,g,c,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Di="[object Arguments]",zi="[object Array]",Li="[object Object]",Ni=Object.prototype.hasOwnProperty,ji=function(e,t,n,r,i,a){var o=D(e),s=D(t),l=o?zi:Xr(e),u=s?zi:Xr(t),c=(l=l==Di?Li:l)==Li,d=(u=u==Di?Li:u)==Li,f=l==u;if(f&&fn(e)){if(!fn(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new pr),o||xn(e)?Ci(e,t,n,r,i,a):Ii(e,t,l,n,r,i,a);if(!(1&n)){var h=c&&Ni.call(e,"__wrapped__"),p=d&&Ni.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new pr),i(m,g,n,r,a)}}return!!f&&(a||(a=new pr),Oi(e,t,n,r,i,a))},Fi=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Y(t)&&!Y(n)?t!=t&&n!=n:ji(t,n,r,i,e,a))},Ui=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new pr;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?Fi(c,u,3,r,d):f))return!1}}return!0},Bi=function(e){return e==e&&!J(e)},Vi=function(e){for(var t=Pn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Bi(i)]}return t},Hi=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Wi=function(e){var t=Vi(e);return 1==t.length&&t[0][2]?Hi(t[0][0],t[0][1]):function(n){return n===e||Ui(n,e,t)}},Gi=function(e,t){return null!=e&&t in Object(e)},qi=function(e,t,n){for(var r=-1,i=(t=it(t,e)).length,a=!1;++r<i;){var o=at(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&$t(i)&&gt(o,i)&&(D(e)||sn(e))},Xi=function(e,t){return null!=e&&qi(e,t,Gi)},Yi=function(e,t){return Q(e)&&Bi(t)?Hi(at(e),t):function(n){var r=st(n,e);return void 0===r&&r===t?Xi(n,e):Fi(t,r,3)}},Ki=function(e){return function(t){return null==t?void 0:t[e]}},$i=function(e){return function(t){return ot(t,e)}},Zi=function(e){return Q(e)?Ki(at(e)):$i(e)},Qi=function(e){return"function"==typeof e?e:null==e?Ht:"object"==typeof e?D(e)?Yi(e[0],e[1]):Wi(e):Zi(e)},Ji=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[_i?o:++r];if(!1===t(i[s],s,i))break}return e},ea=function(e,t){return e&&Ji(e,t,Pn)},ta=function(){return N.Date.now()},na=Math.max,ra=Math.min,ia=function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=ta();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?ra(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?h(e):(r=i=void 0,o)}function v(){var e=ta(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?h(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Ft(t)||0,J(n)&&(c=!!n.leading,a=(d="maxWait"in n)?na(Ft(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(ta())},v},aa=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},oa=function(e,t){return t.length<2?e:ot(e,Bn(t,0,-1))},sa=function(e){return"number"==typeof e&&e==Vt(e)},la=function(e,t){var n={};return t=Qi(t),ea(e,function(e,r,i){ft(n,r,t(e,r,i))}),n},ua=function(e,t){return t=it(t,e),null==(e=oa(e,t))||delete e[at(aa(t))]},ca=Math.floor,da=function(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=ca(t/2))&&(e+=e)}while(t);return n},fa=Ki("length"),ha="\\ud800-\\udfff",pa="["+ha+"]",ma="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ga="\\ud83c[\\udffb-\\udfff]",va="[^"+ha+"]",ya="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",wa="(?:"+ma+"|"+ga+")?",xa="[\\ufe0e\\ufe0f]?",_a=xa+wa+"(?:\\u200d(?:"+[va,ya,ba].join("|")+")"+xa+wa+")*",Sa="(?:"+[va+ma+"?",ma,ya,ba,pa].join("|")+")",Ea=RegExp(ga+"(?="+ga+")|"+Sa+_a,"g"),ka=function(e){for(var t=Ea.lastIndex=0;Ea.test(e);)++t;return t},Ca=function(e){return Wn(e)?ka(e):fa(e)},Ma=Math.ceil,Pa=function(e,t){var n=(t=void 0===t?" ":nt(t)).length;if(n<2)return n?da(t,e):t;var r=da(t,Ma(e/Ca(t)));return Wn(t)?Vn(ar(r),0,e).join(""):r.slice(0,e)},Ta=function(e,t,n){e=rt(e);var r=(t=Vt(t))?Ca(e):0;return t&&r<t?Pa(t-r,n)+e:e},Aa=function(e,t){return null==e||ua(e,t)},Ia=class{constructor(e){w(this,"_cache",new ut),w(this,"_keepHotUntapDebounce"),I(this,e)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return A(this).propsP}get sheet(){return A(this).sheet.publicApi}get project(){return A(this).sheet.project.publicApi}get address(){return p({},A(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const e=A(this);return(0,At.prism)(()=>(0,At.val)(e.getValues().getValue()))})}onValuesChange(e,t){return zl(this._valuesPrism(),e,t)}get value(){const e=this._valuesPrism();if(!e.isHot){null!=this._keepHotUntapDebounce&&("development"===process.env.NODE_ENV&&A(this)._logger.errorDev("`sheet.value` keepHot debouncer is set, even though the derivation is not actually hot."),this._keepHotUntapDebounce.flush());const t=e.keepHot();this._keepHotUntapDebounce=ia(()=>{t(),this._keepHotUntapDebounce=void 0},5e3)}return this._keepHotUntapDebounce&&this._keepHotUntapDebounce(),e.getValue()}set initialValue(e){A(this).setInitialValue(e)}};function Ra(e){return"compound"===e.type||"enum"===e.type}function Oa(e,t){if(!e)return;const[n,...r]=t;return void 0===n?e:Ra(e)?Oa("enum"===e.type?e.cases[n]:e.props[n],r):void 0}function Da(e){return!Ra(e)}var za=class{constructor(e,t,n){this.sheet=e,this.template=t,this.nativeObject=n,w(this,"$$isPointerToPrismProvider",!0),w(this,"address"),w(this,"publicApi"),w(this,"_initialValue",new Tt.Atom({})),w(this,"_cache",new ut),w(this,"_logger"),w(this,"_internalUtilCtx"),this._logger=e._logger.named("SheetObject",t.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=m(p({},t.address),{sheetInstanceId:e.address.sheetInstanceId}),this.publicApi=new Ia(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,Tt.prism)(()=>{const e=Ct((0,Tt.val)(this.template.getDefaultValues()),(0,Tt.val)(this._initialValue.pointer),Tt.prism.memo("withInitialCache",()=>new WeakMap,[]));let t,n=Ct(e,(0,Tt.val)(this.template.getStaticValues()),Tt.prism.memo("withStatics",()=>new WeakMap,[]));{const e=Tt.prism.memo("seq",()=>this.getSequencedValues(),[]),r=Tt.prism.memo("withSeqsCache",()=>new WeakMap,[]);t=(0,Tt.val)((0,Tt.val)(e)),n=Ct(n,t,r)}return((e,t)=>{const n=Pt.prism.memo(e,()=>new Pt.Atom(t),[]);return n.set(t),n})("finalAtom",n).pointer}))}getValueByPointer(e){const t=(0,Tt.val)(this.getValues()),{path:n}=(0,Tt.getPointerParts)(e);return(0,Tt.val)(Mt(t,n))}pointerToPrism(e){const{path:t}=(0,Tt.getPointerParts)(e);return(0,Tt.prism)(()=>{const e=(0,Tt.val)(this.getValues());return(0,Tt.val)(Mt(e,t))})}getSequencedValues(){return(0,Tt.prism)(()=>{const e=Tt.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),t=(0,Tt.val)(e),n=new Tt.Atom({}),r=(0,Tt.val)(this.template.configPointer);return Tt.prism.effect("processTracks",()=>{const e=[];for(const{trackId:i,pathToProp:a}of t){const t=this._trackIdToPrism(i),o=Oa(r,a),s=o.deserializeAndSanitize,l=o.interpolate,u=()=>{const e=t.getValue();if(!e)return n.setByPointer(e=>Mt(e,a),void 0);const r=s(e.left),i=void 0===r?o.default:r;if(void 0===e.right)return n.setByPointer(e=>Mt(e,a),i);const u=s(e.right),c=void 0===u?o.default:u;return n.setByPointer(e=>Mt(e,a),l(i,c,e.progression))},c=t.onStale(u);u(),e.push(c)}return()=>{for(const t of e)t()}},[r,...t]),n.pointer})}_trackIdToPrism(e){const t=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[e],n=this.sheet.getSequence().positionPrism;return St(this._internalUtilCtx,t,n)}get propsP(){return this._cache.get("propsP",()=>(0,Tt.pointer)({root:this,path:[]}))}validateValue(e,t){}setInitialValue(e){this.validateValue(this.propsP,e),this._initialValue.set(e)}};function La(e){return function(t,n){return e(t,n())}}var Na={_hmm:ja(524),_todo:ja(522),_error:ja(521),errorDev:ja(529),errorPublic:ja(545),_kapow:ja(268),_warn:ja(265),warnDev:ja(273),warnPublic:ja(289),_debug:ja(137),debugDev:ja(145),_trace:ja(73),traceDev:ja(81)};function ja(e){return Object.freeze({audience:Fa(e,8)?"internal":Fa(e,16)?"dev":"public",category:Fa(e,4)?"troubleshooting":Fa(e,2)?"todo":"general",level:Fa(e,512)?512:Fa(e,256)?256:Fa(e,128)?128:64})}function Fa(e,t){return(e&t)===t}function Ua(e,t){return(!(32&~t)||(16&~t?!(8&~t)&&e.internal:e.dev))&&e.min<=t}var Ba={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;const t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,r,i;const a=this.cssMemo.get(e);if(a)return a;let o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(null==(r=this.bold)?void 0:r.test(e))&&(o+=";font-weight:600"),(null==(i=this.italic)?void 0:i.test(e))&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}};function Va(e=console,t={}){const n=m(p({},Ba),{includes:p({},Ba.includes)}),r={styled:Ga.bind(n,e),noStyle:qa.bind(n,e)},i=Wa.bind(n);function a(){return n.loggingConsoleStyle&&n.loggerConsoleStyle?r.styled:r.noStyle}return n.create=a(),{configureLogger(e){var t;"console"===e?(n.loggerConsoleStyle=Ba.loggerConsoleStyle,n.create=a()):"console"===e.type?(n.loggerConsoleStyle=null!=(t=e.style)?t:Ba.loggerConsoleStyle,n.create=a()):"keyed"===e.type?(n.creatExt=t=>e.keyed(t.names),n.create=i):"named"===e.type&&(n.creatExt=Ha.bind(null,e.named),n.create=i)},configureLogging(e){var t,r,i,o,s;n.includes.dev=null!=(t=e.dev)?t:Ba.includes.dev,n.includes.internal=null!=(r=e.internal)?r:Ba.includes.internal,n.includes.min=null!=(i=e.min)?i:Ba.includes.min,n.include=null!=(o=e.include)?o:Ba.include,n.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:Ba.loggingConsoleStyle,n.create=a()},getLogger:()=>n.create({names:[]})}}function Ha(e,t){const n=[];for(let{name:e,key:r}of t.names)n.push(null==r?e:"".concat(e," (").concat(r,")"));return e(n)}function Wa(e){const t=p(p({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=Ua(t,524),o=Ua(t,522),s=Ua(t,521),l=Ua(t,529),u=Ua(t,545),c=Ua(t,265),d=Ua(t,268),f=Ua(t,273),h=Ua(t,289),m=Ua(t,137),g=Ua(t,145),v=Ua(t,73),y=Ua(t,81),b=a?i.error.bind(i,Na._hmm):n.bind(e,524),w=o?i.error.bind(i,Na._todo):n.bind(e,522),x=s?i.error.bind(i,Na._error):n.bind(e,521),_=l?i.error.bind(i,Na.errorDev):n.bind(e,529),S=u?i.error.bind(i,Na.errorPublic):n.bind(e,545),E=d?i.warn.bind(i,Na._kapow):n.bind(e,268),k=c?i.warn.bind(i,Na._warn):n.bind(e,265),C=f?i.warn.bind(i,Na.warnDev):n.bind(e,273),M=h?i.warn.bind(i,Na.warnPublic):n.bind(e,273),P=m?i.debug.bind(i,Na._debug):n.bind(e,137),T=g?i.debug.bind(i,Na.debugDev):n.bind(e,145),A=v?i.trace.bind(i,Na._trace):n.bind(e,73),I=y?i.trace.bind(i,Na.traceDev):n.bind(e,81),R={_hmm:b,_todo:w,_error:x,errorDev:_,errorPublic:S,_kapow:E,_warn:k,warnDev:C,warnPublic:M,_debug:P,debugDev:T,_trace:A,traceDev:I,lazy:{_hmm:a?La(b):b,_todo:o?La(w):w,_error:s?La(x):x,errorDev:l?La(_):_,errorPublic:u?La(S):S,_kapow:d?La(E):E,_warn:c?La(k):k,warnDev:f?La(C):C,warnPublic:h?La(M):M,_debug:m?La(P):P,debugDev:g?La(T):T,_trace:v?La(A):A,traceDev:y?La(I):I},named:r,utilFor:{internal:()=>({debug:R._debug,error:R._error,warn:R._warn,trace:R._trace,named:(e,t)=>R.named(e,t).utilFor.internal()}),dev:()=>({debug:R.debugDev,error:R.errorDev,warn:R.warnDev,trace:R.traceDev,named:(e,t)=>R.named(e,t).utilFor.dev()}),public:()=>({error:R.errorPublic,warn:R.warnPublic,debug(e,t){R._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){R._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>R.named(e,t).utilFor.public()})}};return R}function Ga(e,t){const n=p(p({},this.includes),this.include(t)),r=[];let i="";for(let e=0;e<t.names.length;e++){const{name:n,key:a}=t.names[e];if(i+=" %c".concat(n),r.push(this.style.css(n)),null!=a){const e="%c#".concat(a);i+=e,r.push(this.style.css(e))}}const a=this.filtered,o=this.named.bind(this,t),s=[i,...r];return Xa(a,t,n,e,s,function(e){const t=e.slice(0);for(let e=1;e<t.length;e++)t[e]+=";background-color:#e0005a;padding:2px;color:white";return t}(s),o)}function qa(e,t){const n=p(p({},this.includes),this.include(t));let r="";for(let e=0;e<t.names.length;e++){const{name:n,key:i}=t.names[e];r+=" ".concat(n),null!=i&&(r+="#".concat(i))}const i=[r];return Xa(this.filtered,t,n,e,i,i,this.named.bind(this,t))}function Xa(e,t,n,r,i,a,o){const s=Ua(n,524),l=Ua(n,522),u=Ua(n,521),c=Ua(n,529),d=Ua(n,545),f=Ua(n,265),h=Ua(n,268),p=Ua(n,273),m=Ua(n,289),g=Ua(n,137),v=Ua(n,145),y=Ua(n,73),b=Ua(n,81),w=s?r.error.bind(r,...i):e.bind(t,524),x=l?r.error.bind(r,...i):e.bind(t,522),_=u?r.error.bind(r,...i):e.bind(t,521),S=c?r.error.bind(r,...i):e.bind(t,529),E=d?r.error.bind(r,...i):e.bind(t,545),k=h?r.warn.bind(r,...a):e.bind(t,268),C=f?r.warn.bind(r,...i):e.bind(t,265),M=p?r.warn.bind(r,...i):e.bind(t,273),P=m?r.warn.bind(r,...i):e.bind(t,273),T=g?r.info.bind(r,...i):e.bind(t,137),A=v?r.info.bind(r,...i):e.bind(t,145),I=y?r.debug.bind(r,...i):e.bind(t,73),R=b?r.debug.bind(r,...i):e.bind(t,81),O={_hmm:w,_todo:x,_error:_,errorDev:S,errorPublic:E,_kapow:k,_warn:C,warnDev:M,warnPublic:P,_debug:T,debugDev:A,_trace:I,traceDev:R,lazy:{_hmm:s?La(w):w,_todo:l?La(x):x,_error:u?La(_):_,errorDev:c?La(S):S,errorPublic:d?La(E):E,_kapow:h?La(k):k,_warn:f?La(C):C,warnDev:p?La(M):M,warnPublic:m?La(P):P,_debug:g?La(T):T,debugDev:v?La(A):A,_trace:y?La(I):I,traceDev:b?La(R):R},named:o,utilFor:{internal:()=>({debug:O._debug,error:O._error,warn:O._warn,trace:O._trace,named:(e,t)=>O.named(e,t).utilFor.internal()}),dev:()=>({debug:O.debugDev,error:O.errorDev,warn:O.warnDev,trace:O.traceDev,named:(e,t)=>O.named(e,t).utilFor.dev()}),public:()=>({error:O.errorPublic,warn:O.warnPublic,debug(e,t){O._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){O._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>O.named(e,t).utilFor.public()})}};return O}var Ya=Va(console,{_debug:function(){},_error:function(){}});Ya.configureLogging({dev:!0,min:64});var Ka=Ya.getLogger().named("Theatre.js (default logger)").utilFor.dev(),$a=new WeakMap;function Za(e,t,n){for(const[r,i]of Object.entries(t.props))if(!Ra(i)){const t=[...e,r];n.set(JSON.stringify(t),n.size),Qa(t,i,n)}for(const[r,i]of Object.entries(t.props))if(Ra(i)){const t=[...e,r];n.set(JSON.stringify(t),n.size),Qa(t,i,n)}}function Qa(e,t,n){if("compound"===t.type)Za(e,t,n);else{if("enum"===t.type)throw new Error("Enums aren't supported yet");n.set(JSON.stringify(e),n.size)}}function Ja(e){return"object"==typeof e&&null!==e&&0===Object.keys(e).length}var eo=class{constructor(e,t,n,r,i){this.sheetTemplate=e,w(this,"address"),w(this,"type","Theatre_SheetObjectTemplate"),w(this,"_config"),w(this,"_temp_actions_atom"),w(this,"_cache",new ut),w(this,"project"),w(this,"pointerToSheetState"),w(this,"pointerToStaticOverrides"),this.address=m(p({},e.address),{objectKey:t}),this._config=new ct.Atom(r),this._temp_actions_atom=new ct.Atom(i),this.project=e.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(e,t,n){return this._config.set(n),new za(e,this,t)}reconfigure(e){this._config.set(e)}_temp_setActions(e){this._temp_actions_atom.set(e)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,ct.prism)(()=>function(e){return wt(e)}((0,ct.val)(this.configPointer))))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,ct.prism)(()=>{var e;const t=null!=(e=(0,ct.val)(this.pointerToStaticOverrides))?e:{};return(0,ct.val)(this.configPointer).deserializeAndSanitize(t)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,ct.prism)(()=>{const e=this.project.pointers.historic.sheetsById[this.address.sheetId],t=(0,ct.val)(e.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!t)return O;const n=[];if(!t)return O;const r=(0,ct.val)(this.configPointer),i=Object.entries(t);for(const[e,t]of i){const i=to(e);if(!i)continue;const a=Oa(r,i);a&&Da(a)&&n.push({pathToProp:i,trackId:t})}const a=function(e){const t=$a.get(e);if(t)return t;const n=new Map;return $a.set(e,n),Za([],e,n),n}(r);return n.sort((e,t)=>{const n=e.pathToProp,r=t.pathToProp;return a.get(JSON.stringify(n))>a.get(JSON.stringify(r))?1:-1}),0===n.length?O:n}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,ct.prism)(()=>{const e=(0,ct.val)(this.getArrayOfValidSequenceTracks());let t={};for(const{pathToProp:n,trackId:r}of e)yt(t,n,r);return t}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,ct.prism)(()=>{const e=(0,ct.val)(this.getStaticValues()),t=(0,ct.val)(this.getArrayOfValidSequenceTracks()),n=yi(e);for(const{pathToProp:e}of t){Aa(n,e);let t=e.slice(0,-1);for(;t.length>0&&Ja(lt(n,t));)Aa(n,t),t=t.slice(0,-1)}return Ja(n)?void 0:n}))}getDefaultsAtPointer(e){const{path:t}=(0,ct.getPointerParts)(e);return lt(this.getDefaultValues().getValue(),t)}};function to(e){try{return JSON.parse(e)}catch(t){return void Ka.warn("property ".concat(JSON.stringify(e)," cannot be parsed. Skipping."))}}var no=Cm(),ro=function(e){const t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}(e=>JSON.stringify(e)),io=b(S()),ao=class extends Error{},oo=class extends ao{},so=Cm(),lo=Cm(),uo=Cm(),co=Cm();function fo(){let e,t;const n=new Promise((n,i)=>{e=e=>{n(e),r.status="resolved"},t=e=>{i(e),r.status="rejected"}}),r={resolve:e,reject:t,promise:n,status:"pending"};return r}var ho=()=>{},po=Cm(),mo=class{constructor(){w(this,"_stopPlayCallback",ho),w(this,"_state",new po.Atom({position:0,playing:!1})),w(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=ho}gotoPosition(e){this._updatePositionInState(e)}_updatePositionInState(e){this._state.setByPointer(e=>e.position,e)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(e){this._state.setByPointer(e=>e.playing,e)}play(e,t,n,r,i){this.playing&&this.pause(),this.playing=!0;const a=t[1]-t[0];{const e=this.getCurrentPosition();e<t[0]||e>t[1]?"normal"===r||"alternate"===r?this._updatePositionInState(t[0]):"reverse"!==r&&"alternateReverse"!==r||this._updatePositionInState(t[1]):"normal"===r||"alternate"===r?e===t[1]&&this._updatePositionInState(t[0]):e===t[0]&&this._updatePositionInState(t[1])}const o=fo(),s=i.time,l=a*e;let u=this.getCurrentPosition()-t[0];"reverse"!==r&&"alternateReverse"!==r||(u=t[1]-this.getCurrentPosition());const c=i=>{const c=Math.max(i-s,0)/1e3,f=Math.min(c*n+u,l);if(f!==l){const e=Math.floor(f/a);let n=f/a%1*a;if("normal"!==r)if("reverse"===r)n=a-n;else{const t=e%2==0;"alternate"===r?t||(n=a-n):t&&(n=a-n)}this._updatePositionInState(n+t[0]),d()}else{if("normal"===r)this._updatePositionInState(t[1]);else if("reverse"===r)this._updatePositionInState(t[0]);else{const n=(e-1)%2==0;"alternate"===r?n?this._updatePositionInState(t[1]):this._updatePositionInState(t[0]):n?this._updatePositionInState(t[0]):this._updatePositionInState(t[1])}this.playing=!1,o.resolve(!0)}};this._stopPlayCallback=()=>{i.offThisOrNextTick(c),i.offNextTick(c),this.playing&&o.resolve(!1)};const d=()=>i.onNextTick(c);return i.onThisOrNextTick(c),o.promise}playDynamicRange(e,t){this.playing&&this.pause(),this.playing=!0;const n=fo(),r=e.keepHot();n.promise.then(r,r);let i=t.time;const a=t=>{const n=Math.max(t-i,0);i=t;const r=n/1e3,a=this.getCurrentPosition(),s=e.getValue();if(a<s[0]||a>s[1])this.gotoPosition(s[0]);else{let e=a+r;e>s[1]&&(e=s[0]+(e-s[1])),this.gotoPosition(e)}o()};this._stopPlayCallback=()=>{t.offThisOrNextTick(a),t.offNextTick(a),n.resolve(!1)};const o=()=>t.onNextTick(a);return t.onThisOrNextTick(a),n.promise}},go=Cm(),vo="__TheatreJS_CoreBundle",yo=e=>(...t)=>{var n;switch(e){case"success":case"info":Ka.debug(t.slice(0,2).join("\n"));break;case"warning":Ka.warn(t.slice(0,2).join("\n"))}return"undefined"!=typeof window?null==(n=window.__TheatreJS_Notifications)?void 0:n.notify[e](...t):void 0},bo={warning:yo("warning"),success:yo("success"),info:yo("info"),error:yo("error")};"undefined"!=typeof window&&(window.addEventListener("error",e=>{bo.error("An error occurred","<pre>".concat(e.message,"</pre>\n\nSee **console** for details."))}),window.addEventListener("unhandledrejection",e=>{bo.error("An error occurred","<pre>".concat(e.reason,"</pre>\n\nSee **console** for details."))}));var wo,xo=class{constructor(e,t,n){this._decodedBuffer=e,this._audioContext=t,this._nodeDestination=n,w(this,"_mainGain"),w(this,"_state",new go.Atom({position:0,playing:!1})),w(this,"statePointer"),w(this,"_stopPlayCallback",ho),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(e,t){const n=fo();let r;this._playing&&this.pause(),this._playing=!0;const i=()=>{null==r||r(),r=this._loopInRange(e.getValue(),t).stop},a=e.onStale(i);return i(),this._stopPlayCallback=()=>{null==r||r(),a(),n.resolve(!1)},n.promise}_loopInRange(e,t){let n=this.getCurrentPosition();const r=e[1]-e[0];(n<e[0]||n>e[1]||n===e[1])&&this._updatePositionInState(e[0]),n=this.getCurrentPosition();const i=this._audioContext.createBufferSource();i.buffer=this._decodedBuffer,i.connect(this._mainGain),i.playbackRate.value=1,i.loop=!0,i.loopStart=e[0],i.loopEnd=e[1];const a=t.time;let o=n-e[0];i.start(0,n);const s=t=>{let n=(Math.max(t-a,0)/1e3*1+o)/r%1*r;this._updatePositionInState(n+e[0]),l()},l=()=>t.onNextTick(s);return t.onThisOrNextTick(s),{stop:()=>{i.stop(),i.disconnect(),t.offThisOrNextTick(s),t.offNextTick(s)}}}get _playing(){return this._state.get().playing}set _playing(e){this._state.setByPointer(e=>e.playing,e)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=ho}gotoPosition(e){this._updatePositionInState(e)}_updatePositionInState(e){this._state.reduce(t=>m(p({},t),{position:e}))}getCurrentPosition(){return this._state.get().position}play(e,t,n,r,i){this._playing&&this.pause(),this._playing=!0;let a=this.getCurrentPosition();const o=t[1]-t[0];if("normal"!==r)throw new oo('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(r,"' given."));(a<t[0]||a>t[1]||a===t[1])&&this._updatePositionInState(t[0]),a=this.getCurrentPosition();const s=fo(),l=this._audioContext.createBufferSource();l.buffer=this._decodedBuffer,l.connect(this._mainGain),l.playbackRate.value=n,e>1e3&&(bo.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(e,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),e=1e3),e>1&&(l.loop=!0,l.loopStart=t[0],l.loopEnd=t[1]);const u=i.time;let c=a-t[0];const d=o*e;l.start(0,a,d-c);const f=e=>{const r=Math.max(e-u,0)/1e3,i=Math.min(r*n+c,d);if(i!==d){let e=i/o%1*o;this._updatePositionInState(e+t[0]),p()}else this._updatePositionInState(t[1]),this._playing=!1,h(),s.resolve(!0)},h=()=>{l.stop(),l.disconnect()};this._stopPlayCallback=()=>{h(),i.offThisOrNextTick(f),i.offNextTick(f),this._playing&&s.resolve(!1)};const p=()=>i.onNextTick(f);return i.onThisOrNextTick(f),s.promise}},_o=Cm(),So=0;function Eo(e){var t;const n=new _o.Ticker({onActive(){var t;null==(t=null==e?void 0:e.start)||t.call(e)},onDormant(){var t;null==(t=null==e?void 0:e.stop)||t.call(e)}}),r={tick:e=>{n.tick(e)},id:So++,name:null!=(t=null==e?void 0:e.name)?t:"CustomRafDriver-".concat(So),type:"Theatre_RafDriver_PublicAPI"};return I(r,{type:"Theatre_RafDriver_PrivateAPI",publicApi:r,ticker:n,start:null==e?void 0:e.start,stop:null==e?void 0:e.stop}),r}function ko(){return wo||function(e){if(wo)throw new Error("`setCoreRafDriver()` is already called.");const t=A(e);wo=t}(function(){let e=null;const t=Eo({name:"DefaultCoreRafDriver",start:()=>{if("undefined"!=typeof window){const n=r=>{t.tick(r),e=window.requestAnimationFrame(n)};e=window.requestAnimationFrame(n)}else t.tick(0),setTimeout(()=>t.tick(1),0)},stop:()=>{"undefined"!=typeof window&&null!==e&&window.cancelAnimationFrame(e)}});return t}()),wo}function Co(){return ko().ticker}var Mo,Po=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(e){I(this,e)}play(e){const t=A(this);if(t._project.isReady()){const n=(null==e?void 0:e.rafDriver)?A(e.rafDriver).ticker:Co();return t.play(null!=e?e:{},n)}{"production"!==process.env.NODE_ENV&&bo.warning("Sequence can't be played","You seem to have called `sequence.play()` before the project has finished loading.\n\nThis would **not** a problem in production when using `@theatre/core`, since Theatre.js loads instantly in core mode. However, when using `@theatre/studio`, it takes a few milliseconds for it to load your project's state, before which your sequences cannot start playing.\n\nTo fix this, simply defer calling `sequence.play()` until after the project is loaded, like this:\n\n```\nproject.ready.then(() => {\n  sequence.play()\n})\n```",[{url:"https://www.theatrejs.com/docs/0.5/api/core#project.ready",title:"Project.ready"}]);const e=fo();return e.resolve(!0),e.promise}}pause(){A(this).pause()}get position(){return A(this).position}set position(e){A(this).position=e}__experimental_getKeyframes(e){return A(this).getKeyframesOfSimpleProp(e)}async attachAudio(e){const{audioContext:t,destinationNode:n,decodedBuffer:r,gainNode:i}=await async function(e){function t(){if(e.audioContext)return Promise.resolve(e.audioContext);const t=new AudioContext;return"running"===t.state||"undefined"==typeof window?Promise.resolve(t):new Promise(e=>{const n=()=>{t.resume().catch(e=>{})},r=["mousedown","keydown","touchstart"],i={capture:!0,passive:!1};r.forEach(e=>{window.addEventListener(e,n,i)}),t.addEventListener("statechange",()=>{"running"===t.state&&(r.forEach(e=>{window.removeEventListener(e,n,i)}),e(t))})})}async function n(){if(e.source instanceof AudioBuffer)return e.source;const t=fo();if("string"!=typeof e.source)throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let n,i,a;try{n=await fetch(e.source)}catch(t){throw new Error("Could not fetch '".concat(e.source,"'. Network error logged above."))}try{i=await n.arrayBuffer()}catch(t){throw new Error("Could not read '".concat(e.source,"' as an arrayBuffer."))}(await r).decodeAudioData(i,t.resolve,t.reject);try{a=await t.promise}catch(t){throw new Error("Could not decode ".concat(e.source," as an audio file."))}return a}const r=t(),i=n(),[a,o]=await Promise.all([r,i]),s=e.destinationNode||a.destination,l=a.createGain();return l.connect(s),{audioContext:a,decodedBuffer:o,gainNode:l,destinationNode:s}}(e),a=new xo(r,t,i);return A(this).replacePlaybackController(a),{audioContext:t,destinationNode:n,decodedBuffer:r,gainNode:i}}get pointer(){return A(this).pointer}},To=(Mo="Theatre_SheetObject",e=>"object"==typeof e&&!!e&&e.type===Mo),Ao=["normal","reverse","alternate","alternateReverse"],Io=class{constructor(e,t,n,r,i){this._project=e,this._sheet=t,this._lengthD=n,this._subUnitsPerUnitD=r,w(this,"address"),w(this,"publicApi"),w(this,"_playbackControllerBox"),w(this,"_prismOfStatePointer"),w(this,"_positionD"),w(this,"_positionFormatterD"),w(this,"_playableRangeD"),w(this,"pointer",(0,uo.pointer)({root:this,path:[]})),w(this,"$$isPointerToPrismProvider",!0),w(this,"_logger"),w(this,"closestGridPosition",e=>{const t=1/this.subUnitsPerUnit;return parseFloat((Math.round(e/t)*t).toFixed(3))}),this._logger=e._logger.named("Sheet",t.address.sheetId).named("Instance",t.address.sheetInstanceId),this.address=m(p({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new Po(this),this._playbackControllerBox=new lo.Atom(null!=i?i:new mo),this._prismOfStatePointer=(0,co.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,co.prism)(()=>{const e=this._prismOfStatePointer.getValue();return(0,co.val)(e.position)}),this._positionFormatterD=(0,co.prism)(()=>{const e=(0,co.val)(this._subUnitsPerUnitD);return new Ro(e)})}get type(){return"Theatre_Sequence"}pointerToPrism(e){const{path:t}=(0,so.getPointerParts)(e);if(0===t.length)return(0,co.prism)(()=>({length:(0,co.val)(this.pointer.length),playing:(0,co.val)(this.pointer.playing),position:(0,co.val)(this.pointer.position),subUnitsPerUnit:(0,co.val)(this.pointer.subUnitsPerUnit)}));if(t.length>1)return(0,co.prism)(()=>{});const[n]=t;return"length"===n?this._lengthD:"subUnitsPerUnit"===n?this._subUnitsPerUnitD:"position"===n?this._positionD:"playing"===n?(0,co.prism)(()=>(0,co.val)(this._prismOfStatePointer.getValue().playing)):(0,co.prism)(()=>{})}getKeyframesOfSimpleProp(e){const{path:t,root:n}=(0,so.getPointerParts)(e);if(!To(n))throw new oo("Argument prop must be a pointer to a SheetObject property");const r=(0,co.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[n.address.objectKey]);if(!r)return[];const{trackData:i,trackIdByPropPath:a}=r,o=a[ro(t)];if(!o)return[];const s=i[o];return s?s.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(e){let t=e;this.pause(),"production"!==process.env.NODE_ENV&&("number"!=typeof t&&(t=0),t<0&&(t=0)),t>this.length&&(t=this.length);const n=this.length;this._playbackControllerBox.get().gotoPosition(t>n?n:t)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,co.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,co.prism)(()=>[0,(0,co.val)(this._lengthD)])}playDynamicRange(e,t){return this._playbackControllerBox.get().playDynamicRange(e,t)}async play(e,t){const n=this.length,r=e&&e.range?e.range:[0,n];if("production"!==process.env.NODE_ENV){if("number"!=typeof r[0]||r[0]<0)throw new oo("Argument conf.range[0] in sequence.play(conf) must be a positive number. ".concat(JSON.stringify(r[0])," given."));if(r[0]>=n)throw new oo("Argument conf.range[0] in sequence.play(conf) cannot be longer than the duration of the sequence, which is ".concat(n,"s. ").concat(JSON.stringify(r[0])," given."));if("number"!=typeof r[1]||r[1]<=0)throw new oo("Argument conf.range[1] in sequence.play(conf) must be a number larger than zero. ".concat(JSON.stringify(r[1])," given."));if(r[1]>n&&(bo.warning("Couldn't play sequence in given range","Your animation will still play until the end of the sequence, however the argument `conf.range[1]` given in `sequence.play(conf)` (".concat(JSON.stringify(r[1]),"s) is longer than the duration of the sequence (").concat(n,"s).\n\nTo fix this, either set `conf.range[1]` to be less the duration of the sequence, or adjust the sequence duration in the UI."),[{url:"https://www.theatrejs.com/docs/latest/manual/sequences",title:"Sequences"},{url:"https://www.theatrejs.com/docs/latest/manual/sequences",title:"Playback API"}]),r[1]=n),r[1]<=r[0])throw new oo("Argument conf.range[1] in sequence.play(conf) must be larger than conf.range[0]. ".concat(JSON.stringify(r)," given."))}const i=e&&"number"==typeof e.iterationCount?e.iterationCount:1;if("production"!==process.env.NODE_ENV&&!(Number.isInteger(i)&&i>0)&&i!==1/0)throw new oo("Argument conf.iterationCount in sequence.play(conf) must be an integer larger than 0. ".concat(JSON.stringify(i)," given."));const a=e&&void 0!==e.rate?e.rate:1;if("production"!==process.env.NODE_ENV){if("number"!=typeof a||0===a)throw new oo("Argument conf.rate in sequence.play(conf) must be a number larger than 0. ".concat(JSON.stringify(a)," given."));if(a<0)throw new oo("Argument conf.rate in sequence.play(conf) must be a number larger than 0. ".concat(JSON.stringify(a)," given. If you want the animation to play backwards, try setting conf.direction to 'reverse' or 'alternateReverse'."))}const o=e&&e.direction?e.direction:"normal";if("production"!==process.env.NODE_ENV&&-1===Ao.indexOf(o))throw new oo("Argument conf.direction in sequence.play(conf) must be one of ".concat(JSON.stringify(Ao),". ").concat(JSON.stringify(o)," given. ").concat(function(e,t,n="Did you mean ",r="?"){const i=(0,io.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+r:""}(o,Ao)));return await this._play(i,[r[0],r[1]],a,o,t)}_play(e,t,n,r,i){return this._playbackControllerBox.get().play(e,t,n,r,i)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(e){this.pause();const t=this._playbackControllerBox.get();this._playbackControllerBox.set(e);const n=t.getCurrentPosition();t.destroy(),e.gotoPosition(n)}},Ro=class{constructor(e){this._fps=e}formatSubUnitForGrid(e){const t=e%1,n=1/this._fps;return Math.round(t/n)+"f"}formatFullUnitForGrid(e){let t=e,n="";t>=zo&&(n+=Math.floor(t/zo)+"h",t%=zo),t>=Do&&(n+=Math.floor(t/Do)+"m",t%=Do),t>=Oo&&(n+=Math.floor(t/Oo)+"s",t%=Oo);const r=1/this._fps;return t>=r&&(n+=Math.floor(t/r)+"f",t%=r),0===n.length?"0s":n}formatForPlayhead(e){let t=e,n="";if(t>=zo){const e=Math.floor(t/zo);n+=Ta(e.toString(),2,"0")+"h",t%=zo}if(t>=Do){const e=Math.floor(t/Do);n+=Ta(e.toString(),2,"0")+"m",t%=Do}else n.length>0&&(n+="00m");if(t>=Oo){const e=Math.floor(t/Oo);n+=Ta(e.toString(),2,"0")+"s",t%=Oo}else n+="00s";const r=1/this._fps;if(t>=r){const e=Math.round(t/r);n+=Ta(e.toString(),2,"0")+"f",t%=r}else t/r>.98?(n+=Ta(1..toString(),2,"0")+"f",t%=r):n+="00f";return 0===n.length?"00s00f":n}formatBasic(e){return e.toFixed(2)+"s"}},Oo=1,Do=60*Oo,zo=60*Do,Lo={};function No(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}v(Lo,{boolean:()=>as,compound:()=>Xo,file:()=>Yo,image:()=>$o,number:()=>Qo,rgba:()=>ns,string:()=>ls,stringLiteral:()=>cs});var jo=e=>"string"==typeof e?'string("'.concat(No(e,10),'")'):"number"==typeof e?"number(".concat(No(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"==typeof e?String(e):Array.isArray(e)?"array":"object"==typeof e?"object":"unknown";function Fo(e){return m(p({},e),{toString(){return function(e,{removeAlphaIfOpaque:t=!1}={}){const n=(255*e.a|256).toString(16).slice(1),r=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(t&&"ff"===n?"":n);return"#".concat(r)}(this,{removeAlphaIfOpaque:!0})}})}function Uo(e){function t(e){return e>=.0031308?1.055*e**(1/2.4)-.055:12.92*e}return function(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,sr(t,0,1)]))}({r:t(e.r),g:t(e.g),b:t(e.b),a:e.a})}function Bo(e){function t(e){return e>=.04045?((e+.055)/1.055)**2.4:e/12.92}return{r:t(e.r),g:t(e.g),b:t(e.b),a:e.a}}function Vo(e){let t=.4122214708*e.r+.5363325363*e.g+.0514459929*e.b,n=.2119034982*e.r+.6806995451*e.g+.1073969566*e.b,r=.0883024619*e.r+.2817188376*e.g+.6299787005*e.b,i=Math.cbrt(t),a=Math.cbrt(n),o=Math.cbrt(r);return{L:.2104542553*i+.793617785*a-.0040720468*o,a:1.9779984951*i-2.428592205*a+.4505937099*o,b:.0259040371*i+.7827717662*a-.808675766*o,alpha:e.a}}var Ho=Symbol("TheatrePropType_Basic");function Wo(e){return"object"==typeof e&&!!e&&"TheatrePropType"===e[Ho]}function Go(e){if("number"==typeof e)return Qo(e);if("boolean"==typeof e)return as(e);if("string"==typeof e)return ls(e);if("object"==typeof e&&e){if(Wo(e))return e;if(Un(e))return Xo(e);throw new oo("This value is not a valid prop type: ".concat(jo(e)))}throw new oo("This value is not a valid prop type: ".concat(jo(e)))}var qo=(e,t)=>{if("production"!==process.env.NODE_ENV){if(void 0===t)return;if("object"!=typeof t||null===t)throw new Error("opts in ".concat(e," must either be undefined or an object."));if(Object.prototype.hasOwnProperty.call(t,"label")){const{label:n}=t;if("string"!=typeof n)throw new Error("opts.label in ".concat(e," should be a string. ").concat(jo(n)," given."));if(n.trim().length!==n.length)throw new Error("opts.label in ".concat(e,' should not start/end with whitespace. "').concat(n,'" given.'));if(0===n.length)throw new Error("opts.label in ".concat(e," should not be an empty string. If you wish to have no label, remove opts.label from opts."))}}},Xo=(e,t={})=>{qo("t.compound(props, opts)",t);const n=function(e){const t={};if("production"!==process.env.NODE_ENV&&("object"!=typeof e||!e))throw new oo("t.compound() expects an object, like: {x: 10}. ".concat(jo(e)," given."));for(const n of Object.keys(e)){if("production"!==process.env.NODE_ENV){if("string"!=typeof n)throw new oo("t.compound()'s keys must be all strings. ".concat(jo(n)," given."));if(0===n.length||!n.match(/^\w+$/))throw new oo("compound key ".concat(jo(n)," is invalid. The keys must be alphanumeric and start with a letter."));if(n.length>64)throw new oo("compound key ".concat(jo(n)," is too long."))}const r=e[n];Wo(r)?t[n]=r:t[n]=Go(r)}return t}(e),r=new WeakMap;return{type:"compound",props:n,valueType:null,[Ho]:"TheatrePropType",label:t.label,default:la(n,e=>e.default),deserializeAndSanitize:e=>{if("object"!=typeof e||!e)return;if(r.has(e))return r.get(e);const t={};let i=!1;for(const[r,a]of Object.entries(n))if(Object.prototype.hasOwnProperty.call(e,r)){const n=a.deserializeAndSanitize(e[r]);null!=n&&(i=!0,t[r]=n)}return r.set(e,t),i?t:void 0}}},Yo=(e,t={})=>("production"!==process.env.NODE_ENV&&qo("t.file(defaultValue, opts)",t),{type:"file",default:{type:"file",id:e},valueType:null,[Ho]:"TheatrePropType",label:t.label,interpolate:(e,n,r)=>{var i;return{type:"file",id:(null!=(i=t.interpolate)?i:ss)(e.id,n.id,r)}},deserializeAndSanitize:Ko}),Ko=e=>{if(!e)return;let t=!0;return"string"==typeof e.id||[null,void 0].includes(e.id)||(t=!1),"file"!==e.type&&(t=!1),t?e:void 0},$o=(e,t={})=>("production"!==process.env.NODE_ENV&&qo("t.image(defaultValue, opts)",t),{type:"image",default:{type:"image",id:e},valueType:null,[Ho]:"TheatrePropType",label:t.label,interpolate:(e,n,r)=>{var i;return{type:"image",id:(null!=(i=t.interpolate)?i:ss)(e.id,n.id,r)}},deserializeAndSanitize:Zo}),Zo=e=>{if(!e)return;let t=!0;return"string"==typeof e.id||[null,void 0].includes(e.id)||(t=!1),"image"!==e.type&&(t=!1),t?e:void 0},Qo=(e,t={})=>{var n;if("production"!==process.env.NODE_ENV){if(qo("t.number(defaultValue, opts)",t),"number"!=typeof e||!isFinite(e))throw new Error("Argument defaultValue in t.number(defaultValue) must be a number. ".concat(jo(e)," given."));if("object"==typeof t&&null!==t){if(Object.prototype.hasOwnProperty.call(t,"range")){if(!Array.isArray(t.range))throw new Error("opts.range in t.number(defaultValue, opts) must be a tuple of two numbers. ".concat(jo(t.range)," given."));if(2!==t.range.length)throw new Error("opts.range in t.number(defaultValue, opts) must have two elements. ".concat(t.range.length," given."));if(!t.range.every(e=>"number"==typeof e&&!isNaN(e)))throw new Error("opts.range in t.number(defaultValue, opts) must be a tuple of two numbers.");if(t.range[0]>=t.range[1])throw new Error("opts.range[0] in t.number(defaultValue, opts) must be smaller than opts.range[1]. Given: ".concat(JSON.stringify(t.range)))}if(Object.prototype.hasOwnProperty.call(t,"nudgeMultiplier")&&("number"!=typeof t.nudgeMultiplier||!isFinite(t.nudgeMultiplier)))throw new Error("opts.nudgeMultiplier in t.number(defaultValue, opts) must be a finite number. ".concat(jo(t.nudgeMultiplier)," given."));if(Object.prototype.hasOwnProperty.call(t,"nudgeFn")&&"function"!=typeof t.nudgeFn)throw new Error("opts.nudgeFn in t.number(defaultValue, opts) must be a function. ".concat(jo(t.nudgeFn)," given."))}}return m(p({type:"number",valueType:0,default:e,[Ho]:"TheatrePropType"},t||{}),{label:t.label,nudgeFn:null!=(n=t.nudgeFn)?n:ds,nudgeMultiplier:"number"==typeof t.nudgeMultiplier?t.nudgeMultiplier:void 0,interpolate:ts,deserializeAndSanitize:Jo(t.range)})},Jo=e=>e?t=>{if("number"==typeof t&&isFinite(t))return sr(t,e[0],e[1])}:es,es=e=>"number"==typeof e&&isFinite(e)?e:void 0,ts=(e,t,n)=>e+n*(t-e),ns=(e={r:0,g:0,b:0,a:1},t={})=>{if("production"!==process.env.NODE_ENV){qo("t.rgba(defaultValue, opts)",t);let n=!0;for(const t of["r","g","b","a"])Object.prototype.hasOwnProperty.call(e,t)&&"number"==typeof e[t]||(n=!1);if(!n)throw new Error("Argument defaultValue in t.rgba(defaultValue) must be of the shape { r: number; g: number, b: number, a: number; }.")}const n={};for(const t of["r","g","b","a"])n[t]=Math.min(Math.max(e[t],0),1);return{type:"rgba",valueType:null,default:Fo(n),[Ho]:"TheatrePropType",label:t.label,interpolate:is,deserializeAndSanitize:rs}},rs=e=>{if(!e)return;let t=!0;for(const n of["r","g","b","a"])Object.prototype.hasOwnProperty.call(e,n)&&"number"==typeof e[n]||(t=!1);if(!t)return;const n={};for(const t of["r","g","b","a"])n[t]=Math.min(Math.max(e[t],0),1);return Fo(n)},is=(e,t,n)=>{const r=Vo(Bo(e)),i=Vo(Bo(t));return Fo(Uo(function(e){let t=e.L+.3963377774*e.a+.2158037573*e.b,n=e.L-.1055613458*e.a-.0638541728*e.b,r=e.L-.0894841775*e.a-1.291485548*e.b,i=t*t*t,a=n*n*n,o=r*r*r;return{r:4.0767416621*i-3.3077115913*a+.2309699292*o,g:-1.2684380046*i+2.6097574011*a-.3413193965*o,b:-.0041960863*i-.7034186147*a+1.707614701*o,a:e.alpha}}({L:(1-n)*r.L+n*i.L,a:(1-n)*r.a+n*i.a,b:(1-n)*r.b+n*i.b,alpha:(1-n)*r.alpha+n*i.alpha})))},as=(e,t={})=>{var n;if("production"!==process.env.NODE_ENV&&(qo("t.boolean(defaultValue, opts)",t),"boolean"!=typeof e))throw new Error("defaultValue in t.boolean(defaultValue) must be a boolean. ".concat(jo(e)," given."));return{type:"boolean",default:e,valueType:null,[Ho]:"TheatrePropType",label:t.label,interpolate:null!=(n=t.interpolate)?n:ss,deserializeAndSanitize:os}},os=e=>"boolean"==typeof e?e:void 0;function ss(e){return e}var ls=(e,t={})=>{var n;if("production"!==process.env.NODE_ENV&&(qo("t.string(defaultValue, opts)",t),"string"!=typeof e))throw new Error("defaultValue in t.string(defaultValue) must be a string. ".concat(jo(e)," given."));return{type:"string",default:e,valueType:null,[Ho]:"TheatrePropType",label:t.label,interpolate:null!=(n=t.interpolate)?n:ss,deserializeAndSanitize:us}};function us(e){return"string"==typeof e?e:void 0}function cs(e,t,n={}){var r,i;return{type:"stringLiteral",default:e,valuesAndLabels:p({},t),[Ho]:"TheatrePropType",valueType:null,as:null!=(r=n.as)?r:"menu",label:n.label,interpolate:null!=(i=n.interpolate)?i:ss,deserializeAndSanitize(e){if("string"==typeof e)return Object.prototype.hasOwnProperty.call(t,e)?e:void 0}}}var ds=({config:e,deltaX:t,deltaFraction:n,magnitude:r})=>{var i;const{range:a}=e;return e.nudgeMultiplier||!a||a.includes(1/0)||a.includes(-1/0)?t*r*(null!=(i=e.nudgeMultiplier)?i:1):n*(a[1]-a[0])*r};function fs(e,t){const n=e.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");if("development"!==process.env.NODE_ENV)return n;const r=(e=>{if("string"!=typeof e)return"it is not a string. (it is a ".concat(typeof e,")");const t=e.split(/\//);if(0===t.length)return"it is empty.";for(let e=0;e<t.length;e++){const n=t[e].trim();if(0===n.length)return"the component #".concat(e+1," is empty.");if(n.length>64)return"the component '".concat(n,"' must have 64 characters or less.")}})(n);if(r)throw new oo("The path in ".concat(t,"(").concat("string"==typeof e?'"'.concat(e,'"'):"",") is invalid because ").concat(r));return e!==n&&bo.warning("Invalid path provided to object","The path in `".concat(t,'("').concat(e,'")` was sanitized to `"').concat(n,'"`.\n\n')+"Please replace the path with the sanitized one, otherwise it will likely break in the future.",[{url:"https://www.theatrejs.com/docs/latest/manual/objects#creating-sheet-objects",title:"Sheet Objects"},{url:"https://www.theatrejs.com/docs/latest/api/core#sheet.object",title:"API"}]),n}var hs,ps,ms=b(E()),gs=new WeakMap,vs=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(e){I(this,e)}object(e,t,n){const r=A(this),i=fs(e,"sheet.object"),a=r.getObject(i),o=null==n?void 0:n.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(a){if("production"!==process.env.NODE_ENV){const r=gs.get(a);if(r&&!(0,ms.default)(t,r)){if(!0===(null==n?void 0:n.reconfigure)){const e=Xo(t);return a.template.reconfigure(e),gs.set(a,t),a.publicApi}throw new Error('You seem to have called sheet.object("'.concat(e,'", config) twice, with different values for `config`. ')+"This is disallowed because changing the config of an object on the fly would make it difficult to reason about.\n\n"+'You can fix this by either re-using the existing object, or calling sheet.object("'.concat(e,'", config) with the same config.\n\n')+"If you mean to reconfigure the object's config, set `{reconfigure: true}` in sheet.object(\"".concat(e,'", config, {reconfigure: true})'))}}return o&&a.template._temp_setActions(o),a.publicApi}{const e=Xo(t),n=r.createObject(i,null,e,o);return"production"!==process.env.NODE_ENV&&gs.set(n,t),n.publicApi}}__experimental_getExistingObject(e){const t=A(this),n=fs(e,"sheet.object"),r=t.getObject(n);return null==r?void 0:r.publicApi}get sequence(){return A(this).getSequence().publicApi}get project(){return A(this).project.publicApi}get address(){return p({},A(this).address)}detachObject(e){const t=A(this),n=fs(e,'sheet.deleteObject("'.concat(e,'")'));t.getObject(n)?t.deleteObject(n):bo.warning("Couldn't delete object \"".concat(n,'"'),'There is no object with key "'.concat(n,'".\n\nTo fix this, make sure you are calling `sheet.deleteObject("').concat(n,'")` with the correct key.'))}},ys=Cm(),bs=class{constructor(e,t){this.template=e,this.instanceId=t,w(this,"_objects",new ys.Atom({})),w(this,"_sequence"),w(this,"address"),w(this,"publicApi"),w(this,"project"),w(this,"objectsP",this._objects.pointer),w(this,"type","Theatre_Sheet"),w(this,"_logger"),this._logger=e.project._logger.named("Sheet",t),this._logger._trace("creating sheet"),this.project=e.project,this.address=m(p({},e.address),{sheetInstanceId:this.instanceId}),this.publicApi=new vs(this)}createObject(e,t,n,r={}){const i=this.template.getObjectTemplate(e,t,n,r).createInstance(this,t,n);return this._objects.setByPointer(t=>t[e],i),i}getObject(e){return this._objects.get()[e]}deleteObject(e){this._objects.reduce(t=>{const n=p({},t);return delete n[e],n})}getSequence(){if(!this._sequence){const e=(0,ys.prism)(()=>{const e=(0,ys.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return ws(e)}),t=(0,ys.prism)(()=>{const e=(0,ys.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return xs(e)});this._sequence=new Io(this.template.project,this,e,t)}return this._sequence}},ws=e=>"number"==typeof e&&isFinite(e)&&e>0?e:10,xs=e=>"number"==typeof e&&sa(e)&&e>=1&&e<=1e3?e:30,_s=class{constructor(e,t){this.project=e,w(this,"type","Theatre_SheetTemplate"),w(this,"address"),w(this,"_instances",new no.Atom({})),w(this,"instancesP",this._instances.pointer),w(this,"_objectTemplates",new no.Atom({})),w(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=m(p({},e.address),{sheetId:t})}getInstance(e){let t=this._instances.get()[e];return t||(t=new bs(this,e),this._instances.setByPointer(t=>t[e],t)),t}getObjectTemplate(e,t,n,r){let i=this._objectTemplates.get()[e];return i||(i=new eo(this,e,t,n,r),this._objectTemplates.setByPointer(t=>t[e],i)),i}},Ss=Cm(),Es=Cm(),ks=e=>new Promise(t=>setTimeout(t,e));function Cs(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("production"!==process.env.NODE_ENV){var i=dl[e],a=i?"function"==typeof i?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+a)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ms(e){return!!e&&!!e[cl]}function Ps(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===fl}(e)||Array.isArray(e)||!!e[ul]||!!e.constructor[ul]||Os(e)||Ds(e))}function Ts(e,t,n){void 0===n&&(n=!1),0===As(e)?(n?Object.keys:hl)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function As(e){var t=e[cl];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Os(e)?2:Ds(e)?3:0}function Is(e,t){return 2===As(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rs(e,t,n){var r=As(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Os(e){return al&&e instanceof Map}function Ds(e){return ol&&e instanceof Set}function zs(e){return e.o||e.t}function Ls(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=pl(e);delete t[cl];for(var n=hl(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Ns(e,t){return void 0===t&&(t=!1),Fs(e)||Ms(e)||!Ps(e)||(As(e)>1&&(e.set=e.add=e.clear=e.delete=js),Object.freeze(e),t&&Ts(e,function(e,t){return Ns(t,!0)},!0)),e}function js(){Cs(2)}function Fs(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Us(e){var t=ml[e];return t||Cs(18,e),t}function Bs(){return"production"===process.env.NODE_ENV||ps||Cs(0),ps}function Vs(e,t){t&&(Us("Patches"),e.u=[],e.s=[],e.v=t)}function Hs(e){Ws(e),e.p.forEach(qs),e.p=null}function Ws(e){e===ps&&(ps=e.l)}function Gs(e){return ps={p:[],l:ps,h:e,m:!0,_:0}}function qs(e){var t=e[cl];0===t.i||1===t.i?t.j():t.O=!0}function Xs(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Us("ES5").S(t,e,r),r?(n[cl].P&&(Hs(t),Cs(4)),Ps(e)&&(e=Ys(t,e),t.l||$s(t,e)),t.u&&Us("Patches").M(n[cl],e,t.u,t.s)):e=Ys(t,n,[]),Hs(t),t.u&&t.v(t.u,t.s),e!==ll?e:void 0}function Ys(e,t,n){if(Fs(t))return t;var r=t[cl];if(!r)return Ts(t,function(i,a){return Ks(e,r,t,i,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return $s(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Ls(r.k):r.o;Ts(3===r.i?new Set(i):i,function(t,a){return Ks(e,r,i,t,a,n)}),$s(e,i,!1),n&&e.u&&Us("Patches").R(r,n,e.u,e.s)}return r.o}function Ks(e,t,n,r,i,a){if("production"!==process.env.NODE_ENV&&i===n&&Cs(5),Ms(i)){var o=Ys(e,i,a&&t&&3!==t.i&&!Is(t.D,r)?a.concat(r):void 0);if(Rs(n,r,o),!Ms(o))return;e.m=!1}if(Ps(i)&&!Fs(i)){if(!e.h.F&&e._<1)return;Ys(e,i),t&&t.A.l||$s(e,i)}}function $s(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Ns(t,n)}function Zs(e,t){var n=e[cl];return(n?zs(n):e)[t]}function Qs(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Js(e){e.P||(e.P=!0,e.l&&Js(e.l))}function el(e){e.o||(e.o=Ls(e.t))}function tl(e,t,n){var r=Os(t)?Us("MapSet").N(t,n):Ds(t)?Us("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Bs(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=gl;n&&(i=[r],a=vl);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):Us("ES5").J(t,n);return(n?n.A:Bs()).p.push(r),r}function nl(e){return Ms(e)||Cs(22,e),function e(t){if(!Ps(t))return t;var n,r=t[cl],i=As(t);if(r){if(!r.P&&(r.i<4||!Us("ES5").K(r)))return r.t;r.I=!0,n=rl(t,i),r.I=!1}else n=rl(t,i);return Ts(n,function(t,i){r&&function(e,t){return 2===As(e)?e.get(t):e[t]}(r.t,t)===i||Rs(n,t,e(i))}),3===i?new Set(n):n}(e)}function rl(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ls(e)}var il="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),al="undefined"!=typeof Map,ol="undefined"!=typeof Set,sl="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ll=il?Symbol.for("immer-nothing"):((hs={})["immer-nothing"]=!0,hs),ul=il?Symbol.for("immer-draftable"):"__$immer_draftable",cl=il?Symbol.for("immer-state"):"__$immer_state",dl={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},fl=""+Object.prototype.constructor,hl="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,pl=Object.getOwnPropertyDescriptors||function(e){var t={};return hl(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},ml={},gl={get:function(e,t){if(t===cl)return e;var n,r,i,a=zs(e);if(!Is(a,t))return n=e,(i=Qs(a,t))?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(n.k):void 0;var o=a[t];return e.I||!Ps(o)?o:o===Zs(e.t,t)?(el(e),e.o[t]=tl(e.A.h,o,e)):o},has:function(e,t){return t in zs(e)},ownKeys:function(e){return Reflect.ownKeys(zs(e))},set:function(e,t,n){var r=Qs(zs(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Zs(zs(e),t),a=null==i?void 0:i[cl];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||Is(e.t,t)))return!0;el(e),Js(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Zs(e.t,t)||t in e.t?(e.D[t]=!1,el(e),Js(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Cs(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Cs(12)}},vl={};Ts(gl,function(e,t){vl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vl.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&Cs(13),gl.deleteProperty.call(this,e[0],t)},vl.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&Cs(14),gl.set.call(this,e[0],t,n,e[0])};var yl=function(){function e(e){var t=this;this.g=sl,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))})}}var o;if("function"!=typeof n&&Cs(6),void 0!==r&&"function"!=typeof r&&Cs(7),Ps(e)){var s=Gs(t),l=tl(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?Hs(s):Ws(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return Vs(s,r),Xs(e,s)},function(e){throw Hs(s),e}):(Vs(s,r),Xs(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===ll)return;return void 0===o&&(o=e),t.F&&Ns(o,!0),o}Cs(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(i))})}:[t.produce(e,n,function(e,t){r=e,i=t}),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ps(e)||Cs(8),Ms(e)&&(e=nl(e));var t=Gs(this),n=tl(this,e,void 0);return n[cl].C=!0,Ws(t),n},t.finishDraft=function(e,t){var n=e&&e[cl];"production"!==process.env.NODE_ENV&&(n&&n.C||Cs(9),n.I&&Cs(10));var r=n.A;return Vs(r,t),Xs(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!sl&&Cs(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=Us("Patches").$;return Ms(e)?i(e,t):this.produce(e,function(e){return i(e,t.slice(n+1))})},e}(),bl=new yl;bl.produce,bl.produceWithPatches.bind(bl),bl.setAutoFreeze.bind(bl),bl.setUseProxies.bind(bl),bl.applyPatches.bind(bl),bl.createDraft.bind(bl),bl.finishDraft.bind(bl);var wl={currentProjectStateDefinitionVersion:"0.4.0"};async function xl(e,t,n){await ks(0),e.transaction(({drafts:e})=>{var r;const i=t.address.projectId;function a(){e.ephemeral.coreByProject[i].loadingState={type:"loaded"}}e.ephemeral.coreByProject[i]={lastExportedObject:null,loadingState:{type:"loading"}},e.ahistoric.coreByProject[i]={ahistoricStuff:""};const o=null==(Ms(s=e.historic)||Cs(23,s),r=s[cl].t)?void 0:r.coreByProject[t.address.projectId];var s,l,u;o?n&&-1==o.revisionHistory.indexOf(n.revisionHistory[0])?(l=n,e.ephemeral.coreByProject[i].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:l}):a():n?(u=n,e.ephemeral.coreByProject[i].loadingState={type:"loaded"},e.historic.coreByProject[i]=u):(e.ephemeral.coreByProject[i].loadingState={type:"loaded"},e.historic.coreByProject[i]={sheetsById:{},definitionVersion:wl.currentProjectStateDefinitionVersion,revisionHistory:[]})})}function _l(){}function Sl(e){var t,n;const r=(null==(t=null==e?void 0:e.logging)?void 0:t.internal)?null!=(n=e.logging.min)?n:256:1/0,i=r<=512,a=Va(void 0,{_debug:r<=128?function(){}.bind():_l,_error:i?function(){}.bind():_l});if(e){const{logger:t,logging:n}=e;t&&a.configureLogger(t),n?a.configureLogging(n):a.configureLogging({dev:"production"!==process.env.NODE_ENV})}return a.getLogger().named("Theatre")}var El=class{constructor(e,t={},n){var r;this.config=t,this.publicApi=n,w(this,"pointers"),w(this,"_pointerProxies"),w(this,"address"),w(this,"_studioReadyDeferred"),w(this,"_assetStorageReadyDeferred"),w(this,"_readyPromise"),w(this,"_sheetTemplates",new Es.Atom({})),w(this,"sheetTemplatesP",this._sheetTemplates.pointer),w(this,"_studio"),w(this,"assetStorage"),w(this,"type","Theatre_Project"),w(this,"_logger"),this._logger=Sl({logging:{dev:!0}}).named("Project",e),this._logger.traceDev("creating project"),this.address={projectId:e};const i=new Es.Atom({ahistoric:{ahistoricStuff:""},historic:null!=(r=t.state)?r:{sheetsById:{},definitionVersion:wl.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=fo(),this.assetStorage={getAssetUrl:e=>{var n;return"".concat(null==(n=t.assets)?void 0:n.baseUrl,"/").concat(e)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new Ss.PointerProxy(i.pointer.historic),ahistoric:new Ss.PointerProxy(i.pointer.ahistoric),ephemeral:new Ss.PointerProxy(i.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},P.add(e,this),this._studioReadyDeferred=fo(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),t.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):"undefined"==typeof window?process.env.NODE_ENV:setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(e,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(e,'" will be empty.\n\n')+"To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state\n")},1e3)}attachToStudio(e){if(this._studio){if(this._studio!==e)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId))}else this._studio=e,e.initialized.then(async()=>{var t;await xl(e,this,this.config.state),this._pointerProxies.historic.setPointer(e.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(e.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(e.atomP.ephemeral.coreByProject[this.address.projectId]),await e.createAssetStorage(this,null==(t=this.config.assets)?void 0:t.baseUrl).then(e=>{this.assetStorage=e,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(e=>{throw e})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return"resolved"===this._studioReadyDeferred.status&&"resolved"===this._assetStorageReadyDeferred.status}getOrCreateSheet(e,t="default"){let n=this._sheetTemplates.get()[e];return n||(n=new _s(this,e),this._sheetTemplates.reduce(t=>m(p({},t),{[e]:n}))),n.getInstance(t)}},kl=(e,t,n)=>"string"!=typeof e?"".concat(t," must be a string. ").concat(jo(e)," given."):e.trim().length!==e.length?"".concat(t," must not have leading or trailing spaces. '").concat(e,"' given."):e.length<n[0]||e.length>n[1]?"".concat(t," must have between ").concat(n[0]," and ").concat(n[1]," characters. '").concat(e,"' given."):void 0,Cl=(e,t,n=!1)=>{const r=kl(e,t,[3,32]);if("string"==typeof r&&n)throw new oo(r);return r},Ml=class{get type(){return"Theatre_Project_PublicAPI"}constructor(e,t={}){I(this,new El(e,t,this))}get ready(){return A(this).ready}get isReady(){return A(this).isReady()}get address(){return p({},A(this).address)}getAssetUrl(e){if(this.isReady)return e.id?A(this).assetStorage.getAssetUrl(e.id):void 0}sheet(e,t="default"){const n=fs(e,"project.sheet");return"production"!==process.env.NODE_ENV&&((e,t,n=!1)=>{const r=kl(e,t,[1,32]);if("string"==typeof r&&n)throw new oo(r)})(t,"instanceId in project.sheet(sheetId, instanceId)",!0),A(this).getOrCreateSheet(n,t).publicApi}},Pl=b(E()),Tl=Cm(),Al=Cm();function Il(e,t={}){const n=P.get(e);if(n){if("production"!==process.env.NODE_ENV&&!(0,Pl.default)(t,n.config))throw new Error('You seem to have called Theatre.getProject("'.concat(e,'", config) twice, with different config objects. ')+"This is disallowed because changing the config of a project on the fly can lead to hard-to-debug issues.\n\nYou can fix this by either calling Theatre.getProject() once per projectId, or calling it multiple times but with the exact same config.");return n.publicApi}const r=Sl().named("Project",e);return"production"!==process.env.NODE_ENV&&(Cl(e,"projectName in Theatre.getProject(projectName)",!0),Dl(e),r._debug("validated projectName",{projectName:e})),t.state?"production"!==process.env.NODE_ENV?(Rl(e,t.state),r._debug("shallow validated config.state on disk")):(Ol(e,t.state),r._debug("deep validated config.state on disk")):r._debug("no config.state"),new Ml(e,t)}var Rl=(e,t)=>{if(Array.isArray(t)||null==t||t.definitionVersion!==wl.currentProjectStateDefinitionVersion)throw new oo("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(e),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},Ol=(e,t)=>{Rl(e,t)},Dl=e=>{if("string"!=typeof e)throw new oo("Argument 'projectId' in `Theatre.getProject(projectId, ...)` must be a string. Instead, it was ".concat(jo(e),"."));const t=e.trim();if(t.length!==e.length)throw new oo("Argument 'projectId' in `Theatre.getProject(\"".concat(e,'", ...)` should not have surrounding whitespace.'));if(t.length<3)throw new oo("Argument 'projectId' in `Theatre.getProject(\"".concat(e,'", ...)` should be at least 3 characters long.'))};function zl(e,t,n){const r=n?A(n).ticker:Co();if((0,Tl.isPointer)(e))return(0,Al.pointerToPrism)(e).onChange(r,t,!0);if((0,Al.isPrism)(e))return e.onChange(r,t,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function Ll(e){if((0,Tl.isPointer)(e))return(0,Al.pointerToPrism)(e).getValue();throw new Error("Called val(p) where p is not a pointer.")}var Nl=class{constructor(){w(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.2"}getBitsForStudio(e,t){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=e,t({projectsP:P.atom.pointer.projects,privateAPI:A,coreExports:C,getCoreRafDriver:ko})}};!function(){if("undefined"==typeof window)return;const e=window[vo];if(void 0!==e)throw"object"==typeof e&&e&&"string"==typeof e.version?new Error("It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(vo," seems to be already set by a module other than @theatre/core."));const t=new Nl;window[vo]=t;const n=window.__TheatreJS_StudioBundle;n&&null!==n&&"Theatre_StudioBundle"===n.type&&n.registerCoreBundle(t)}()}(Em,Em.exports)),Em.exports);function Pm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Tm,Am={exports:{}};function Im(){return Tm||(Tm=1,function(e,t){var n=Object.create,r=Object.freeze,i=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},p=Math.pow,m=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))f.call(t,n)&&m(e,n,t[n]);return e},v=(e,t)=>a(e,s(t)),y=(e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&f.call(e,r)&&(n[r]=e[r]);return n},b=(e,t)=>()=>(e&&(t=e(e=0)),t),w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),x=(e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})},_=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of l(t))!d.call(e,a)&&a!==n&&i(e,a,{get:()=>t[a],enumerable:!(r=o(t,a))||r.enumerable});return e},S=(e,t,r)=>(r=null!=e?n(c(e)):{},_(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),E=(e,t,n)=>(m(e,"symbol"!=typeof t?t+"":t,n),n),k=(e,t)=>r(i(e,"raw",{value:r(t||e.slice())})),C=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),M=function(e,t){this[0]=e,this[1]=t},P=e=>{var t,n=e[h("asyncIterator")],r=!1,i={};return null==n?(n=e[h("iterator")](),t=e=>i[e]=t=>n[e](t)):(n=n.call(e),t=e=>i[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new M(new Promise(r=>{var i=n[e](t);if(!(i instanceof Object))throw TypeError("Object expected");r(i)}),1)}}),i[h("iterator")]=()=>i,t("next"),"throw"in n?t("throw"):i.throw=e=>{throw e},"return"in n&&t("return"),i};function T(){return A}var A,I=b(()=>{});function R(e,t,n=[]){if("object"==typeof e&&e){if(O(e)||D(e))return void t(e,n);for(let[r,i]of Object.entries(e))R(i,t,[...n,r])}else{if(null==e)return;t(e,n)}}var O,D,z=b(()=>{O=e=>"object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,"type")&&"image"===e.type&&Object.hasOwnProperty.call(e,"id")&&"string"==typeof e.id&&""!==e.id,D=e=>"object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b&&"number"==typeof e.a});function L(e){return t=>"object"==typeof t&&!!t&&t.type===e}var N,j,F,U,B,V,H,W,G,q,X,Y,K,$,Z,Q=b(()=>{N=L("Theatre_Project"),j=L("Theatre_Sheet"),F=L("Theatre_SheetTemplate"),U=L("Theatre_SheetObject"),B=L("Theatre_Sequence"),V=L("Theatre_SheetObjectTemplate"),H=L("Theatre_Sheet_PublicAPI"),W=L("Theatre_SheetObject_PublicAPI")}),J=b(()=>{G="object"==typeof hh&&hh&&hh.Object===Object&&hh,q=G}),ee=b(()=>{J(),X="object"==typeof self&&self&&self.Object===Object&&self,Y=q||X||Function("return this")(),K=Y}),te=b(()=>{ee(),$=K.Symbol,Z=$});function ne(e){var t=ie.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(e){}var i=ae.call(e);return r&&(t?e[oe]=n:delete e[oe]),i}var re,ie,ae,oe,se,le=b(()=>{te(),re=Object.prototype,ie=re.hasOwnProperty,ae=re.toString,oe=Z?Z.toStringTag:void 0,se=ne});function ue(e){return de.call(e)}var ce,de,fe,he=b(()=>{ce=Object.prototype,de=ce.toString,fe=ue});function pe(e){return null==e?void 0===e?ge:me:ve&&ve in Object(e)?se(e):fe(e)}var me,ge,ve,ye,be=b(()=>{te(),le(),he(),me="[object Null]",ge="[object Undefined]",ve=Z?Z.toStringTag:void 0,ye=pe});function we(e){return null!=e&&"object"==typeof e}var xe,_e=b(()=>{xe=we});function Se(e){return"symbol"==typeof e||xe(e)&&ye(e)==Ee}var Ee,ke,Ce=b(()=>{be(),_e(),Ee="[object Symbol]",ke=Se});function Me(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Pe,Te,Ae,Ie=b(()=>{Pe=Me}),Re=b(()=>{Te=Array.isArray,Ae=Te});function Oe(e){if("string"==typeof e)return e;if(Ae(e))return Pe(e,Oe)+"";if(ke(e))return Le?Le.call(e):"";var t=e+"";return"0"==t&&1/e==-De?"-0":t}var De,ze,Le,Ne,je=b(()=>{te(),Ie(),Re(),Ce(),De=1/0,ze=Z?Z.prototype:void 0,Le=ze?ze.toString:void 0,Ne=Oe});function Fe(e){for(var t=e.length;t--&&Ue.test(e.charAt(t)););return t}var Ue,Be,Ve=b(()=>{Ue=/\s/,Be=Fe});function He(e){return e&&e.slice(0,Be(e)+1).replace(We,"")}var We,Ge,qe=b(()=>{Ve(),We=/^\s+/,Ge=He});function Xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Ye,Ke=b(()=>{Ye=Xe});function $e(e){if("number"==typeof e)return e;if(ke(e))return Ze;if(Ye(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ye(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ge(e);var n=Je.test(e);return n||et.test(e)?tt(e.slice(2),n?2:8):Qe.test(e)?Ze:+e}var Ze,Qe,Je,et,tt,nt,rt=b(()=>{qe(),Ke(),Ce(),Ze=NaN,Qe=/^[-+]0x[0-9a-f]+$/i,Je=/^0b[01]+$/i,et=/^0o[0-7]+$/i,tt=parseInt,nt=$e});function it(e){return e?(e=nt(e))===at||e===-at?(e<0?-1:1)*ot:e==e?e:0:0===e?e:0}var at,ot,st,lt=b(()=>{rt(),at=1/0,ot=17976931348623157e292,st=it});function ut(e){var t=st(e),n=t%1;return t==t?n?t-n:t:0}var ct,dt=b(()=>{lt(),ct=ut});function ft(e){return e}var ht,pt=b(()=>{ht=ft});function mt(e){if(!Ye(e))return!1;var t=ye(e);return t==vt||t==yt||t==gt||t==bt}var gt,vt,yt,bt,wt,xt,_t,St=b(()=>{be(),Ke(),gt="[object AsyncFunction]",vt="[object Function]",yt="[object GeneratorFunction]",bt="[object Proxy]",wt=mt}),Et=b(()=>{ee(),xt=K["__core-js_shared__"],_t=xt});function kt(e){return!!Ct&&Ct in e}var Ct,Mt,Pt=b(()=>{var e;Et(),e=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""),Ct=e?"Symbol(src)_1."+e:"",Mt=kt});function Tt(e){if(null!=e){try{return It.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var At,It,Rt,Ot=b(()=>{At=Function.prototype,It=At.toString,Rt=Tt});function Dt(e){return!(!Ye(e)||Mt(e))&&(wt(e)?Bt:Lt).test(Rt(e))}var zt,Lt,Nt,jt,Ft,Ut,Bt,Vt,Ht=b(()=>{St(),Pt(),Ke(),Ot(),zt=/[\\^$.*+?()[\]{}|]/g,Lt=/^\[object .+?Constructor\]$/,Nt=Function.prototype,jt=Object.prototype,Ft=Nt.toString,Ut=jt.hasOwnProperty,Bt=RegExp("^"+Ft.call(Ut).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=Dt});function Wt(e,t){return null==e?void 0:e[t]}var Gt,qt=b(()=>{Gt=Wt});function Xt(e,t){var n=Gt(e,t);return Vt(n)?n:void 0}var Yt,Kt,$t,Zt=b(()=>{Ht(),qt(),Yt=Xt}),Qt=b(()=>{Zt(),ee(),Kt=Yt(K,"WeakMap"),$t=Kt});function Jt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var en,tn=b(()=>{en=Jt});function nn(){}var rn,an=b(()=>{rn=nn});function on(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var sn,ln=b(()=>{sn=on});function un(e){var t=0,n=0;return function(){var r=fn(),i=dn-(r-n);if(n=r,i>0){if(++t>=cn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cn,dn,fn,hn,pn=b(()=>{cn=800,dn=16,fn=Date.now,hn=un});function mn(e){return function(){return e}}var gn,vn,yn,bn,wn,xn,_n=b(()=>{gn=mn}),Sn=b(()=>{Zt(),vn=function(){try{var e=Yt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),yn=vn}),En=b(()=>{_n(),Sn(),pt(),bn=yn?function(e,t){return yn(e,"toString",{configurable:!0,enumerable:!1,value:gn(t),writable:!0})}:ht}),kn=b(()=>{En(),pn(),wn=hn(bn),xn=wn});function Cn(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Mn,Pn=b(()=>{Mn=Cn});function Tn(e){return e!=e}var An,In=b(()=>{An=Tn});function Rn(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var On,Dn=b(()=>{On=Rn});function zn(e,t,n){return t==t?On(e,t,n):Mn(e,An,n)}var Ln,Nn=b(()=>{Pn(),In(),Dn(),Ln=zn});function jn(e,t){return!!(null==e?0:e.length)&&Ln(e,t,0)>-1}var Fn,Un=b(()=>{Nn(),Fn=jn});function Bn(e,t){var n=typeof e;return!!(t=null==t?Vn:t)&&("number"==n||"symbol"!=n&&Hn.test(e))&&e>-1&&e%1==0&&e<t}var Vn,Hn,Wn,Gn=b(()=>{Vn=9007199254740991,Hn=/^(?:0|[1-9]\d*)$/,Wn=Bn});function qn(e,t,n){"__proto__"==t&&yn?yn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Xn,Yn=b(()=>{Sn(),Xn=qn});function Kn(e,t){return e===t||e!=e&&t!=t}var $n,Zn=b(()=>{$n=Kn});function Qn(e,t,n){var r=e[t];(!er.call(e,t)||!$n(r,n)||void 0===n&&!(t in e))&&Xn(e,t,n)}var Jn,er,tr,nr=b(()=>{Yn(),Zn(),Jn=Object.prototype,er=Jn.hasOwnProperty,tr=Qn});function rr(e,t,n){return t=ir(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=ir(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),en(e,this,s)}}var ir,ar,or=b(()=>{tn(),ir=Math.max,ar=rr});function sr(e,t){return xn(ar(e,t,ht),e+"")}var lr,ur=b(()=>{pt(),or(),kn(),lr=sr});function cr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=dr}var dr,fr,hr=b(()=>{dr=9007199254740991,fr=cr});function pr(e){return null!=e&&fr(e.length)&&!wt(e)}var mr,gr=b(()=>{St(),hr(),mr=pr});function vr(e,t,n){if(!Ye(n))return!1;var r=typeof t;return!!("number"==r?mr(n)&&Wn(t,n.length):"string"==r&&t in n)&&$n(n[t],e)}var yr,br=b(()=>{Zn(),gr(),Gn(),Ke(),yr=vr});function wr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xr)}var xr,_r,Sr=b(()=>{xr=Object.prototype,_r=wr});function Er(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var kr,Cr=b(()=>{kr=Er});function Mr(e){return xe(e)&&ye(e)==Pr}var Pr,Tr,Ar,Ir,Rr,Or,Dr,zr=b(()=>{be(),_e(),Pr="[object Arguments]",Tr=Mr}),Lr=b(()=>{zr(),_e(),Ar=Object.prototype,Ir=Ar.hasOwnProperty,Rr=Ar.propertyIsEnumerable,Or=Tr(function(){return arguments}())?Tr:function(e){return xe(e)&&Ir.call(e,"callee")&&!Rr.call(e,"callee")},Dr=Or});function Nr(){return!1}var jr,Fr,Ur,Br,Vr,Hr,Wr,Gr=b(()=>{jr=Nr}),qr=b(()=>{ee(),Gr(),Fr=t&&!t.nodeType&&t,Ur=Fr&&e&&!e.nodeType&&e,Br=Ur&&Ur.exports===Fr,Vr=Br?K.Buffer:void 0,Hr=Vr?Vr.isBuffer:void 0,Wr=Hr||jr});function Xr(e){return xe(e)&&fr(e.length)&&!!Yr[ye(e)]}var Yr,Kr,$r=b(()=>{be(),hr(),_e(),(Yr={})["[object Float32Array]"]=Yr["[object Float64Array]"]=Yr["[object Int8Array]"]=Yr["[object Int16Array]"]=Yr["[object Int32Array]"]=Yr["[object Uint8Array]"]=Yr["[object Uint8ClampedArray]"]=Yr["[object Uint16Array]"]=Yr["[object Uint32Array]"]=!0,Yr["[object Arguments]"]=Yr["[object Array]"]=Yr["[object ArrayBuffer]"]=Yr["[object Boolean]"]=Yr["[object DataView]"]=Yr["[object Date]"]=Yr["[object Error]"]=Yr["[object Function]"]=Yr["[object Map]"]=Yr["[object Number]"]=Yr["[object Object]"]=Yr["[object RegExp]"]=Yr["[object Set]"]=Yr["[object String]"]=Yr["[object WeakMap]"]=!1,Kr=Xr});function Zr(e){return function(t){return e(t)}}var Qr,Jr,ei,ti,ni,ri,ii,ai,oi,si,li=b(()=>{Qr=Zr}),ui=b(()=>{J(),Jr=t&&!t.nodeType&&t,ei=Jr&&e&&!e.nodeType&&e,ti=ei&&ei.exports===Jr,ni=ti&&q.process,ri=function(){try{return ei&&ei.require&&ei.require("util").types||ni&&ni.binding&&ni.binding("util")}catch(e){}}(),ii=ri}),ci=b(()=>{$r(),li(),ui(),ai=ii&&ii.isTypedArray,oi=ai?Qr(ai):Kr,si=oi});function di(e,t){var n=Ae(e),r=!n&&Dr(e),i=!n&&!r&&Wr(e),a=!n&&!r&&!i&&si(e),o=n||r||i||a,s=o?kr(e.length,String):[],l=s.length;for(var u in e)(t||hi.call(e,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Wn(u,l)))&&s.push(u);return s}var fi,hi,pi,mi=b(()=>{Cr(),Lr(),Re(),qr(),Gn(),ci(),fi=Object.prototype,hi=fi.hasOwnProperty,pi=di});function gi(e,t){return function(n){return e(t(n))}}var vi,yi,bi,wi=b(()=>{vi=gi}),xi=b(()=>{wi(),yi=vi(Object.keys,Object),bi=yi});function _i(e){if(!_r(e))return bi(e);var t=[];for(var n in Object(e))Ei.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Si,Ei,ki,Ci=b(()=>{Sr(),xi(),Si=Object.prototype,Ei=Si.hasOwnProperty,ki=_i});function Mi(e){return mr(e)?pi(e):ki(e)}var Pi,Ti=b(()=>{mi(),Ci(),gr(),Pi=Mi});function Ai(e,t){if(Ae(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ke(e))||(Ri.test(e)||!Ii.test(e)||null!=t&&e in Object(t))}var Ii,Ri,Oi,Di,zi,Li=b(()=>{Re(),Ce(),Ii=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ri=/^\w*$/,Oi=Ai}),Ni=b(()=>{Zt(),Di=Yt(Object,"create"),zi=Di});function ji(){this.__data__=zi?zi(null):{},this.size=0}var Fi,Ui=b(()=>{Ni(),Fi=ji});function Bi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vi,Hi=b(()=>{Vi=Bi});function Wi(e){var t=this.__data__;if(zi){var n=t[e];return n===Gi?void 0:n}return Xi.call(t,e)?t[e]:void 0}var Gi,qi,Xi,Yi,Ki=b(()=>{Ni(),Gi="__lodash_hash_undefined__",qi=Object.prototype,Xi=qi.hasOwnProperty,Yi=Wi});function $i(e){var t=this.__data__;return zi?void 0!==t[e]:Qi.call(t,e)}var Zi,Qi,Ji,ea=b(()=>{Ni(),Zi=Object.prototype,Qi=Zi.hasOwnProperty,Ji=$i});function ta(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zi&&void 0===t?na:t,this}var na,ra,ia=b(()=>{Ni(),na="__lodash_hash_undefined__",ra=ta});function aa(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var oa,sa=b(()=>{Ui(),Hi(),Ki(),ea(),ia(),aa.prototype.clear=Fi,aa.prototype.delete=Vi,aa.prototype.get=Yi,aa.prototype.has=Ji,aa.prototype.set=ra,oa=aa});function la(){this.__data__=[],this.size=0}var ua,ca=b(()=>{ua=la});function da(e,t){for(var n=e.length;n--;)if($n(e[n][0],t))return n;return-1}var fa,ha=b(()=>{Zn(),fa=da});function pa(e){var t=this.__data__,n=fa(t,e);return!(n<0)&&(n==t.length-1?t.pop():ga.call(t,n,1),--this.size,!0)}var ma,ga,va,ya=b(()=>{ha(),ma=Array.prototype,ga=ma.splice,va=pa});function ba(e){var t=this.__data__,n=fa(t,e);return n<0?void 0:t[n][1]}var wa,xa=b(()=>{ha(),wa=ba});function _a(e){return fa(this.__data__,e)>-1}var Sa,Ea=b(()=>{ha(),Sa=_a});function ka(e,t){var n=this.__data__,r=fa(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Ca,Ma=b(()=>{ha(),Ca=ka});function Pa(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var Ta,Aa,Ia,Ra=b(()=>{ca(),ya(),xa(),Ea(),Ma(),Pa.prototype.clear=ua,Pa.prototype.delete=va,Pa.prototype.get=wa,Pa.prototype.has=Sa,Pa.prototype.set=Ca,Ta=Pa}),Oa=b(()=>{Zt(),ee(),Aa=Yt(K,"Map"),Ia=Aa});function Da(){this.size=0,this.__data__={hash:new oa,map:new(Ia||Ta),string:new oa}}var za,La=b(()=>{sa(),Ra(),Oa(),za=Da});function Na(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var ja,Fa=b(()=>{ja=Na});function Ua(e,t){var n=e.__data__;return ja(t)?n["string"==typeof t?"string":"hash"]:n.map}var Ba,Va=b(()=>{Fa(),Ba=Ua});function Ha(e){var t=Ba(this,e).delete(e);return this.size-=t?1:0,t}var Wa,Ga=b(()=>{Va(),Wa=Ha});function qa(e){return Ba(this,e).get(e)}var Xa,Ya=b(()=>{Va(),Xa=qa});function Ka(e){return Ba(this,e).has(e)}var $a,Za=b(()=>{Va(),$a=Ka});function Qa(e,t){var n=Ba(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Ja,eo=b(()=>{Va(),Ja=Qa});function to(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var no,ro=b(()=>{La(),Ga(),Ya(),Za(),eo(),to.prototype.clear=za,to.prototype.delete=Wa,to.prototype.get=Xa,to.prototype.has=$a,to.prototype.set=Ja,no=to});function io(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ao);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(io.Cache||no),n}var ao,oo,so=b(()=>{ro(),ao="Expected a function",io.Cache=no,oo=io});function lo(e){var t=oo(e,function(e){return n.size===uo&&n.clear(),e}),n=t.cache;return t}var uo,co,fo,ho,po,mo,go=b(()=>{so(),uo=500,co=lo}),vo=b(()=>{go(),fo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ho=/\\(\\)?/g,po=co(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(fo,function(e,n,r,i){t.push(r?i.replace(ho,"$1"):n||e)}),t}),mo=po});function yo(e){return null==e?"":Ne(e)}var bo,wo=b(()=>{je(),bo=yo});function xo(e,t){return Ae(e)?e:Oi(e,t)?[e]:mo(bo(e))}var _o,So=b(()=>{Re(),Li(),vo(),wo(),_o=xo});function Eo(e){if("string"==typeof e||ke(e))return e;var t=e+"";return"0"==t&&1/e==-ko?"-0":t}var ko,Co,Mo=b(()=>{Ce(),ko=1/0,Co=Eo});function Po(e,t){for(var n=0,r=(t=_o(t,e)).length;null!=e&&n<r;)e=e[Co(t[n++])];return n&&n==r?e:void 0}var To,Ao=b(()=>{So(),Mo(),To=Po});function Io(e,t,n){var r=null==e?void 0:To(e,t);return void 0===r?n:r}var Ro,Oo=b(()=>{Ao(),Ro=Io});function Do(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var zo,Lo=b(()=>{zo=Do});function No(e){return Ae(e)||Dr(e)||!!(jo&&e&&e[jo])}var jo,Fo,Uo=b(()=>{te(),Lr(),Re(),jo=Z?Z.isConcatSpreadable:void 0,Fo=No});function Bo(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Fo),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?Bo(s,t-1,n,r,i):zo(i,s):r||(i[i.length]=s)}return i}var Vo,Ho,Wo,Go=b(()=>{Lo(),Uo(),Vo=Bo}),qo=b(()=>{wi(),Ho=vi(Object.getPrototypeOf,Object),Wo=Ho});function Xo(e){if(!xe(e)||ye(e)!=Yo)return!1;var t=Wo(e);if(null===t)return!0;var n=Qo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Zo.call(n)==Jo}var Yo,Ko,$o,Zo,Qo,Jo,es,ts=b(()=>{be(),qo(),_e(),Yo="[object Object]",Ko=Function.prototype,$o=Object.prototype,Zo=Ko.toString,Qo=$o.hasOwnProperty,Jo=Zo.call(Object),es=Xo});function ns(e){var t=Math[e];return function(e,n){if(e=nt(e),(n=null==n?0:is(ct(n),292))&&rs(e)){var r=(bo(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return+((r=(bo(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var rs,is,as,os=b(()=>{ee(),dt(),rt(),wo(),rs=K.isFinite,is=Math.min,as=ns});function ss(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}var ls,us=b(()=>{ls=ss});function cs(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=nt(n))==n?n:0),void 0!==t&&(t=(t=nt(t))==t?t:0),ls(nt(e),t,n)}var ds,fs=b(()=>{us(),rt(),ds=cs});function hs(){this.__data__=new Ta,this.size=0}var ps,ms=b(()=>{Ra(),ps=hs});function gs(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var vs,ys=b(()=>{vs=gs});function bs(e){return this.__data__.get(e)}var ws,xs=b(()=>{ws=bs});function _s(e){return this.__data__.has(e)}var Ss,Es=b(()=>{Ss=_s});function ks(e,t){var n=this.__data__;if(n instanceof Ta){var r=n.__data__;if(!Ia||r.length<Cs-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new no(r)}return n.set(e,t),this.size=n.size,this}var Cs,Ms,Ps=b(()=>{Ra(),Oa(),ro(),Cs=200,Ms=ks});function Ts(e){var t=this.__data__=new Ta(e);this.size=t.size}var As,Is=b(()=>{Ra(),ms(),ys(),xs(),Es(),Ps(),Ts.prototype.clear=ps,Ts.prototype.delete=vs,Ts.prototype.get=ws,Ts.prototype.has=Ss,Ts.prototype.set=Ms,As=Ts});function Rs(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Os,Ds=b(()=>{Os=Rs});function zs(){return[]}var Ls,Ns,js,Fs,Us,Bs=b(()=>{Ls=zs}),Vs=b(()=>{Ds(),Bs(),Ns=Object.prototype,js=Ns.propertyIsEnumerable,Fs=Object.getOwnPropertySymbols,Us=Fs?function(e){return null==e?[]:(e=Object(e),Os(Fs(e),function(t){return js.call(e,t)}))}:Ls});function Hs(e,t,n){var r=t(e);return Ae(e)?r:zo(r,n(e))}var Ws,Gs=b(()=>{Lo(),Re(),Ws=Hs});function qs(e){return Ws(e,Pi,Us)}var Xs,Ys,Ks,$s,Zs,Qs,Js,el,tl,nl,rl,il,al,ol,sl,ll,ul,cl,dl,fl,hl,pl=b(()=>{Gs(),Vs(),Ti(),Xs=qs}),ml=b(()=>{Zt(),ee(),Ys=Yt(K,"DataView"),Ks=Ys}),gl=b(()=>{Zt(),ee(),$s=Yt(K,"Promise"),Zs=$s}),vl=b(()=>{Zt(),ee(),Qs=Yt(K,"Set"),Js=Qs}),yl=b(()=>{ml(),Oa(),gl(),vl(),Qt(),be(),Ot(),el="[object Map]",tl="[object Promise]",nl="[object Set]",rl="[object WeakMap]",il="[object DataView]",al=Rt(Ks),ol=Rt(Ia),sl=Rt(Zs),ll=Rt(Js),ul=Rt($t),cl=ye,(Ks&&cl(new Ks(new ArrayBuffer(1)))!=il||Ia&&cl(new Ia)!=el||Zs&&cl(Zs.resolve())!=tl||Js&&cl(new Js)!=nl||$t&&cl(new $t)!=rl)&&(cl=function(e){var t=ye(e),n="[object Object]"==t?e.constructor:void 0,r=n?Rt(n):"";if(r)switch(r){case al:return il;case ol:return el;case sl:return tl;case ll:return nl;case ul:return rl}return t}),dl=cl}),bl=b(()=>{ee(),fl=K.Uint8Array,hl=fl});function wl(e){return this.__data__.set(e,xl),this}var xl,_l,Sl=b(()=>{xl="__lodash_hash_undefined__",_l=wl});function El(e){return this.__data__.has(e)}var kl,Cl=b(()=>{kl=El});function Ml(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new no;++t<n;)this.add(e[t])}var Pl,Tl=b(()=>{ro(),Sl(),Cl(),Ml.prototype.add=Ml.prototype.push=_l,Ml.prototype.has=kl,Pl=Ml});function Al(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Il,Rl=b(()=>{Il=Al});function Ol(e,t){return e.has(t)}var Dl,zl=b(()=>{Dl=Ol});function Ll(e,t,n,r,i,a){var o=n&Nl,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=n&jl?new Pl:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Il(t,function(e,t){if(!Dl(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}var Nl,jl,Fl,Ul=b(()=>{Tl(),Rl(),zl(),Nl=1,jl=2,Fl=Ll});function Bl(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}var Vl,Hl=b(()=>{Vl=Bl});function Wl(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var Gl,ql=b(()=>{Gl=Wl});function Xl(e,t,n,r,i,a,o){switch(n){case ou:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case au:return!(e.byteLength!=t.byteLength||!a(new hl(e),new hl(t)));case $l:case Zl:case eu:return $n(+e,+t);case Ql:return e.name==t.name&&e.message==t.message;case tu:case ru:return e==t+"";case Jl:var s=Vl;case nu:var l=r&Yl;if(s||(s=Gl),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=Kl,o.set(e,t);var c=Fl(s(e),s(t),r,i,a,o);return o.delete(e),c;case iu:if(lu)return lu.call(e)==lu.call(t)}return!1}var Yl,Kl,$l,Zl,Ql,Jl,eu,tu,nu,ru,iu,au,ou,su,lu,uu,cu=b(()=>{te(),bl(),Zn(),Ul(),Hl(),ql(),Yl=1,Kl=2,$l="[object Boolean]",Zl="[object Date]",Ql="[object Error]",Jl="[object Map]",eu="[object Number]",tu="[object RegExp]",nu="[object Set]",ru="[object String]",iu="[object Symbol]",au="[object ArrayBuffer]",ou="[object DataView]",su=Z?Z.prototype:void 0,lu=su?su.valueOf:void 0,uu=Xl});function du(e,t,n,r,i,a){var o=n&fu,s=Xs(e),l=s.length;if(l!=Xs(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:pu.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=o?r(g,m,c,t,e,a):r(m,g,c,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return a.delete(e),a.delete(t),h}var fu,hu,pu,mu,gu=b(()=>{pl(),fu=1,hu=Object.prototype,pu=hu.hasOwnProperty,mu=du});function vu(e,t,n,r,i,a){var o=Ae(e),s=Ae(t),l=o?wu:dl(e),u=s?wu:dl(t),c=(l=l==bu?xu:l)==xu,d=(u=u==bu?xu:u)==xu,f=l==u;if(f&&Wr(e)){if(!Wr(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new As),o||si(e)?Fl(e,t,n,r,i,a):uu(e,t,l,n,r,i,a);if(!(n&yu)){var h=c&&Su.call(e,"__wrapped__"),p=d&&Su.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new As),i(m,g,n,r,a)}}return!!f&&(a||(a=new As),mu(e,t,n,r,i,a))}var yu,bu,wu,xu,_u,Su,Eu,ku=b(()=>{Is(),Ul(),cu(),gu(),yl(),Re(),qr(),ci(),yu=1,bu="[object Arguments]",wu="[object Array]",xu="[object Object]",_u=Object.prototype,Su=_u.hasOwnProperty,Eu=vu});function Cu(e,t,n,r,i){return e===t||(null==e||null==t||!xe(e)&&!xe(t)?e!=e&&t!=t:Eu(e,t,n,r,Cu,i))}var Mu,Pu=b(()=>{ku(),_e(),Mu=Cu});function Tu(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new As;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?Mu(c,u,Au|Iu,r,d):f))return!1}}return!0}var Au,Iu,Ru,Ou=b(()=>{Is(),Pu(),Au=1,Iu=2,Ru=Tu});function Du(e){return e==e&&!Ye(e)}var zu,Lu=b(()=>{Ke(),zu=Du});function Nu(e){for(var t=Pi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zu(i)]}return t}var ju,Fu=b(()=>{Lu(),Ti(),ju=Nu});function Uu(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var Bu,Vu=b(()=>{Bu=Uu});function Hu(e){var t=ju(e);return 1==t.length&&t[0][2]?Bu(t[0][0],t[0][1]):function(n){return n===e||Ru(n,e,t)}}var Wu,Gu=b(()=>{Ou(),Fu(),Vu(),Wu=Hu});function qu(e,t){return null!=e&&t in Object(e)}var Xu,Yu=b(()=>{Xu=qu});function Ku(e,t,n){for(var r=-1,i=(t=_o(t,e)).length,a=!1;++r<i;){var o=Co(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&fr(i)&&Wn(o,i)&&(Ae(e)||Dr(e))}var $u,Zu=b(()=>{So(),Lr(),Re(),Gn(),hr(),Mo(),$u=Ku});function Qu(e,t){return null!=e&&$u(e,t,Xu)}var Ju,ec=b(()=>{Yu(),Zu(),Ju=Qu});function tc(e,t){return Oi(e)&&zu(t)?Bu(Co(e),t):function(n){var r=Ro(n,e);return void 0===r&&r===t?Ju(n,e):Mu(t,r,nc|rc)}}var nc,rc,ic,ac=b(()=>{Pu(),Oo(),ec(),Li(),Lu(),Vu(),Mo(),nc=1,rc=2,ic=tc});function oc(e){return function(t){return null==t?void 0:t[e]}}var sc,lc=b(()=>{sc=oc});function uc(e){return function(t){return To(t,e)}}var cc,dc=b(()=>{Ao(),cc=uc});function fc(e){return Oi(e)?sc(Co(e)):cc(e)}var hc,pc=b(()=>{lc(),dc(),Li(),Mo(),hc=fc});function mc(e){return"function"==typeof e?e:null==e?ht:"object"==typeof e?Ae(e)?ic(e[0],e[1]):Wu(e):hc(e)}var gc,vc=b(()=>{Gu(),ac(),pt(),Re(),pc(),gc=mc});function yc(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var bc,wc=b(()=>{bc=yc});function xc(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}var _c,Sc,Ec,kc=b(()=>{_c=xc}),Cc=b(()=>{kc(),Sc=_c(),Ec=Sc});function Mc(e,t){return e&&Ec(e,t,Pi)}var Pc,Tc=b(()=>{Cc(),Ti(),Pc=Mc});function Ac(e,t){return function(n,r){if(null==n)return n;if(!mr(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}var Ic,Rc,Oc,Dc=b(()=>{gr(),Ic=Ac}),zc=b(()=>{Tc(),Dc(),Rc=Ic(Pc),Oc=Rc});function Lc(e,t,n,r){return Oc(e,function(e,i,a){t(r,e,n(e),a)}),r}var Nc,jc=b(()=>{zc(),Nc=Lc});function Fc(e,t){return function(n,r){var i=Ae(n)?bc:Nc,a=t?t():{};return i(n,e,gc(r,2),a)}}var Uc,Bc,Vc=b(()=>{wc(),jc(),vc(),Re(),Uc=Fc}),Hc=b(()=>{ee(),Bc=function(){return K.Date.now()}});function Wc(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(Gc);function h(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=Bc();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?Xc(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?h(e):(r=i=void 0,o)}function v(){var e=Bc(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?h(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=nt(t)||0,Ye(n)&&(c=!!n.leading,a=(d="maxWait"in n)?qc(nt(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(Bc())},v}var Gc,qc,Xc,Yc,Kc=b(()=>{Ke(),Hc(),rt(),Gc="Expected a function",qc=Math.max,Xc=Math.min,Yc=Wc});function $c(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Zc,Qc=b(()=>{Zc=$c});function Jc(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ed,td=b(()=>{ed=Jc});function nd(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ct(n);return i<0&&(i=rd(r+i,0)),Mn(e,gc(t,3),i)}var rd,id,ad=b(()=>{Pn(),vc(),dt(),rd=Math.max,id=nd});function od(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ct(n),i=n<0?sd(r+i,0):ld(i,r-1)),Mn(e,gc(t,3),i,!0)}var sd,ld,ud,cd=b(()=>{Pn(),vc(),dt(),sd=Math.max,ld=Math.min,ud=od});function dd(e,t){var n=-1,r=mr(e)?Array(e.length):[];return Oc(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var fd,hd=b(()=>{zc(),gr(),fd=dd});function pd(e,t,n){return e>=gd(t,n)&&e<md(t,n)}var md,gd,vd,yd=b(()=>{md=Math.max,gd=Math.min,vd=pd});function bd(e,t,n){return t=st(t),void 0===n?(n=t,t=0):n=st(n),e=nt(e),vd(e,t,n)}var wd,xd=b(()=>{yd(),lt(),rt(),wd=bd});function _d(e){return"number"==typeof e&&e==ct(e)}var Sd,Ed,kd,Cd=b(()=>{dt(),Sd=_d}),Md=b(()=>{Yn(),Vc(),Ed=Uc(function(e,t,n){Xn(e,n,t)}),kd=Ed});function Pd(e,t){var n={};return t=gc(t,3),Pc(e,function(e,r,i){Xn(n,r,t(e,r,i))}),n}var Td,Ad=b(()=>{Yn(),Tc(),vc(),Td=Pd});function Id(e,t,n,r){if(!Ye(e))return e;for(var i=-1,a=(t=_o(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=Co(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Ye(c)?c:Wn(t[i+1])?[]:{})}tr(s,l,u),s=s[l]}return e}var Rd,Od=b(()=>{nr(),So(),Gn(),Ke(),Mo(),Rd=Id});function Dd(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var zd,Ld=b(()=>{zd=Dd});function Nd(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=ke(e),o=void 0!==t,s=null===t,l=t==t,u=ke(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var jd,Fd=b(()=>{Ce(),jd=Nd});function Ud(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=jd(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}var Bd,Vd=b(()=>{Fd(),Bd=Ud});function Hd(e,t,n){t=t.length?Pe(t,function(e){return Ae(e)?function(t){return To(t,1===e.length?e[0]:e)}:e}):[ht];var r=-1;t=Pe(t,Qr(gc));var i=fd(e,function(e,n,i){return{criteria:Pe(t,function(t){return t(e)}),index:++r,value:e}});return zd(i,function(e,t){return Bd(e,t,n)})}var Wd,Gd=b(()=>{Ie(),Ao(),vc(),hd(),Ld(),li(),Vd(),pt(),Re(),Wd=Hd});function qd(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}var Xd,Yd=b(()=>{Xd=qd});function Kd(e,t,n,r){var i=r?Xd:Ln,a=-1,o=t.length,s=e;for(e===t&&(t=sn(t)),n&&(s=Pe(e,Qr(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Zd.call(s,l,1),Zd.call(e,l,1);return e}var $d,Zd,Qd,Jd=b(()=>{Ie(),Nn(),Yd(),li(),ln(),$d=Array.prototype,Zd=$d.splice,Qd=Kd});function ef(e,t){return e&&e.length&&t&&t.length?Qd(e,t):e}var tf,nf,rf,af,of,sf=b(()=>{Jd(),tf=ef}),lf=b(()=>{ur(),sf(),nf=lr(tf),rf=nf}),uf=b(()=>{os(),af=as("round"),of=af});function cf(e,t,n){return null==e?e:Rd(e,t,n)}var df,ff,hf,pf,mf,gf,vf=b(()=>{Od(),df=cf}),yf=b(()=>{Go(),Gd(),ur(),br(),ff=lr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&yr(e,t[0],t[1])?t=[]:n>2&&yr(t[0],t[1],t[2])&&(t=[t[0]]),Wd(e,Vo(t,1),[])}),hf=ff}),bf=b(()=>{vl(),an(),ql(),pf=1/0,mf=Js&&1/Gl(new Js([,-0]))[1]==pf?function(e){return new Js(e)}:rn,gf=mf});function wf(e,t,n){var r=-1,i=Fn,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Zc;else if(a>=xf){var u=t?null:gf(e);if(u)return Gl(u);o=!1,i=Dl,l=new Pl}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var xf,_f,Sf=b(()=>{Tl(),Un(),Qc(),zl(),bf(),ql(),xf=200,_f=wf});function Ef(e){return e&&e.length?_f(e):[]}var kf,Cf=b(()=>{Sf(),kf=Ef}),Mf=b(()=>{fs(),Kc(),ad(),xd(),Cd(),ts(),td(),Ad(),so(),uf(),Cf()}),Pf=w((e,t)=>{var n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:hh):e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))}),Tf=w(e=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,p(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)x.call(n,i)&&!S.hasOwnProperty(i)&&(a[i]=n[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:_.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,r,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,r,i,"",function(e){return e})):null!=o&&(k(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),r.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+M(s=e[u],u);l+=P(s,r,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,r,i,c=a+M(s,u++),o);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},R={transition:null},O={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};e.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},e.Component=g,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=i,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)x.call(n,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},e.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},e.createElement=E,e.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:l,render:e}},e.isValidElement=k,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},e.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},e.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(e,t){return I.current.useCallback(e,t)},e.useContext=function(e){return I.current.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e){return I.current.useDeferredValue(e)},e.useEffect=function(e,t){return I.current.useEffect(e,t)},e.useId=function(){return I.current.useId()},e.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},e.useMemo=function(e,t){return I.current.useMemo(e,t)},e.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},e.useRef=function(e){return I.current.useRef(e)},e.useState=function(e){return I.current.useState(e)},e.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},e.useTransition=function(){return I.current.useTransition()},e.version="18.2.0"}),Af=w((e,t)=>{t.exports=Tf()}),If=w(e=>{function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(M),M=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!A());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,E,k=!1,C=null,M=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function I(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?_():(k=!1,C=null)}}else k=!1}function R(e){C=e,k||(k=!0,_())}function O(t,n){M=g(function(){t(e.unstable_now())},n)}"function"==typeof y?_=function(){y(I)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=I,_=function(){E.postMessage(null)}):_=function(){g(I,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e||(P=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(M),M=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,R(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}),Rf=w((e,t)=>{t.exports=If()}),Of=w(e=>{var t=Af(),n=Rf();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(d,e)&&(c.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),R=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,z=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var N=!1;function j(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function F(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function $(e,t){K(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Q(e,t.type,n):t.hasOwnProperty("defaultValue")&&Q(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Q(e,t,n){("number"!==t||q(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var J=Array.isArray;function ee(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(J(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function re(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,le,ue=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var me=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,_e=null;function Se(e){if(e=vi(e)){if("function"!=typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ee(e){xe?_e?_e.push(e):_e=[e]:xe=e}function ke(){if(xe){var e=xe,t=_e;if(_e=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Me(){}var Pe=!1;function Te(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==xe||null!==_e)&&(Me(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var i=bi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ie,Re=!1;if(l)try{Ie={},Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(le){Re=!1}function Oe(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,ze=null,Le=!1,Ne=null,je={onError:function(e){De=!0,ze=e}};function Fe(e,t,n,r,i,a,o,s,l){De=!1,ze=null,Oe.apply(je,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(r(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===i)return Ve(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=n.unstable_scheduleCallback,qe=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,Ye=n.unstable_requestPaint,Ke=n.unstable_now,$e=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,Qe=n.unstable_UserBlockingPriority,Je=n.unstable_NormalPriority,et=n.unstable_LowPriority,tt=n.unstable_IdlePriority,nt=null,rt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var st=64,lt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ut(s):0!==(a&=o)&&(r=ut(a))}else 0!==(o=n&~i)?r=ut(o):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-it(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=st;return!(4194240&(st<<=1))&&(st=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var bt,wt,xt,_t,St,Et=!1,kt=[],Ct=null,Mt=null,Pt=null,Tt=new Map,At=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Nt(e,t,n){Lt(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Mt&&Lt(Mt)&&(Mt=null),null!==Pt&&Lt(Pt)&&(Pt=null),Tt.forEach(Nt),At.forEach(Nt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<kt.length){Ft(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==Mt&&Ft(Mt,e),null!==Pt&&Ft(Pt,e),Tt.forEach(t),At.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)zt(n),null===n.blockedOn&&It.shift()}var Bt=y.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=vt,a=Bt.transition;Bt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=vt,a=Bt.transition;Bt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)Vr(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return Mt=Dt(Mt,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Dt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Dt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&bt(a),null===(a=Xt(e,t,n,r))&&Vr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=gi(e=be(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case Qe:return 4;case Je:case et:return 16;case tt:return 536870912;default:return 16}default:return 16}}var Kt=null,$t=null,Zt=null;function Qt(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(sn),un=z({},sn,{view:0,detail:0}),cn=nn(un),dn=z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=nn(dn),hn=nn(z({},dn,{dataTransfer:0})),pn=nn(z({},un,{relatedTarget:0})),mn=nn(z({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=z({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(z({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return _n}var En=z({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=nn(En),Cn=nn(z({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=nn(z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=nn(z({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=z({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Tn),In=[9,13,27,32],Rn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,zn=l&&(!Rn||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Nn=!1;function jn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function qn(e){Lr(e,0)}function Xn(e){if(G(yi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn,$n,Zn,Qn=!1;function Jn(){Wn&&(Wn.detachEvent("onpropertychange",er),Gn=Wn=null)}function er(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Te(qn,t)}}function tr(e,t,n){"focusin"===e?(Jn(),Gn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Jn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function rr(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}l&&(l?(($n="oninput"in document)||((Zn=document.createElement("div")).setAttribute("oninput","return;"),$n="function"==typeof Zn.oninput),Kn=$n):Kn=!1,Qn=Kn&&(!document.documentMode||9<document.documentMode));var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function or(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==q(r)||("selectionStart"in(r=pr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},_r={};function Sr(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return xr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er,kr,Cr=Sr("animationend"),Mr=Sr("animationiteration"),Pr=Sr("animationstart"),Tr=Sr("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),o(t,[e])}for(kr=0;kr<Ir.length;kr++)Rr((Er=Ir[kr]).toLowerCase(),"on"+(Er[0].toUpperCase()+Er.slice(1)));Rr(Cr,"onAnimationEnd"),Rr(Mr,"onAnimationIteration"),Rr(Pr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function zr(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,o,s,l,u){if(Fe.apply(this,arguments),De){if(!De)throw Error(r(198));var c=ze;De=!1,ze=null,Le||(Le=!0,Ne=c)}}(i,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;zr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;zr(i,s,u),a=l}}}if(Le)throw e=Ne,Le=!1,Ne=null,e}function Nr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,jr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=a,i=be(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=ln,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=pn;break;case"focusout":u="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Cr:case Mr:case Pr:l=mn;break;case Tr:l=Pn;break;case"scroll":l=cn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ae(p,f))&&c.push(Hr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:yi(l),h=null==u?s:yi(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,gi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Gr(h))p++;for(h=0,m=f;m;m=Gr(m))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==d&&qr(o,d,u,c,!0)}if("select"===(l=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Vn(s))if(Qn)g=ir;else{g=nr;var v=tr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&Q(s,"number",s.value)),v=r?yi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(pr=v,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=Qt()):($t="value"in(Kt=i)?Kt.value:Kt.textContent,Un=!0)),0<(v=Wr(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&jn(e,t)?(e=Qt(),Zt=$t=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Lr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ae(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Ae(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Kr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(r(425))}function Zr(){}var Qr=null,Jr=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"==typeof setTimeout?setTimeout:void 0,ni="function"==typeof clearTimeout?clearTimeout:void 0,ri="function"==typeof Promise?Promise:void 0,ii="function"==typeof queueMicrotask?queueMicrotask:void 0!==ri?function(e){return ri.resolve(null).then(e).catch(ai)}:ti;function ai(e){setTimeout(function(){throw e})}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,di="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,pi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function gi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[ci])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function bi(e){return e[di]||null}var wi=[],xi=-1;function _i(e){return{current:e}}function Si(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ei(e,t){xi++,wi[xi]=e.current,e.current=t}var ki={},Ci=_i(ki),Mi=_i(!1),Pi=ki;function Ti(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!=(e=e.childContextTypes)}function Ii(){Si(Mi),Si(Ci)}function Ri(e,t,n){if(Ci.current!==ki)throw Error(r(168));Ei(Ci,t),Ei(Mi,n)}function Oi(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,B(e)||"Unknown",a));return z({},n,i)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Ci.current,Ei(Ci,e),Ei(Mi,Mi.current),!0}function zi(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Oi(e,t,Pi),i.__reactInternalMemoizedMergedChildContext=e,Si(Mi),Si(Ci),Ei(Ci,e)):Si(Mi),Ei(Mi,n)}var Li=null,Ni=!1,ji=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!ji&&null!==Li){ji=!0;var e=0,t=vt;try{var n=Li;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Ni=!1}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Ze,Ui),t}finally{vt=t,ji=!1}}return null}var Bi=[],Vi=0,Hi=null,Wi=0,Gi=[],qi=0,Xi=null,Yi=1,Ki="";function $i(e,t){Bi[Vi++]=Wi,Bi[Vi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[qi++]=Yi,Gi[qi++]=Ki,Gi[qi++]=Xi,Xi=e;var r=Yi;e=Ki;var i=32-it(r)-1;r&=~(1<<i),n+=1;var a=32-it(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-it(t)+i|n<<i|r,Ki=a+e}else Yi=1<<a|n<<i|r,Ki=e}function Qi(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function Ji(e){for(;e===Hi;)Hi=Bi[--Vi],Bi[Vi]=null,Wi=Bi[--Vi],Bi[Vi]=null;for(;e===Xi;)Xi=Gi[--qi],Gi[qi]=null,Ki=Gi[--qi],Gi[qi]=null,Yi=Gi[--qi],Gi[qi]=null}var ea=null,ta=null,na=!1,ra=null;function ia(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ea=e,ta=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ea=e,ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ea=e,ta=null,!0);default:return!1}}function oa(e){return!(!(1&e.mode)||128&e.flags)}function sa(e){if(na){var t=ta;if(t){var n=t;if(!aa(e,t)){if(oa(e))throw Error(r(418));t=si(n.nextSibling);var i=ea;t&&aa(e,t)?ia(i,n):(e.flags=-4097&e.flags|2,na=!1,ea=e)}}else{if(oa(e))throw Error(r(418));e.flags=-4097&e.flags|2,na=!1,ea=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ea=e}function ua(e){if(e!==ea)return!1;if(!na)return la(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=ta)){if(oa(e))throw ca(),Error(r(418));for(;t;)ia(e,t),t=si(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ta=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ta=null}}else ta=ea?si(e.stateNode.nextSibling):null;return!0}function ca(){for(var e=ta;e;)e=si(e.nextSibling)}function da(){ta=ea=null,na=!1}function fa(e){null===ra?ra=[e]:ra.push(e)}var ha=y.ReactCurrentBatchConfig;function pa(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=_i(null),ga=null,va=null,ya=null;function ba(){ya=va=ga=null}function wa(e){var t=ma.current;Si(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ya=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(vs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ya!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===ga)throw Error(r(308));va=e,ga.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var Ea=null;function ka(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Cl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(h,d,f):p))break e;d=z({},d,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var Na=(new t.Component).refs;function ja(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Fa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ql(),i=Jl(e),a=Ia(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(eu(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ql(),i=Jl(e),a=Ia(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(eu(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ql(),r=Jl(e),i=Ia(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(eu(t,e,r,n),Oa(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function Ba(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"==typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Pi:Ci.current,a=(r=null!=(r=t.contextTypes))?Ti(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,Ta(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Pi:Ci.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Fa.enqueueReplaceState(i,i.state,null),za(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Na&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&qa(i)===t.type)?((r=a(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Lu(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(J(t)||O(t))return(t=Ou(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(J(n)||O(n))return null!==i?null:d(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(J(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}return function l(u,c,d,m){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case b:e:{for(var g=d.key,v=c;null!==v;){if(v.key===g){if((g=d.type)===x){if(7===v.tag){n(u,v.sibling),(c=a(v,d.props.children)).return=u,u=c;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===A&&qa(g)===v.type){n(u,v.sibling),(c=a(v,d.props)).ref=Wa(u,v,d),c.return=u,u=c;break e}n(u,v);break}t(u,v),v=v.sibling}d.type===x?((c=Ou(d.props.children,u.mode,m,d.key)).return=u,u=c):((m=Ru(d.type,d.key,d.props,null,u.mode,m)).ref=Wa(u,c,d),m.return=u,u=m)}return s(u);case w:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(u,c.sibling),(c=a(c,d.children||[])).return=u,u=c;break e}n(u,c);break}t(u,c),c=c.sibling}(c=Lu(d,u.mode,m)).return=u,u=c}return s(u);case A:return l(u,c,(v=d._init)(d._payload),m)}if(J(d))return function(r,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(r,d),na&&$i(r,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(r,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return na&&$i(r,m),u}for(d=i(r,d);m<s.length;m++)null!==(g=p(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(r,e)}),na&&$i(r,m),u}(u,c,d,m);if(O(d))return function(a,s,l,u){var c=O(l);if("function"!=typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),na&&$i(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return na&&$i(a,g),c}for(m=i(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),na&&$i(a,g),c}(u,c,d,m);Ga(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(u,c.sibling),(c=a(c,d)).return=u,u=c):(n(u,c),(c=zu(d,u.mode,m)).return=u,u=c),s(u)):n(u,c)}}var Ya=Xa(!0),Ka=Xa(!1),$a={},Za=_i($a),Qa=_i($a),Ja=_i($a);function eo(e){if(e===$a)throw Error(r(174));return e}function to(e,t){switch(Ei(Ja,t),Ei(Qa,e),Ei(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function no(){Si(Za),Si(Qa),Si(Ja)}function ro(e){eo(Ja.current);var t=eo(Za.current),n=oe(t,e.type);t!==n&&(Ei(Qa,e),Ei(Za,n))}function io(e){Qa.current===e&&(Si(Za),Si(Qa))}var ao=_i(0);function oo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function lo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var uo=y.ReactCurrentDispatcher,co=y.ReactCurrentBatchConfig,fo=0,ho=null,po=null,mo=null,go=!1,vo=!1,yo=0,bo=0;function wo(){throw Error(r(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _o(e,t,n,i,a,o){if(fo=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?as:os,e=n(i,a),vo){o=0;do{if(vo=!1,yo=0,25<=o)throw Error(r(301));o+=1,mo=po=null,t.updateQueue=null,uo.current=ss,e=n(i,a)}while(vo)}if(uo.current=is,t=null!==po&&null!==po.next,fo=0,mo=po=ho=null,go=!1,t)throw Error(r(300));return e}function So(){var e=0!==yo;return yo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?ho.memoizedState=mo=e:mo=mo.next=e,mo}function ko(){if(null===po){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=po.next;var t=null===mo?ho.memoizedState:mo.next;if(null!==t)mo=t,po=e;else{if(null===e)throw Error(r(310));e={memoizedState:(po=e).memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},null===mo?ho.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"==typeof t?t(e):t}function Mo(e){var t=ko(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=po,a=i.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,i=i.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((fo&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,ho.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,ar(i,t.memoizedState)||(vs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,ho.lanes|=o,Dl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=ko(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);ar(o,t.memoizedState)||(vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function To(){}function Ao(e,t){var n=ho,i=ko(),a=t(),o=!ar(i.memoizedState,a);if(o&&(i.memoizedState=a,vs=!0),i=i.queue,Vo(Oo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,No(9,Ro.bind(null,n,i,a,t),void 0,null),null===Ml)throw Error(r(349));30&fo||Io(n,t,a)}return a}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&zo(e)}function Oo(e,t,n){return n(function(){Do(t)&&zo(e)})}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function zo(e){var t=Ma(e,1);null!==t&&eu(t,e,1,-1)}function Lo(e){var t=Eo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=es.bind(null,ho,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return ko().memoizedState}function Fo(e,t,n,r){var i=Eo();ho.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==po){var o=po.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}ho.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Bo(e,t){return Fo(8390656,8,e,t)}function Vo(e,t){return Uo(2048,8,e,t)}function Ho(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Go(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!=n?n.concat([e]):null,Uo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 21&fo?(ar(n,t)||(n=ht(),ho.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function Zo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{vt=n,co.transition=r}}function Qo(){return ko().memoizedState}function Jo(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ts(e))ns(t,n);else if(null!==(n=Ca(e,t,n,r))){eu(n,e,r,Ql()),rs(n,t,r)}}function es(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ts(e))ns(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o)){var l=t.interleaved;return null===l?(i.next=i,ka(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ca(e,t,i,r))&&(eu(n,e,r,i=Ql()),rs(n,t,r))}}function ts(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function ns(e,t){vo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var is={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},as={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Lo,useDebugValue:Xo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ho,a=Eo();if(na){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Ml)throw Error(r(349));30&fo||Io(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Bo(Oo.bind(null,i,o,e),[e]),i.flags|=2048,No(9,Ro.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ml.identifierPrefix;if(na){var n=Ki;t=":"+t+"R"+(n=(Yi&~(1<<32-it(Yi)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Ko,useReducer:Mo,useRef:jo,useState:function(){return Mo(Co)},useDebugValue:Xo,useDeferredValue:function(e){return $o(ko(),po.memoizedState,e)},useTransition:function(){return[Mo(Co)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Qo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Ko,useReducer:Po,useRef:jo,useState:function(){return Po(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=ko();return null===po?t.memoizedState=e:$o(t,po.memoizedState,e)},useTransition:function(){return[Po(Co)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Qo,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var cs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r)},n}function fs(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e)}var gs=y.ReactCurrentOwner,vs=!1;function ys(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Ya(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||vs?(na&&n&&Qi(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Au(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);131072&e.flags&&(vs=!0)}}return Es(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Il,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Il,Al),Al|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Il,Al),Al|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Il,Al),Al|=r;return ys(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Ai(n)?Pi:Ci.current;return a=Ti(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||vs?(na&&r&&Qi(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ks(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(_a(t,i),null===t.stateNode)Bs(e,t),Ba(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Sa(u):u=Ti(t,u=Ai(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Va(t,o,r,u),Pa=!1;var f=t.memoizedState;o.state=f,za(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Mi.current||Pa?("function"==typeof c&&(ja(t,n,c,r),l=t.memoizedState),(s=Pa||Ua(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:pa(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Ti(t,l=Ai(n)?Pi:Ci.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Va(t,o,r,l),Pa=!1,f=t.memoizedState,o.state=f,za(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Mi.current||Pa?("function"==typeof h&&(ja(t,n,h,r),p=t.memoizedState),(u=Pa||Ua(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ss(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&zi(t,n,!1),Vs(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ys(e,t,s,a),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),to(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),fa(i),t.flags|=256,ys(e,t,n,r),t.child}var Ts,As,Is,Rs,Os={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var i,a=t.pendingProps,o=ao.current,s=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),Ei(ao,1&o),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},1&a||null===s?s=Du(l,a,0,null):(s.childLanes=0,s.pendingProps=l),e=Ou(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Os,e):Ls(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,i=us(Error(r(422))),Ns(e,t,s,i)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Du({mode:"visible",children:i.children},a,0,null),o=Ou(o,a,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&Ya(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Os,o);if(!(1&t.mode))return Ns(e,t,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,Ns(e,t,s,i=us(o=Error(r(419)),i,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(i=Ml)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(i.suspendedLanes|s)?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ma(e,a),eu(i,e,a,-1))}return hu(),Ns(e,t,s,i=us(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ta=si(a.nextSibling),ea=t,na=!0,ra=null,null!==e&&(Gi[qi++]=Yi,Gi[qi++]=Ki,Gi[qi++]=Xi,Yi=e.id,Ki=e.overflow,Xi=t),t=Ls(t,i.children),t.flags|=4096,t)}(e,t,l,a,i,o,n);if(s){s=a.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 1&l||t.child===o?(a=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null),null!==i?s=Iu(i,s):(s=Ou(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,a}return e=(s=e.child).sibling,a=Iu(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ls(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ns(e,t,n,r){return null!==r&&fa(r),Ya(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Fs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ys(e,t,r.children,n),2&(r=ao.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ao,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,a);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var i=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ai(t.type)&&Ii(),Ws(t),null;case 3:return i=t.stateNode,no(),Si(Mi),Si(Ci),lo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ra&&(iu(ra),ra=null))),As(e,t),Ws(t),null;case 5:io(t);var o=eo(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Ws(t),null}if(e=eo(Za.current),ua(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[ci]=t,i[di]=s,e=!!(1&t.mode),n){case"dialog":Nr("cancel",i),Nr("close",i);break;case"iframe":case"object":case"embed":Nr("load",i);break;case"video":case"audio":for(o=0;o<Or.length;o++)Nr(Or[o],i);break;case"source":Nr("error",i);break;case"img":case"image":case"link":Nr("error",i),Nr("load",i);break;case"details":Nr("toggle",i);break;case"input":Y(i,s),Nr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",i);break;case"textarea":ne(i,s),Nr("invalid",i)}for(var l in ge(n,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&$r(i.textContent,u,e),o=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&$r(i.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Nr("scroll",i)}switch(n){case"input":W(i),Z(i,s,!0);break;case"textarea":W(i),ie(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Zr)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[ci]=t,e[di]=i,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,i),n){case"dialog":Nr("cancel",e),Nr("close",e),o=i;break;case"iframe":case"object":case"embed":Nr("load",e),o=i;break;case"video":case"audio":for(o=0;o<Or.length;o++)Nr(Or[o],e);o=i;break;case"source":Nr("error",e),o=i;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=i;break;case"details":Nr("toggle",e),o=i;break;case"input":Y(e,i),o=X(e,i),Nr("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=z({},i,{value:void 0}),Nr("invalid",e);break;case"textarea":ne(e,i),o=te(e,i),Nr("invalid",e)}for(s in ge(n,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?pe(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&ce(e,c):"number"==typeof c&&ce(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Nr("scroll",e):null!=c&&v(e,s,c,l))}switch(n){case"input":W(e),Z(e,i,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ee(e,!!i.multiple,s,!1):null!=i.defaultValue&&ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=eo(Ja.current),eo(Za.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[ci]=t,(s=i.nodeValue!==n)&&null!==(e=ea))switch(e.tag){case 3:$r(i.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(i.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ci]=t,t.stateNode=i}return Ws(t),null;case 13:if(Si(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ta&&1&t.mode&&!(128&t.flags))ca(),da(),t.flags|=98560,s=!1;else if(s=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ci]=t}else da(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),s=!1}else null!==ra&&(iu(ra),ra=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ao.current?0===Rl&&(Rl=3):hu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return no(),As(e,t),null===e&&Ur(t.stateNode.containerInfo),Ws(t),null;case 10:return wa(t.type._context),Ws(t),null;case 19:if(Si(ao),null===(s=t.memoizedState))return Ws(t),null;if(i=!!(128&t.flags),null===(l=s.rendering))if(i)Hs(s,!1);else{if(0!==Rl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=oo(e))){for(t.flags|=128,Hs(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ao,1&ao.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>Ul&&(t.flags|=128,i=!0,Hs(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=oo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!na)return Ws(t),null}else 2*Ke()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,Hs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=ao.current,Ei(ao,i?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return uu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?1073741824&Al&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function qs(e,t){switch(Ji(t),t.tag){case 1:return Ai(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return no(),Si(Mi),Si(Ci),lo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return io(t),null;case 13:if(Si(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ao),null;case 4:return no(),null;case 10:return wa(t.type._context),null;case 22:case 23:return uu(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(Za.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),s=[];break;case"textarea":i=te(e,i),r=te(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Nr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Ks="function"==typeof WeakSet?WeakSet:Set,$s=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){_u(e,t,n)}else n.current=null}function Qs(e,t,n){try{n()}catch(n){_u(e,t,n)}}var Js=!1;function el(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Qs(t,n,a)}i=i.next}while(i!==r)}}function tl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[di],delete t[hi],delete t[pi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}var ll=null,ul=!1;function cl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(nt,n)}catch(e){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=ll,i=ul;ll=null,cl(e,t,n),ul=i,null!==(ll=r)&&(ul?(e=ll,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ll.removeChild(n.stateNode));break;case 18:null!==ll&&(ul?(e=ll,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Ut(e)):oi(ll,n.stateNode));break;case 4:r=ll,i=ul,ll=n.stateNode.containerInfo,ul=!0,cl(e,t,n),ll=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&Qs(n,t,o),i=i.next}while(i!==r)}cl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){_u(n,t,e)}cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,cl(e,t,n),Ys=r):cl(e,t,n);break;default:cl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach(function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function hl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ll=l.stateNode,ul=!1;break e;case 3:case 4:ll=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===ll)throw Error(r(160));dl(o,s,a),ll=null,ul=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(e){_u(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),ml(e),4&i){try{el(3,e,e.return),tl(3,e)}catch(t){_u(e,e.return,t)}try{el(5,e,e.return)}catch(t){_u(e,e.return,t)}}break;case 1:hl(t,e),ml(e),512&i&&null!==n&&Zs(n,n.return);break;case 5:if(hl(t,e),ml(e),512&i&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{ce(a,"")}catch(t){_u(e,e.return,t)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(a,o),ve(l,s);var c=ve(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?pe(a,f):"dangerouslySetInnerHTML"===d?ue(a,f):"children"===d?ce(a,f):v(a,d,f,c)}switch(l){case"input":$(a,o);break;case"textarea":re(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ee(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ee(a,!!o.multiple,o.defaultValue,!0):ee(a,!!o.multiple,o.multiple?[]:"",!1))}a[di]=o}catch(t){_u(e,e.return,t)}}break;case 6:if(hl(t,e),ml(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(t){_u(e,e.return,t)}}break;case 3:if(hl(t,e),ml(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){_u(e,e.return,t)}break;case 4:default:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Ke())),4&i&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,hl(t,e),Ys=c):hl(t,e),ml(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:el(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){_u(i,n,e)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){bl(f);continue}}null!==p?(p.return=h,$s=p):bl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=he("display",s))}catch(t){_u(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){_u(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hl(t,e),ml(e),4&i&&fl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(ce(a,""),i.flags&=-33),sl(e,al(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;ol(e,al(e),o);break;default:throw Error(r(161))}}catch(t){_u(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){$s=e,vl(e)}function vl(e,t,n){for(var r=!!(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=o,(Ys=l)&&!u)for($s=i;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,$s=l):wl(i);for(;null!==a;)$s=a,vl(a),a=a.sibling;$s=i,Xs=s,Ys=u}yl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,$s=a):yl(e)}}function yl(e){for(;null!==$s;){var t=$s;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ys||tl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ys)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:pa(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(r(163))}Ys||512&t.flags&&nl(t)}catch(e){_u(t,t.return,e)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function bl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(e){_u(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){_u(t,i,e)}}var a=t.return;try{nl(t)}catch(e){_u(t,a,e)}break;case 5:var o=t.return;try{nl(t)}catch(e){_u(t,o,e)}}}catch(e){_u(t,t.return,e)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var xl,_l=Math.ceil,Sl=y.ReactCurrentDispatcher,El=y.ReactCurrentOwner,kl=y.ReactCurrentBatchConfig,Cl=0,Ml=null,Pl=null,Tl=0,Al=0,Il=_i(0),Rl=0,Ol=null,Dl=0,zl=0,Ll=0,Nl=null,jl=null,Fl=0,Ul=1/0,Bl=null,Vl=!1,Hl=null,Wl=null,Gl=!1,ql=null,Xl=0,Yl=0,Kl=null,$l=-1,Zl=0;function Ql(){return 6&Cl?Ke():-1!==$l?$l:$l=Ke()}function Jl(e){return 1&e.mode?2&Cl&&0!==Tl?Tl&-Tl:null!==ha.transition?(0===Zl&&(Zl=ht()),Zl):(0!==(e=vt)||(e=void 0===(e=window.event)?16:Yt(e.type)),e):1}function eu(e,t,n,i){if(50<Yl)throw Yl=0,Kl=null,Error(r(185));mt(e,n,i),(!(2&Cl)||e!==Ml)&&(e===Ml&&(!(2&Cl)&&(zl|=n),4===Rl&&au(e,Tl)),tu(e,i),1===n&&0===Cl&&!(1&t.mode)&&(Ul=Ke()+500,Ni&&Ui()))}function tu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-it(a),s=1<<o,l=i[o];-1===l?(!(s&n)||s&r)&&(i[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ct(e,e===Ml?Tl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ni=!0,Fi(e)}(ou.bind(null,e)):Fi(ou.bind(null,e)),ii(function(){!(6&Cl)&&Ui()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=Qe;break;case 16:default:n=Je;break;case 536870912:n=tt}n=Mu(n,nu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nu(e,t){if($l=-1,Zl=0,6&Cl)throw Error(r(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var i=ct(e,e===Ml?Tl:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=pu(e,i);else{t=i;var a=Cl;Cl|=2;var o=fu();for((Ml!==e||Tl!==t)&&(Bl=null,Ul=Ke()+500,cu(e,t));;)try{gu();break}catch(t){du(e,t)}ba(),Sl.current=o,Cl=a,null!==Pl?t=0:(Ml=null,Tl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(i=a,t=ru(e,a))),1===t)throw n=Ol,cu(e,0),au(e,i),tu(e,Ke()),n;if(6===t)au(e,i);else{if(a=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=pu(e,i),2===t&&(o=ft(e),0!==o&&(i=o,t=ru(e,o))),1!==t)))throw n=Ol,cu(e,0),au(e,i),tu(e,Ke()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:bu(e,jl,Bl);break;case 3:if(au(e,i),(130023424&i)===i&&10<(t=Fl+500-Ke())){if(0!==ct(e,0))break;if(((a=e.suspendedLanes)&i)!==i){Ql(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ti(bu.bind(null,e,jl,Bl),t);break}bu(e,jl,Bl);break;case 4:if(au(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-it(i);o=1<<s,(s=t[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_l(i/1960))-i)){e.timeoutHandle=ti(bu.bind(null,e,jl,Bl),i);break}bu(e,jl,Bl);break;default:throw Error(r(329))}}}return tu(e,Ke()),e.callbackNode===n?nu.bind(null,e):null}function ru(e,t){var n=Nl;return e.current.memoizedState.isDehydrated&&(cu(e,t).flags|=256),2!==(e=pu(e,t))&&(t=jl,jl=n,null!==t&&iu(t)),e}function iu(e){null===jl?jl=e:jl.push.apply(jl,e)}function au(e,t){for(t&=~Ll,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(6&Cl)throw Error(r(327));wu();var t=ct(e,0);if(!(1&t))return tu(e,Ke()),null;var n=pu(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ru(e,i))}if(1===n)throw n=Ol,cu(e,0),au(e,t),tu(e,Ke()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,jl,Bl),tu(e,Ke()),null}function su(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Ul=Ke()+500,Ni&&Ui())}}function lu(e){null!==ql&&0===ql.tag&&!(6&Cl)&&wu();var t=Cl;Cl|=1;var n=kl.transition,r=vt;try{if(kl.transition=null,vt=1,e)return e()}finally{vt=r,kl.transition=n,!(6&(Cl=t))&&Ui()}}function uu(){Al=Il.current,Si(Il)}function cu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ni(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ii();break;case 3:no(),Si(Mi),Si(Ci),lo();break;case 5:io(r);break;case 4:no();break;case 13:case 19:Si(ao);break;case 10:wa(r.type._context);break;case 22:case 23:uu()}n=n.return}if(Ml=e,Pl=e=Iu(e.current,null),Tl=Al=t,Rl=0,Ol=null,Ll=zl=Dl=0,jl=Nl=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function du(e,t){for(;;){var n=Pl;try{if(ba(),uo.current=is,go){for(var i=ho.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}go=!1}if(fo=0,mo=po=ho=null,vo=!1,yo=0,El.current=null,null===n||null===n.return){Rl=1,Ol=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Tl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ps(s);if(null!==p){p.flags&=-257,ms(p,s,l,0,t),1&p.mode&&hs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){hs(o,c,t),hu();break e}u=Error(r(426))}else if(na&&1&l.mode){var v=ps(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),ms(v,s,l,0,t),fa(ls(u,l));break e}}o=u=ls(u,l),4!==Rl&&(Rl=2),null===Nl?Nl=[o]:Nl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ds(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(!(128&o.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Wl&&Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}yu(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fu(){var e=Sl.current;return Sl.current=is,null===e?is:e}function hu(){(0===Rl||3===Rl||2===Rl)&&(Rl=4),null===Ml||!(268435455&Dl)&&!(268435455&zl)||au(Ml,Tl)}function pu(e,t){var n=Cl;Cl|=2;var i=fu();for((Ml!==e||Tl!==t)&&(Bl=null,cu(e,t));;)try{mu();break}catch(t){du(e,t)}if(ba(),Cl=n,Sl.current=i,null!==Pl)throw Error(r(261));return Ml=null,Tl=0,Rl}function mu(){for(;null!==Pl;)vu(Pl)}function gu(){for(;null!==Pl&&!Xe();)vu(Pl)}function vu(e){var t=xl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?yu(e):Pl=t,El.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=qs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Rl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gs(n,t,Al)))return void(Pl=n);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Rl&&(Rl=5)}function bu(e,t,n){var i=vt,a=kl.transition;try{kl.transition=null,vt=1,function(e,t,n,i){do{wu()}while(null!==ql);if(6&Cl)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-it(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ml&&(Pl=Ml=null,Tl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gl||(Gl=!0,Mu(Je,function(){return wu(),null})),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=kl.transition,kl.transition=null;var s=vt;vt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(Qr=Vt,dr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=s),h===o&&++d===i&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Vt=!1,$s=t;null!==$s;)if(e=(t=$s).child,1028&t.subtreeFlags&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:pa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(e){_u(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=Js,Js=!1}(e,n),pl(n,e),fr(Jr),Vt=!!Qr,Jr=Qr=null,e.current=n,gl(n),Ye(),Cl=l,vt=s,kl.transition=o}else e.current=n;if(Gl&&(Gl=!1,ql=e,Xl=a),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(nt,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),tu(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;1&Xl&&0!==e.tag&&wu(),o=e.pendingLanes,1&o?e===Kl?Yl++:(Yl=0,Kl=e):Yl=0,Ui()}(e,t,n,i)}finally{kl.transition=a,vt=i}return null}function wu(){if(null!==ql){var e=yt(Xl),t=kl.transition,n=vt;try{if(kl.transition=null,vt=16>e?16:e,null===ql)var i=!1;else{if(e=ql,ql=null,Xl=0,6&Cl)throw Error(r(331));var a=Cl;for(Cl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(16&$s.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:el(8,d,o)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var h=(d=$s).sibling,p=d.return;if(rl(d),d===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$s=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(2048&(o=$s).flags)switch(o.tag){case 0:case 11:case 15:el(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var w=(s=$s).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,$s=w;else e:for(s=b;null!==$s;){if(2048&(l=$s).flags)try{switch(l.tag){case 0:case 11:case 15:tl(9,l)}}catch(e){_u(l,l.return,e)}if(l===s){$s=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$s=x;break e}$s=l.return}}if(Cl=a,Ui(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(nt,e)}catch(e){}i=!0}return i}finally{vt=n,kl.transition=t}}return!1}function xu(e,t,n){e=Ra(e,t=ds(0,t=ls(n,t),1),1),t=Ql(),null!==e&&(mt(e,1,t),tu(e,t))}function _u(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ra(t,e=fs(t,e=ls(n,e),1),1),e=Ql(),null!==t&&(mt(t,1,e),tu(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ql(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Tl&n)===n&&(4===Rl||3===Rl&&(130023424&Tl)===Tl&&500>Ke()-Fl?cu(e,0):Ll|=n),tu(e,t)}function Eu(e,t){0===t&&(1&e.mode?(t=lt,!(130023424&(lt<<=1))&&(lt=4194304)):t=1);var n=Ql();null!==(e=Ma(e,t))&&(mt(e,t,n),tu(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Eu(e,n)}function Mu(e,t){return Ge(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new Pu(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Au(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Ou(n.children,a,o,t);case _:s=8,a|=8;break;case S:return(e=Tu(12,n,t,2|a)).elementType=S,e.lanes=o,e;case M:return(e=Tu(13,n,t,a)).elementType=M,e.lanes=o,e;case P:return(e=Tu(19,n,t,a)).elementType=P,e.lanes=o,e;case I:return Du(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case C:s=11;break e;case T:s=14;break e;case A:s=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Tu(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Ou(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,a,o,s,l){return e=new Nu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Fu(e){if(!e)return ki;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Oi(e,n,t)}return t}function Uu(e,t,n,r,i,a,o,s,l){return(e=ju(n,r,!0,e,0,a,0,s,l)).context=Fu(null),n=e.current,(a=Ia(r=Ql(),i=Jl(n))).callback=null!=t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),tu(e,r),e}function Bu(e,t,n,r){var i=t.current,a=Ql(),o=Jl(i);return n=Fu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(eu(e,i,o,a),Oa(e,i,o)),o}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)vs=!0;else{if(!(e.lanes&n||128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),da();break;case 5:ro(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ao,1&ao.current),t.flags|=128,null):n&t.child.childLanes?zs(e,t,n):(Ei(ao,1&ao.current),null!==(e=Vs(e,t,n))?e.sibling:null);Ei(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Vs(e,t,n)}(e,t,n);vs=!!(131072&e.flags)}else vs=!1,na&&1048576&t.flags&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Bs(e,t),e=t.pendingProps;var a=Ti(t,Ci.current);_a(t,n),a=_o(null,t,i,e,a,n);var o=So();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(i)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ta(t),a.updater=Fa,t.stateNode=a,a._reactInternals=t,Ha(t,i,e,n),t=Cs(null,t,i,!0,o,n)):(t.tag=0,na&&o&&Qi(t),ys(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Au(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(i),e=pa(i,e),a){case 0:t=Es(null,t,i,e,n);break e;case 1:t=ks(null,t,i,e,n);break e;case 11:t=bs(null,t,i,e,n);break e;case 14:t=ws(null,t,i,pa(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,Es(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 1:return i=t.type,a=t.pendingProps,ks(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 3:e:{if(Ms(t),null===e)throw Error(r(387));i=t.pendingProps,a=(o=t.memoizedState).element,Aa(e,t),za(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,i,n,a=ls(Error(r(423)),t));break e}if(i!==a){t=Ps(e,t,i,n,a=ls(Error(r(424)),t));break e}for(ta=si(t.stateNode.containerInfo.firstChild),ea=t,na=!0,ra=null,n=Ka(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===a){t=Vs(e,t,n);break e}ys(e,t,i,n)}t=t.child}return t;case 5:return ro(t),null===e&&sa(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ei(i,a)?s=null:null!==o&&ei(i,o)&&(t.flags|=32),Ss(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&sa(t),null;case 13:return zs(e,t,n);case 4:return to(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ya(t,null,i,n):ys(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,bs(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ei(ma,i._currentValue),i._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===a.children&&!Mi.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,_a(t,n),i=i(a=Sa(a)),t.flags|=1,ys(e,t,i,n),t.child;case 14:return a=pa(i=t.type,t.pendingProps),ws(e,t,i,a=pa(i.type,a),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:pa(i,a),Bs(e,t),t.tag=1,Ai(i)?(e=!0,Di(t)):e=!1,_a(t,n),Ba(t,i,a),Ha(t,i,a,n),Cs(null,t,i,!0,e,n);case 19:return Us(e,t,n);case 22:return _s(e,t,n)}throw Error(r(156,t.tag))};var Gu="function"==typeof reportError?reportError:function(e){};function qu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function Zu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Vu(o);s.call(e)}}Bu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Vu(o);a.call(e)}}var o=Uu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[fi]=o.current,Ur(8===e.nodeType?e.parentNode:e),lu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Vu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),lu(function(){Bu(t,l,n,r)}),l}(n,t,e,i,r);return Vu(o)}Xu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Bu(e,t,null,null)},Xu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu(function(){Bu(null,e,null,null)}),t[fi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&zt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),tu(t,Ke()),!(6&Cl)&&(Ul=Ke()+500,Ui()))}break;case 13:lu(function(){var t=Ma(e,1);if(null!==t){var n=Ql();eu(t,e,1,n)}}),Wu(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)eu(t,e,134217728,Ql());Wu(e,134217728)}},xt=function(e){if(13===e.tag){var t=Jl(e),n=Ma(e,t);if(null!==n)eu(n,e,t,Ql());Wu(e,t)}},_t=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=bi(i);if(!a)throw Error(r(90));G(i),$(i,a)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ee(e,!!n.multiple,t,!1)}},Ce=su,Me=lu;var Qu,Ju={usingClientEntryPoint:!1,Events:[vi,yi,bi,Ee,ke,su]},ec={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(!(Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&Qu.supportsFiber))try{nt=Qu.inject(tc),rt=Qu}catch(le){}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ju,e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(r(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},e.createRoot=function(e,t){if(!Yu(e))throw Error(r(299));var n=!1,i="",a=Gu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,i,a),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new qu(t)},e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=null===(e=He(t))?null:e.stateNode},e.flushSync=function(e){return lu(e)},e.hydrate=function(e,t,n){if(!Ku(t))throw Error(r(200));return Zu(null,e,t,!0,n)},e.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,o="",s=Gu;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,a,0,o,s),e[fi]=t.current,Ur(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xu(t)},e.render=function(e,t,n){if(!Ku(t))throw Error(r(200));return Zu(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(r(40));return!!e._reactRootContainer&&(lu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},e.unstable_batchedUpdates=su,e.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ku(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zu(e,t,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"}),Df=w((e,t)=>{(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}})(),t.exports=Of()});function zf(e,t,n){let r=(0,Ff.useCallback)(e,t),i=(0,Ff.useRef)(null);i.current?i.current.set(r):i.current=new Nf.Atom(r);let a=(0,Ff.useRef)(null);return a.current||(a.current=(0,Nf.prism)(()=>i.current.prism.getValue()())),Lf(a.current,n)}function Lf(e,t){var n;let r=function(){let[,e]=(0,Ff.useState)(0);return(0,Ff.useCallback)(()=>{e(e=>e+1)},[])}(),i=(0,Ff.useRef)(void 0);i.current||(Hf++,i.current={order:Hf,runUpdate:()=>{i.current.unmounted||r()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var e;Bf&&(null==(e=i.current.debug)||e.history.push("queueUpdate()")),Xf(i.current)},untap:e.onStale(()=>{Bf&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()})},Bf&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,Ff.useLayoutEffect)(()=>function(){i.current.unmounted=!0,i.current.untap(),Kf(i.current)},[]),Kf(i.current);let a=i.current.der.getValue();return i.current.lastValue=a,Bf&&(null==(n=i.current.debug)||n.history.push("rendered")),a}var Nf,jf,Ff,Uf,Bf,Vf,Hf,Wf,Gf,qf,Xf,Yf,Kf,$f=b(()=>{Nf=Cm(),Mf(),jf=S(Pf()),Ff=S(Af()),Uf=S(Df()),Bf=!1,Vf=(e,t)=>zf(()=>(0,Nf.val)(e),[e],t),Hf=0,Wf=[],Gf=new Set,qf=!1,Xf=e=>{Yf(e),qf||(qf=!0,(0,jf.default)(()=>{(0,Uf.unstable_batchedUpdates)(function(){for(var e,t;Wf.length>0;){let n,r=Wf.shift();Gf.delete(r),Bf&&(null==(e=r.debug)||e.history.push("queue reached"));try{n=r.der.getValue()}catch(e){Bf&&(null==(t=r.debug)||t.history.push("queue: der.getValue() errored")),r.runUpdate();continue}n!==r.lastValue&&(r.lastValue=n,r.runUpdate())}qf=!1},1)}))},Yf=e=>{if(!Gf.has(e))if(Gf.add(e),0===Wf.length)Wf.push(e);else{let t=id(Wf,t=>t.order>=e.order);-1===t?Wf.push(e):Wf[t].order>e.order&&Wf.splice(t,0,e)}},Kf=e=>{if(!Gf.has(e))return;Gf.delete(e);let t=id(Wf,t=>t===e);Wf.splice(t,1)}}),Zf=w(e=>{var t,n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,m=60122,g=60117,v=60129,y=60131;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}"function"==typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),r=t("react.portal"),i=t("react.fragment"),a=t("react.strict_mode"),o=t("react.profiler"),s=t("react.provider"),l=t("react.context"),u=t("react.forward_ref"),c=t("react.suspense"),d=t("react.suspense_list"),f=t("react.memo"),h=t("react.lazy"),p=t("react.block"),m=t("react.server.block"),g=t("react.fundamental"),v=t("react.debug_trace_mode"),y=t("react.legacy_hidden"));var w=s,x=n,_=u,S=i,E=h,k=f,C=r,M=o,P=a,T=c;e.ContextConsumer=l,e.ContextProvider=w,e.Element=x,e.ForwardRef=_,e.Fragment=S,e.Lazy=E,e.Memo=k,e.Portal=C,e.Profiler=M,e.StrictMode=P,e.Suspense=T,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return b(e)===l},e.isContextProvider=function(e){return b(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return b(e)===u},e.isFragment=function(e){return b(e)===i},e.isLazy=function(e){return b(e)===h},e.isMemo=function(e){return b(e)===f},e.isPortal=function(e){return b(e)===r},e.isProfiler=function(e){return b(e)===o},e.isStrictMode=function(e){return b(e)===a},e.isSuspense=function(e){return b(e)===c},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===v||e===a||e===c||e===d||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===p||e[0]===m)},e.typeOf=b}),Qf=w((e,t)=>{t.exports=Zf()}),Jf=w((e,t)=>{t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}});function eh(e){function t(e,r,l,u,f){for(var h,p,m,g,w,_=0,S=0,E=0,k=0,C=0,R=0,D=m=h=0,L=0,N=0,j=0,F=0,U=l.length,B=U-1,V="",H="",W="",G="";L<U;){if(p=l.charCodeAt(L),L===B&&S+k+E+_!==0&&(0!==S&&(p=47===S?10:47),k=E=_=0,U++,B++),S+k+E+_===0){if(L===B&&(0<N&&(V=V.replace(d,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(L)}p=59}switch(p){case 123:for(h=(V=V.trim()).charCodeAt(0),m=1,F=++L;L<U;){switch(p=l.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(l.charCodeAt(D)){case 47:if(42===p&&42===l.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&l.charCodeAt(L)!==p;);}if(0===m)break;L++}if(64===(m=l.substring(F,L),0===h&&(h=(V=V.replace(c,"").trim()).charCodeAt(0)),h)){switch(0<N&&(V=V.replace(d,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=I}if(F=(m=t(r,N,m,p,f+1)).length,0<O&&(w=s(3,m,N=n(I,V,j),r,P,M,F,p,f,u),V=N.join(""),void 0!==w&&0===(F=(m=w.trim()).length)&&(p=0,m="")),0<F)switch(p){case 115:V=V.replace(x,o);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===u&&(H+=m,m="")}else m=""}else m=t(r,n(r,V,j),m,u,f+1);W+=m,m=j=N=D=h=0,V="",p=l.charCodeAt(++L);break;case 125:case 59:if(1<(F=(V=(0<N?V.replace(d,""):V).trim()).length))switch(0===D&&(h=V.charCodeAt(0),45===h||96<h&&123>h)&&(F=(V=V.replace(" ",":")).length),0<O&&void 0!==(w=s(1,V,r,e,P,M,H.length,u,f,u))&&0===(F=(V=w.trim()).length)&&(V="\0\0"),h=V.charCodeAt(0),p=V.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){G+=V+l.charAt(L);break}default:58!==V.charCodeAt(F-1)&&(H+=i(V,h,p,V.charCodeAt(2)))}j=N=D=h=0,V="",p=l.charCodeAt(++L)}}switch(p){case 13:case 10:47===S?S=0:1+h===0&&107!==u&&0<V.length&&(N=1,V+="\0"),0<O*z&&s(0,V,r,e,P,M,H.length,u,f,u),M=1,P++;break;case 59:case 125:if(S+k+E+_===0){M++;break}default:switch(M++,g=l.charAt(L),p){case 9:case 32:if(k+_+S===0)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:k+S+_===0&&(N=j=1,g="\f"+g);break;case 108:if(k+S+_+T===0&&0<D)switch(L-D){case 2:112===C&&58===l.charCodeAt(L-3)&&(T=C);case 8:111===R&&(T=R)}break;case 58:k+S+_===0&&(D=L);break;case 44:S+E+k+_===0&&(N=1,g+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:k+S+E===0&&_++;break;case 93:k+S+E===0&&_--;break;case 41:k+S+_===0&&E--;break;case 40:if(k+S+_===0){if(0===h)if(2*C+3*R==533);else h=1;E++}break;case 64:S+E+k+_+D+m===0&&(m=1);break;case 42:case 47:if(!(0<k+_+E))switch(S){case 0:switch(2*p+3*l.charCodeAt(L+1)){case 235:S=47;break;case 220:F=L,S=42}break;case 42:47===p&&42===C&&F+2!==L&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,L+1)),g="",S=0)}}0===S&&(V+=g)}R=C,C=p,L++}if(0<(F=H.length)){if(N=r,0<O&&(void 0!==(w=s(2,H,N,e,P,M,F,u,f,u))&&0===(H=w).length))return G+H+W;if(H=N.join(",")+"{"+H+"}",A*T!==0){switch(2!==A||a(H,2)||(T=0),T){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}T=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===A||2===A&&a(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(w,"tb");break;case 232:l=o.replace(w,"tb-rl");break;case 220:l=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,c){for(var d,f=0,h=t;f<O;++f)switch(d=R[f].call(u,e,h,n,r,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?A=1:(A=2,D=e):A=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,P,M,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(I,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,P,M,a.length,0,0,0))&&(a=i)),T=0,M=P=1,a}var c=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,M=1,P=1,T=0,A=1,I=[],R=[],O=0,D=null,z=0;return u.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"==typeof t)R[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else z=0|!!t}return e},u.set=l,void 0!==e&&l(e),u}var th,nh,rh=b(()=>{th=eh}),ih=b(()=>{nh={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}});function ah(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var oh,sh,lh,uh,ch=b(()=>{oh=ah}),dh=b(()=>{ch(),sh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lh=oh(function(e){return sh.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),uh=lh}),fh=w(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case i:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case p:case s:return e;default:return t}}case r:return t}}}function x(e){return w(e)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=l,e.ContextProvider=s,e.Element=n,e.ForwardRef=d,e.Fragment=i,e.Lazy=m,e.Memo=p,e.Portal=r,e.Profiler=o,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(e){return x(e)||w(e)===u},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===l},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===d},e.isFragment=function(e){return w(e)===i},e.isLazy=function(e){return w(e)===m},e.isMemo=function(e){return w(e)===p},e.isPortal=function(e){return w(e)===r},e.isProfiler=function(e){return w(e)===o},e.isStrictMode=function(e){return w(e)===a},e.isSuspense=function(e){return w(e)===f},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},e.typeOf=w}),ph=w((e,t)=>{t.exports=fh()}),mh=w((e,t)=>{var n=ph(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var o=u(n);c&&(o=o.concat(c(n)));for(var p=s(t),m=s(n),g=0;g<o.length;++g){var v=o[g];if(!(i[v]||r&&r[v]||m&&m[v]||p&&p[v])){var y=d(n,v);try{l(t,v,y)}catch(e){}}}}return t}});function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vh(e){return"function"==typeof e}function yh(e){return e.displayName||e.name||"Component"}function bh(e){return e&&"string"==typeof e.styledComponentId}function wh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function xh(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=pp(t%52)+n;return(pp(t%52)+n).replace(hp,"$1-$2")}function _h(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(vh(n)&&!bh(n))return!1}return!0}function Sh(e){var t,n,r,i,a=void 0===e?Hh:e,o=a.options,s=void 0===o?Hh:o,l=a.plugins,u=void 0===l?Vh:l,c=new th(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}(function(e){d.push(e)}),h=function(e,r,a){return 0===r&&-1!==wp.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(bp,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=u.length?u.reduce(function(e,t){return t.name||wh(15),mp(e,t.name)},5381).toString():"",p}function Eh(){return(0,Nh.useContext)(xp)||Sp}function kh(){return(0,Nh.useContext)(_p)||Ep}function Ch(e){var t=(0,Nh.useState)(e.stylisPlugins),n=t[0],r=t[1],i=Eh(),a=(0,Nh.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,Nh.useMemo)(function(){return Sh({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,Nh.useEffect)(function(){(0,jh.default)(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),Nh.default.createElement(xp.Provider,{value:a},Nh.default.createElement(_p.Provider,{value:o},e.children))}function Mh(e){return Cp.test(e)?e.replace(Mp,Tp).replace(Pp,"-ms-"):e}function Ph(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Ph(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Ap(e)?"":bh(e)?"."+e.styledComponentId:vh(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:Ph(e(t),t,n,r):e instanceof kp?n?(e.inject(n,r),e.getName(r)):e:Bh(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Ap(t[o])&&(Array.isArray(t[o])&&t[o].isCss||vh(t[o])?a.push(Mh(o)+":",t[o],";"):Bh(t[o])?a.push.apply(a,e(t[o],o)):a.push(Mh(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in nh||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}function Th(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vh(e)||Bh(e)?Ip(Ph(Uh(Vh,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Ip(Ph(Uh(e,n)))}function Ah(e){return e.replace(Op,"-").replace(Dp,"")}function Ih(e){return"string"==typeof e&&!0}function Rh(e,t,n){var r=e[n];Lp(t)&&Lp(r)?Oh(r,t):e[n]=t}function Oh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Lp(o))for(var s in o)Np(s)&&Rh(e,o[s],s)}return e}function Dh(e,t,n){var r,i=bh(e),a=!Ih(e),o=t.attrs,s=void 0===o?Vh:o,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Ah(e);Fp[n]=(Fp[n]||0)+1;var r=n+"-"+zp("5.3.11"+n+Fp[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,d=void 0===c?Ih(r=e)?"styled."+r:"Styled("+yh(r)+")":c,f=t.displayName&&t.componentId?Ah(t.displayName)+"-"+t.componentId:t.componentId||u,h=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,g=new yp(n,f,i?e.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.shouldForwardProp,u=e.styledComponentId,c=e.target,d=function(e,t,n){void 0===e&&(e=Hh);var r=gh({},t,{theme:e}),i={};return n.forEach(function(e){var t,n,a,o=e;for(t in vh(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]}),[r,i]}(Rp(t,(0,Nh.useContext)(jp),o)||Hh,t,i),f=d[0],h=d[1],p=function(e,t,n){var r=Eh(),i=kh();return t?e.generateAndInjectStyles(Hh,r,i):e.generateAndInjectStyles(n,r,i)}(a,r,f),m=n,g=h.$as||t.$as||h.as||t.as||c,v=Ih(g),y=h!==t?gh({},t,{},h):t,b={};for(var w in y)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=y[w]:(l?l(w,uh,g):!v||uh(w))&&(b[w]=y[w]));return t.style&&h.style!==t.style&&(b.style=gh({},t.style,{},h.style)),b.className=Array.prototype.concat(s,u,p!==u?p:null,t.className,h.className).filter(Boolean).join(" "),b.ref=m,(0,Nh.createElement)(g,b)}(m,e,t,v)};return y.displayName=d,(m=Nh.default.forwardRef(y)).attrs=h,m.componentStyle=g,m.displayName=d,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Vh,m.styledComponentId=f,m.target=i?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ih(e)?e:Ah(yh(e)));return Dh(e,gh({},i,{attrs:h,componentId:a}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Oh({},e.defaultProps,t):t}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),a&&(0,Fh.default)(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}function zh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Th.apply(void 0,[e].concat(n)),a="sc-global-"+zp(JSON.stringify(i)),o=new Bp(i,a);function s(e){var t=Eh(),n=kh(),r=(0,Nh.useContext)(jp),i=(0,Nh.useRef)(t.allocateGSInstance(a)).current;return t.server&&l(i,e,t,r,n),(0,Nh.useLayoutEffect)(function(){if(!t.server)return l(i,e,t,r,n),function(){return o.removeStyles(i,t)}},[i,e,t,r,n]),null}function l(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,Xh,n,i);else{var a=gh({},t,{theme:Rp(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return Nh.default.memo(s)}var Lh,Nh,jh,Fh,Uh,Bh,Vh,Hh,Wh,Gh,qh,Xh,Yh,Kh,$h,Zh,Qh,Jh,ep,tp,np,rp,ip,ap,op,sp,lp,up,cp,dp,fp,hp,pp,mp,gp,vp,yp,bp,wp,xp,_p,Sp,Ep,kp,Cp,Mp,Pp,Tp,Ap,Ip,Rp,Op,Dp,zp,Lp,Np,jp,Fp,Up,Bp,Vp,Hp=b(()=>{Lh=S(Qf()),Nh=S(Af()),jh=S(Jf()),rh(),ih(),dh(),Fh=S(mh()),Uh=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Bh=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Lh.typeOf)(e)},Vh=Object.freeze([]),Hh=Object.freeze({}),Wh="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Gh="undefined"!=typeof window&&"HTMLElement"in window,qh=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY)),Xh={},Yh=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&wh(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Kh=new Map,$h=new Map,Zh=1,Qh=function(e){if(Kh.has(e))return Kh.get(e);for(;$h.has(Zh);)Zh++;var t=Zh++;return Kh.set(e,t),$h.set(t,e),t},Jh=function(e){return $h.get(e)},ep=function(e,t){t>=Zh&&(Zh=t+1),Kh.set(e,t),$h.set(t,e)},tp="style["+Wh+'][data-styled-version="5.3.11"]',np=new RegExp("^"+Wh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),rp=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ip=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(np);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(ep(u,l),rp(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},ap=function(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null},op=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Wh))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Wh,"active"),r.setAttribute("data-styled-version","5.3.11");var o=ap();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},sp=function(){function e(e){var t=this.element=op(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}wh(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),lp=function(){function e(e){var t=this.element=op(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),up=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),cp=Gh,dp={isServer:!Gh,useCSSOMInjection:!qh},fp=function(){function e(e,t,n){void 0===e&&(e=Hh),void 0===t&&(t={}),this.options=gh({},dp,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Gh&&cp&&(cp=!1,function(e){for(var t=document.querySelectorAll(tp),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Wh)&&(ip(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Qh(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(gh({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new up(i):r?new sp(i):new lp(i),new Yh(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Qh(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Qh(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Qh(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Jh(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=Wh+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach(function(e){e.length>0&&(u+=e+",")}),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),hp=/(a)(d)/gi,pp=function(e){return String.fromCharCode(e+(e>25?39:97))},mp=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},vp=(gp=function(e){return mp(5381,e)})("5.3.11"),yp=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&_h(e),this.componentId=t,this.baseHash=mp(vp,t),this.baseStyle=n,fp.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Ph(this.rules,e,t,n).join(""),o=xh(mp(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=mp(this.baseHash,n.hash),c="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var h=Ph(f,e,t,n),p=Array.isArray(h)?h.join(""):h;u=mp(u,p+d),c+=p}}if(c){var m=xh(u>>>0);if(!t.hasNameForId(r,m)){var g=n(c,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),bp=/^\s*\/\/.*$/gm,wp=[":","[",".","#"],(xp=Nh.default.createContext()).Consumer,(_p=Nh.default.createContext()).Consumer,Sp=new fp,Ep=Sh(),kp=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ep);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return wh(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ep),this.name+e.hash},e}(),Cp=/([A-Z])/,Mp=/([A-Z])/g,Pp=/^ms-/,Tp=function(e){return"-"+e.toLowerCase()},Ap=function(e){return null==e||!1===e||""===e},Ip=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Rp=function(e,t,n){return void 0===n&&(n=Hh),e.theme!==n.theme&&e.theme||t||n.theme},Op=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Dp=/(^-|-$)/g,zp=function(e){return xh(gp(e)>>>0)},Lp=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Np=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},(jp=Nh.default.createContext()).Consumer,Fp={},Up=function(e){return function e(t,n,r){if(void 0===r&&(r=Hh),!(0,Lh.isValidElementType)(n))return wh(1,String(n));var i=function(){return t(n,r,Th.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,gh({},r,{},i))},i.attrs=function(i){return e(t,n,gh({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Dh,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Up[e]=Up(e)}),Bp=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=_h(e),fp.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Ph(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&fp.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ap();return"<style "+[n&&'nonce="'+n+'"',Wh+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?wh(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return wh(2);var n=((t={})[Wh]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=ap();return r&&(n.nonce=r),[Nh.default.createElement("style",gh({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new fp({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?wh(2):Nh.default.createElement(Ch,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return wh(3)}}(),Vp=Up});function Wp(){return Wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp.apply(this,arguments)}var Gp=b(()=>{});var qp=b(()=>{});function Xp(e,t){return(Xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yp=b(()=>{});var Kp=b(()=>{Yp()});function $p(e){return($p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zp=b(()=>{});var Qp=b(()=>{});var Jp=b(()=>{});function em(e,t,n){return em=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xp(i,n.prototype),i},em.apply(null,arguments)}var tm=b(()=>{Yp(),Jp()});function nm(e){var t="function"==typeof Map?new Map:void 0;return nm=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return em(e,arguments,$p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xp(n,e)},nm(e)}var rm=b(()=>{Zp(),Yp(),Qp(),tm()}),im=b(()=>{});function am(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce(function(e,t){return""+e+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(t)});var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function om(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1],o=void 0===a?i:a,s=n[2],l=void 0===s?i:s,u=n[3];return function(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[am(e,Am[r])]=t[r]);return n}(e,[i,o,l,void 0===u?o:u])}function sm(e){return Math.round(255*e)}function lm(e,t,n){return sm(e)+","+sm(t)+","+sm(n)}function um(e,t,n,r){if(void 0===r&&(r=lm),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),s=0,l=0,u=0;i>=0&&i<1?(s=a,l=o):i>=1&&i<2?(s=o,l=a):i>=2&&i<3?(l=a,u=o):i>=3&&i<4?(l=o,u=a):i>=4&&i<5?(s=o,u=a):i>=5&&i<6&&(s=a,u=o);var c=n-a/2;return r(s+c,l+c,u+c)}function cm(e){if("string"!=typeof e)throw new Tm(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Im[t]?"#"+Im[t]:e}(e);if(t.match(Rm))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Om)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Dm))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(zm)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Lm.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=Nm.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var o=jm.exec(t);if(o){var s="rgb("+um(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",l=Lm.exec(s);if(!l)throw new Tm(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var u=Fm.exec(t.substring(0,50));if(u){var c="rgb("+um(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",d=Lm.exec(c);if(!d)throw new Tm(4,t,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+u[4])}}throw new Tm(5)}function dm(e){return function(e){var t=e.red/255,n=e.green/255,r=e.blue/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s,l=i-a,u=o>.5?l/(2-i-a):l/(i+a);switch(i){case t:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-t)/l+2;break;default:s=(t-n)/l+4}return s*=60,void 0!==e.alpha?{hue:s,saturation:u,lightness:o,alpha:e.alpha}:{hue:s,saturation:u,lightness:o}}(cm(e))}function fm(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function hm(e){return fm(Math.round(255*e))}function pm(e,t,n){return Um("#"+hm(e)+hm(t)+hm(n))}function mm(e,t,n){return um(e,t,n,pm)}function gm(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Um("#"+fm(e)+fm(t)+fm(n));if("object"==typeof e&&void 0===t&&void 0===n)return Um("#"+fm(e.red)+fm(e.green)+fm(e.blue));throw new Tm(6)}function vm(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var i=cm(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?gm(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?gm(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Tm(7)}function ym(e){if("object"!=typeof e)throw new Tm(8);if(Vm(e))return vm(e);if(Bm(e))return gm(e);if(Wm(e))return function(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?mm(e,t,n):"rgba("+um(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?mm(e.hue,e.saturation,e.lightness):"rgba("+um(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Tm(2)}(e);if(Hm(e))return function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return mm(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return mm(e.hue,e.saturation,e.lightness);throw new Tm(1)}(e);throw new Tm(8)}function bm(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):bm(e,t,r)}}function wm(e){return bm(e,e.length,[])}function xm(e,t,n){return Math.max(e,Math.min(t,n))}function _m(e,t){if("transparent"===t)return t;var n=dm(t);return ym(Wp({},n,{lightness:xm(0,1,n.lightness-parseFloat(e))}))}function Sm(e,t){if("transparent"===t)return t;var n=dm(t);return ym(Wp({},n,{lightness:xm(0,1,n.lightness+parseFloat(e))}))}function Em(e,t){if("transparent"===t)return t;var n=dm(t);return ym(Wp({},n,{saturation:xm(0,1,n.saturation+parseFloat(e))}))}function km(e,t){if("transparent"===t)return t;var n=cm(t);return vm(Wp({},n,{alpha:xm(0,1,+(100*("number"==typeof n.alpha?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))}function Mm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Km.indexOf(e)>=0&&e?Wp({},om.apply(void 0,[""].concat(n)),{position:e}):om.apply(void 0,["",e].concat(n))}var Tm,Am,Im,Rm,Om,Dm,zm,Lm,Nm,jm,Fm,Um,Bm,Vm,Hm,Wm,Gm,qm,Xm,Ym,Km,$m=b(()=>{Gp(),qp(),Kp(),rm(),im(),Tm=function(e){function t(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xp(e,t)}(t,e),t}(nm(Error)),Am=["Top","Right","Bottom","Left"],Im={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Rm=/^#[a-fA-F0-9]{6}$/,Om=/^#[a-fA-F0-9]{8}$/,Dm=/^#[a-fA-F0-9]{3}$/,zm=/^#[a-fA-F0-9]{4}$/,Lm=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Nm=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,jm=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Fm=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Um=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},Bm=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},Vm=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},Hm=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},Wm=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha},Gm=wm(_m),qm=wm(Sm),Xm=wm(Em),Ym=wm(km),Km=["absolute","fixed","relative","static","sticky"]});function Zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach(function(t){Zm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eg(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var tg,ng,rg=b(()=>{}),ig=b(()=>{tg=S(Af()),ng=(0,tg.createContext)({})});function ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?og(Object(n),!0).forEach(function(t){ag(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lg(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cg(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ug(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var dg=b(()=>{});var fg,hg,pg=b(()=>{fg=S(Af()),ig(),dg(),hg=function(e,t,n){void 0===n&&(n=t.children);var r=(0,fg.useContext)(ng);return r.useCreateElement?r.useCreateElement(e,t,n):"string"==typeof e&&"function"==typeof n?(t.children,n(lg(t,["children"]))):(0,fg.createElement)(e,t,n)}});function mg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gg(Object(n),!0).forEach(function(t){mg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var yg=b(()=>{});var bg=b(()=>{});function wg(e){var t;if(!function(e){return"object"==typeof e&&null!=e}(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()}var xg=b(()=>{bg()});function _g(e,t){for(var n={},r={},i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];t.indexOf(o)>=0?n[o]=e[o]:r[o]=e[o]}return[n,r]}function Sg(e,t){if(void 0===t&&(t=[]),!wg(e.state))return _g(e,t);var n=_g(e,[].concat(t,["state"])),r=n[0],i=n[1],a=r.state,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}(r,["state"]);return[vg(vg({},a),o),i]}var Eg=b(()=>{yg(),xg()});function kg(e,t){if(e===t)return!0;if(!e||!t||"object"!=typeof e||"object"!=typeof t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0,o=n;a<o.length;a++){var s=o[a];if(e[s]!==t[s])return!1}return!0}var Cg=b(()=>{});function Mg(e){return"normalizePropsAreEqualInner"===e.name?e:function(t,n){return wg(t.state)&&wg(n.state)?e(vg(vg({},t.state),t),vg(vg({},n.state),n)):e(t,n)}}var Pg=b(()=>{yg(),xg()});function Tg(e){var t=e.as,n=e.useHook,r=e.memo,i=e.propsAreEqual,a=void 0===i?null==n?void 0:n.unstable_propsAreEqual:i,o=e.keys,s=void 0===o?(null==n?void 0:n.__keys)||[]:o,l=e.useCreateElement,u=void 0===l?hg:l,c=function(e,r){var i=e.as,a=void 0===i?t:i,o=lg(e,["as"]);if(n){var l,c=Sg(o,s),d=c[0],f=c[1],h=n(d,sg({ref:r},f)),p=h.wrapElement,m=lg(h,["wrapElement"]),g=(null===(l=a.render)||void 0===l?void 0:l.__keys)||a.__keys,v=g&&Sg(o,g)[0],y=v?sg(sg({},m),v):m,b=u(a,y);return p?p(b):b}return u(a,sg({ref:r},o))};return c=function(e){return(0,Ag.forwardRef)(e)}(c),r&&(c=function(e,t){return(0,Ag.memo)(e,t)}(c,a&&Mg(a))),c.__keys=s,c.unstable_propsAreEqual=Mg(a||kg),c}var Ag,Ig=b(()=>{Ag=S(Af()),dg(),pg(),Eg(),Cg(),Pg()});function Rg(e,t){(0,Og.useDebugValue)(e);var n=(0,Og.useContext)(ng);return null!=n[e]?n[e]:t}var Og,Dg=b(()=>{Og=S(Af()),ig()});var zg,Lg=b(()=>{zg=S(Af()),Dg()});var Ng,jg=b(()=>{Ng=S(Af()),Dg(),dg()});var Fg=b(()=>{});function Ug(e){var t,n,r=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e.compose),i=function(t,n){if(e.useOptions&&(t=e.useOptions(t,n)),e.name&&(t=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Options";(0,Ng.useDebugValue)(r);var i=Rg(r);return i?sg(sg({},t),i(t,n)):t}(e.name,t,n)),e.compose)for(var i,a=cg(r);!(i=a()).done;){t=i.value.__useOptions(t,n)}return t},a=function(t,n,a){if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===a&&(a=!1),a||(t=i(t,n)),e.useProps&&(n=e.useProps(t,n)),e.name&&(n=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Props";(0,zg.useDebugValue)(r);var i=Rg(r);return i?i(t,n):n}(e.name,t,n)),e.compose)if(e.useComposeOptions&&(t=e.useComposeOptions(t,n)),e.useComposeProps)n=e.useComposeProps(t,n);else for(var o,s=cg(r);!(o=s()).done;){n=(0,o.value)(t,n,!0)}var l={},u=n||{};for(var c in u)void 0!==u[c]&&(l[c]=u[c]);return l};a.__useOptions=i;var o=r.reduce(function(e,t){return e.push.apply(e,t.__keys||[]),e},[]);return a.__keys=[].concat(o,(null===(t=e.useState)||void 0===t?void 0:t.__keys)||[],e.keys||[]),a.unstable_propsAreEqual=e.propsAreEqual||(null===(n=r[0])||void 0===n?void 0:n.unstable_propsAreEqual)||kg,a}var Bg=b(()=>{S(Af()),Lg(),dg(),jg(),Cg(),Fg()});function Vg(e,t){void 0===t&&(t=null),e&&("function"==typeof e?e(t):e.current=t)}function Hg(e,t){return(0,Wg.useMemo)(function(){return null==e&&null==t?null:function(n){Vg(e,n),Vg(t,n)}},[e,t])}var Wg,Gg=b(()=>{Wg=S(Af())});function qg(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e;return-1!==Xg.indexOf(t.type)}return!1}var Xg,Yg=b(()=>{Xg=["button","color","file","image","reset","submit"]}),Kg=b(()=>{}),$g=b(()=>{Kg(),S(Af())}),Zg=b(()=>{Kg(),S(Af()),$g()});function Qg(e){return e?e.ownerDocument||e:document}var Jg=b(()=>{});var ev,tv=b(()=>{Jg();try{ev=window}catch(e){}});function nv(){var e=function(e){return e&&Qg(e).defaultView||ev}();return!(void 0===e||!e.document||!e.document.createElement)}var rv,iv,av,ov=b(()=>{tv(),rv=nv()}),sv=b(()=>{iv=S(Af()),ov(),av=rv?iv.useLayoutEffect:iv.useEffect});function lv(e){var t=(0,uv.useRef)(e);return av(function(){t.current=e}),t}var uv,cv=b(()=>{uv=S(Af()),sv()});var dv=b(()=>{});var fv=b(()=>{Jg()});function hv(e,t){return e===t||e.contains(t)}var pv=b(()=>{});function mv(e){var t=function(e){var t=Qg(e).activeElement;return null!=t&&t.nodeName?t:null}(e);if(!t)return!1;if(hv(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&(n===e.id||!!e.querySelector("#"+n))}var gv=b(()=>{fv(),pv()});var vv=b(()=>{pv()});function yv(e){return!!rv&&-1!==window.navigator.userAgent.indexOf(e)}var bv=b(()=>{ov()});var wv=b(()=>{});var xv,_v,Sv=b(()=>{wv(),xv="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),Ev=b(()=>{rg(),Ig(),Bg(),Cg(),_v=Ug({name:"Role",keys:["unstable_system"],propsAreEqual:function(e,t){var n=e.unstable_system,r=eg(e,["unstable_system"]),i=t.unstable_system,a=eg(t,["unstable_system"]);return!(n!==i&&!kg(n,i))&&kg(r,a)}}),Tg({as:"div",useHook:_v})});function kv(e){!mv(e)&&function(e){return function(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}(e,xv)&&function(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)}(e)&&e.focus()}function Cv(e,t,n,r){return e?t&&!n?-1:void 0:t?r:r||0}function Mv(e,t){return(0,Pv.useCallback)(function(n){var r;null===(r=e.current)||void 0===r||r.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())},[e,t])}var Pv,Tv,Av,Iv,Rv=b(()=>{rg(),Ig(),Bg(),Pv=S(Af()),Gg(),Yg(),Zg(),cv(),sv(),gv(),vv(),bv(),Sv(),Ev(),Tv=["disabled","focusable"],Av=yv("Mac")&&!yv("Chrome")&&(yv("Safari")||yv("Firefox")),Iv=Ug({name:"Tabbable",compose:_v,keys:Tv,useOptions:function(e,t){return Jm({disabled:t.disabled},e)},useProps:function(e,t){var n=t.ref,r=t.tabIndex,i=t.onClickCapture,a=t.onMouseDownCapture,o=t.onMouseDown,s=t.onKeyPressCapture,l=t.style,u=eg(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),c=(0,Pv.useRef)(null),d=lv(i),f=lv(a),h=lv(o),p=lv(s),m=!!e.disabled&&!e.focusable,g=(0,Pv.useState)(!0),v=g[0],y=g[1],b=(0,Pv.useState)(!0),w=b[0],x=b[1],_=e.disabled?Jm({pointerEvents:"none"},l):l;av(function(){var e,t=c.current;t&&("BUTTON"===(e=t).tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"A"===e.tagName||y(!1),function(e){return"BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName}(t)||x(!1))},[]);var S=Mv(d,e.disabled),E=Mv(f,e.disabled),k=Mv(p,e.disabled),C=(0,Pv.useCallback)(function(e){var t;null===(t=h.current)||void 0===t||t.call(h,e);var n,r=e.currentTarget;if(!e.defaultPrevented&&Av&&hv((n=e).currentTarget,n.target)&&qg(r)){var i=requestAnimationFrame(function(){r.removeEventListener("mouseup",a,!0),kv(r)}),a=function(){cancelAnimationFrame(i),kv(r)};r.addEventListener("mouseup",a,{once:!0,capture:!0})}},[]);return Jm({ref:Hg(c,n),style:_,tabIndex:Cv(m,v,w,r),disabled:!(!m||!w)||void 0,"aria-disabled":!!e.disabled||void 0,onClickCapture:S,onMouseDownCapture:E,onMouseDown:C,onKeyPressCapture:k},u)}}),Tg({as:"div",useHook:Iv})});var Ov,Dv,zv,Lv,Nv,jv,Fv,Uv=b(()=>{rg(),Ig(),Bg(),Ov=S(Af()),Yg(),Zg(),cv(),dv(),Rv(),Dv=Ug({name:"Clickable",compose:Iv,keys:["unstable_clickOnEnter","unstable_clickOnSpace"],useOptions:function(e){var t=e.unstable_clickOnEnter,n=void 0===t||t,r=e.unstable_clickOnSpace;return Jm({unstable_clickOnEnter:n,unstable_clickOnSpace:void 0===r||r},eg(e,["unstable_clickOnEnter","unstable_clickOnSpace"]))},useProps:function(e,t){var n=t.onKeyDown,r=t.onKeyUp,i=eg(t,["onKeyDown","onKeyUp"]),a=(0,Ov.useState)(!1),o=a[0],s=a[1],l=lv(n),u=lv(r),c=(0,Ov.useCallback)(function(t){var n,r;if(null===(n=l.current)||void 0===n||n.call(l,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey&&(r=t).target===r.currentTarget){var i=e.unstable_clickOnEnter&&"Enter"===t.key,a=e.unstable_clickOnSpace&&" "===t.key;if(i||a){if(function(e){var t=e.currentTarget;return!!e.isTrusted&&(qg(t)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"A"===t.tagName||"SELECT"===t.tagName)}(t))return;t.preventDefault(),i?t.currentTarget.click():a&&s(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),d=(0,Ov.useCallback)(function(t){var n;if(null===(n=u.current)||void 0===n||n.call(u,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey){var r=e.unstable_clickOnSpace&&" "===t.key;o&&r&&(s(!1),t.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,o]);return Jm({"data-active":o||void 0,onKeyDown:c,onKeyUp:d},i)}}),Tg({as:"button",memo:!0,useHook:Dv})}),Bv=b(()=>{rg(),Ig(),Bg(),zv=S(Af()),Gg(),Yg(),Zg(),Uv(),Lv=Ug({name:"Button",compose:Dv,keys:[],useProps:function(e,t){var n=t.ref,r=eg(t,["ref"]),i=(0,zv.useRef)(null),a=(0,zv.useState)(void 0),o=a[0],s=a[1],l=(0,zv.useState)("button"),u=l[0],c=l[1];return(0,zv.useEffect)(function(){var e=i.current;e&&(qg(e)||("A"!==e.tagName&&s("button"),c(void 0)))},[]),Jm({ref:Hg(i,n),role:o,type:u},r)}}),Nv=Tg({as:"button",memo:!0,useHook:Lv})}),Vv=b(()=>{rg(),Ig(),Bg(),Ev(),jv=Ug({name:"Group",compose:_v,keys:[],useProps:function(e,t){return Jm({role:"group"},t)}}),Fv=Tg({as:"div",useHook:jv})});var Hv,Wv,Gv,qv=b(()=>{Hv=S(Af()),sv(),ov(),S(Df()),Wv=(0,Hv.createContext)(rv?document.body:null)}),Xv=b(()=>{"undefined"!=typeof window&&(Gv={get passive(){}},window.addEventListener("testPassive",null,Gv),window.removeEventListener("testPassive",null,Gv)),"undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints)}),Yv=b(()=>{S(Af()),Zg(),Bv(),Vv(),S(Df()),qv(),Xv(),Kg()});function Kv(e){let t=(0,$v.useMemo)(()=>{let t=e;return{get current(){return t},set current(e){t=e,r(e)}}},[]),[n,r]=(0,$v.useState)(()=>e);return[t,n]}var $v,Zv=b(()=>{$v=S(Af())});var Qv,Jv,ey,ty,ny,ry,iy,ay,oy,sy,ly,uy,cy,dy,fy,hy,py,my,gy,vy,yy,by,wy,xy,_y=b(()=>{$m(),Hp(),Hp(),Qv=S(Af()),Jv=S(Df()),Yv(),Zv(),ty=Th(ey||(ey=k(["\n  #pointer-root & {\n    pointer-events: none;\n  }\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n"]))),ny={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return qm(.6,ny.panel.bg)}}}}}},iy="undefined"!=typeof window?zh(ry||(ry=k(["\n  :host {\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))):{},oy=Vp.div(ay||(ay=k(["\n  z-index: 51;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  pointer-events: none;\n"]))),sy=e=>Qv.default.createElement(Ch,{disableVendorPrefixes:!0,target:e.target},Qv.default.createElement(Qv.default.Fragment,null,Qv.default.createElement(iy,null),e.children)),ly=e=>{let[t,n]=(0,Qv.useState)(null),[r,i]=(0,Qv.useState)(null);(0,Qv.useLayoutEffect)(()=>{if(!t)return;let{parentNode:e}=t;if(!e)return;let n=e.shadowRoot?parent.shadowRoot:e.attachShadow({mode:"open"});i(n)},[t]);let[a,o]=Kv(void 0);return r?Jv.default.createPortal(Qv.default.createElement(sy,{target:r},Qv.default.createElement(Qv.default.Fragment,null,Qv.default.createElement(oy,{ref:a}),Qv.default.createElement(Wv.Provider,{value:o},e.children))),r):Qv.default.createElement("template",{ref:n,"shadow-root":"open"},e.children)}}),Sy=b(()=>{_y(),Hp(),uy={get outlinePanel(){return 1},get propsPanel(){return uy.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},cy=ny.panel.bg,fy=Vp.span(dy||(dy=k(["\n  white-space: nowrap;\n"]))),py=Vp.span(hy||(hy=k(["\n  white-space: nowrap;\n  color: ",";\n"])),ny.panel.head.punctuation.color),gy=Vp.div(my||(my=k(["\n  background: ",";\n  flex-grow: 1;\n  overflow-y: scroll;\n  padding: 0;\n"])),cy),vy=18,by=Vp.div(yy||(yy=k(["\n  height: ","px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  position: relative;\n  color: #adadadb3;\n  border-bottom: 1px solid rgb(0 0 0 / 13%);\n  background-color: #25272b;\n  font-size: 10px;\n  font-weight: 500;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),vy),wy=100}),Ey=b(()=>{xy=()=>{}});function ky(e){return Cy.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Cy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Cy,My,Py=b(()=>{Cy=S(Af()),My=ky});function Ty(e){return Ay.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ay.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var Ay,Iy,Ry=b(()=>{Ay=S(Af()),Iy=Ty});function Oy(e){return Dy.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Dy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var Dy,zy,Ly=b(()=>{Dy=S(Af()),zy=Oy});function Ny(e){return jy.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),jy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var jy,Fy,Uy=b(()=>{jy=S(Af()),Fy=Ny});function By(e){return Vy.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Vy.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var Vy,Hy,Wy=b(()=>{Vy=S(Af()),Hy=By});function Gy(e){return qy.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),qy.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var qy,Xy,Yy=b(()=>{qy=S(Af()),Xy=Gy});function Ky(e){return $y.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$y.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var $y,Zy,Qy,Jy,eb,tb,nb,rb,ib,ab,ob,sb,lb,ub,cb,db,fb,hb,pb,mb,gb,vb=b(()=>{$y=S(Af()),Zy=Ky}),yb=b(()=>{Py(),Ry(),Ly(),Uy(),Wy(),Yy(),vb()}),bb=b(()=>{Qy=S(Af()),Hp(),Ey(),_y(),yb(),eb=Vp.li(Jy||(Jy=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),nb=Vp.div(tb||(tb=k([""]))),ib=Vp(nb)(rb||(rb=k(["\n  position: relative;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  margin-left: calc(4px + var(--depth) * 16px);\n  padding-left: 4px;\n  padding-right: 8px;\n  gap: 4px;\n  height: 21px;\n  line-height: 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  pointer-events: none;\n  white-space: nowrap;\n\n  border-radius: 2px;\n  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);\n\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(40, 43, 47, 0.65);\n  backdrop-filter: blur(14px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n\n  &.descendant-is-selected {\n    background: rgba(29, 53, 59, 0.7);\n  }\n\n  ",";\n  &:not(.not-selectable):not(.selected):hover {\n    background: rgba(59, 63, 69, 0.9);\n\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &:not(.not-selectable):not(.selected):active {\n    background: rgba(82, 88, 96, 0.9);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &.selected {\n    background: rgba(30, 88, 102, 0.7);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ty),ob=Th(ab||(ab=k(["\n  font-weight: 500;\n  font-size: 11px;\n  & {\n  }\n"]))),lb=Vp.span(sb||(sb=k(["\n  ",";\n\n  ",";\n  position: relative;\n  // Compensate for border bottom\n  top: 0.5px;\n  display: flex;\n  height: 20px;\n  align-items: center;\n  box-sizing: border-box;\n"])),ob,ty),cb=Vp.div(ub||(ub=k(["\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  opacity: 0.99;\n"]))),fb=Vp.span(db||(db=k(["\n  font-size: 9px;\n  position: relative;\n  display: block;\n  transition: transform 0.1s ease-out;\n\n  &:hover {\n    transform: rotate(-20deg);\n  }\n\n  ",".collapsed & {\n    transform: rotate(-90deg);\n\n    &:hover {\n      transform: rotate(-70deg);\n    }\n  }\n"])),eb),pb=Vp.ul(hb||(hb=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  ",".collapsed & {\n    display: none;\n  }\n"])),eb),mb=({label:e,children:t,depth:n,select:r,selectionStatus:i,labelDecoration:a,collapsed:o=!1,setIsCollapsed:s})=>{let l=void 0!==t;return Qy.default.createElement(eb,{style:{"--depth":n},className:o?"collapsed":""},Qy.default.createElement(ib,{className:i,onClick:null!=r?r:xy,"data-header":!0},Qy.default.createElement(cb,null,l?Qy.default.createElement(fb,{onClick:e=>{e.stopPropagation(),e.preventDefault(),null==s||s(!o)}},Qy.default.createElement(Iy,null)):Qy.default.createElement(Hy,null)),Qy.default.createElement(lb,null,Qy.default.createElement("span",null,e)),a),l&&Qy.default.createElement(pb,null,t))},gb=mb});var wb,xb,_b,Sb,Eb,kb=b(()=>{wb=Cm(),Q(),Mf(),I(),xb=()=>{var e;let t=(0,wb.val)(T().projectsP),n=(null!=(e=(0,wb.val)(T().atomP.historic.panels.outlinePanel.selection))?e:[]).map(e=>{let n=t[e.projectId];if(!n)return;if("Project"===e.type)return n;if(!(0,wb.val)(n.sheetTemplatesP[e.sheetId]))return;let r=_b(n,e.sheetId);if(!r)return;if("Sheet"===e.type)return r;let i=(0,wb.val)(r.objectsP[e.objectKey]);return i||void 0});return kf(n.filter(e=>void 0!==e))},_b=(e,t)=>{let n=T().atomP.historic.projects.stateByProjectId[e.address.projectId],r=(0,wb.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,wb.val)(e.sheetTemplatesP[t]);if(i){if(r)return(0,wb.val)(i.instancesP[r]);{let e=(0,wb.val)(i.instancesP);return e[function(e){return Object.keys(e)}(e)[0]]}}}}),Cb=b(()=>{I(),Sb=S(Af()),bb(),$f(),kb(),Eb=({sheetObject:e,depth:t,overrideLabel:n})=>{let r=zf(()=>xb(),[]);return Sb.default.createElement(gb,{select:()=>{T().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e])})},label:null!=n?n:e.address.objectKey,depth:t,selectionStatus:r.includes(e)?"selected":"not-selected"})}});function Mb(e){var t;let n="namespace"===e.type?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):"Theatre_Project"===e.type?"project":"Theatre_Sheet"===e.type?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",r="namespace"===e.type?e.sheet.address.projectId:e.address.projectId,i=null!=(t=Vf(T().atomP.ahistoric.projects.stateByProjectId[r].collapsedItemsInOutline[n]))&&t,a=(0,Pb.useCallback)(e=>{T().transaction(({stateEditors:t})=>{t.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:r,isCollapsed:e,itemKey:n})})},[n]);return{collapsed:i,setCollapsed:a}}var Pb,Tb=b(()=>{Pb=S(Af()),I(),$f()});function Ab(e){return Db.default.createElement(Db.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:n,nested:r}])=>Db.default.createElement(Ib,{key:t,label:t,object:n,nested:r,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function Ib(e){let{nested:t,label:n,object:r,sheet:i}=e,{collapsed:a,setCollapsed:o}=Mb({type:"namespace",sheet:i,path:[...e.path,n]}),s=t&&Db.default.createElement(Ab,{namespace:t,path:[...e.path,n],key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:i}),l=r&&Db.default.createElement(Eb,{depth:e.visualIndentation,key:"objectPath("+r.address.objectKey+")",sheetObject:r,overrideLabel:n});return Db.default.createElement(Db.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},l,s&&Db.default.createElement(gb,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:s,collapsed:a,setIsCollapsed:o}))}function Rb(e,t,n=function(e){let t=jb.get(e);return t||(t=e.address.objectKey.split(Nb),jb.set(e,t)),t}(t)){let[r,...i]=n,a=e.get(r);a||(a={nested:void 0,object:void 0,path:[...n]},e.set(r,a)),0===i.length?a.object=t:(a.nested||(a.nested=new Map),Rb(a.nested,t,i))}var Ob,Db,zb,Lb,Nb,jb,Fb,Ub,Bb,Vb,Hb,Wb,Gb,qb,Xb,Yb,Kb,$b,Zb,Qb,Jb,ew,tw,nw,rw,iw,aw,ow,sw,lw,uw,cw,dw=b(()=>{$f(),Ob=Cm(),Db=S(Af()),Hp(),Cb(),bb(),Tb(),Vp.li(zb||(zb=k(["\n  color: ",";\n"])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),Lb=({sheet:e,depth:t})=>zf(()=>{let n=(0,Ob.val)(e.objectsP),r=Object.values(n).filter(e=>null!=e),i=new Map;return r.forEach(e=>{Rb(i,e)}),Db.default.createElement(Ab,{namespace:i,visualIndentation:t,path:[],sheet:e})},[e,t]),Nb=/\s*\/\s*/g,jb=new WeakMap}),fw=b(()=>{I(),kb(),$f(),Fb=S(Af()),Hp(),dw(),bb(),Tb(),Bb=Vp.div(Ub||(Ub=k(["\n  display: flex;\n"]))),Vp.li(Vb||(Vb=k(["\n  color: ",";\n"])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),Wb=Vp.div(Hb||(Hb=k([""]))),Gb=({sheet:e,depth:t})=>{let{collapsed:n,setCollapsed:r}=Mb(e),i=(0,Fb.useCallback)(()=>{T().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e])})},[e]);return zf(()=>{let a=xb();return Fb.default.createElement(gb,{depth:t,select:i,setIsCollapsed:r,collapsed:n,selectionStatus:a.some(t=>t===e)?"selected":a.some(t=>"Theatre_SheetObject"===t.type&&t.sheet===e)?"descendant-is-selected":"not-selected",label:Fb.default.createElement(Bb,null,e.address.sheetId,": ",e.address.sheetInstanceId)},Fb.default.createElement(Wb,null,Fb.default.createElement(Lb,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,n])}}),hw=b(()=>{$f(),qb=Cm(),Xb=S(Af()),Hp(),fw(),Vp.div(Yb||(Yb=k(["\n  display: flex;\n"]))),Vp.li(Kb||(Kb=k(["\n  color: ",";\n"])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),Vp.div($b||($b=k([""]))),Zb=({sheetId:e,depth:t,project:n})=>zf(()=>{let r=(0,qb.val)(n.sheetTemplatesP[e]);if(!r)return Xb.default.createElement(Xb.default.Fragment,null);let i=(0,qb.val)(r.instancesP);return Xb.default.createElement(Xb.default.Fragment,null,Object.entries(i).map(([e,n])=>Xb.default.createElement(Gb,{key:n.address.sheetInstanceId,sheet:n,depth:t})))},[t,e,n])}),pw=b(()=>{kb(),$f(),Qb=S(Af()),hw(),Jb=({project:e,depth:t})=>zf(()=>{if(!e)return null;let n=function(e){return Object.keys((0,wb.val)(e.sheetTemplatesP))}(e);return Qb.default.createElement(Qb.default.Fragment,null,n.map(n=>Qb.default.createElement(Zb,{depth:t,sheetId:n,key:"sheet-".concat(n),project:e})))},[e,t])}),mw=b(()=>{ew=S(Af()),bb(),pw(),I(),$f(),kb(),tw=Cm(),Hp(),Tb(),rw=Vp.div(nw||(nw=k(["\n  color: #ff6363;\n  margin-left: 11px;\n  background: #4c282d;\n  padding: 2px 8px;\n  border-radius: 2px;\n  font-size: 10px;\n  box-shadow: 0 2px 8px -4px black;\n"]))),iw=({depth:e,project:t})=>{let n=zf(()=>xb(),[]),r=zf(()=>{let e=t.address.projectId,n=(0,tw.val)(T().atomP.ephemeral.coreByProject[e].loadingState);return"browserStateIsNotBasedOnDiskState"===(null==n?void 0:n.type)},[t]),i=(0,ew.useCallback)(()=>{T().transaction(({stateEditors:e})=>{e.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:a,setCollapsed:o}=Mb(t);return ew.default.createElement(gb,{depth:e,label:t.address.projectId,setIsCollapsed:o,collapsed:a,labelDecoration:r?ew.default.createElement(rw,null,"Has Conflicts"):null,children:ew.default.createElement(Jb,{project:t,depth:e+1}),selectionStatus:n.includes(t)?"selected":n.some(e=>e.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:i})},aw=iw}),gw=b(()=>{ow=Cm(),$f(),I(),sw=S(Af()),Hp(),mw(),uw=Vp.ul(lw||(lw=k(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  padding-right: 4px;\n"]))),cw=e=>zf(()=>{let e=(0,ow.val)(T().projectsP);return sw.default.createElement(uw,null,Object.keys(e).map(t=>{let n=e[t];return sw.default.createElement(aw,{depth:0,project:n,key:"projectListItem-".concat(t)})}))},[])});function vw(e){let[t,n]=(0,yw.useState)(!1);return(0,yw.useEffect)(()=>{let r=r=>{let i=t?200:50,a="left"===e?r.x<i:r.x>window.innerWidth-i;a&&(a=r.y>56),n(!!a)};document.addEventListener("mousemove",r);let i=()=>{n(!1)};return document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseleave",i)}},[t]),t}var yw,bw,ww,xw,_w,Sw,Ew,kw,Cw,Mw,Pw,Tw,Aw,Iw=b(()=>{yw=S(Af())}),Rw=b(()=>{bw=S(Af()),Hp(),Sy(),gw(),$f(),I(),Iw(),ww=Cm(),_y(),xw="44px",Sw=Vp.div(_w||(_w=k(["\n  ",";\n  background-color: transparent;\n  position: absolute;\n  left: 8px;\n  z-index: ",";\n\n  top: calc("," + 8px);\n  height: fit-content;\n  max-height: calc(100% - ",");\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 0;\n  user-select: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list\n  &::after {\n    content: '';\n    display: block;\n    height: 20px;\n  }\n"])),ty,uy.outlinePanel,xw,xw,({pin:e})=>e?"block":"none"),Ew=()=>{var e;let t=null==(e=Vf(T().atomP.ahistoric.pinOutline))||e,n=Vf(Mw),r=vw("left");return(0,bw.useLayoutEffect)(()=>{kw.set(r)},[r]),(0,bw.useEffect)(()=>()=>{Cw.set(!1),kw.set(!1)},[]),bw.default.createElement(Sw,{pin:t||n,onMouseEnter:()=>{Cw.set(!0)},onMouseLeave:()=>{Cw.set(!1)}},bw.default.createElement(cw,null))},kw=new ww.Atom(!1),Cw=new ww.Atom(!1),Mw=(0,ww.prism)(()=>{let e=(0,ww.val)(Cw.prism),t=(0,ww.val)(kw.prism);return e||t})}),Ow=b(()=>{Hp(),Tw=Vp.input.attrs({type:"checkbox"})(Pw||(Pw=k(["\n  outline: none;\n"]))),Aw=Tw});function Dw({propConfig:e,editingTools:t,value:n,autoFocus:r}){let i=(0,zw.useCallback)(e=>{t.permanentlySetValue(!!e.target.checked)},[e,t]);return zw.default.createElement(Nw,{checked:n,onChange:i,autoFocus:r})}var zw,Lw,Nw,jw,Fw=b(()=>{zw=S(Af()),Hp(),Ow(),Nw=Vp(Aw)(Lw||(Lw=k(["\n  margin-left: 6px;\n\n  :focus {\n    outline: 1px solid #555;\n  }\n"]))),jw=Dw});function Uw(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}var Bw=b(()=>{});function Vw(e,t,n){(0,Hw.useEffect)(()=>{if(!e||!1===n)return;let r=Array.isArray(e)?e.filter(e=>e):[e],i=e=>{r.every(t=>!e.composedPath().includes(t))&&t(e)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}},[e,n])}var Hw,Ww,Gw,qw,Xw,Yw,Kw,$w,Zw,Qw,Jw,ex=b(()=>{Hw=S(Af())}),tx=b(()=>{Ww=S(Af()),Hp(),Gw="--lockedCursor",Xw=Vp.div(qw||(qw=k(["\n  pointer-events: auto;\n  &.normal {\n    pointer-events: none;\n  }\n"]))),Kw=Vp.div(Yw||(Yw=k(["\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  #pointer-root:not(.normal) > & {\n    pointer-events: auto;\n  }\n"]))),$w=(0,Ww.createContext)({}),Zw=e=>{var t,n,r,i;let[a,o]=(0,Ww.useState)([]),s=(0,Ww.useMemo)(()=>({getLock:(e,t)=>{let n={className:e,cursor:t};return o(e=>[...e,n]),()=>{o(e=>e.filter(e=>e!==n))}}}),[]),l=null!=(n=null==(t=a[0])?void 0:t.cursor)?n:"";return Ww.default.createElement($w.Provider,{value:s},Ww.default.createElement(Xw,{id:"pointer-root",className:(null!=(i=null==(r=a[0])?void 0:r.className)?i:"normal")+" "+e.className},Ww.default.createElement(Kw,{style:{cursor:l,[Gw]:l}},e.children)))},Qw=(e,t,n)=>{let r=(0,Ww.useContext)($w);(0,Ww.useLayoutEffect)(()=>{if(e)return r.getLock(t,n)},[e,t,n])},Jw=Zw});function nx(e){return ix.default.createElement(ax.Provider,{value:e.logger},e.children)}function rx(e,t){let n=(0,ix.useContext)(ax);return(0,ix.useMemo)(()=>e?n.named(e,t):n,[n,e,t])}var ix,ax,ox=b(()=>{ix=S(Af()),ax=ix.default.createContext(null)});function sx(e){let t=function(){let e=rx("PointerCapturing"),t=ux.default.useRef(null),n=()=>null!=t.current;return r=>{let i,a=e=>(i=e,t.current=e,e);return{capturing:{capturePointer(n){if(e._debug("Capturing pointer",{forDebugName:r,reason:n}),null!=t.current)throw new Error('"'.concat(r,'" attempted capturing pointer for "').concat(n,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let i=a({debugOwnerName:r,debugReason:n});return{isCapturing:()=>i===t.current,release:()=>i===t.current&&(e._debug("Releasing pointer",{forDebugName:r,reason:n}),a(null),!0)}},isPointerBeingCaptured:n},forceRelease(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),a(null))}}}}();return ux.default.createElement(cx.Provider,{value:t},ux.default.createElement(dx,{children:e.children}))}function lx(e){let t=(0,ux.useContext)(cx),n=(0,ux.useMemo)(()=>t(e),[e,t]);return(0,ux.useEffect)(()=>()=>{n.forceRelease()},[n]),n.capturing}var ux,cx,dx,fx,hx=b(()=>{ux=S(Af()),ox(),cx=ux.default.createContext(null),dx=ux.default.memo(({children:e})=>ux.default.createElement(ux.default.Fragment,null,e))}),px=b(()=>{fx="undefined"!=typeof window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function mx(e,t){let n=(0,gx.useRef)(t);n.current=t;let r=t.shouldPointerLock&&!fx,i=(0,gx.useRef)({domDragStarted:!1}),{capturePointer:a}=lx("useDrag for ".concat(t.debugName)),o=(0,gx.useRef)({onDrag:xy,onDragEnd:xy,onClick:xy}),s=(0,gx.useRef)(),[l,u]=Kv(!1);return(0,gx.useLayoutEffect)(()=>{if(!e)return;let u=()=>{let e=i.current.domDragStarted&&i.current.detection.detected;l.current!==e&&(l.current=e)},c=t=>{if(!i.current.domDragStarted)return;let n=i.current;if(!function(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>yx||Math.abs(e.movementY)>yx)}(t,n)&&(n.detection.detected||(n.detection.totalDistanceMoved+=Math.abs(t.movementY)+Math.abs(t.movementX),n.detection.totalDistanceMoved>vx&&(r&&e.requestPointerLock(),n.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},u())),n.detection.detected)){n.detection.dragEventCount+=1;let{dragMovement:e}=n.detection;if(r)e.x+=t.movementX,e.y+=t.movementY;else{let{startPos:r}=n;e.x=t.screenX-r.x,e.y=t.screenY-r.y}o.current.onDrag(e.x,e.y,t,t.movementX,t.movementY)}},d=e=>{if(f(),!i.current.domDragStarted)return;let n=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!fx&&document.exitPointerLock(),o.current.onDragEnd(n),window.focus(),n||o.current.onClick(e),u()},f=()=>{var e;null==(e=s.current)||e.release(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d)},h=e=>{n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},u())},p=e=>{var t,r,l,f;null==(t=s.current)||t.release();let h=n.current;if(!0===h.disabled||!(null!=(r=h.buttons)?r:[0]).includes(e.button))return;let p=h.onDragStart(e);!1!==p&&(o.current.onDrag=p.onDrag,o.current.onDragEnd=null!=(l=p.onDragEnd)?l:xy,o.current.onClick=null!=(f=p.onClick)?f:xy,s.current=a("Drag start"),h.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current={domDragStarted:!0,startPos:{x:e.screenX,y:e.screenY},detection:{detected:!1,totalDistanceMoved:0}},u(),document.addEventListener("mousemove",c),document.addEventListener("mouseup",d))},m=e=>{p(e)};return e.addEventListener("mousedown",m),e.addEventListener("click",h),()=>{var t,n;f(),e.removeEventListener("mousedown",m),e.removeEventListener("click",h),i.current.domDragStarted&&(null==(n=(t=o.current).onDragEnd)||n.call(t,i.current.detection.detected)),i.current={domDragStarted:!1},u()}},[e]),Qw(u&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[u]}var gx,vx,yx,bx=b(()=>{gx=S(Af()),tx(),hx(),Ey(),px(),Zv(),vx=3,yx=100});var wx,xx,_x,Sx,Ex,kx,Cx,Mx,Px,Tx,Ax,Ix,Rx,Ox,Dx=b(()=>{Mf(),wx=S(Af()),xx=S(Af()),_x=S(Af()),Hp(),Bw(),Zv(),ex(),bx(),Ex=Vp.div(Sx||(Sx=k(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  z-index: 0;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n\n  &:after {\n    position: absolute;\n    inset: 1px 0 2px;\n    display: block;\n    content: ' ';\n    background-color: transparent;\n    border: 1px solid transparent;\n    z-index: -2;\n    box-sizing: border-box;\n    border-radius: 1px;\n  }\n\n  &:hover,\n  &.dragging,\n  &.editingViaKeyboard {\n    &:after {\n      background-color: #10101042;\n      border-color: #00000059;\n    }\n  }\n"]))),Cx=Vp.input(kx||(kx=k(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: ew-resize;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n\n  &:focus {\n    cursor: text;\n  }\n"]))),Px=Vp.div(Mx||(Mx=k(["\n  position: absolute;\n  inset: 3px 2px 4px;\n  transform: scale(var(--percentage), 1);\n  transform-origin: top left;\n  background-color: #2d5561;\n  z-index: -1;\n  border-radius: 2px;\n  pointer-events: none;\n\n  ",".dragging &, ",".noFocus:hover & {\n    background-color: #338198;\n  }\n"])),Ex,Ex),Ax=Vp.div(Tx||(Tx=k(["\n  display: contents;\n"]))),Ix=e=>!0,Rx=e=>{var t;let[n]=Kv({mode:"noFocus"}),r=null!=(t=e.isValid)?t:Ix,i=(0,_x.useRef)(e);i.current=e;let a=(0,_x.useRef)(null);Vw(a.current,()=>{a.current.blur()},"editingViaKeyboard"===n.current.mode);let o=(0,_x.useRef)(null),s=(0,_x.useMemo)(()=>{let t,s=()=>{let e=n.current,t=parseFloat(e.currentEditedValueInString);isFinite(t)&&r(t)&&e.valueBeforeEditing!==t?i.current.permanentlySetValue(t):i.current.discardTemporaryValue()},l=()=>{let e=i.current.value;n.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout(()=>{a.current.focus(),a.current.setSelectionRange(0,100)})};return{inputChange:e=>{let t=e.target,{value:a}=t,o=n.current;n.current=v(g({},o),{currentEditedValueInString:a});let s=parseFloat(a);!isFinite(s)||!r(s)||i.current.temporarilySetValue(s)},onBlur:()=>{"editingViaKeyboard"===n.current.mode&&(s(),n.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},transitionToDraggingMode:()=>{var r;let s=i.current.value;t=null==(r=a.current)?void 0:r.getBoundingClientRect().width,n.current={mode:"dragging"};let l=s,u=s;return o.current=document.body.style.cursor,{onDrag(n,r,a,o){let s=a.altKey?o/10:o,l=u+e.nudge({deltaX:s,deltaFraction:s/t,magnitude:1});u=e.range?ds(l,e.range[0],e.range[1]):l,i.current.temporarilySetValue(u)},onDragEnd(e){e?(l===u?i.current.discardTemporaryValue():i.current.permanentlySetValue(u),n.current={mode:"noFocus"}):(i.current.discardTemporaryValue(),n.current={mode:"noFocus"})},onClick(){a.current.focus(),a.current.setSelectionRange(0,100)}}},onInputKeyDown:e=>{"Escape"===e.key?(i.current.discardTemporaryValue(),n.current={mode:"noFocus"},a.current.blur()):("Enter"===e.key||"Tab"===e.key)&&(s(),a.current.blur())},onClick:e=>{"noFocus"===n.current.mode&&(a.current.focus(),e.preventDefault()),e.stopPropagation()},onFocus:()=>{"noFocus"===n.current.mode?l():n.current.mode}}},[]);(0,wx.useEffect)(()=>()=>{s.onBlur()},[]);let l="editingViaKeyboard"!==n.current.mode?function(e){return isNaN(e)?"NaN":Sd(e)?e.toFixed(0):of(e,3).toString()}(e.value):n.current.currentEditedValueInString;"number"==typeof l&&isNaN(l)&&(l="NaN");let u=[a];e.inputRef&&u.push(e.inputRef);let c=_x.default.createElement(Cx,{key:"input",type:"text",onChange:s.inputChange,value:l,onBlur:s.onBlur,onKeyDown:s.onInputKeyDown,onClick:s.onClick,onFocus:s.onFocus,ref:Uw(u),onMouseDown:e=>{e.stopPropagation()},onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus}),{range:d}=e,f=parseFloat(l),h=d?_x.default.createElement(Px,{style:{"--percentage":ds((f-d[0])/(d[1]-d[0]),0,1)}}):null,[p,m]=(0,xx.useState)(null);return mx(p,{debugName:"form/BasicNumberInput",onDragStart:s.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:"editingViaKeyboard"===n.current.mode}),_x.default.createElement(Ex,{className:e.className+" "+n.current.mode},_x.default.createElement(Ax,{ref:m},c),h)},Ox=Rx});function zx({propConfig:e,editingTools:t,value:n,autoFocus:r}){let i=(0,Lx.useCallback)(t=>e.nudgeFn(v(g({},t),{config:e})),[e]);return Lx.default.createElement(Ox,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:i,autoFocus:r})}var Lx,Nx,jx=b(()=>{Dx(),Lx=S(Af()),Nx=zx});function Fx({value:e,onChange:t,options:n,autoFocus:r}){let i=(0,Ux.useCallback)(e=>{t(String(e.target.value))},[t]);return Ux.default.createElement(Vx,{role:"radiogroup"},Object.keys(n).map((t,a)=>Ux.default.createElement(Wx,{key:"label-"+a,"data-checked":e===t},n[t],Ux.default.createElement(qx,{type:"radio",checked:e===t,value:t,onChange:i,name:"switchbox",autoFocus:r}))))}var Ux,Bx,Vx,Hx,Wx,Gx,qx,Xx,Yx,Kx,$x,Zx=b(()=>{$m(),Ux=S(Af()),Hp(),Vx=Vp.form(Bx||(Bx=k(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  vertical-align: middle;\n  justify-content: stretch;\n  height: 24px;\n  width: 100%;\n"]))),Wx=Vp.label(Hx||(Hx=k(["\n  padding: 0 0.5em;\n  background: transparent;\n  /* background: #373748; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  color: #a7a7a7;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  border-right-width: 0px;\n\n  & + &:last-child {\n    border-right-width: 1px;\n  }\n\n  ",":hover > & {\n    border-color: #1c2123;\n    /* background-color: #373748; */\n    /* color: ","; */\n  }\n\n  &&:hover {\n    background-color: #464654;\n  }\n\n  &&[data-checked='true'] {\n    color: white;\n    background: #3f3f4c;\n  }\n"])),Vx,Gm(.1,"white")),qx=Vp.input(Gx||(Gx=k(["\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  width: 0;\n  height: 0;\n"]))),Xx=Fx}),Qx=b(()=>{}),Jx=b(()=>{Yx=S(Af()),Kx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$x=Yx.default.createContext&&Yx.default.createContext(Kx)});function e_(e){return e&&e.map(function(e,t){return r_.default.createElement(e.tag,i_({key:t},e.attr),e_(e.child))})}function t_(e){return function(t){return r_.default.createElement(n_,i_({attr:i_({},e.attr)},t),e_(e.child))}}function n_(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=a_(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r_.default.createElement("svg",i_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:i_(i_({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&r_.default.createElement("title",null,a),e.children)};return void 0!==$x?r_.default.createElement($x.Consumer,null,function(e){return t(e)}):t(Kx)}var r_,i_,a_,o_=b(()=>{r_=S(Af()),Jx(),i_=function(){return i_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i_.apply(this,arguments)},a_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}}),s_=b(()=>{Qx(),o_(),Jx()}),l_=b(()=>{s_()}),u_=b(()=>{s_()});function c_(e){return t_({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var d_=b(()=>{s_()}),f_=b(()=>{s_()}),h_=b(()=>{s_()});function p_(e){return t_({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function m_(e){return t_({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var g_=b(()=>{s_()}),v_=b(()=>{s_()}),y_=b(()=>{s_()}),b_=b(()=>{s_()}),w_=b(()=>{s_()}),x_=b(()=>{s_()}),__=b(()=>{s_()}),S_=b(()=>{s_()}),E_=b(()=>{s_()}),k_=b(()=>{s_()});function C_(e){return t_({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var M_=b(()=>{s_()}),P_=b(()=>{s_()}),T_=b(()=>{s_()}),A_=b(()=>{s_()});function I_(e){return t_({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var R_=b(()=>{s_()});function O_(e){return t_({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var D_=b(()=>{s_()}),z_=b(()=>{l_(),u_(),d_(),f_(),h_(),g_(),v_(),y_(),b_(),w_(),x_(),__(),S_(),E_(),k_(),M_(),P_(),T_(),A_(),R_(),D_()});function L_({value:e,onChange:t,options:n,className:r,autoFocus:i}){let a=(0,N_.useCallback)(e=>{t(String(e.target.value))},[t]);return N_.default.createElement(F_,null,N_.default.createElement(H_,{className:r,value:e,onChange:a,autoFocus:i},Object.keys(n).map((e,t)=>N_.default.createElement("option",{key:"option-"+t,value:e},n[e]))),N_.default.createElement(B_,null,N_.default.createElement(I_,null)))}var N_,j_,F_,U_,B_,V_,H_,W_,G_=b(()=>{N_=S(Af()),Hp(),z_(),F_=Vp.div(j_||(j_=k(["\n  width: 100%;\n  position: relative;\n"]))),B_=Vp.div(U_||(U_=k(["\n  position: absolute;\n  right: 0px;\n  top: 0;\n  bottom: 0;\n  width: 1.5em;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  color: #6b7280;\n  pointer-events: none;\n"]))),H_=Vp.select(V_||(V_=k(["\n  appearance: none;\n  background-color: transparent;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.85);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  text-align: left;\n  width: 100%;\n  border-radius: 2px;\n  /*\n  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.\n  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.\n  */\n  height: 26px /* calc(100% - 4px); */;\n\n  @supports (-moz-appearance: none) {\n    /* Ugly hack to remove the extra left padding that shows up only in Firefox */\n    text-indent: -2px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n"]))),W_=L_});function q_({propConfig:e,editingTools:t,value:n,autoFocus:r}){let i=(0,X_.useCallback)(e=>{t.permanentlySetValue(e)},[e,t]);return"menu"===e.as?X_.default.createElement(W_,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:r}):X_.default.createElement(Xx,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:r})}var X_,Y_,K_,$_,Z_,Q_,J_,eS,tS,nS=b(()=>{X_=S(Af()),Zx(),G_(),Y_=q_}),rS=b(()=>{Hp(),K_=S(Af()),$_=S(Af()),Bw(),Zv(),ex(),Q_=Vp.input.attrs({type:"text"})(Z_||(Z_=k(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &:hover,\n  &:focus {\n    cursor: text;\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &.invalid {\n    border-color: red;\n  }\n"]))),J_=e=>!0,eS=e=>{var t,n;let[r]=Kv({mode:"noFocus"}),i=null!=(t=e.isValid)?t:J_,a=(0,$_.useRef)(e);a.current=e;let o=(0,$_.useRef)(null);Vw(o.current,()=>{o.current.blur()},"editingViaKeyboard"===r.current.mode);let s=(0,$_.useMemo)(()=>{let e=()=>{let e=r.current,t=e.currentEditedValueInString;i(t)?e.valueBeforeEditing===t?a.current.discardTemporaryValue():a.current.permanentlySetValue(t):a.current.discardTemporaryValue()},t=()=>{let e=a.current.value;r.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout(()=>{o.current.focus()})};return{inputChange:e=>{let t=e.target,{value:n}=t,o=r.current;r.current=v(g({},o),{currentEditedValueInString:n}),i(n)&&a.current.temporarilySetValue(n)},onBlur:()=>{var t,n;"editingViaKeyboard"===r.current.mode&&(e(),r.current={mode:"noFocus"}),null==(n=(t=a.current).onBlur)||n.call(t)},onInputKeyDown:t=>{"Escape"===t.key?(a.current.discardTemporaryValue(),r.current={mode:"noFocus"},o.current.blur()):("Enter"===t.key||"Tab"===t.key)&&(e(),o.current.blur())},onClick:e=>{"noFocus"===r.current.mode&&(o.current.focus(),e.preventDefault()),e.stopPropagation()},onFocus:()=>{"noFocus"===r.current.mode?t():r.current.mode}}},[]);(0,K_.useEffect)(()=>()=>{s.onBlur()},[]);let l="editingViaKeyboard"!==r.current.mode?e.value:r.current.currentEditedValueInString,u=[o];return e.inputRef&&u.push(e.inputRef),$_.default.createElement(Q_,{key:"input",type:"text",className:"".concat(null!=(n=e.className)?n:""," ").concat(i(l)?"":"invalid"),onChange:s.inputChange,value:l,onBlur:s.onBlur,onKeyDown:s.onInputKeyDown,onClick:s.onClick,onFocus:s.onFocus,ref:Uw(u),onMouseDown:e=>{e.stopPropagation()},onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus})},tS=eS});function iS({editingTools:e,value:t,autoFocus:n}){return aS.default.createElement(tS,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:n})}var aS,oS,sS=b(()=>{aS=S(Af()),rS(),oS=iS});function lS(e,{removeAlphaIfOpaque:t=!1}={}){let n=(255*e.a|256).toString(16).slice(1),r=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(t&&"ff"===n?"":n);return"#".concat(r)}function uS(e){return v(g({},e),{toString(){return lS(this,{removeAlphaIfOpaque:!0})}})}var cS,dS=b(()=>{cS=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function fS(e){let t=(0,hS.useRef)(e),n=(0,hS.useRef)(e=>{t.current&&t.current(e)});return t.current=e,n.current}var hS,pS,mS,gS,vS,yS,bS,wS,xS,_S,SS,ES,kS,CS,MS,PS,TS,AS,IS,RS,OS,DS,zS,LS,NS,jS,FS,US,BS,VS,HS,WS,GS,qS,XS,YS,KS,$S,ZS,QS,JS,eE,tE,nE,rE,iE,aE,oE,sE,lE,uE,cE,dE,fE,hE=b(()=>{hS=S(Af())}),pE=b(()=>{pS=(e,t=0,n=1)=>e>n?n:e<t?t:e}),mE=b(()=>{mS=S(Af()),gS=(0,mS.createContext)(void 0),vS=({children:e})=>{let[t,n]=(0,mS.useState)(!1);return mS.default.createElement(gS.Provider,{value:{editing:t,setEditing:n}},e)},yS=()=>(0,mS.useContext)(gS)}),gE=b(()=>{bS=S(Af()),hE(),pE(),Hp(),mE(),wS=e=>"touches"in e,xS=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},_S=e=>e&&e.ownerDocument.defaultView||self,SS=(e,t,n)=>{let r=e.getBoundingClientRect(),i=wS(t)?xS(t.touches,n):t;return{left:pS((i.pageX-(r.left+_S(e).pageXOffset))/r.width),top:pS((i.pageY-(r.top+_S(e).pageYOffset))/r.height)}},ES=e=>{!wS(e)&&e.preventDefault()},kS=(e,t)=>t&&!wS(e),MS=Vp.div(CS||(CS=k(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: inherit;\n  outline: none;\n  /* Don't trigger the default scrolling behavior when the event is originating from this element */\n  touch-action: none;\n"]))),PS=e=>{var t=e,{onMove:n,onKey:r}=t,i=y(t,["onMove","onKey"]);let a=(0,bS.useRef)(null),o=fS(n),s=fS(r),l=(0,bS.useRef)(null),u=(0,bS.useRef)(!1),{setEditing:c}=yS(),[d,f,h]=(0,bS.useMemo)(()=>{let e=e=>{ES(e),(wS(e)?e.touches.length>0:e.buttons>0)&&a.current?o(SS(a.current,e,l.current)):(c(!1),n(!1))},t=e=>{c(!1),n(!1)};function n(n){let r=u.current,i=a.current,o=_S(i),s=n?o.addEventListener:o.removeEventListener;s(r?"touchmove":"mousemove",e),s(r?"touchend":"mouseup",t)}return[({nativeEvent:e})=>{let t=a.current;if(t&&(ES(e),!kS(e,u.current)&&t)){if(wS(e)){u.current=!0;let t=e.changedTouches||[];t.length&&(l.current=t[0].identifier)}t.focus(),c(!0),o(SS(t,e,l.current)),n(!0)}},e=>{let t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]},[s,o]);return(0,bS.useEffect)(()=>h,[h]),bS.default.createElement(MS,v(g({},i),{onTouchStart:d,onMouseDown:d,ref:a,onKeyDown:f,tabIndex:0,role:"slider"}))},TS=bS.default.memo(PS)}),vE=b(()=>{AS=S(Af()),Hp(),gE(),RS=Vp(TS)(IS||(IS=k([""]))),DS=Vp.div(OS||(OS=k(["\n  position: absolute;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  border: 1px solid #ffffff00;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n  ",":focus & {\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n"])),RS),LS=Vp.div(zS||(zS=k(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n"]))),NS=({className:e,color:t,left:n,top:r=.5})=>{let i={top:"".concat(100*r,"%"),left:"".concat(100*n,"%")};return AS.default.createElement(DS,{style:i,className:e},AS.default.createElement(LS,{style:{backgroundColor:t}}))}}),yE=b(()=>{jS=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n}),bE=b(()=>{yE(),FS=({h:e,s:t,v:n,a:r})=>{let i=(200-t)*n/100;return{h:jS(e),s:jS(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:jS(i/2),a:jS(r,2)}},US=e=>{let{h:t,s:n,l:r}=FS(e);return"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)")},BS=e=>{let{h:t,s:n,l:r,a:i}=FS(e);return"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(i,")")},VS=({h:e,s:t,v:n,a:r})=>{e=e/360*6,t/=100,n/=100;let i=Math.floor(e),a=n*(1-t),o=n*(1-(e-i)*t),s=n*(1-(1-e+i)*t),l=i%6;return{r:jS(255*[n,o,a,a,s,n][l]),g:jS(255*[s,n,n,o,a,a][l]),b:jS(255*[a,a,s,n,n,o][l]),a:jS(r,2)}},HS=({r:e,g:t,b:n,a:r})=>{let i=Math.max(e,t,n),a=i-Math.min(e,t,n),o=a?i===e?(t-n)/a:i===t?2+(n-e)/a:4+(e-t)/a:0;return{h:jS(60*(o<0?o+6:o)),s:jS(i?a/i*100:0),v:jS(i/255*100),a:r}}}),wE=b(()=>{WS=S(Af()),gE(),vE(),bE(),pE(),yE(),Hp(),qS=Vp.div(GS||(GS=k(["\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n\n  background: linear-gradient(\n    to right,\n    #f00 0%,\n    #ff0 17%,\n    #0f0 33%,\n    #0ff 50%,\n    #00f 67%,\n    #f0f 83%,\n    #f00 100%\n  );\n"]))),YS=Vp(NS)(XS||(XS=k(["\n  z-index: 2;\n"]))),KS=({className:e,hue:t,onChange:n})=>WS.default.createElement(qS,{className:e},WS.default.createElement(TS,{onMove:e=>{n({h:360*e.left})},onKey:e=>{n({h:pS(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":jS(t)},WS.default.createElement(YS,{left:t/360,color:US({h:t,s:100,v:100,a:1})}))),$S=WS.default.memo(KS)}),xE=b(()=>{ZS=S(Af()),gE(),vE(),bE(),pE(),yE(),Hp(),JS=Vp.div(QS||(QS=k(["\n  position: relative;\n  flex-grow: 1;\n  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */\n  border-bottom: 12px solid #000;\n  border-radius: 2px;\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),\n    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n\n  // Improve elements rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),tE=Vp(NS)(eE||(eE=k(["\n  z-index: 3;\n"]))),nE=({hsva:e,onChange:t})=>{let n={backgroundColor:US({h:e.h,s:100,v:100,a:1})};return ZS.default.createElement(JS,{style:n},ZS.default.createElement(TS,{onMove:e=>{t({s:100*e.left,v:100-100*e.top})},onKey:n=>{t({s:pS(e.s+100*n.left,0,100),v:pS(e.v-100*n.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(jS(e.s),"%, Brightness ").concat(jS(e.v),"%")},ZS.default.createElement(tE,{top:1-e.v/100,left:e.s/100,color:US(e)})))},rE=ZS.default.memo(nE)}),_E=b(()=>{iE=S(Af()),gE(),vE(),bE(),pE(),yE(),Hp(),oE=Vp.div(aE||(aE=k(['\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),lE=Vp.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(sE||(sE=k(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n\n  // Improve rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),cE=Vp(NS)(uE||(uE=k(['\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),dE=({className:e,hsva:t,onChange:n})=>{let r=BS(Object.assign({},t,{a:0})),i=BS(Object.assign({},t,{a:1}));return iE.default.createElement(oE,{className:e},iE.default.createElement(lE,{colorFrom:r,colorTo:i}),iE.default.createElement(TS,{onMove:e=>{n({a:e.left})},onKey:e=>{n({a:pS(t.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(jS(100*t.a),"%")},iE.default.createElement(cE,{left:t.a,color:BS(t)})))}}),SE=b(()=>{fE=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0}});var EE,kE,CE,ME,PE,TE,AE,IE,RE,OE,DE,zE,LE,NE,jE,FE,UE,BE=b(()=>{EE=S(Af()),SE(),hE(),mE()}),VE=b(()=>{kE=S(Af()),wE(),xE(),_E(),BE(),Hp(),ME=Vp.div(CE||(CE=k(["\n  position: relative;\n  display: flex;\n  gap: 4px;\n  flex-direction: column;\n  width: 200px;\n  height: 200px;\n  user-select: none;\n  cursor: default;\n"]))),PE=e=>{var t=e,{className:n,colorModel:r,color:i=r.defaultColor,temporarilySetValue:a,permanentlySetValue:o,discardTemporaryValue:s}=t,l=y(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[u,c]=function(e,t,n,r){let{editing:i}=yS(),[a,o]=(0,EE.useState)(t),s=fS(n),l=fS(r),u=i?a:t,[c,d]=(0,EE.useState)(()=>e.toHsva(u)),f=(0,EE.useRef)({color:u,hsva:c}),h=(0,EE.useRef)({color:u,hsva:c});(0,EE.useEffect)(()=>{i&&o(f.current.color)},[i]),(0,EE.useEffect)(()=>{let t=e.fromHsva(c);i?!fE(c,f.current.hsva)&&!e.equal(t,f.current.color)&&(f.current={hsva:c,color:t},o(t),s(t)):!fE(c,h.current.hsva)&&!e.equal(t,h.current.color)&&(h.current={hsva:c,color:t},f.current={hsva:c,color:t},l(t))},[i,c,e,s,l]),(0,EE.useEffect)(()=>{if(!i&&!e.equal(u,h.current.color)){let t=e.toHsva(u);h.current={hsva:t,color:u},d(t)}},[i,u,e]);let p=(0,EE.useCallback)(e=>{d(t=>Object.assign({},t,e))},[]);return[c,p]}(r,i,a,o);return(0,kE.useEffect)(()=>()=>{s()},[]),kE.default.createElement(ME,g({},l),kE.default.createElement(rE,{hsva:u,onChange:c}),kE.default.createElement($S,{hue:u.h,onChange:c}),kE.default.createElement(dE,{hsva:u,onChange:c}))}}),HE=b(()=>{TE=S(Af()),VE(),SE(),bE(),mE(),AE=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),IE=e=>({r:255*e.r,g:255*e.g,b:255*e.b,a:e.a}),RE={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>HS(IE(e)),fromHsva:e=>AE(VS(e)),equal:fE},OE=e=>TE.default.createElement(vS,null,TE.default.createElement(PE,v(g({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:RE})))}),WE=b(()=>{HE()}),GE=b(()=>{DE=S(Af()),zE=function(e){(0,DE.useEffect)(e,[])}}),qE=b(()=>{LE=S(Af()),GE(),NE=function(e){var t=(0,LE.useRef)(e);t.current=e,zE(function(){return function(){return t.current()}})}}),XE=b(()=>{jE=S(Af()),qE(),FE=function(e){var t=(0,jE.useRef)(0),n=(0,jE.useState)(e),r=n[0],i=n[1],a=(0,jE.useCallback)(function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(e)})},[]);return NE(function(){cancelAnimationFrame(t.current)}),[r,a]},UE=FE});var YE,KE,$E,ZE,QE=b(()=>{YE="undefined"!=typeof window}),JE=b(()=>{KE=S(Af()),XE(),QE(),$E=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=UE({width:YE?window.innerWidth:e,height:YE?window.innerHeight:t}),r=n[0],i=n[1];return(0,KE.useEffect)(function(){if(YE){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}},[]),r},ZE=$E});function ek(e){let[t,n]=(0,tk.useState)(null);return(0,tk.useLayoutEffect)(()=>(e&&n(e.getBoundingClientRect()),()=>{n(null)}),[e]),t}var tk,nk,rk,ik,ak=b(()=>{tk=S(Af())}),ok=b(()=>{nk=S(Af()),rk=(0,nk.createContext)({}),ik=rk});var sk,lk,uk,ck,dk=b(()=>{}),fk=b(()=>{sk=S(Af()),lk=S(Af()),JE(),ak(),ok(),Zv(),ex(),dk(),Ey(),Mf(),uk=e=>{var t,n;let r=e.children(),[i,a]=Kv(null),o=r.props.style?g({},r.props.style):{};o.position="absolute";let s=ek(a),l=ek(e.target),u=ZE(),[c,d]=(0,lk.useState)({});return(0,lk.useLayoutEffect)(()=>{var t,n,r;if(!s||!a||!l)return;let i=null!=(t=e.verticalGap)?t:8,o={},c=null!=(n=e.verticalPlacement)?n:"bottom",f=0,h=0;"bottom"===c?l.bottom+s.height+i<u.height?(c="bottom",f=l.bottom+i,o.top="0px"):l.top>s.height+i?(c="top",f=l.top-(s.height+i),o.bottom="0px",o.transform="rotateZ(180deg)"):c="overlay":"top"===c&&(l.top>s.height+i?(c="top",f=l.top-(s.height+i),o.bottom="0px",o.transform="rotateZ(180deg)"):l.bottom+s.height+i<u.height?(c="bottom",f=l.bottom+i,o.top="0px"):c="overlay");let p=0;if("overlay"!==c){let e=l.left+l.width/2;e<s.width/2?(h=i,p=Math.max(e-i,8)):e+s.width/2>u.width?(h=u.width-(i+s.width),p=Math.min(e-h,s.width-8)):(h=e-s.width/2,p=s.width/2),o.left=p+"px"}let{minX:m=-1/0,maxX:g=1/0,minY:v=-1/0,maxY:y=1/0}=null!=(r=e.constraints)?r:{},b=ds(h,m,g-s.width),w=ds(f,v,y+s.height);return a.style.left=b+"px",a.style.top=w+"px",d(o),e.onPointerOutside?function(e,t,n){let r=e.getBoundingClientRect(),i=e=>{(e.clientX<r.left-t||e.clientX>r.left+r.width+t||e.clientY<r.top-t||e.clientY>r.top+r.height+t)&&n(e)};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}}(a,e.onPointerOutside.threshold,e.onPointerOutside.callback):void 0},[s,a,e.target,l,u,e.onPointerOutside]),Vw([a,null!=(t=e.target)?t:null],null!=(n=e.onClickOutside)?n:xy),sk.default.createElement(ik.Provider,{value:c},(0,lk.cloneElement)(r,{ref:i,style:o}))},ck=uk});function hk(e,t){let{isPointerBeingCaptured:n}=lx("usePopover"),[r,i]=Kv({isOpen:!1}),a=(0,pk.useRef)(e),o=(0,pk.useCallback)(e=>{r.current={isOpen:!1}},[]),s=(0,pk.useCallback)((e,t)=>{var i;let s="function"==typeof a.current?a.current():a.current;r.current={isOpen:!0,clickPoint:{clientX:e.clientX,clientY:e.clientY},target:t,opts:s,onClickOutside:function(){u.childHasFocusRef.current||!1!==s.closeOnClickOutside&&o("clicked outside popover")},onPointerOutside:!1===s.closeWhenPointerIsDistant?void 0:{threshold:null!=(i=s.pointerDistanceThreshold)?i:100,callback:()=>{u.childHasFocusRef.current||n()||o("pointer outside")}}}},[]),l=(0,pk.useCallback)((...e)=>{r.current.isOpen?o("toggled"):s(...e)},[]),u=function(e){let t=(0,pk.useContext)(gk);(0,pk.useEffect)(()=>{if(e.state.isOpen){let n=t.takeFocus();return e._debug("take focus"),()=>{e._debug("release focus"),n.releaseFocus()}}},[e.state.isOpen]);let n=(0,pk.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus:()=>(n.current=!0,{releaseFocus(){n.current=!1}})}}}({_debug:(...e)=>{},state:i}),[,c]=(0,pk.useContext)(RO);(0,pk.useEffect)(()=>{let e;return i.isOpen&&(e=c()),()=>null==e?void 0:e()},[i.isOpen]);let d=(0,pk.useContext)(Wv);return{node:i.isOpen?(0,mk.createPortal)(pk.default.createElement(gk.Provider,{value:u.childPopoverLock},pk.default.createElement(ck,{children:t,target:i.target,onClickOutside:i.onClickOutside,onPointerOutside:i.onPointerOutside,constraints:i.opts.constraints,verticalGap:i.opts.verticalGap})),d):pk.default.createElement(pk.default.Fragment,null),open:s,close:o,toggle:l,isOpen:i.isOpen}}var pk,mk,gk,vk,yk,bk,wk,xk,_k,Sk,Ek,kk,Ck,Mk,Pk,Tk,Ak,Ik,Rk,Ok,Dk,zk,Lk=b(()=>{hx(),Zv(),pk=S(Af()),mk=S(Df()),Yv(),fk(),nz(),gk=pk.default.createContext({takeFocus:()=>({releaseFocus(){}})})}),Nk=b(()=>{vk=S(Af()),Hp(),ok(),bk=Vp.div(yk||(yk=k(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  color: var(--popover-arrow-color);\n  pointer-events: none;\n"]))),xk=Vp.div(wk||(wk=k(["\n  width: 12px;\n  height: 8px;\n  position: absolute;\n  left: -7px;\n  top: -8px;\n  text-align: center;\n  line-height: 0;\n"]))),Sk=Vp.path(_k||(_k=k(["\n  fill: var(--popover-bg);\n"]))),kk=Vp.path(Ek||(Ek=k(["\n  fill: var(--popover-inner-stroke);\n"]))),Mk=Vp.path(Ck||(Ck=k(["\n  fill: var(--popover-outer-stroke);\n"]))),Pk=(0,vk.forwardRef)(({className:e},t)=>{let n=(0,vk.useContext)(ik);return vk.default.createElement(bk,{className:e,ref:t,style:g({},n)},vk.default.createElement(xk,null,vk.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vk.default.createElement(Mk,{d:"M6 0L0 6H12L6 0Z"}),vk.default.createElement(kk,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),vk.default.createElement(Sk,{d:"M6 3L0 9H12L6 3Z"}))))}),Tk=Pk}),jk=b(()=>{_y(),$m(),Ak=S(Af()),Hp(),Nk(),Ik=Ym(.05,"#2a2a31"),Ok=Vp.div(Rk||(Rk=k(["\n  position: absolute;\n  --popover-bg: ",";\n  --popover-inner-stroke: #505159;\n  --popover-outer-stroke: #111;\n\n  background: var(--popover-bg);\n\n  color: white;\n  padding: 0;\n  margin: 0;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n  z-index: 10000;\n  border: 1px solid var(--popover-inner-stroke);\n  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;\n  backdrop-filter: blur(8px);\n\n  & a {\n    color: inherit;\n  }\n"])),Ik,ty),Dk=Ak.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:n=!0},r)=>Ak.default.createElement(Ok,{className:t,ref:r},n?Ak.default.createElement(Tk,null):void 0,e)),zk=Dk});function Fk({editingTools:e,value:t,autoFocus:n}){let r=(0,Uk.useRef)(null),i=(0,Uk.useCallback)(t=>{let n=uS(function(e){let t=(e=e.trim().toLowerCase()).match(cS);if(!t)return{r:0,g:0,b:0,a:1};let n=function(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}(t));e.permanentlySetValue(n)},[e]),a=hk({debugName:"RgbaPropEditor"},()=>Uk.default.createElement(Kk,null,Uk.default.createElement(OE,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:t=>{let n=uS(t);e.temporarilySetValue(n)},permanentlySetValue:t=>{let n=uS(t);e.permanentlySetValue(n)},discardTemporaryValue:e.discardTemporaryValue})));return Uk.default.createElement(Uk.default.Fragment,null,Uk.default.createElement(Vk,null,Uk.default.createElement(Wk,{rgbaColor:t,ref:r,onClick:e=>{a.toggle(e,r.current)}}),Uk.default.createElement(qk,{value:lS(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:Xk,discardTemporaryValue:Xk,permanentlySetValue:i,isValid:e=>!!e.match(cS),autoFocus:n})),a.node)}var Uk,Bk,Vk,Hk,Wk,Gk,qk,Xk,Yk,Kk,$k,Zk=b(()=>{dS(),dS(),Uk=S(Af()),WE(),Hp(),Lk(),rS(),jk(),Vk=Vp.div(Bk||(Bk=k(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),Wk=Vp.div.attrs(e=>({style:{background:lS(e.rgbaColor)}}))(Hk||(Hk=k(["\n  height: 18px;\n  aspect-ratio: 1;\n  border-radius: 99999px;\n"]))),qk=Vp(tS)(Gk||(Gk=k(["\n  flex: 1;\n"]))),Xk=()=>{},Kk=Vp.div(Yk||(Yk=k(["\n  position: absolute;\n  background-color: ",";\n  color: white;\n  margin: 0;\n  cursor: default;\n  border-radius: 3px;\n  z-index: 10000;\n  backdrop-filter: blur(8px);\n\n  padding: 4px;\n  pointer-events: all;\n\n  border: none;\n  box-shadow: none;\n"])),Ik),$k=Fk});function Qk({propConfig:e,editingTools:t,value:n,autoFocus:r}){let[i,a]=Jk.default.useState();(0,Jk.useEffect)(()=>{a(n?t.getAssetUrl(n):void 0)},[n]);let o=(0,Jk.useCallback)(e=>C(this,null,function*(){let r=e.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let i=yield t.createAsset(r);i?t.permanentlySetValue({type:"image",id:i}):t.permanentlySetValue(n),e.target.value=null}),[t,n]),s=!(null!=n&&n.id);return Jk.default.createElement(tC,{empty:s},Jk.default.createElement(sC,{empty:s,title:s?"Upload image":'"'.concat(n.id,'" (Click to upload new image)')},Jk.default.createElement(uC,{type:"file",onChange:o,accept:"image/*,.hdr",autoFocus:r}),i?Jk.default.createElement(dC,{src:i}):Jk.default.createElement(rC,null)),!s&&Jk.default.createElement(hC,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},Jk.default.createElement(Zy,null)))}var Jk,eC,tC,nC,rC,iC,aC,oC,sC,lC,uC,cC,dC,fC,hC,pC,mC=b(()=>{yb(),Jk=S(Af()),Hp(),tC=Vp.div(eC||(eC=k(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),rC=Vp.div(nC||(nC=k(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),sC=Vp.label(oC||(oC=k(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),e=>e.empty?Th(iC||(iC=k([""]))):Th(aC||(aC=k([""])))),uC=Vp.input.attrs({type:"file"})(lC||(lC=k(["\n  display: none;\n"]))),dC=Vp.img(cC||(cC=k(["\n  position: absolute;\n  inset: 0;\n  height: 100%;\n  aspect-ratio: 1;\n\n  object-fit: cover;\n"]))),hC=Vp.button(fC||(fC=k(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),tC),pC=Qk});function gC({propConfig:e,editingTools:t,value:n,autoFocus:r}){let[i,a]=vC.default.useState();(0,vC.useEffect)(()=>{a(n?t.getAssetUrl(n):void 0)},[n]);let o=(0,vC.useCallback)(e=>C(this,null,function*(){let r=e.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let i=yield t.createAsset(r);i?t.permanentlySetValue({type:"file",id:i}):t.permanentlySetValue(n),e.target.value=null}),[t,n]),s=!(null!=n&&n.id);return vC.default.createElement(bC,{empty:s},vC.default.createElement(kC,{empty:s,title:s?"Upload file":'"'.concat(n.id,'" (Click to upload new file)')},vC.default.createElement(MC,{type:"file",onChange:o,autoFocus:r}),i?vC.default.createElement(Hy,null):vC.default.createElement(xC,null)),!s&&vC.default.createElement(TC,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},vC.default.createElement(Zy,null)))}var vC,yC,bC,wC,xC,_C,SC,EC,kC,CC,MC,PC,TC,AC,IC,RC=b(()=>{yb(),vC=S(Af()),Hp(),bC=Vp.div(yC||(yC=k(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),xC=Vp.div(wC||(wC=k(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),kC=Vp.label(EC||(EC=k(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),e=>e.empty?Th(_C||(_C=k([""]))):Th(SC||(SC=k([""])))),MC=Vp.input.attrs({type:"file"})(CC||(CC=k(["\n  display: none;\n"]))),TC=Vp.button(PC||(PC=k(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),bC),AC=gC}),OC=b(()=>{Fw(),jx(),nS(),sS(),Zk(),mC(),RC(),IC={number:Nx,string:oS,boolean:jw,stringLiteral:Y_,rgba:$k,image:pC,file:AC}});function DC(e){let t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var zC=b(()=>{});function LC(e){return"compound"===e.type||"enum"===e.type}function NC(e,t){if(!e)return;let[n,...r]=t;return void 0===n?e:LC(e)?NC("enum"===e.type?e.cases[n]:e.props[n],r):void 0}function jC(e,t){let n=t.deserializeAndSanitize(e);return void 0===n?t.default:n}function*FC(e,t){if("compound"!==e.type){if("enum"===e.type)throw new Error("Not implemented yet");return yield{path:t,conf:e}}for(let n in e.props)yield*P(FC(e.props[n],[...t,n]))}var UC,BC,VC,HC,WC,GC,qC,XC,YC,KC,$C,ZC=b(()=>{zC(),UC=DC(e=>{if("enum"===e.type)throw new Error("Not implemented yet for enums");for(let t in e.props){let n=e.props[t];if(!LC(n))return!0;if(UC(n))return!0}return!1})}),QC=b(()=>{BC="calc(var(--left-pad) + var(--depth) * var(--step))"}),JC=b(()=>{Hp(),HC=Th(VC||(VC=k(["\n  font-weight: 300;\n  font-size: 11px;\n  color: ",";\n  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);\n"])),e=>"self"===e.isHighlighted?"#CCC":"#919191")}),eM=b(()=>{Ey(),WC=S(Af()),Hp(),GC=26,XC=Vp.li(qC||(qC=k(["\n  height: ","px;\n  padding: 0 12px;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  font-size: 11px;\n  font-weight: 400;\n  position: relative;\n  color: ",";\n  cursor: ",";\n\n  &:after {\n    position: absolute;\n    inset: 2px 1px;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n    z-index: -1;\n    border-radius: 3px;\n  }\n\n  &:hover:after {\n    background-color: ",";\n  }\n"])),GC,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),KC=Vp.span(YC||(YC=k([""]))),$C=e=>WC.default.createElement(XC,{onClick:e.enabled?e.onClick:xy,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},WC.default.createElement(KC,null,WC.default.createElement(WC.default.Fragment,null,e.label)))});var tM,nM,rM,iM,aM,oM,sM,lM,uM,cM,dM,fM,hM,pM,mM,gM,vM,yM=b(()=>{tM=S(Af())}),bM=b(()=>{nM=S(Af()),eM(),Hp(),$m(),_y(),iM=Vp.ul(rM||(rM=k(["\n  position: absolute;\n  min-width: ","px;\n  z-index: 10000;\n  background: ",";\n  backdrop-filter: blur(2px);\n  color: white;\n  list-style-type: none;\n  padding: 2px 0;\n  margin: 0;\n  border-radius: 1px;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n"])),190,Ym(.2,"#111"),ty),oM=Vp.div(aM||(aM=k(["\n  padding: 4px 10px;\n  border-bottom: 1px solid #6262626d;\n  color: #adadadb3;\n  font-size: 11px;\n  font-weight: 500;\n"]))),sM=nM.default.forwardRef((e,t)=>nM.default.createElement(iM,{ref:t},e.displayName?nM.default.createElement(oM,null,e.displayName):null,e.items.map((t,n)=>nM.default.createElement($C,{key:"item-".concat(n),label:t.label,enabled:!1!==t.enabled,onClick:n=>{t.callback&&t.callback(n),e.onRequestClose()}})))),lM=sM}),wM=b(()=>{ak(),uM=S(Af()),cM=S(Af()),dM=S(Af()),fM=S(Df()),JE(),eM(),Yv(),yM(),bM(),hM=e=>{let[t,n]=(0,dM.useState)(null),r=ek(t),i=ZE();(0,dM.useLayoutEffect)(()=>{if(!r||!t)return;let n=r.width/2,a=GC/2+(e.displayName?GC:0),o={left:e.clickPoint.clientX-n,top:e.clickPoint.clientY-a};o.left<0?o.left=0:o.left+r.width>i.width&&(o.left=i.width-r.width),o.top<0?o.top=0:o.top+r.height>i.height&&(o.top=i.height-r.height),t.style.left=o.left+"px",t.style.top=o.top+"px";let s=t=>{(t.clientX<o.left-20||t.clientX>o.left+r.width+20||t.clientY<o.top-20||t.clientY>o.top+r.height+20)&&e.onRequestClose()};return window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}},[r,t,e.clickPoint,i,e.onRequestClose]);let a=(0,cM.useContext)(Wv);!function(e){let t=(0,tM.useRef)(e);t.current=e,(0,tM.useEffect)(()=>{let e=e=>t.current(e);return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[])}(t=>{"Escape"===t.key&&e.onRequestClose()});let o=(0,uM.useMemo)(()=>{let t=Array.isArray(e.items)?e.items:e.items();return t.length>0?t:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,fM.createPortal)(dM.default.createElement(lM,{items:o,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:n}),a)},pM=hM}),xM=b(()=>{mM=S(Af()),gM=(e,t)=>{let[n,r]=(0,mM.useState)({isOpen:!1}),i=(0,mM.useCallback)(()=>r({isOpen:!1}),[]);return(0,mM.useEffect)(()=>{if(!e||!0===t.disabled)return void r({isOpen:!1});let n=e=>{r({isOpen:!0,event:e}),e.preventDefault(),e.stopPropagation()};return e.addEventListener("contextmenu",n),()=>{e.removeEventListener("contextmenu",n)}},[e,t.disabled]),[n,i]},vM=gM});function _M(e,t){let[n,r]=vM(e,t),[,i]=(0,SM.useContext)(RO);return(0,SM.useEffect)(()=>{var e;let r;return n.isOpen&&(null==(e=t.onOpen)||e.call(t),r=i()),()=>null==r?void 0:r()},[n.isOpen,t.onOpen]),[n.isOpen?SM.default.createElement(pM,{items:t.menuItems,displayName:t.displayName,clickPoint:n.event,onRequestClose:r}):EM,r,n.isOpen]}var SM,EM,kM=b(()=>{SM=S(Af()),wM(),xM(),nz(),EM=SM.default.createElement(SM.default.Fragment,null)});function CM(e,t){return 0===t.length?e:Ro(e,t)}var MM=b(()=>{Oo()});function PM(e,t){return null==e?null:e instanceof Element&&e.matches(t)?e:PM(e.parentElement,t)}var TM=b(()=>{});function AM(e,t){let n=e;for(let e of t)n=n[e];return n}var IM=b(()=>{});function RM(e){let t=DM.default.useContext(FM),n=t.usePresenceFlag(e);return{attrs:{[UM]:e},flag:n,useRelations(n,r){(0,zM.useEffect)(()=>e&&t.addRelatedFlags(e,n()),[e,...r])}}}function OM(e){let t=DM.default.useContext(FM),n=rx("PresenceListeners");(0,zM.useEffect)(()=>{let r;if(!e)return;let i=e=>{if(e.target instanceof Node){let i=PM(e.target,"[".concat(UM,"]"));if(i){let e=i.getAttribute(UM);return void(r!==e&&(r=e,t.setUserHover(e||void 0),n._debug("Updated current hover",{itemKey:e})))}null!=r&&(r=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),()=>{e.removeEventListener("mouseover",i),null!=r&&(r=null,n._debug("Cleared current hover as part of cleanup"))}},[e,t])}var DM,zM,LM,NM,jM,FM,UM,BM,VM,HM,WM,GM,qM,XM,YM,KM,$M,ZM,QM,JM,eP,tP,nP,rP,iP,aP,oP,sP,lP,uP,cP,dP,fP,hP,pP,mP,gP,vP,yP=b(()=>{DM=S(Af()),zM=S(Af()),ox(),LM=Cm(),NM=Cm(),$f(),TM(),IM(),(jM=(0,LM.prism)(()=>{})).keepHot(),FM=DM.default.createContext(function(e){let t=new NM.Atom(void 0),n=new NM.Atom({}),r=new NM.Atom({}),i=0;return{addRelatedFlags(e,t){let n=String(++i),a=t.map(t=>{let i={flag:t.flag},a=[t.affects,e,n];return r.setByPointer(e=>AM(e,a),i),a});return()=>{for(let e of a)r.setByPointer(t=>AM(t,e),void 0)}},usePresenceFlag(i){if(!e.enabled)return;let a=(0,DM.useMemo)(()=>{if(!i)return jM;let e=t.prism,a=(0,LM.pointerToPrism)(n.pointer[i]),o=(0,LM.pointerToPrism)(r.pointer[i]);return(0,LM.prism)(()=>{if(a.getValue())return 2;{let t=o.getValue(),n=e.getValue(),r=t&&n&&t[n];if(r){let e;for(let t of Object.values(r))t&&(e&&e>=t.flag||(e=t.flag));return e}return}})},[i]);return Lf(a)},setUserHover(e){let r=t.get();r!==e&&(r&&n.setByPointer(e=>e[r],!1),t.set(e),e&&n.setByPointer(t=>t[e],!0))}}}({enabled:!1})),UM="data-pi-key"}),bP=b(()=>{_y(),$m(),BM=S(Af()),Hp(),yP(),HM=Vp.div(VM||(VM=k(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  margin: 0 0px 0 2px;\n  position: relative;\n  z-index: 0;\n  opacity: 0.7;\n\n  &:after {\n    position: absolute;\n    left: -14px;\n    right: -14px;\n    top: -2px;\n    bottom: -2px;\n    content: ' ';\n    display: none;\n    z-index: -1;\n    background: ",";\n  }\n\n  &:hover {\n    opacity: 1;\n    &:after {\n      display: block;\n    }\n  }\n"])),Ym(.2,"black")),GM=Vp.div(WM||(WM=k(["\n  background: none;\n  position: relative;\n  border: 0;\n  transition: transform 0.1s ease-out;\n  z-index: 0;\n  outline: none;\n  cursor: pointer;\n\n  &:after {\n    display: none;\n    ",":hover & {\n      display: block;\n    }\n    position: absolute;\n    left: -4px;\n    right: -4px;\n    top: -4px;\n    bottom: -4px;\n    content: ' ';\n    z-index: -1;\n  }\n"])),HM),qM={offColor:"#555",onColor:"#e0c917"},YM=Vp(GM)(XM||(XM=k(["\n  &:hover {\n    color: #e0c917;\n  }\n\n  color: ",";\n"])),e=>2===e.presence?"white":e.isOn?qM.onColor:qM.offColor),$M=Th(KM||(KM=k(["\n  pointer-events: none !important;\n"]))),QM=Vp(GM)(ZM||(ZM=k(["\n  color: ",";\n\n  ",";\n"])),e=>2===e.flag?"white":e.available?qM.onColor:qM.offColor,e=>e.available?ty:$M),eP=Vp(QM)(JM||(JM=k(["\n  transform: translateX(2px);\n  ",":hover & {\n    transform: translateX(-7px);\n  }\n"])),HM),nP=Vp(QM)(tP||(tP=k(["\n  transform: translateX(-2px);\n  ",":hover & {\n    transform: translateX(7px);\n  }\n"])),HM),(e=>{let t=Vp.g(rP||(rP=k(["\n    stroke-width: 1;\n    ",":hover & path {\n      stroke-width: 3;\n    }\n  "])),QM);e.Prev=()=>BM.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},BM.default.createElement(t,{transform:"translate(6 3)"},BM.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>BM.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},BM.default.createElement(t,{transform:"translate(1 3)"},BM.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let n=Vp.g(iP||(iP=k(["\n    stroke-width: 0;\n    ",":hover & path {\n      stroke: currentColor;\n      stroke-width: 2;\n    }\n  "])),YM);e.Cur=()=>BM.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},BM.default.createElement(n,{transform:"translate(1 4)"},BM.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(aP||(aP={})),oP=e=>{var t,n,r,i,a;let o=RM(null==(t=e.prev)?void 0:t.itemKey),s=RM("on"===(null==(n=e.cur)?void 0:n.type)?e.cur.itemKey:void 0),l=RM(null==(r=e.next)?void 0:r.itemKey);return BM.default.createElement(HM,null,BM.default.createElement(eP,g({available:!!e.prev,onClick:null==(i=e.prev)?void 0:i.jump,flag:o.flag},o.attrs),BM.default.createElement(aP.Prev,null)),BM.default.createElement(YM,g({isOn:"on"===e.cur.type,onClick:e.cur.toggle,presence:s.flag},s.attrs),BM.default.createElement(aP.Cur,null)),BM.default.createElement(nP,g({available:!!e.next,onClick:null==(a=e.next)?void 0:a.jump,flag:l.flag},l.attrs),BM.default.createElement(aP.Next,null)))},sP=oP}),wP=b(()=>{$m(),lP=S(Af()),Hp(),I(),bP(),ZC(),uP={defaultState:{color:Ym(.95,"#C4C4C4"),hoverColor:Ym(.15,qM.onColor)},withStaticOverride:{color:Ym(.85,"#C4C4C4"),hoverColor:Ym(.15,qM.onColor)}},dP=Vp.div(cP||(cP=k(["\n  width: 16px;\n  margin: 0 0px 0 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),e=>e.hasStaticOverride?uP.withStaticOverride.color:uP.defaultState.color,e=>e.hasStaticOverride?uP.withStaticOverride.hoverColor:uP.defaultState.hoverColor),hP=Vp.div(fP||(fP=k(["\n  width: 5px;\n  height: 5px;\n  border-radius: 1px;\n  transform: rotate(45deg);\n  /* border: 1px solid currentColor; */\n  background-color: currentColor;\n"]))),mP=Vp.div(pP||(pP=k(["\n  width: 5px;\n  height: 5px;\n  background-color: currentColor;\n  border-radius: 1px;\n  transform: rotate(45deg);\n"]))),gP=e=>{let{hasStaticOverride:t,obj:n,propConfig:r,pathToProp:i}=e;return lP.default.createElement(dP,{hasStaticOverride:t,onClick:()=>{T().transaction(({stateEditors:e})=>{for(let{path:t,conf:a}of FC(r,i)){if(LC(a))continue;let i=v(g({},n.address),{pathToProp:t});e.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(i,r)}})},title:"Sequence this prop"},t?lP.default.createElement(mP,{title:"The default value is overridden"}):lP.default.createElement(hP,{title:"This is the default value for this prop"}))},vP=gP});function xP(e){return JSON.stringify(_P(e))}function _P(e){return es(e)?Object.keys(e).sort().reduce((t,n)=>(t[n]=_P(e[n]),t),{}):Array.isArray(e)?e.map(_P):e}var SP,EP=b(()=>{Mf()}),kP=b(()=>{SP=(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}});function CP(){return SP(10)}var MP,PP=b(()=>{EP(),kP(),MP={forSheet:()=>"sheet",forSheetObject:e=>xP({o:e.address.objectKey}),forSheetObjectProp:(e,t)=>xP({o:e.address.objectKey,p:t}),forTrackKeyframe:(e,t,n)=>xP({o:e.address.objectKey,t:t,k:n}),forSheetObjectAggregateKeyframe:(e,t)=>MP.forCompoundPropAggregateKeyframe(e,[],t),forSheetAggregateKeyframe:(e,t)=>xP({o:e.address.sheetId,pos:t}),forCompoundPropAggregateKeyframe:(e,t,n)=>xP({o:e.address.objectKey,p:t,pos:n})}});function TP(e,t,n){if(!t||0===t.data.keyframes.length)return IP;let r=AP.get(t.data);if(r&&r[0]===n)return r[1];function i(n){if(!t)return;let r=t.data.keyframes[n];return r&&{kf:r,track:t,itemKey:MP.forTrackKeyframe(e,t.id,r.id)}}let a=(()=>{let e=t.data.keyframes.findIndex(e=>e.position>=n);if(-1===e)return{prev:i(t.data.keyframes.length-1)};let r=i(e);return r.kf.position===n?{prev:i(e-1),cur:r,next:i(e+1)}:{next:r,prev:i(e-1)}})();return AP.set(t.data,[n,a]),a}var AP,IP,RP,OP=b(()=>{PP(),AP=new WeakMap,IP={}}),DP=b(()=>{RP={}});function zP({pointerToProp:e,obj:t,possibleSequenceTrackIds:n,listOfDescendantTrackIds:r}){return zf(()=>{let n=(0,LP.getPointerParts)(e).path,i=(0,LP.val)(t.sheet.getSequence().positionPrism),a=r.map(e=>({trackId:e,track:(0,LP.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[e])})).filter(({track:e})=>!!e).map(e=>v(g({},e),{nearbies:TP(t,{id:e.trackId,data:e.track,sheetObject:t},i)})),o=a.find(({nearbies:e})=>!!e.cur),s=a.every(({nearbies:e})=>!!e.cur),l=a.reduce((e,t)=>t.nearbies.prev&&(void 0===e||t.nearbies.prev.kf.position>e.kf.position)?t.nearbies.prev:e,void 0),u=a.reduce((e,t)=>t.nearbies.next&&(void 0===e||t.nearbies.next.kf.position<e.kf.position)?t.nearbies.next:e,void 0),c=()=>{s?T().transaction(t=>{t.unset(e)}):T().transaction(t=>{t.set(e,(0,LP.val)(e))})},d={cur:o?{type:"on",itemKey:MP.forCompoundPropAggregateKeyframe(t,n,i),toggle:c}:{toggle:c,type:"off"},prev:void 0!==l?{position:l.kf.position,itemKey:MP.forCompoundPropAggregateKeyframe(t,n,l.kf.position),jump:()=>{t.sheet.getSequence().position=l.kf.position}}:void 0,next:void 0!==u?{position:u.kf.position,itemKey:MP.forCompoundPropAggregateKeyframe(t,n,u.kf.position),jump:()=>{t.sheet.getSequence().position=u.kf.position}}:void 0};return NP.default.createElement(sP,g({},d))},[e,t,n,r])}var LP,NP,jP=b(()=>{I(),MM(),$f(),LP=Cm(),Oo(),NP=S(Af()),wP(),ZC(),PP(),IM(),bP(),OP(),DP()});function FP(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function UP(e){let t={};return df(t,e,!0),t}var BP,VP,HP,WP,GP=b(()=>{BP=Cm(),VP=Cm(),HP=Cm(),IM(),vf(),WP=function(){let e=0,t=new VP.Atom({hasLock:!1});return{replaceLock(n,r){let i=e++,a=t.get();return a.hasLock&&a.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:r,deepPath:UP(FP(n))}),function(){let e=t.get();e.hasLock&&e.lockId===i&&(e.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(e){let n=AM(t.pointer.deepPath,FP(e));return(0,HP.prism)(()=>{let e=(0,BP.val)(n);return!0===e?"self":e?"descendent":null})}}}()});var qP=b(()=>{});function XP(e,t=!0){try{return"string"==typeof e?e:"function"==typeof e||e instanceof Error?e.toString():t?function(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}(e):JSON.stringify(e)}catch(t){return(null==e?void 0:e.name)||String(e)}}var YP=b(()=>{qP()});function KP(e,t){let n=arguments.length>1,r=XP("function"==typeof e?e():e),i=n?"\nInstead found: ".concat(XP(t)):"";throw new eT("Invariant: ".concat(r).concat(i),t)}var $P,ZP,QP,JP,eT,tT=b(()=>{YP(),$P=/^\s*at.+node:internal.+/gm,ZP=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,QP=/^\s*(at|[^@]+@).+test\-helpers.+/gm,JP=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,eT=class extends Error{constructor(e,t){var n;super(e),E(this,"found"),void 0!==t&&(this.found=t),this.stack=null==(n=this.stack)?void 0:n.replace(ZP,"").replace(JP,"").replace(QP,"").replace($P,"")}}});function nT(e){let t=iT.default.memo(iT.default.forwardRef(function(t,n){let r=[],i={},a={ref:n};for(let e in t){let n=t[e];(0,rT.isPrism)(n)?(r.push(n),i[e]=n):a[e]=n}let o=(0,iT.useRef)(r.length);!function(e,t,n){e||(arguments.length>2?KP(t,n):KP(t))}(o.current===r.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:o.current,count:r.length});let s=(0,iT.useMemo)(()=>function(e){return(0,rT.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].getValue();return t}{let t={};for(let n in e)t[n]=(0,rT.val)(e[n]);return t}})}(i),r),l=Lf(s);return l&&iT.default.createElement(e,g(g({},a),l))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var rT,iT,aT=b(()=>{rT=Cm(),$f(),iT=S(Af()),tT()});function oT(e,t,n){return(0,uT.prism)(()=>{var r;let i=(0,uT.getPointerParts)(e).path,a=t.getValueByPointer(e),o=uT.prism.memo("editPropValue",()=>{let t=null;return{temporarilySetValue(n){t||(t=T().scrub()),t.capture(t=>{t.set(e,n)})},discardTemporaryValue(){t&&(t.discard(),t=null)},permanentlySetValue(n){t?(t.capture(t=>{t.set(e,n)}),t.commit(),t=null):T().transaction(t=>{t.set(e,n)})}}},[]),s={createAsset:e=>t.sheet.project.assetStorage.createAsset(e),getAssetUrl:e=>e.id?t.sheet.project.assetStorage.getAssetUrl(e.id):void 0},l=!0===(0,uT.val)(Ro(T().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,uT.getPointerParts)(e).path)),u=[],c=v(g(g({},o),s),{value:a,beingScrubbed:l,contextMenuItems:u,controlIndicators:lT.default.createElement(lT.default.Fragment,null)}),d=function(e){return!LC(e)}(n);if(d){let n=CM((0,uT.val)(t.template.getMapOfValidSequenceTracks_forStudio()),i);if("string"==typeof n){u.push({label:"Make static",callback:()=>{T().transaction(({stateEditors:n})=>{let r=v(g({},t.address),{pathToProp:i});n.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(v(g({},r),{value:t.getValueByPointer(e)}))})}});let a,o=n,s=uT.prism.sub("lcr",()=>{let e=(0,uT.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[o]),n=(0,uT.val)(t.sheet.getSequence().positionPrism);return TP(t,e&&{data:e,id:o,sheetObject:t},n)},[o]);a=c.beingScrubbed?"Sequenced_OnKeyframe_BeingScrubbed":s.cur?"Sequenced_OnKeyframe":!0===(null==(r=s.prev)?void 0:r.kf.connectedRight)?"Sequenced_BeingInterpolated":"Sequened_NotBeingInterpolated";let l=()=>{s.cur?T().transaction(t=>{t.unset(e)}):T().transaction(t=>{t.set(e,c.value)})},d={cur:s.cur?{type:"on",itemKey:s.cur.itemKey,toggle:l}:{type:"off",toggle:l},prev:void 0!==s.prev?{itemKey:s.prev.itemKey,position:s.prev.kf.position,jump:()=>{t.sheet.getSequence().position=s.prev.kf.position}}:void 0,next:void 0!==s.next?{itemKey:s.next.itemKey,position:s.next.kf.position,jump:()=>{t.sheet.getSequence().position=s.next.kf.position}}:void 0},f=lT.default.createElement(sP,g({},d));return v(g({},c),{type:"Sequenced",shade:a,nearbyKeyframes:s,controlIndicators:f})}}let f=CM((0,uT.val)(t.template.getStaticValues()),i);return void 0!==f&&u.push({label:"Reset to default",callback:()=>{T().transaction(({unset:t})=>{t(e)})}}),d&&u.push({label:"Sequence",callback:()=>{T().transaction(({stateEditors:e})=>{let r=v(g({},t.address),{pathToProp:i});e.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(r,n)})}}),v(g({},c),void 0!==f?{type:"Static",shade:c.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:lT.default.createElement(vP,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})}:{type:"Default",shade:"Default",controlIndicators:lT.default.createElement(vP,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})})})}function sT(e,t,n){let r=function(e,t,n){if(cT.has(e))return cT.get(e);{let r=oT(e,t,n);return cT.set(e,r),r}}(e,t,n);return Lf(r)}var lT,uT,cT,dT=b(()=>{Oo(),lT=S(Af()),uT=Cm(),I(),MM(),$f(),ZC(),wP(),OP(),bP(),cT=new WeakMap});function fT({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:r}){let i=sT(t,n,e);return mT.default.createElement(Nx,{editingTools:i,propConfig:e,value:i.value})}function hT({pointerToProp:e,obj:t,propConfig:n,visualIndentation:r}){var i;let a=null!=(i=n.label)?i:ed((0,pT.getPointerParts)(e).path),o=Object.entries(n.props),s=o.filter(([e,t])=>LC(t)),l=o.filter(([e,t])=>!LC(t)),[u,c]=Kv(null),d=function(e,t,n){let r=(0,LP.getPointerParts)(e).path;return zf(()=>{if(!UC(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:NP.default.createElement(vP,{hasStaticOverride:!1,obj:t,pathToProp:r,propConfig:n})};let i=[],a={beingScrubbed:!!(0,LP.val)(Ro(T().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,LP.getPointerParts)(e).path)),contextMenuItems:i,controlIndicators:NP.default.createElement(NP.default.Fragment,null)},o=CM((0,LP.val)(t.template.getMapOfValidSequenceTracks_forStudio()),r),s=void 0!==o&&0!==Object.keys(o).length,l=[],u=(0,LP.val)(t.template.getStaticButNotSequencedOverrides()),c=void 0!==CM(null!=u?u:RP,r);if(s)for(let e of FC(n,[])){if(LC(e.conf))continue;let t=CM(o,e.path);"string"!=typeof t?c=!0:l.push(t)}if((c||s)&&i.push({label:"Reset all to default",callback:()=>{T().transaction(({unset:t})=>{t(e)})}}),s&&i.push({label:"Make all static",callback:()=>{T().transaction(({stateEditors:i})=>{for(let{path:a,conf:o}of FC(n,[])){if(LC(o))continue;let n=v(g({},t.address),{pathToProp:[...r,...a]}),s=AM(e,a);i.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(v(g({},n),{value:t.getValueByPointer(s)}))}})}}),(!s||s&&c)&&i.push({label:"Sequence all",callback:()=>{T().transaction(({stateEditors:e})=>{for(let{path:i,conf:a}of FC(n,r)){if(LC(a))continue;let r=v(g({},t.address),{pathToProp:i});e.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(r,n)}})}}),s){let n=LP.prism.memo("controlIndicators",()=>NP.default.createElement(zP,{pointerToProp:e,obj:t,possibleSequenceTrackIds:o,listOfDescendantTrackIds:l}),[o,l]);return v(g({},a),{type:"HasSequences",controlIndicators:n})}return v(g({},a),{type:"AllStatic",controlIndicators:NP.default.createElement(vP,{hasStaticOverride:c,obj:t,pathToProp:r,propConfig:n})})},[])}(e,t,n),[f]=_M(c,{menuItems:d.contextMenuItems}),h=s.length>0,p=(0,mT.useMemo)(()=>WP.getIsPropHighlightedD(v(g({},t.address),{pathToProp:(0,pT.getPointerParts)(e).path})),[e]),m="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,pT.getPointerParts)(e).path.join()),y=RT(n);(0,mT.useLayoutEffect)(()=>{LT.has(m)||LT.set(m,new pT.Atom(y))},[m,n]);let b=LT.get(m),w=zf(()=>b?(0,gT.val)(b.pointer):y,[b]);return mT.default.createElement(yT,null,f,mT.default.createElement(wT,{style:{"--depth":r-1}},mT.default.createElement(_T,{isVectorProp:y},mT.default.createElement(ET,null,d.controlIndicators),mT.default.createElement(CT,{isHighlighted:p,ref:u},mT.default.createElement("span",null,a||"Props")),mT.default.createElement(PT,{isCollapsed:w,isVector:y,onClick:()=>{null==b||b.set(!b.get())}},mT.default.createElement(C_,null))),y&&w&&mT.default.createElement(DT,null,[...o].map(([n,r])=>mT.default.createElement(fT,{key:"prop-"+n,propConfig:r,pointerToProp:e[n],obj:t})))),!w&&mT.default.createElement(IT,{style:{"--depth":r},depth:r,lastSubIsComposite:h},[...l,...s].map(([n,i])=>mT.default.createElement(aA,{key:"prop-"+n,propConfig:i,pointerToProp:e[n],obj:t,visualIndentation:r+1}))))}var pT,mT,gT,vT,yT,bT,wT,xT,_T,ST,ET,kT,CT,MT,PT,TT,AT,IT,RT,OT,DT,zT,LT,NT=b(()=>{ZC(),pT=Cm(),td(),$m(),mT=S(Af()),Hp(),QC(),JC(),_y(),Zv(),sA(),kM(),jP(),GP(),aT(),jx(),dT(),$f(),gT=Cm(),z_(),zC(),yT=Vp.div(vT||(vT=k(["\n  --step: 15px;\n  --left-pad: 15px;\n  ",";\n  --right-width: 60%;\n"])),ty),wT=Vp.div(bT||(bT=k(["\n  height: 30px;\n  display: flex;\n  align-items: stretch;\n  position: relative;\n"]))),_T=Vp.div(xT||(xT=k(["\n  padding-left: ",";\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  ",";\n"])),BC,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),ET=Vp.div(ST||(ST=k(["\n  flexshrink: 0;\n"]))),CT=nT(Vp.div(kT||(kT=k(["\n  margin-left: 4px;\n  cursor: default;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  user-select: none;\n  &:hover {\n    color: white;\n  }\n  overflow: hidden;\n\n  ",";\n"])),()=>HC)),PT=Vp.span(MT||(MT=k(["\n  width: 28px;\n  height: 28px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  visibility: ",";\n\n  ",":hover & {\n    visibility: visible;\n  }\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",wT,e=>e.isCollapsed?15:75),TT=Ym(.05,"#282b2f"),IT=Vp.div(AT||(AT=k(["\n  /* background: ","; */\n  /* padding: "," 0; */\n"])),({depth:e})=>Gm(.03*e,TT),e=>e.lastSubIsComposite?0:"4px"),RT=DC(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([e,t])=>"number"===t.type&&["x","y","z"].includes(e))}),DT=Vp.div(OT||(OT=k(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"]))),zT=mT.default.memo(hT),LT=new Map});function jT({isHighlighted:e}){return"self"===e?"#1857a4":"descendent"===e?"#0a2f5c":"initial"}var FT=b(()=>{});function UT({propConfig:e,pointerToProp:t,editingTools:n,children:r,isPropHighlightedD:i}){var a;let o=null!=(a=e.label)?a:ed((0,BT.getPointerParts)(t).path),[s,l]=Kv(null),[u]=_M(l,{menuItems:n.contextMenuItems});return VT.default.createElement(WT,{isHighlighted:i},u,VT.default.createElement(qT,null,VT.default.createElement($T,null,n.controlIndicators),VT.default.createElement(YT,{isHighlighted:i,ref:s,title:["obj","props",...(0,BT.getPointerParts)(t).path].join(".")},o)),VT.default.createElement(QT,null,r))}var BT,VT,HT,WT,GT,qT,XT,YT,KT,$T,ZT,QT,JT=b(()=>{BT=Cm(),kM(),Zv(),Mf(),VT=S(Af()),Hp(),_y(),JC(),aT(),QC(),FT(),WT=nT(Vp.div(HT||(HT=k(["\n  display: flex;\n  height: 30px;\n  justify-content: flex-start;\n  align-items: stretch;\n  // We cannot calculate both the container (details panel) width and the descendant\n  // (this) width dynamically. This leads to the container width being calculated\n  // without this percentage being taken into consideration leads to horizontal\n  // clipping/scrolling--the same way as if we explicitly fixed either the container\n  // width, or the descendant width.\n  // The correct solution for tabulated UIs with dynamic container widths is to use\n  // CSS grid. For now I fixed this issue by just giving a great enough width\n  // to the details panel so most things don't break.\n  --right-width: 60%;\n  position: relative;\n  ",";\n\n  /* background-color: ","; */\n"])),ty,jT)),qT=Vp.div(GT||(GT=k(["\n  box-sizing: border-box;\n  padding-left: ",";\n  padding-right: 4px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 4px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: calc(100% - var(--right-width));\n"])),BC),YT=nT(Vp.div(XT||(XT=k(["\n  text-align: left;\n  flex: 1 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  cursor: default;\n\n  ",";\n  &:hover {\n    color: white;\n  }\n"])),HC)),$T=Vp.div(KT||(KT=k(["\n  flex-basis: 8px;\n  flex: 0 0;\n  display: flex;\n  align-items: center;\n"]))),QT=Vp.div(ZT||(ZT=k(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"])))});function eA({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:r}){let i=sT(t,n,e),a=(0,tA.useMemo)(()=>WP.getIsPropHighlightedD(v(g({},n.address),{pathToProp:(0,nA.getPointerParts)(t).path})),[t]);return tA.default.createElement(UT,{editingTools:i,propConfig:e,pointerToProp:t,isPropHighlightedD:a},tA.default.createElement(r,{editingTools:i,propConfig:e,value:i.value}))}var tA,nA,rA,iA,aA,oA=b(()=>{tA=S(Af()),dT(),JT(),nA=Cm(),GP(),rA=tA.default.memo(eA)}),sA=b(()=>{iA=S(Af()),OC(),NT(),oA(),aA=({propConfig:e,visualIndentation:t,pointerToProp:n,obj:r})=>{if("compound"===e.type)return iA.default.createElement(zT,{obj:r,visualIndentation:t,pointerToProp:n,propConfig:e});if("enum"===e.type)return iA.default.createElement(iA.default.Fragment,null);{let i=IC[e.type];return iA.default.createElement(rA,{SimpleEditorComponent:i,obj:r,visualIndentation:t,pointerToProp:n,propConfig:e})}}});function lA(e){return uA.has(e)||uA.set(e,(cA++).toString()),uA.get(e)}var uA,cA,dA,fA,hA,pA,mA,gA,vA,yA,bA,wA,xA=b(()=>{uA=new WeakMap,cA=0}),_A=b(()=>{dA=S(Af()),sA(),$f(),xA(),Hp(),hA=Vp.div(fA||(fA=k(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px;\n"]))),mA=Vp.button(pA||(pA=k(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  border-radius: 2px;\n\n  color: #a8a8a9;\n  background: rgba(255, 255, 255, 0.1);\n\n  border: none;\n  height: 28px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.15);\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.2);\n  }\n"]))),gA=({objects:e})=>{let t=e[0],n=Vf(t.template.configPointer),r=Vf(t.template._temp_actionsPointer);return dA.default.createElement(dA.default.Fragment,null,dA.default.createElement(aA,{key:lA(t),obj:t,pointerToProp:t.propsP,propConfig:n,visualIndentation:1}),dA.default.createElement(hA,null,r&&Object.entries(r).map(([e,n])=>dA.default.createElement(mA,{key:e,onClick:()=>{n(t.publicApi)}},e))))}}),SA=b(()=>{Hp(),yA=Vp.button(vA||(vA=k(["\n  text-align: center;\n  padding: 8px;\n  border-radius: 2px;\n  border: 1px solid #627b7b87;\n  background-color: #4b787d3d;\n  color: #eaeaea;\n  font-weight: 400;\n  display: block;\n  appearance: none;\n  flex-grow: 1;\n  cursor: ",";\n  opacity: ",";\n\n  &:hover {\n    background-color: #7dc1c878;\n    border-color: #9ebcbf;\n  }\n"])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),bA=yA}),EA=b(()=>{}),kA=b(()=>{EA(),wA=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}});function CA(){return wA(16)}var MA,PA,TA,AA,IA,RA,OA,DA=b(()=>{kA()}),zA=b(()=>{MA=Cm(),Zv(),PA=S(Af()),TA=(0,PA.createContext)(null),AA=0,IA=()=>{let e=(0,PA.useMemo)(()=>AA++,[]),{cur:t,set:n}=(0,PA.useContext)(TA),[r,i]=Kv(!1),a=(0,PA.useCallback)((t,r)=>{n(t?e:-1,r)},[]);return(0,PA.useEffect)(()=>t.onStale(()=>{let n=t.getValue()===e;r.current!==n&&(r.current=n)}),[t,e]),[i,a]},RA=({children:e})=>{let t=(0,PA.useMemo)(()=>new MA.Atom(-1),[]),n=t.prism,r=(0,PA.useMemo)(()=>{let e;return(n,r)=>{let i=void 0!==e;void 0!==e&&(clearTimeout(e),e=void 0),0===r||i?t.set(n):e=setTimeout(()=>{t.set(n),e=void 0},r)}},[]);return PA.default.createElement(TA.Provider,{value:{cur:n,set:r}},e)},OA=RA});function LA(e,t){let n=!1!==e.enabled,[r,i]=IA(),[a,o]=Kv(null);(0,jA.useEffect)(()=>{if(!n)return;let t=a.current;if(!t)return;let r=()=>{var t;return i(!0,null!=(t=e.enterDelay)?t:400)},o=()=>{var t;return i(!1,null!=(t=e.exitDelay)?t:200)};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",o),()=>{t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",o)}},[a,n,e.enterDelay,e.exitDelay]);let s=(0,NA.useContext)(Wv);return[n&&r&&o?(0,UA.createPortal)(FA.default.createElement(ck,{children:t,target:o,onClickOutside:xy,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),s):FA.default.createElement(FA.default.Fragment,null),a,r]}var NA,jA,FA,UA,BA,VA,HA,WA,GA,qA,XA,YA,KA,$A,ZA,QA,JA,eI,tI,nI,rI,iI,aI,oI,sI,lI,uI,cI,dI,fI,hI,pI,mI,gI,vI,yI,bI,wI,xI=b(()=>{Zv(),NA=S(Af()),jA=S(Af()),FA=S(Af()),fk(),UA=S(Df()),zA(),Yv(),Ey()}),_I=b(()=>{Hp(),jk(),VA=Vp(zk)(BA||(BA=k(["\n  padding: 1em;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: #45464d;\n"]))),HA=VA}),SI=b(()=>{$f(),I(),WA=S(Af()),Hp(),DA(),xI(),_I(),SA(),qA=Vp.div(GA||(GA=k(["\n  padding: 8px 10px;\n  position: relative;\n  background-color: #6d232352;\n  &:before {\n    position: absolute;\n    content: ' ';\n    display: block;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 2px;\n    background-color: #ff000070;\n  }\n"]))),YA=Vp.div(XA||(XA=k(["\n  margin-bottom: 1em;\n  & a {\n    color: inherit;\n  }\n"]))),$A=Vp.div(KA||(KA=k(["\n  display: flex;\n  gap: 8px;\n"]))),ZA=({projectId:e})=>{let t=Vf(T().atomP.ephemeral.coreByProject[e].loadingState);return t&&"browserStateIsNotBasedOnDiskState"===t.type?WA.default.createElement(QA,{loadingState:t,projectId:e}):null},QA=({projectId:e,loadingState:t})=>{let[n,r]=LA({},()=>WA.default.createElement(HA,null,"The browser's state will override the disk state.")),[i,a]=LA({},()=>WA.default.createElement(HA,null,"The disk's state will override the browser's state."));return WA.default.createElement(qA,null,WA.default.createElement(YA,null,"Browser state is not based on disk state."," ",WA.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),WA.default.createElement($A,null,n,WA.default.createElement(bA,{onClick:()=>{T().transaction(({drafts:n,stateEditors:r})=>{r.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),r.coreByProject.historic.revisionHistory.add({projectId:e,revision:CA()}),n.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},ref:r},"Use browser's state"),i,WA.default.createElement(bA,{onClick:()=>{T().transaction(({drafts:n})=>{n.historic.coreByProject[e]=t.onDiskState,n.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},ref:a},"Use disk state")))},JA=ZA}),EI=w((e,t)=>{!function(n){"object"==typeof e&&void 0!==t?t.exports=n():("undefined"!=typeof window?window:void 0!==hh?hh:"undefined"!=typeof self?self:this).JSZip=n()}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(!s&&Pm)return Pm(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){return i(t[o][1][e]||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a=Pm,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,s,l,u,c=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,i=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,l=1<h?(15&n)<<2|i>>6:64,u=2<h?63&i:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,o,s,l,u=0,c=0,d="data:";if(e.substr(0,5)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=a.indexOf(e.charAt(u++))<<2|(o=a.indexOf(e.charAt(u++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=a.indexOf(e.charAt(u++))),f[c++]=t,64!==s&&(f[c++]=n),64!==l&&(f[c++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n){var r=i,a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}(0|t,e,e.length):function(e,t,n){var r=i,a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^r[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=r?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,c){var d,f,h=e.file,p=e.compression,m=c!==s.utf8encode,g=a.transformTo("string",c(h.name)),v=a.transformTo("string",s.utf8encode(h.name)),y=h.comment,b=a.transformTo("string",c(y)),w=a.transformTo("string",s.utf8encode(y)),x=v.length!==h.name.length,_=w.length!==y.length,S="",E="",k="",C=h.dir,M=h.date,P={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(P.crc32=e.crc32,P.compressedSize=e.compressedSize,P.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!x&&!_||(T|=2048);var A=0,I=0;C&&(A|=16),"UNIX"===o?(I=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(I=20,A|=function(e){return 63&(e||0)}(h.dosPermissions)),d=M.getUTCHours(),d<<=6,d|=M.getUTCMinutes(),d<<=5,d|=M.getUTCSeconds()/2,f=M.getUTCFullYear()-1980,f<<=4,f|=M.getUTCMonth()+1,f<<=5,f|=M.getUTCDate(),x&&(E=r(1,1)+r(l(g),4)+v,S+="up"+r(E.length,2)+E),_&&(k=r(1,1)+r(l(b),4)+w,S+="uc"+r(k.length,2)+k);var R="";return R+="\n\0",R+=r(T,2),R+=p.magic,R+=r(d,2),R+=r(f,2),R+=r(P.crc32,4),R+=r(P.compressedSize,4),R+=r(P.uncompressedSize,4),R+=r(g.length,2),R+=r(S.length,2),{fileRecord:u.LOCAL_FILE_HEADER+R+g+S,dirRecord:u.CENTRAL_FILE_HEADER+r(I,2)+R+r(b.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+g+S+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var s=a.transformTo("string",o(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(u(r[a]));return i.Promise.all(n)}).then(function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],l=s.fileNameStr,u=r.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e,t,n){var r,i=a.getTypeOf(t),s=a.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var v;v=t instanceof u||t instanceof o?t:f.isNode&&f.isStream(t)?new h(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new c(e,v,s);this.files[e]=y}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new o("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return function(e,t){return new l.Promise(function(n,i){var a=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",function(e,n){a.push(e),t&&t(n)}).on("error",function(e){a=[],i(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),u);n(e)}catch(e){i(e)}a=[]}).resume()})}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),a=o=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,l=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)l[n++]=i;else if(4<(a=s[i]))l[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,o),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),l=t;o!==t.length&&(i.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var f={};f.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},f.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},f.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},f.nodebuffer={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,u){return o.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var c=n.getTypeOf(t);return c?("arraybuffer"===c?t=n.transformTo("uint8array",t):"string"===c&&(u?t=i.decode(t):a&&!0!==s&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,void 0!==hh?hh:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var r=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p(function(){t(i,r)});"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(u,o))},function(e){r||(r=!0,a.reject(u,e))})}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t,n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)t=e[o],this.resolve(t).then(function(e){r||(r=!0,a.resolve(s,e))},function(e){r||(r=!0,a.reject(s,e))});return s}},{immediate:36}],38:[function(e,t,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}u.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(f="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(h.output,h.next_out),u=h.next_out-l,d=a.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=o=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(a=o[i]))u[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<s;)i=i<<6|63&e[n++],a--;1<a?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e,a=e>>>16&65535,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=-2,c=258,d=262,f=113;function h(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function g(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function v(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,u=e.window,f=e.w_mask,h=e.prev,p=e.strstart+c,m=u[a+o-1],g=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===g&&u[n+o-1]===m&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<p);if(r=c-(p-a),a=p-c,o<r){if(e.match_start=t,s<=(o=r))break;m=u[a+o-1],g=u[a+o]}}}while((t=h[t&f])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function x(e){var t,n,r,a,l,u,c,f,h,p,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-d)){for(i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;r=e.head[--t],e.head[t]=m<=r?r-m:0,--n;);for(t=n=m;r=e.prev[--t],e.prev[t]=m<=r?r-m:0,--n;);a+=m}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,f=e.strstart+e.lookahead,p=void 0,(h=a)<(p=u.avail_in)&&(p=h),n=0===p?0:(u.avail_in-=p,i.arraySet(c,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=o(u.adler,c,p,f):2===u.state.wrap&&(u.adler=s(u.adler,c,p,f)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function _(e,t){for(var n,r;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=w(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,r,i;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(v(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&v(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):h(e,u)}function M(e){var t=C(e);return 0===t&&function(e){e.window_size=2*e.w_size,m(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function P(e,t,n,r,a,o){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),a<1||9<a||8!==n||r<8||15<r||t<0||9<t||o<0||4<o)return h(e,u);8===r&&(r=9);var l=new k;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,M(e)}r=[new E(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,v(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-d&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(v(e,!1),e.strm.avail_out),1)}),new E(4,4,8,4,_),new E(4,5,16,8,_),new E(4,6,32,32,_),new E(4,4,16,16,S),new E(8,16,32,32,S),new E(8,16,128,128,S),new E(8,32,128,256,S),new E(32,128,258,1024,S),new E(32,258,258,4096,S)],n.deflateInit=function(e,t){return P(e,t,8,15,8,0)},n.deflateInit2=P,n.deflateReset=M,n.deflateResetKeep=C,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},n.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||5<t||t<0)return e?h(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return h(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,3),i.status=f);else{var d=8+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=f,b(i,d),0!==i.strstart&&(b(i,e.adler>>>16),b(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),g(e),o=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),g(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,y(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),g(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,y(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(e),i.pending+2<=i.pending_buf_size&&(y(i,255&e.adler),y(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(g(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return h(e,-5);if(666===i.status&&0!==e.avail_in)return h(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var w=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=c){if(x(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==w&&4!==w||(i.status=666),1===w||3===w)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),g(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&e.adler),y(i,e.adler>>8&255),y(i,e.adler>>16&255),y(i,e.adler>>24&255),y(i,255&e.total_in),y(i,e.total_in>>8&255),y(i,e.total_in>>16&255),y(i,e.total_in>>24&255)):(b(i,e.adler>>>16),b(i,65535&e.adler)),g(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==f&&666!==t?h(e,u):(e.state=null,t===f?h(e,-3):0):u},n.deflateSetDictionary=function(e,t){var n,r,a,s,l,c,d,f,h=t.length;if(!e||!e.state||2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,h-n.w_size,n.w_size,0),t=f,h=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,x(n);n.lookahead>=3;){for(r=n.strstart,a=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,r,i,a,o,s,l,u,c,d,f,h,p,m,g,v,y,b,w,x,_,S,E,k,C;n=e.state,r=e.next_in,k=e.input,i=r+(e.avail_in-5),a=e.next_out,C=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=m[h&v];t:for(;;){if(h>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))C[a++]=65535&b;else{if(!(16&w)){if(!(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(h+=k[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=g[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(!(64&w)){b=g[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(w&=15)&&(h+=k[r++]<<p,(p+=8)<w&&(h+=k[r++]<<p,p+=8)),l<(_+=h&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,(w=a-o)<_){if(c<(w=_-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=f,(S=0)===d){if(S+=u-w,w<x){for(x-=w;C[a++]=f[S++],--w;);S=a-_,E=C}}else if(d<w){if(S+=u+d-w,(w-=d)<x){for(x-=w;C[a++]=f[S++],--w;);if(S=0,d<x){for(x-=w=d;C[a++]=f[S++],--w;);S=a-_,E=C}}}else if(S+=d-w,w<x){for(x-=w;C[a++]=f[S++],--w;);S=a-_,E=C}for(;2<x;)C[a++]=E[S++],C[a++]=E[S++],C[a++]=E[S++],x-=3;x&&(C[a++]=E[S++],1<x&&(C[a++]=E[S++]))}else{for(S=a-_;C[a++]=C[S++],C[a++]=C[S++],C[a++]=C[S++],2<(x-=3););x&&(C[a++]=C[S++],1<x&&(C[a++]=C[S++]))}break}}break}}while(r<i&&a<s);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):l}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):l}function p(e,t){var n,r;return e?(r=new c,(e.state=r).window=null,0!==(n=h(e,t))&&(e.state=null),n):l}var m,g,v=!0;function y(e){if(v){var t;for(m=new r.Buf32(512),g=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,g,0,e.work,{bits:5}),v=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function b(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=f,n.inflateReset2=h,n.inflateResetKeep=d,n.inflateInit=function(e){return p(e,15)},n.inflateInit2=p,n.inflate=function(e,t){var n,c,d,f,h,p,m,g,v,w,x,_,S,E,k,C,M,P,T,A,I,R,O,D,z=0,L=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,d=e.output,m=e.avail_out,f=e.next_in,c=e.input,p=e.avail_in,g=n.hold,v=n.bits,w=p,x=m,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(2&n.wrap&&35615===g){L[n.check=0]=255&g,L[1]=g>>>8&255,n.check=a(n.check,L,2,0),v=g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,I=8+(15&(g>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&g?10:12,v=g=0;break;case 2:for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(L[0]=255&g,L[1]=g>>>8&255,n.check=a(n.check,L,2,0)),v=g=0,n.mode=3;case 3:for(;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.head&&(n.head.time=g),512&n.flags&&(L[0]=255&g,L[1]=g>>>8&255,L[2]=g>>>16&255,L[3]=g>>>24&255,n.check=a(n.check,L,4,0)),v=g=0,n.mode=4;case 4:for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(L[0]=255&g,L[1]=g>>>8&255,n.check=a(n.check,L,2,0)),v=g=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(L[0]=255&g,L[1]=g>>>8&255,n.check=a(n.check,L,2,0)),v=g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(_=n.length)&&(_=p),_&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,f,_,I)),512&n.flags&&(n.check=a(n.check,c,_,f)),p-=_,f+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;for(_=0;I=c[f+_++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I)),I&&_<p;);if(512&n.flags&&(n.check=a(n.check,c,_,f)),p-=_,f+=_,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;for(_=0;I=c[f+_++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I)),I&&_<p;);if(512&n.flags&&(n.check=a(n.check,c,_,f)),p-=_,f+=_,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}v=g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}e.adler=n.check=u(g),v=g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=m,e.next_in=f,e.avail_in=p,n.hold=g,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}switch(n.last=1&g,v-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6!==t)break;g>>>=2,v-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}g>>>=2,v-=2;break;case 14:for(g>>>=7&v,v-=7&v;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,v=g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(p<_&&(_=p),m<_&&(_=m),0===_)break e;r.arraySet(d,c,f,_,h),p-=_,f+=_,m-=_,h+=_,n.length-=_;break}n.mode=12;break;case 17:for(;v<14;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(n.nlen=257+(31&g),g>>>=5,v-=5,n.ndist=1+(31&g),g>>>=5,v-=5,n.ncode=4+(15&g),g>>>=4,v-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.lens[N[n.have++]]=7&g,g>>>=3,v-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},R=s(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(z=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,M=65535&z,!((k=z>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(M<16)g>>>=k,v-=k,n.lens[n.have++]=M;else{if(16===M){for(D=k+2;v<D;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(g>>>=k,v-=k,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],_=3+(3&g),g>>>=2,v-=2}else if(17===M){for(D=k+3;v<D;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}v-=k,I=0,_=3+(7&(g>>>=k)),g>>>=3,v-=3}else{for(D=k+7;v<D;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}v-=k,I=0,_=11+(127&(g>>>=k)),g>>>=7,v-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},R=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},R=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=p&&258<=m){e.next_out=h,e.avail_out=m,e.next_in=f,e.avail_in=p,n.hold=g,n.bits=v,o(e,x),h=e.next_out,d=e.output,m=e.avail_out,f=e.next_in,c=e.input,p=e.avail_in,g=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(z=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,M=65535&z,!((k=z>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(C&&!(240&C)){for(P=k,T=C,A=M;C=(z=n.lencode[A+((g&(1<<P+T)-1)>>P)])>>>16&255,M=65535&z,!(P+(k=z>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}g>>>=P,v-=P,n.back+=P}if(g>>>=k,v-=k,n.back+=k,n.length=M,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(D=n.extra;v<D;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(z=n.distcode[g&(1<<n.distbits)-1])>>>16&255,M=65535&z,!((k=z>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(!(240&C)){for(P=k,T=C,A=M;C=(z=n.distcode[A+((g&(1<<P+T)-1)>>P)])>>>16&255,M=65535&z,!(P+(k=z>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}g>>>=P,v-=P,n.back+=P}if(g>>>=k,v-=k,n.back+=k,64&C){e.msg="invalid distance code",n.mode=30;break}n.offset=M,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(D=n.extra;v<D;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===m)break e;if(_=x-m,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}S=_>n.wnext?(_-=n.wnext,n.wsize-_):n.wnext-_,_>n.length&&(_=n.length),E=n.window}else E=d,S=h-n.offset,_=n.length;for(m<_&&(_=m),m-=_,n.length-=_;d[h++]=E[S++],--_;);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;d[h++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===p)break e;p--,g|=c[f++]<<v,v+=8}if(x-=m,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?a(n.check,d,x,h-x):i(n.check,d,x,h-x)),x=m,(n.flags?g:u(g))!==n.check){e.msg="incorrect data check",n.mode=30;break}v=g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}v=g=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return l}return e.next_out=h,e.avail_out=m,e.next_in=f,e.avail_in=p,n.hold=g,n.bits=v,(n.wsize||x!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,x-=e.avail_out,e.total_in+=w,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?a(n.check,d,x,e.next_out-x):i(n.check,d,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===x||4===t)&&0===R&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:b(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,d,f){var h,p,m,g,v,y,b,w,x,_=f.bits,S=0,E=0,k=0,C=0,M=0,P=0,T=0,A=0,I=0,R=0,O=null,D=0,z=new r.Buf16(16),L=new r.Buf16(16),N=null,j=0;for(S=0;S<=15;S++)z[S]=0;for(E=0;E<l;E++)z[t[n+E]]++;for(M=_,C=15;1<=C&&0===z[C];C--);if(C<M&&(M=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(k=1;k<C&&0===z[k];k++);for(M<k&&(M=k),S=A=1;S<=15;S++)if(A<<=1,(A-=z[S])<0)return-1;if(0<A&&(0===e||1!==C))return-1;for(L[1]=0,S=1;S<15;S++)L[S+1]=L[S]+z[S];for(E=0;E<l;E++)0!==t[n+E]&&(d[L[t[n+E]]++]=E);if(y=0===e?(O=N=d,19):1===e?(O=i,D-=257,N=a,j-=257,256):(O=o,N=s,-1),S=k,v=c,T=E=R=0,m=-1,g=(I=1<<(P=M))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(b=S-T,x=d[E]<y?(w=0,d[E]):d[E]>y?(w=N[j+d[E]],O[D+d[E]]):(w=96,0),h=1<<S-T,k=p=1<<P;u[v+(R>>T)+(p-=h)]=b<<24|w<<16|x,0!==p;);for(h=1<<S-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,E++,0==--z[S]){if(S===C)break;S=t[n+d[E]]}if(M<S&&(R&g)!==m){for(0===T&&(T=M),v+=k,A=1<<(P=S-T);P+T<C&&!((A-=z[P+T])<=0);)P++,A<<=1;if(I+=1<<P,1===e&&852<I||2===e&&592<I)return 1;u[m=R&g]=M<<24|P<<16|v-c}}return 0!==R&&(u[v+R]=S-T<<24|64<<16),f.bits=M,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var a=256,o=286,s=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);i(h);var p=new Array(60);i(p);var m=new Array(512);i(m);var g=new Array(256);i(g);var v=new Array(29);i(v);var y,b,w,x=new Array(s);function _(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function E(e){return e<256?m[e]:m[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function M(e,t,n){C(e,n[2*t],n[2*t+1])}function P(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function T(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=l;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=P(a[s]++,s))}}function A(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){8<e.bi_valid?k(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function R(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!R(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function D(e,t,n){var r,i,o,s,l=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?M(e,i,t):(M(e,(o=g[i])+a+1,t),0!==(s=u[o])&&C(e,i-=v[o],s),M(e,o=E(--r),n),0!==(s=c[o])&&C(e,r-=x[o],s)),l<e.last_lit;);M(e,256,t)}function z(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)O(e,a,n);for(i=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,O(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,u=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=l;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(a=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(a=m,g++),u[2*r+1]=a,c<r||(e.bl_count[a]++,o=0,p<=r&&(o=h[r-p]),s=u[2*r],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(d[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)c<(i=e.heap[--n])||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(e,t),T(a,c,e.bl_count)}function L(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function N(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<u)for(;M(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(M(e,i,e.bl_tree),s--),M(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(M(e,17,e.bl_tree),C(e,s-3,3)):(M(e,18,e.bl_tree),C(e,s-11,7));a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(x);var j=!1;function F(e,t,n,i){C(e,0+(i?1:0),3),function(e,t,n){I(e),k(e,n),k(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){j||(function(){var e,t,n,r,i,a=new Array(16);for(r=n=0;r<28;r++)for(v[r]=n,e=0;e<1<<u[r];e++)g[n++]=r;for(g[n-1]=r,r=i=0;r<16;r++)for(x[r]=i,e=0;e<1<<c[r];e++)m[i++]=r;for(i>>=7;r<s;r++)for(x[r]=i<<7,e=0;e<1<<c[r]-7;e++)m[256+i++]=r;for(t=0;t<=l;t++)a[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,a[8]++;for(;e<=255;)h[2*e+1]=9,e++,a[9]++;for(;e<=279;)h[2*e+1]=7,e++,a[7]++;for(;e<=287;)h[2*e+1]=8,e++,a[8]++;for(T(h,287,a),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=P(e,5);y=new _(h,u,257,o,l),b=new _(p,c,0,s,l),w=new _(new Array(0),d,0,19,7)}(),j=!0),e.l_desc=new S(e.dyn_ltree,y),e.d_desc=new S(e.dyn_dtree,b),e.bl_desc=new S(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,A(e)},n._tr_stored_block=F,n._tr_flush_block=function(e,t,n,r){var i,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),z(e,e.l_desc),z(e,e.d_desc),s=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),z(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?F(e,t,n,r):4===e.strategy||o===i?(C(e,2+(r?1:0),3),D(e,h,p)):(C(e,4+(r?1:0),3),function(e,t,n,r){var i;for(C(e,t-257,5),C(e,n-1,5),C(e,r-4,4),i=0;i<r;i++)C(e,e.bl_tree[2*f[i]+1],3);N(e,e.dyn_ltree,t-1),N(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),D(e,e.dyn_ltree,e.dyn_dtree)),A(e),r&&I(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+a+1)]++,e.dyn_dtree[2*E(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;C(e,2,3),M(e,256,h),16===(t=e).bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e){if(!e.setImmediate){var t,n,r,i,a=1,o={},s=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,t="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){d(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){r.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(d,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),r=0;r<n.length;r++)n[r]=arguments[r+1];var i={callback:e,args:n};return o[a]=i,t(a),a++},u.clearImmediate=c}function c(e){delete o[e]}function d(e){if(s)setTimeout(d,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{c(e),s=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&d(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==hh?hh:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)})}),kI=b(()=>{eI=S(Af(),1),tI=S(Af(),1),nI=e=>"function"==typeof e,rI=(e,t)=>nI(e)?e(t):e,iI=(()=>{let e=0;return()=>(++e).toString()})(),aI=new Map,oI=e=>{if(aI.has(e))return;let t=setTimeout(()=>{aI.delete(e),dI({type:4,toastId:e})},1e3);aI.set(e,t)},sI=e=>{let t=aI.get(e);t&&clearTimeout(t)},lI=(e,t)=>{switch(t.type){case 0:return v(g({},e),{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return t.toast.id&&sI(t.toast.id),v(g({},e),{toasts:e.toasts.map(e=>e.id===t.toast.id?g(g({},e),t.toast):e)});case 2:let{toast:n}=t;return e.toasts.find(e=>e.id===n.id)?lI(e,{type:1,toast:n}):lI(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?oI(r):e.toasts.forEach(e=>{oI(e.id)}),v(g({},e),{toasts:e.toasts.map(e=>e.id===r||void 0===r?v(g({},e),{visible:!1}):e)});case 4:return void 0===t.toastId?v(g({},e),{toasts:[]}):v(g({},e),{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return v(g({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return v(g({},e),{pausedAt:void 0,toasts:e.toasts.map(e=>v(g({},e),{pauseDuration:e.pauseDuration+i}))})}},uI=[],cI={toasts:[],pausedAt:void 0},dI=e=>{cI=lI(cI,e),uI.forEach(e=>{e(cI)})},fI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hI=(e={})=>{let[t,n]=(0,eI.useState)(cI);(0,eI.useEffect)(()=>(uI.push(n),()=>{let e=uI.indexOf(n);e>-1&&uI.splice(e,1)}),[t]);let r=t.toasts.map(t=>{var n,r;return v(g(g(g({},e),e[t.type]),t),{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||fI[t.type],style:g(g(g({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})});return v(g({},t),{toasts:r})},pI=(e,t="blank",n)=>v(g({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(null==n?void 0:n.id)||iI()}),(gI=(e,t)=>mI("blank")(e,t)).error=(mI=e=>(t,n)=>{let r=pI(t,e,n);return dI({type:2,toast:r}),r.id})("error"),gI.success=mI("success"),gI.loading=mI("loading"),gI.custom=mI("custom"),gI.dismiss=e=>{dI({type:3,toastId:e})},gI.remove=e=>dI({type:4,toastId:e}),gI.promise=(e,t,n)=>{let r=gI.loading(t.loading,g(g({},n),null==n?void 0:n.loading));return e.then(e=>(gI.success(rI(t.success,e),g(g({id:r},n),null==n?void 0:n.success)),e)).catch(e=>{gI.error(rI(t.error,e),g(g({id:r},n),null==n?void 0:n.error))}),e},vI=(e,t)=>{dI({type:1,toast:{id:e,height:t}})},yI=()=>{dI({type:5,time:Date.now()})},bI=e=>{let{toasts:t,pausedAt:n}=hI(e);(0,tI.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>gI.dismiss(t.id),n);t.visible&&gI.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,tI.useCallback)(()=>{n&&dI({type:6,time:Date.now()})},[n]),i=(0,tI.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=n||{},o=t.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return{toasts:t,handlers:{updateHeight:vI,startPause:yI,endPause:r,calculateOffset:i}}},wI=gI});function CI(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function MI(e,t){if(t){if(BI.test(e))return e.replace(VI,qI)}else if(HI.test(e))return e.replace(WI,qI);return e}function PI(e){return e.replace(XI,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}function TI(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,r)=>(r=(r=r.source||r).replace(YI,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}function AI(e,t,n){if(e){let e;try{e=decodeURIComponent(PI(n)).replace(KI,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!$I.test(n)&&(n=function(e,t){ZI[" "+e]||(QI.test(e)?ZI[" "+e]=e+"/":ZI[" "+e]=OI(e,"/",!0)),e=ZI[" "+e];let n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(JI,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(eR,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}function II(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function RI(e,t){let n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}),r=n.split(/ \|/),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function OI(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let a=e.charAt(r-i-1);if(a!==t||n){if(a===t||!n)break;i++}else i++}return e.slice(0,r-i)}function DI(e){e&&e.sanitize&&e.silent}function zI(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function LI(e,t,n,r){let i=t.href,a=t.title?MI(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;let e={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:a,text:MI(o)}}function NI(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function jI(e){let t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}function FI(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),DI(t=II({},FI.defaults,t||{})),n){let r,i=t.highlight;try{r=aR.lex(e,t)}catch(e){return n(e)}let a=function(e){let a;if(!e)try{t.walkTokens&&FI.walkTokens(r,t.walkTokens),a=uR.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,a)};if(!i||i.length<3||(delete t.highlight,!r.length))return a();let o=0;return FI.walkTokens(r,function(e){"code"===e.type&&(o++,setTimeout(()=>{i(e.text,e.lang,function(t,n){if(t)return a(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),o--,0===o&&a()})},0))}),void(0===o&&a())}function r(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+MI(e.message+"",!0)+"</pre>";throw e}try{let n=aR.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(FI.walkTokens(n,t.walkTokens)).then(()=>uR.parse(n,t)).catch(r);FI.walkTokens(n,t.walkTokens)}return uR.parse(n,t)}catch(e){r(e)}}var UI,BI,VI,HI,WI,GI,qI,XI,YI,KI,$I,ZI,QI,JI,eR,tR,nR,rR,iR,aR,oR,sR,lR,uR,cR,dR,fR,hR,pR,mR,gR,vR,yR,bR,wR,xR,_R,SR,ER,kR,CR,MR,PR,TR,AR,IR,RR,OR,DR,zR,LR,NR,jR,FR,UR,BR,VR,HR,WR,GR=b(()=>{UI={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},BI=/[&<>"']/,VI=/[&<>"']/g,HI=/[<>"']|&(?!#?\w+;)/,WI=/[<>"']|&(?!#?\w+;)/g,GI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qI=e=>GI[e],XI=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,YI=/(^|[^\[])\^/g,KI=/[^\w:]/g,$I=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,ZI={},QI=/^[^:]+:\/*[^/]*$/,JI=/^([^:]+:)[\s\S]*$/,eR=/^([^:]+:\/*[^/]*)[\s\S]*$/,tR={exec:function(){}},nR=class{constructor(e){this.options=e||UI}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:OI(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let r=n[1];return t.split("\n").map(e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=OI(e,"#");(this.options.pedantic||!t||/ $/.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,a,o,s,l,u,c,d,f,h,p=t[1].trim(),m=p.length>1,g={type:"list",raw:"",ordered:m,start:m?+p.slice(0,-1):"",loose:!1,items:[]};p=m?"\\d{1,9}\\".concat(p.slice(-1)):"\\".concat(p),this.options.pedantic&&(p=m?p:"[*+-]");let v=new RegExp("^( {0,3}".concat(p,")((?:[\t ][^\\n]*)?(?:\\n|$))"));for(;e&&(h=!1,(t=v.exec(e))&&!this.rules.block.hr.test(e));){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0],c=e.split("\n",1)[0],this.options.pedantic?(a=2,f=u.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,f=u.slice(a),a+=t[1].length),s=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),h=!0),!h){let t=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),r=new RegExp("^ {0,".concat(Math.min(3,a-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),i=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:```|~~~)")),o=new RegExp("^ {0,".concat(Math.min(3,a-1),"}#"));for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(i.test(u)||o.test(u)||t.test(u)||r.test(e)));){if(u.search(/[^ ]/)>=a||!u.trim())f+="\n"+u.slice(a);else{if(s)break;f+="\n"+u}!s&&!u.trim()&&(s=!0),n+=d+"\n",e=e.substring(d.length+1)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(f),r&&(i="[ ] "!==r[0],f=f.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:f}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=f.trimRight(),g.raw=g.raw.trimRight();let y=g.items.length;for(o=0;o<y;o++){this.lexer.state.top=!1,g.items[o].tokens=this.lexer.blockTokens(g.items[o].text,[]);let e=g.items[o].tokens.filter(e=>"space"===e.type),t=e.every(e=>{let t=e.raw.split(""),n=0;for(let e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1});!g.loose&&e.length&&t&&(g.loose=!0,g.items[o].loose=!0)}return g}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){let n=this.options.sanitizer?this.options.sanitizer(t[0]):MI(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:RI(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,a,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=RI(e.rows[n],e.header.length).map(e=>({text:e}));for(o=e.header.length,r=0;r<o;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(o=e.rows.length,r=0;r<o;r++)for(a=e.rows[r],i=0;i<a.length;i++)a[i].tokens=this.lexer.inline(a[i].text);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:MI(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):MI(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=OI(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=e.length,r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),LI(t,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return LI(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){let n,i,a=r[0].length-1,o=a,s=0,l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=n.length,r[3]||r[4]){o+=i;continue}if((r[5]||r[6])&&a%3&&!((a+i)%3)){s+=i;continue}if(o-=i,o>0)continue;if(i=Math.min(i,i+o+s),Math.min(a,i)%2){let t=e.slice(1,a+r.index+i);return{type:"em",raw:e.slice(0,a+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t)}}let t=e.slice(2,a+r.index+i-1);return{type:"strong",raw:e.slice(0,a+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=MI(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=MI(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=MI(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=MI(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=MI(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):MI(n[0]):n[0]:MI(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}},(rR={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:tR,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/})._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,rR._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,rR.def=TI(rR.def).replace("label",rR._label).replace("title",rR._title).getRegex(),rR.bullet=/(?:[*+-]|\d{1,9}[.)])/,rR.listItemStart=TI(/^( *)(bull) */).replace("bull",rR.bullet).getRegex(),rR.list=TI(rR.list).replace(/bull/g,rR.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+rR.def.source+")").getRegex(),rR._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rR._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,rR.html=TI(rR.html,"i").replace("comment",rR._comment).replace("tag",rR._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rR.paragraph=TI(rR._paragraph).replace("hr",rR.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rR._tag).getRegex(),rR.blockquote=TI(rR.blockquote).replace("paragraph",rR.paragraph).getRegex(),rR.normal=II({},rR),rR.gfm=II({},rR.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),rR.gfm.table=TI(rR.gfm.table).replace("hr",rR.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rR._tag).getRegex(),rR.gfm.paragraph=TI(rR._paragraph).replace("hr",rR.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",rR.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rR._tag).getRegex(),rR.pedantic=II({},rR.normal,{html:TI("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",rR._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tR,paragraph:TI(rR.normal._paragraph).replace("hr",rR.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rR.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),(iR={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:tR,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:tR,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/})._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",iR.punctuation=TI(iR.punctuation).replace(/punctuation/g,iR._punctuation).getRegex(),iR.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,iR.escapedEmSt=/\\\*|\\_/g,iR._comment=TI(rR._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),iR.emStrong.lDelim=TI(iR.emStrong.lDelim).replace(/punct/g,iR._punctuation).getRegex(),iR.emStrong.rDelimAst=TI(iR.emStrong.rDelimAst,"g").replace(/punct/g,iR._punctuation).getRegex(),iR.emStrong.rDelimUnd=TI(iR.emStrong.rDelimUnd,"g").replace(/punct/g,iR._punctuation).getRegex(),iR._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,iR._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,iR._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,iR.autolink=TI(iR.autolink).replace("scheme",iR._scheme).replace("email",iR._email).getRegex(),iR._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,iR.tag=TI(iR.tag).replace("comment",iR._comment).replace("attribute",iR._attribute).getRegex(),iR._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,iR._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,iR._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,iR.link=TI(iR.link).replace("label",iR._label).replace("href",iR._href).replace("title",iR._title).getRegex(),iR.reflink=TI(iR.reflink).replace("label",iR._label).replace("ref",rR._label).getRegex(),iR.nolink=TI(iR.nolink).replace("ref",rR._label).getRegex(),iR.reflinkSearch=TI(iR.reflinkSearch,"g").replace("reflink",iR.reflink).replace("nolink",iR.nolink).getRegex(),iR.normal=II({},iR),iR.pedantic=II({},iR.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:TI(/^!?\[(label)\]\((.*?)\)/).replace("label",iR._label).getRegex(),reflink:TI(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",iR._label).getRegex()}),iR.gfm=II({},iR.normal,{escape:TI(iR.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),iR.gfm.url=TI(iR.gfm.url,"i").replace("email",iR.gfm._extended_email).getRegex(),iR.breaks=II({},iR.gfm,{br:TI(iR.br).replace("{2,}","*").getRegex(),text:TI(iR.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),aR=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||UI,this.options.tokenizer=this.options.tokenizer||new nR,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:rR.normal,inline:iR.normal};this.options.pedantic?(t.block=rR.pedantic,t.inline=iR.pedantic):this.options.gfm&&(t.block=rR.gfm,this.options.breaks?t.inline=iR.breaks:t.inline=iR.gfm),this.tokenizer.rules=t}static get rules(){return{block:rR,inline:iR}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(function(e){t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){r=t[t.length-1],a&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),a=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,a,o,s,l=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+zI("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,a.index)+"["+zI("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,a.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(o||(s=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,s)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,jI)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,jI))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(function(e){t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(i,NI)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),o=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return t}},oR=class{constructor(e){this.options=e||UI}code(e,t,n){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+MI(r,!0)+'">'+(n?e:MI(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:MI(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n".concat(e,"</blockquote>\n")}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){let i=this.options.headerPrefix+r.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,">\n")}return"<h".concat(t,">").concat(e,"</h").concat(t,">\n")}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>".concat(e,"</li>\n")}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,"</p>\n")}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n".concat(e,"</tr>\n")}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,">\n")}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(null===(e=AI(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+MI(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=AI(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(r+=' title="'.concat(t,'"')),r+=this.options.xhtml?"/>":">",r}text(e){return e}},sR=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},lR=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},uR=class e{constructor(e){this.options=e||UI,this.options.renderer=this.options.renderer||new oR,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new sR,this.slugger=new lR}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n,r,i,a,o,s,l,u,c,d,f,h,p,m,g,v,y,b,w,x="",_=e.length;for(n=0;n<_;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(w=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))x+=w||"";else switch(d.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(d.tokens),d.depth,PI(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(u="",l="",a=d.header.length,r=0;r<a;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(u+=this.renderer.tablerow(l),c="",a=d.rows.length,r=0;r<a;r++){for(s=d.rows[r],l="",o=s.length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(s[i].tokens),{header:!1,align:d.align[i]});c+=this.renderer.tablerow(l)}x+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(d.tokens),x+=this.renderer.blockquote(c);continue;case"list":for(f=d.ordered,h=d.start,p=d.loose,a=d.items.length,c="",r=0;r<a;r++)g=d.items[r],v=g.checked,y=g.task,m="",g.task&&(b=this.renderer.checkbox(v),p?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,p),c+=this.renderer.listitem(m,y,v);x+=this.renderer.list(c,f,h);continue;case"html":x+=this.renderer.html(d.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(c=d.tokens?this.parseInline(d.tokens):d.text;n+1<_&&"text"===e[n+1].type;)d=e[++n],c+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);x+=t?this.renderer.paragraph(c):c;continue;default:{let e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return;throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,r,i,a="",o=e.length;for(n=0;n<o;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))a+=i||"";else switch(r.type){case"escape":case"text":a+=t.text(r.text);break;case"html":a+=t.html(r.text);break;case"link":a+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":a+=t.image(r.href,r.title,r.text);break;case"strong":a+=t.strong(this.parseInline(r.tokens,t));break;case"em":a+=t.em(this.parseInline(r.tokens,t));break;case"codespan":a+=t.codespan(r.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(r.tokens,t));break;default:{let e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(e)}}return a}},FI.options=FI.setOptions=function(e){return II(FI.defaults,e),function(e){UI=e}(FI.defaults),FI},FI.getDefaults=CI,FI.defaults=UI,FI.use=function(...e){let t,n=II({},...e),r=FI.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(e=>{if(e.extensions&&(t=!0,e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){let t=r.renderers?r.renderers[e.name]:null;r.renderers[e.name]=t?function(...n){let r=e.renderer.apply(this,n);return!1===r&&(r=t.apply(this,n)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");r[e.level]?r[e.level].unshift(e.tokenizer):r[e.level]=[e.tokenizer],e.start&&("block"===e.level?r.startBlock?r.startBlock.push(e.start):r.startBlock=[e.start]:"inline"===e.level&&(r.startInline?r.startInline.push(e.start):r.startInline=[e.start]))}e.childTokens&&(r.childTokens[e.name]=e.childTokens)})),e.renderer){let t=FI.defaults.renderer||new oR;for(let n in e.renderer){let r=t[n];t[n]=(...i)=>{let a=e.renderer[n].apply(t,i);return!1===a&&(a=r.apply(t,i)),a}}n.renderer=t}if(e.tokenizer){let t=FI.defaults.tokenizer||new nR;for(let n in e.tokenizer){let r=t[n];t[n]=(...i)=>{let a=e.tokenizer[n].apply(t,i);return!1===a&&(a=r.apply(t,i)),a}}n.tokenizer=t}if(e.walkTokens){let t=FI.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}t&&(n.extensions=r),FI.setOptions(n)})},FI.walkTokens=function(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(FI,r)),r.type){case"table":for(let e of r.header)n=n.concat(FI.walkTokens(e.tokens,t));for(let e of r.rows)for(let r of e)n=n.concat(FI.walkTokens(r.tokens,t));break;case"list":n=n.concat(FI.walkTokens(r.items,t));break;default:FI.defaults.extensions&&FI.defaults.extensions.childTokens&&FI.defaults.extensions.childTokens[r.type]?FI.defaults.extensions.childTokens[r.type].forEach(function(e){n=n.concat(FI.walkTokens(r[e],t))}):r.tokens&&(n=n.concat(FI.walkTokens(r.tokens,t)))}return n},FI.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");DI(t=II({},FI.defaults,t||{}));try{let n=aR.lexInline(e,t);return t.walkTokens&&FI.walkTokens(n,t.walkTokens),uR.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+MI(e.message+"",!0)+"</pre>";throw e}},FI.Parser=uR,FI.parser=uR.parse,FI.Renderer=oR,FI.TextRenderer=sR,FI.Lexer=aR,FI.lexer=aR.lex,FI.Tokenizer=nR,FI.Slugger=lR,FI.parse=FI,FI.options,FI.setOptions,FI.use,FI.walkTokens,FI.parseInline,uR.parse,aR.lex}),qR=b(()=>{Hp(),_I(),dR=Vp(HA)(cR||(cR=k(["\n  padding: 6px;\n"]))),fR=dR}),XR=b(()=>{hR=S(Af()),kI(),Hp(),_y(),$f(),I(),GR(),xI(),qR(),pR=({title:e,message:t})=>"".concat(e," ").concat(t),mR=(()=>{let e=new Map;return{add:t=>{let n=pR(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:t=>{let n=pR(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:()=>{e.clear()},check:t=>e.has(pR(t))}})(),gR=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),yR=Vp.div(vR||(vR=k(["\n  width: 100%;\n  border-radius: 4px;\n  display: flex;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ty),wR=Vp.div(bR||(bR=k(["\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n"]))),_R=Vp.div(xR||(xR=k(["\n  flex: 1;\n  flex-direction: column;\n  width: 0;\n  display: flex;\n  padding: 16px 0;\n  gap: 12px;\n"]))),ER=Vp.div(SR||(SR=k(["\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n\n  a {\n    color: rgba(255, 255, 255, 0.9);\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  strong {\n    font-weight: bold;\n    color: #d5d5d5;\n  }\n\n  p {\n    margin-bottom: 8px;\n  }\n\n  code {\n    font-family: monospace;\n    background: rgba(0, 0, 0, 0.3);\n    padding: 1px 1px 2px;\n    border-radius: 4px;\n    border: 1px solid rgba(255, 255, 255, 0.08);\n    white-space: pre-wrap;\n  }\n\n  pre > code {\n    white-space: pre;\n    display: block;\n    overflow: auto;\n    padding: 4px;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    margin-bottom: 8px;\n  }\n"]))),CR=Vp.button(kR||(kR=k(["\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-left: 1px solid rgba(255, 255, 255, 0.05);\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.05);\n  }\n"]))),MR={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},TR=Vp.div(PR||(PR=k(["\n  display: flex;\n  justify-content: center;\n  margin-left: 12px;\n  padding-top: 21px;\n\n  ::before {\n    content: '';\n    width: 8px;\n    height: 8px;\n    border-radius: 999999px;\n    background-color: ",";\n  }\n"])),({type:e})=>MR[e]),AR=e=>(t,n,r=[],i=!1)=>{(i||!mR.check({title:t,message:n}))&&(mR.add({title:t,message:n}),gR.add(e),wI.custom(i=>hR.default.createElement(yR,null,hR.default.createElement(TR,{type:e}),hR.default.createElement(_R,null,hR.default.createElement(wR,null,t),hR.default.createElement(ER,{dangerouslySetInnerHTML:{__html:FI.parse(n)}}),r.length>0&&hR.default.createElement(ER,null,hR.default.createElement("span",null,"Docs:"," ",r.map((e,t)=>hR.default.createElement(hR.Fragment,{key:t},t>0&&", ",hR.default.createElement("a",{target:"_blank",href:e.url},e.title)))))),hR.default.createElement(CR,{onClick:()=>{wI.remove(i.id),mR.delete({title:t,message:n}),gR.delete(e)}},"Close")),{duration:1/0}))},IR={warning:AR("warning"),success:AR("success"),info:AR("info"),error:AR("error")},OR=Vp.div(RR||(RR=k(["\n  display: flex;\n  justify-content: ",";\n  gap: 12px;\n"])),({align:e})=>"center"===e?"center":"flex-end"),zR=Vp.button(DR||(DR=k(["\n  position: relative;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border: none;\n  padding: 12px;\n  color: #fff;\n  overflow: hidden;\n\n  ::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n  }\n\n  :hover::before {\n    background: ",";\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ty,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),NR=Vp.div(LR||(LR=k(["\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  position: fixed;\n  right: 92px;\n  top: 50px;\n  width: 500px;\n  height: 85vh;\n  min-height: 400px;\n"]))),FR=Vp.div(jR||(jR=k(["\n  overflow: hidden;\n  pointer-events: auto;\n  border-radius: 4px;\n\n  & > div {\n    display: flex;\n    flex-direction: column-reverse;\n    gap: 8px;\n    overflow: scroll;\n    height: 100%;\n  }\n"]))),BR=Vp.div(UR||(UR=k(["\n  width: fit-content;\n  padding: 8px;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n"]))),VR=()=>{let{hasNotifications:e}=WR();return LA({enabled:!e},()=>hR.default.createElement(fR,null,hR.default.createElement(BR,null,hR.default.createElement(wR,null,"No notifications"),"Notifications will appear here when you get them.")))},HR=()=>{var e;let{toasts:t,handlers:n}=bI(),{startPause:r,endPause:i}=n,a=null!=(e=Vf(T().atomP.ahistoric.pinNotifications))&&e;return hR.default.createElement(NR,null,a?t.length>0&&hR.default.createElement(FR,{onMouseEnter:r,onMouseLeave:i},hR.default.createElement("div",null,t.map(e=>hR.default.createElement("div",{key:e.id},e.message(e))))):null,hR.default.createElement(OR,{align:"side"},a&&t.length>0&&hR.default.createElement(zR,{onClick:()=>{gR.clear(),mR.clear(),wI.remove()},danger:!0},"Clear")))},WR=()=>{let{toasts:e}=bI();return{hasNotifications:e.length>0}}});function YR(e,t){var n;let r=Object.values(null!=(n=(0,KR.val)(e.pointers.historic.sheetsById))?n:{}),i=r.flatMap(e=>{var t;return Object.values(null!=(t=null==e?void 0:e.staticOverrides.byObject)?t:{})}).flatMap(e=>Object.values(null!=e?e:{})),a=[...r.flatMap(e=>{var t,n;return Object.values(null!=(n=null==(t=null==e?void 0:e.sequence)?void 0:t.tracksByObject)?n:{})}).flatMap(e=>{var t;return Object.values(null!=(t=null==e?void 0:e.trackData)?t:{})}).flatMap(e=>null==e?void 0:e.keyframes).map(e=>null==e?void 0:e.value)];return i.forEach(e=>{R(e,e=>{a.push(e)},[])}),a.filter(e=>(null==e?void 0:e.type)&&(t?(null==e?void 0:e.type)==t:"string"==typeof(null==e?void 0:e.type))).map(e=>e.id).filter((e,t,n)=>null!==e&&""!==e&&n.indexOf(e)===t)}var KR,$R=b(()=>{KR=Cm(),z()});function ZR(e,t){let n=new File([e],t),r=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:r,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout(()=>{URL.revokeObjectURL(r)},4e4)}var QR,JR,eO,tO,nO,rO,iO,aO,oO,sO,lO,uO,cO,dO,fO,hO,pO,mO,gO,vO,yO=b(()=>{I(),jk(),Lk(),QR=S(Af()),Hp(),SA(),SI(),JR=S(EI()),XR(),$R(),tO=Vp.div(eO||(eO=k([""]))),rO=Vp.div(nO||(nO=k(["\n  padding: 8px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),aO=Vp(zk)(iO||(iO=k(["\n  display flex;\n  flex-direction: column;\n  gap: 1em;\n  width: 280px;\n  padding: 1em;\n"]))),oO=({projects:e})=>{let t=e[0],n=t.address.projectId,r=n.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(r,".theatre-project-state.json"),[a,o]=(0,QR.useState)(!1),s=(0,QR.useCallback)(()=>C(void 0,null,function*(){var e,n;let a=YR(t),s=new Map;try{yield Promise.all(a.map(e=>C(void 0,null,function*(){let n=t.assetStorage.getAssetUrl(e),r=yield fetch(n);r.ok&&s.set(e,yield r.blob())})))}catch(r){return void IR.error("Failed to access assets","Export aborted. Failed to access assets at ".concat(null!=(n=null==(e=t.config.assets)?void 0:e.baseUrl)?n:"/",". This is likely due to a CORS issue."))}if(s.size>0){let e=new JR.default;for(let[t,n]of s)e.file(t,n);ZR(yield e.generateAsync({type:"blob"}),"".concat(r,".assets.zip"))}ZR(JSON.stringify(T().createContentOfSaveFile(t.address.projectId),null,2),i),o(!0),setTimeout(()=>{o(!1)},2e3)}),[t,i]),l=hk({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>QR.default.createElement(aO,null,QR.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),QR.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),QR.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return QR.default.createElement(QR.default.Fragment,null,l.node,QR.default.createElement(tO,null,QR.default.createElement(JA,{projectId:n}),QR.default.createElement(rO,null,QR.default.createElement(bA,{onMouseEnter:e=>l.open(e,e.target),onClick:a?void 0:s,disabled:a},a?"(Exported)":"Export ".concat(n," to JSON")))))},sO=oO}),bO=b(()=>{lO=S(Af()),Hp(),yb(),cO=Vp.div(uO||(uO=k(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),fO=Vp.div(dO||(dO=k(["\n  display: flex;\n  flex-direction: column;\n  gap: 11px;\n  color: rgba(255, 255, 255, 0.9);\n"]))),pO=Vp.div(hO||(hO=k(["\n  color: rgba(145, 145, 145, 0.8);\n"]))),gO=Vp.a(mO||(mO=k(["\n  color: #919191;\n  font-size: 10px;\n  text-decoration-color: #40434a;\n  text-underline-offset: 3px;\n"]))),vO=()=>lO.default.createElement(cO,null,lO.default.createElement(fO,null,lO.default.createElement(pO,null,lO.default.createElement(My,null)),lO.default.createElement("div",null,"Please select an object from the ",lO.default.createElement("u",null,"Outline Menu")," to see its properties.")),lO.default.createElement(gO,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects"))});function wO(){let[e,t]=(0,xO.useState)(!1);return[e,(0,xO.useMemo)(()=>{let e=new Set;return()=>{let n=()=>{e.delete(n),t(e.size>0)};return e.add(n),t(!0),n}},[])]}var xO,_O,SO,EO,kO,CO,MO,PO,TO,AO,IO,RO,OO,DO,zO,LO,NO,jO,FO,UO,BO,VO,HO,WO,GO,qO,XO,YO,KO,$O,ZO,QO,JO,eD,tD,nD,rD,iD,aD,oD,sD,lD,uD,cD,dD,fD,hD,pD,mD,gD,vD,yD,bD,wD,xD,_D,SD,ED,kD,CD,MD,PD,TD,AD,ID,RD,OD,DD,zD,LD,ND,jD,FD,UD,BD,VD,HD,WD,GD,qD,XD,YD,KD,$D,ZD,QD,JD,ez,tz=b(()=>{xO=S(Af())}),nz=b(()=>{kb(),$f(),_O=S(Af()),Hp(),Q(),Sy(),_y(),_A(),yO(),I(),Iw(),SO=Cm(),bO(),tz(),yP(),kO=Vp.div(EO||(EO=k(["\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  position: fixed;\n  right: 8px;\n  top: 50px;\n  // Temporary, see comment about CSS grid in SingleRowPropEditor.\n  width: 280px;\n  height: fit-content;\n  z-index: ",";\n\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ty,uy.propsPanel,({pin:e})=>e?"block":"none"),MO=Vp.div(CO||(CO=k(["\n  margin: 0 10px;\n  color: #919191;\n  font-weight: 500;\n  font-size: 10px;\n  user-select: none;\n  ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),ty),TO=Vp.div(PO||(PO=k(["\n  height: ",";\n  display: flex;\n  align-items: center;\n"])),"32px"),IO=Vp.div(AO||(AO=k(["\n  ",";\n  max-height: calc(100vh - 100px);\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n  padding: 0;\n  user-select: none;\n\n  /* Set the font-size for input values in the detail panel */\n  font-size: 12px;\n"])),ty),RO=(0,_O.createContext)([!1,()=>()=>{}]),OO=e=>{let t=!1!==Vf(T().atomP.ahistoric.pinDetails),n=vw("right");(0,_O.useLayoutEffect)(()=>{zO.set(n)},[n]),(0,_O.useEffect)(()=>()=>{LO.set(!1),zO.set(!1)},[]);let[r]=(0,_O.useContext)(RO),i=t||n||r,[a,o]=(0,_O.useState)(null);return OM(a),zf(()=>{let e=xb(),t=e.find(U);if(t)return _O.default.createElement(kO,{"data-testid":"DetailPanel-Object",pin:i,ref:o,onMouseEnter:()=>{LO.set(!0)},onMouseLeave:()=>{LO.set(!1)}},_O.default.createElement(TO,null,_O.default.createElement(MO,{title:"".concat(t.sheet.address.sheetId,": ").concat(t.sheet.address.sheetInstanceId," > ").concat(t.address.objectKey)},_O.default.createElement(fy,null,t.sheet.address.sheetId," "),_O.default.createElement(py,null,":",""),_O.default.createElement(fy,null,t.sheet.address.sheetInstanceId," "),_O.default.createElement(py,null,""),_O.default.createElement(fy,null,t.address.objectKey))),_O.default.createElement(IO,null,_O.default.createElement(gA,{objects:[t]})));let n=e.find(N);return n?_O.default.createElement(kO,{pin:i},_O.default.createElement(TO,null,_O.default.createElement(MO,{title:"".concat(n.address.projectId)},_O.default.createElement(fy,null,n.address.projectId," "))),_O.default.createElement(IO,null,_O.default.createElement(sO,{projects:[n]}))):_O.default.createElement(kO,{pin:i,onMouseEnter:()=>{LO.set(!0)},onMouseLeave:()=>{LO.set(!1)}},_O.default.createElement(vO,null))},[i])},DO=()=>{let e=wO();return _O.default.createElement(RO.Provider,{value:e},_O.default.createElement(OO,null))},zO=new SO.Atom(!1),LO=new SO.Atom(!1),(0,SO.prism)(()=>{let e=(0,SO.val)(LO.prism),t=(0,SO.val)(zO.prism);return e||t})}),rz=b(()=>{NO=Cm(),$f(),I(),tz(),jO=S(Af()),JE(),FO=(e,t)=>{let n=e.left/t.width,r=(e.left+e.width)/t.width,i=e.top/t.height,a=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:a<=.5?{from:"screenTop",distance:a}:{from:"screenBottom",distance:1-a}}}},UO=jO.default.createContext(null),BO=()=>(0,jO.useContext)(UO),VO=({panelId:e,children:t,defaultPosition:n,minDims:r})=>{let i=ZE(800,200),[a,o]=wO(),{stuff:s}=zf(()=>{var t;let{edges:s}=null!=(t=(0,NO.val)(T().atomP.historic.panelPositions[e]))?t:n,l=Math.floor(i.width*("screenLeft"===s.left.from?s.left.distance:1-s.left.distance)),u=Math.floor(i.width*("screenLeft"===s.right.from?s.right.distance:1-s.right.distance)),c=Math.floor(i.height*("screenTop"===s.top.from?s.top.distance:1-s.top.distance)),d=Math.floor(i.height*("screenTop"===s.bottom.from?s.bottom.distance:1-s.bottom.distance)),f=Math.max(u-l,r.width),h=Math.max(d-c,r.height);return{stuff:{dims:NO.prism.memo("dims",()=>({width:f,left:l,top:c,height:h}),[f,l,c,h]),panelId:e,minDims:r,boundsHighlighted:a,addBoundsHighlightLock:o}}},[e,i,a,o]);return jO.default.createElement(UO.Provider,{value:s},t)},HO=VO}),iz=b(()=>{Zv(),I(),bx(),WO=S(Af()),Hp(),rz(),tx(),Mf(),Sy(),qO=Vp.div(GO||(GO=k(["\n  cursor: move;\n"]))),XO=e=>{let t=BO(),n=(0,WO.useRef)(t);n.current=t;let[r,i]=Kv(null),a=(0,WO.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let e,r=n.current,i=t.addBoundsHighlightLock();return{onDrag(t,n){let i=v(g({},r.dims),{top:ds(r.dims.top+n,0,window.innerHeight-wy),left:ds(r.dims.left+t,-r.dims.width+wy,window.innerWidth-wy)}),a=FO(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=T().tempTransaction(({stateEditors:e})=>{e.studio.historic.panelPositions.setPanelPosition({position:a,panelId:r.panelId})})},onDragEnd(t){i(),t?null==e||e.commit():null==e||e.discard()}}}}),[]),[o]=mx(i,a);Qw(o,"dragging","move");let[s,l]=(0,WO.useMemo)(()=>{let e;return[function(){if(e){let t=e;e=void 0,t()}e=t.addBoundsHighlightLock()},function(){if(e){let t=e;e=void 0,t()}}]},[]);return WO.default.createElement(qO,v(g({},e),{ref:r,onMouseEnter:s,onMouseLeave:l}))},YO=XO}),az=b(()=>{Zv(),I(),bx(),$m(),KO=S(Af()),Hp(),rz(),_y(),Mf(),Sy(),ZO=Vp.div($O||($O=k(["\n  position: absolute;\n  ",";\n  &:after {\n    position: absolute;\n    inset: -5px;\n    display: block;\n    content: ' ';\n  }\n\n  opacity: 0;\n  background-color: #478698;\n\n  &.isHighlighted {\n    opacity: 0.7;\n  }\n\n  &.isDragging {\n    opacity: 1;\n    /* background-color: ","; */\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"])),ty,qm(.2,"#478698")),JO=Vp(ZO)(QO||(QO=k(["\n  /**\n  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel\n  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).\n\n  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem\n  that we have to deal with right now (if it is at all a problem).\n  \n   */\n  z-index: -1;\n"]))),tD=Vp(JO)(eD||(eD=k(["\n  left: 0px;\n  right: 0px;\n  height: 1px;\n"]))),rD=Vp(tD)(nD||(nD=k(["\n  top: -1px;\n"]))),aD=Vp(tD)(iD||(iD=k(["\n  bottom: -1px;\n"]))),sD=Vp(JO)(oD||(oD=k(["\n  z-index: -1;\n  top: -1px;\n  bottom: -1px;\n  width: 1px;\n"]))),uD=Vp(sD)(lD||(lD=k(["\n  left: -1px;\n"]))),dD=Vp(sD)(cD||(cD=k(["\n  right: -1px;\n"]))),hD=Vp(ZO)(fD||(fD=k(["\n  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.\n  z-index: 10;\n  width: 8px;\n  height: 8px;\n"]))),mD=Vp(hD)(pD||(pD=k(["\n  top: 0;\n  left: 0;\n"]))),vD=Vp(hD)(gD||(gD=k(["\n  top: 0;\n  right: 0;\n"]))),bD=Vp(hD)(yD||(yD=k(["\n  bottom: 0;\n  left: 0;\n"]))),xD=Vp(hD)(wD||(wD=k(["\n  bottom: 0;\n  right: 0;\n"]))),_D={Top:rD,TopLeft:mD,TopRight:vD,Bottom:aD,BottomLeft:bD,BottomRight:xD,Left:uD,Right:dD},SD={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},ED=({which:e})=>{let t=BO(),n=(0,KO.useRef)(t);n.current=t;let[r,i]=Kv(null),a=(0,KO.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:SD[e],onDragStart(){let r,i=n.current,a=t.addBoundsHighlightLock();return{onDrag(t,n){let a=g({},i.dims);if(e.startsWith("Bottom"))a.height=Math.max(a.height+n,i.minDims.height);else if(e.startsWith("Top")){let e=a.top+a.height,t=ds(a.top+n,0,Math.min(e-i.minDims.height,window.innerHeight-wy)),r=e-t;a.height=r,a.top=t}if(e.endsWith("Left")){let e=a.left+a.width,n=Math.min(a.left+t,Math.min(e-i.minDims.width,window.innerWidth-wy)),r=e-n;a.width=r,a.left=n}else e.endsWith("Right")&&(a.width=Math.max(a.width+t,Math.max(i.minDims.width,wy-i.dims.left)));let o=FO(a,{width:window.innerWidth,height:window.innerHeight});null==r||r.discard(),r=T().tempTransaction(({stateEditors:e})=>{e.studio.historic.panelPositions.setPanelPosition({position:o,panelId:i.panelId})})},onDragEnd(e){a(),e?null==r||r.commit():null==r||r.discard()}}}}),[e]),[o]=mx(i,a),s=_D[e],l=e.length<=6;return KO.default.createElement(s,{ref:r,className:[o?"isDragging":"",t.boundsHighlighted&&l?"isHighlighted":""].join(" "),style:{cursor:SD[e]}})},kD=ED}),oz=b(()=>{CD=S(Af()),az(),MD=e=>CD.default.createElement(CD.default.Fragment,null,CD.default.createElement(kD,{which:"Bottom"}),CD.default.createElement(kD,{which:"Top"}),CD.default.createElement(kD,{which:"Left"}),CD.default.createElement(kD,{which:"Right"}),CD.default.createElement(kD,{which:"TopLeft"}),CD.default.createElement(kD,{which:"TopRight"}),CD.default.createElement(kD,{which:"BottomLeft"}),CD.default.createElement(kD,{which:"BottomRight"}))}),sz=b(()=>{_y(),PD=S(Af()),Hp(),rz(),oz(),AD=Vp.div(TD||(TD=k(["\n  position: absolute;\n  user-select: none;\n  box-sizing: border-box;\n  ",";\n  /* box-shadow: 1px 2px 10px -5px black; */\n\n  z-index: 1000;\n"])),ty),ID=PD.default.forwardRef((e,t)=>{let n=BO(),r=e,{style:i,children:a}=r,o=y(r,["style","children"]);return PD.default.createElement(AD,v(g({ref:t},o),{style:g({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},null!=i?i:{})}),PD.default.createElement(MD,null),a)}),RD=ID}),lz=w((e,t)=>{var n,r;n=e,r=function(e,t){var n=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}(t);function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}var i={error:null},a=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state=i,t.updatedWithError=!1,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var a=t.prototype;return a.reset=function(){this.updatedWithError=!1,this.setState(i)},a.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},a.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},a.componentDidUpdate=function(e){var t,n,r=this.state.error,i=this.props.resetKeys;null===r||this.updatedWithError?null!==r&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some(function(e,n){return!Object.is(e,t[n])})}(e.resetKeys,i)&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,e.resetKeys,i),this.reset()):this.updatedWithError=!0},a.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,i=t.FallbackComponent,a=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(a))return a;if("function"==typeof r)return r(o);if(i)return n.createElement(i,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var t=n.useState(null),r=t[0],i=t[1];if(null!=e)throw e;if(null!=r)throw r;return i},e.withErrorBoundary=function(e,t){var r=function(r){return n.createElement(a,t,n.createElement(e,r))},i=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+i+")",r},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof e&&void 0!==t?r(e,Af()):r((n="undefined"!=typeof globalThis?globalThis:n||self).ReactErrorBoundary={},n.React)}),uz=b(()=>{OD=S(Af()),Hp(),Sy(),rz(),iz(),sz(),DD=S(lz()),z_(),I(),Sy(),zD={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},LD={width:300,height:300},ND=({paneInstance:e})=>OD.default.createElement(HO,{panelId:"pane-".concat(e.instanceId),defaultPosition:zD,minDims:LD},OD.default.createElement(ZD,{paneInstance:e})),FD=Vp(RD)(jD||(jD=k(["\n  display: flex;\n  flex-direction: column;\n\n  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);\n  z-index: ",";\n"])),uy.pluginPanes),BD=Vp.div(UD||(UD=k(["\n  width: 100%;\n"]))),HD=Vp.div(VD||(VD=k(["\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  position: absolute;\n  right: 4px;\n  top: 0;\n  bottom: 0;\n"]))),GD=Vp.button(WD||(WD=k(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n  font-size: 11px;\n  height: 10px;\n  width: 18px;\n  color: #adadadb3;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    color: white;\n  }\n"]))),XD=Vp(gy)(qD||(qD=k(["\n  position: relative;\n  overflow: hidden;\n\n  &:after {\n    z-index: 10;\n    position: absolute;\n    inset: 0;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n\n    #pointer-root:not(.normal) & {\n      pointer-events: auto;\n    }\n  }\n"]))),KD=Vp.div(YD||(YD=k(["\n  padding: 12px;\n\n  & > pre {\n    border: 1px solid #ff62624f;\n    background-color: rgb(255 0 0 / 5%);\n    margin: 8px 0;\n    padding: 8px;\n    font-family: monospace;\n    overflow: scroll;\n    color: #ff9896;\n  }\n"]))),$D=e=>OD.default.createElement(KD,null,"An Error occurred rendering this pane. Open the console for more info.",OD.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),ZD=({paneInstance:e})=>{let[t,n]=(0,OD.useState)(null),r=e.definition.mount;(0,OD.useLayoutEffect)(()=>{if(!t)return;let n=r({paneId:e.instanceId,node:t});return"function"==typeof n?n:void 0},[t,r,e.instanceId]);let i=(0,OD.useCallback)(()=>{T().paneManager.destroyPane(e.instanceId)},[e]);return OD.default.createElement(FD,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},OD.default.createElement(YO,null,OD.default.createElement(by,null,OD.default.createElement(HD,null,OD.default.createElement(GD,{onClick:i,title:"Close Pane"},OD.default.createElement(c_,null))),OD.default.createElement(BD,null,e.instanceId))),OD.default.createElement(DD.ErrorBoundary,{FallbackComponent:$D},OD.default.createElement(XD,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:n})))},QD=ND}),cz=b(()=>{JD=Cm(),ez=(e,t)=>{let n=JD.prism.memo(e,()=>new JD.Atom(t),[]);return n.set(t),n}});function dz(e,t){(0,fz.useLayoutEffect)(()=>{if(!e||"propWithChildren"!==t.type&&"primitiveProp"!==t.type&&"sheetObject"!==t.type)return;let n=null,r=v(g({},t.sheetObject.address),{pathToProp:"sheetObject"===t.type?[]:t.pathToProp});function i(){n=WP.replaceLock(r,()=>{})}function a(){null==n||n()}return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a),()=>{null==n||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",a)}},[e])}var fz,hz,pz,mz,gz,vz,yz,bz,wz,xz,_z,Sz,Ez,kz,Cz,Mz,Pz=b(()=>{fz=S(Af()),GP()}),Tz=b(()=>{_y(),hz=S(Af()),z_(),Hp(),JC(),Pz(),mz=Vp.li(pz||(pz=k(["\n  --depth: ",";\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),e=>e.depth),vz=Vp.div(gz||(gz=k(["\n  border-bottom: 1px solid #7695b705;\n"]))),bz=Vp(vz)(yz||(yz=k(["\n  padding-left: calc(8px + var(--depth) * 20px);\n\n  display: flex;\n  align-items: stretch;\n  color: ",";\n\n  box-sizing: border-box;\n\n  ",";\n"])),ny.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),xz=Vp.span(wz||(wz=k(["\n  ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 4px;\n  line-height: 26px;\n  flex-wrap: nowrap;\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),HC,bz),Sz=Vp.span(_z||(_z=k(["\n  width: 12px;\n  padding: 8px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),kz=Vp.ul(Ez||(Ez=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),Cz=({leaf:e,label:t,children:n,isSelectable:r,isSelected:i,toggleSelect:a,toggleCollapsed:o,isCollapsed:s})=>{let l=Array.isArray(n)&&n.length>0,u=(0,hz.useRef)(null);return dz(u.current,e),e.shouldRender?hz.default.createElement(mz,{depth:e.depth},hz.default.createElement(bz,{ref:u,style:{height:e.nodeHeight+"px"},isSelectable:!0===r,isSelected:!0===i,onClick:a,isEven:e.n%2==0},hz.default.createElement(Sz,{isCollapsed:s,onClick:o},hz.default.createElement(C_,null)),hz.default.createElement(xz,null,t)),l&&hz.default.createElement(kz,null,n)):null},Mz=Cz});function Az(e){var t;let n=[];for(;;){let r=n.length,i=null==(t=e[0])?void 0:t[r];if(void 0===i)return n;for(let t of e)if(i!==t[r])return n;n.push(i)}}var Iz,Rz,Oz=b(()=>{zC(),Iz=DC(e=>JSON.stringify(e)),Rz=e=>JSON.parse(e)});var Dz,zz=b(()=>{Dz=S(Af())});function Lz(e){let[t,n]=(0,Nz.useState)(!1);return function(e,t){let n=(0,Dz.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,Dz.useEffect)(()=>{function e(e){e.key===n.current.combo&&n.current.listener({down:!0,event:e})}function t(e){e.key===n.current.combo&&n.current.listener({down:!1,event:e})}function r(e){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("blur",r)}},[])}(e,({down:e})=>{n(e)}),t}var Nz,jz=b(()=>{Nz=S(Af()),zz()});var Fz,Uz,Bz=b(()=>{Fz=Cm(),Uz=S(Af())});function Vz(e,t,n){let r=t((0,Hz.pointer)({root:{},path:[]}));df(e,(0,Hz.getPointerParts)(r).path,n)}var Hz,Wz,Gz,qz=b(()=>{Hz=Cm(),vf()}),Xz=b(()=>{Wz="data-pos",Gz={checkIfMouseEventSnapToPos(e,t){let n=e.composedPath().find(e=>e instanceof Element&&e!==(null==t?void 0:t.ignore)&&e.hasAttribute(Wz));if(n){let e=parseFloat(n.getAttribute(Wz));if(isFinite(e))return e}return null},includePositionSnapAttrs:e=>({[Wz]:e})}});function Yz(e){let t="sheet"===e.type?function(e){return e.children.flatMap($z)}(e):$z(e);return{byPosition:Kz(t),tracks:t}}function Kz(e){let t=new Map;for(let n of e)for(let e of n.data.keyframes){let r=t.get(e.position);r||(r=[],t.set(e.position,r)),r.push({kf:e,track:n,itemKey:MP.forTrackKeyframe(n.sheetObject,n.id,e.id)})}return t}function $z(e){return e.children.flatMap(e=>"propWithChildren"===e.type?$z(e):function(e){let t=e.sheetObject,n=t.address.projectId,r=T().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,Qz.val)(r.trackIdByPropPath[Iz(e.pathToProp)]);if(!i)return[];let a=(0,Qz.val)(r.trackData[i]);return a?[{id:i,data:a,sheetObject:t}]:[]}(e))}function Zz(e,t){return kf(e.children.flatMap(e=>"propWithChildren"===e.type?Zz(e,t):function(e,t){var n,r;let i=e.sheetObject,a=i.address.projectId,o=T().atomP.historic.coreByProject[a].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],s=(0,Qz.val)(o.trackIdByPropPath[Iz(e.pathToProp)]);return s&&null!=(r=null==(n=t[i.address.objectKey])?void 0:n[s])?r:[]}(e,t)))}var Qz,Jz=b(()=>{I(),Qz=Cm(),PP(),Oz(),Mf()});var eL,tL,nL,rL,iL,aL,oL,sL,lL,uL,cL,dL,fL,hL,pL,mL,gL,vL,yL,bL,wL,xL,_L,SL,EL,kL,CL,ML,PL,TL,AL,IL,RL,OL,DL,zL,LL,NL,jL=b(()=>{I(),bx(),jz(),Bz(),qz(),Zv(),$f(),eL=Cm(),tL=S(Af()),Hp(),Xz(),Jz(),ox(),rL=Vp.div(nL||(nL=k(["\n  cursor: ",";\n"])),e=>e.isShiftDown?"cell":"default"),iL=({layoutP:e,children:t,height:n})=>{let[r,i]=Kv(null),a=Lz("Shift"),o=function(e,t){let[n,r]=Kv(null),i=rx("useCaptureSelection");return mx(t,(0,tL.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(r){if(!r.shiftKey||r.target instanceof HTMLInputElement)return!1;let a=t.getBoundingClientRect(),o=r.clientX-a.left-(0,eL.val)(e.scaledSpace.leftPadding),s=(0,eL.val)(e.scaledSpace.toUnitSpace)(o);return n.current={h:[s,s],v:[r.clientY-a.top,r.clientY-a.top]},(0,eL.val)(e.selectionAtom).set({current:void 0}),{onDrag(r,a,o){let s=t.getBoundingClientRect(),l=o.clientX-s.left-(0,eL.val)(e.scaledSpace.leftPadding),u=(0,eL.val)(e.scaledSpace.toUnitSpace)(l);n.current={h:[n.current.h[0],u],v:[n.current.v[0],o.clientY-s.top]};let c=aL.boundsToSelection(i,(0,eL.val)(e),n.current);(0,eL.val)(e.selectionAtom).set({current:c})},onDragEnd(e){n.current=null}}}}),[e,t,n])),r}(e,i);return(0,tL.useRef)(o).current=o,tL.default.createElement(rL,{style:{height:n+"px"},ref:r,isShiftDown:a,className:"selectionview"},o&&tL.default.createElement(uL,{state:o,layoutP:e}),t)},(e=>{let t=(e,t,n,i,a)=>{let o=Yz(n);if(n.top+n.nodeHeight/2+5>i.v[0]&&n.top+n.nodeHeight/2-5<i.v[1])for(let[e,n]of o.byPosition){let r=t.scaledSpace.toUnitSpace(5);if(!(e+r<=i.h[0]||e-r>=i.h[1]))for(let e of n)Vz(a,t=>t[e.track.sheetObject.address.objectKey].byTrackId[e.track.id].byKeyframeId[e.kf.id],!0)}r(e,t,n,i,a)},n={sheet(e,n,r,i,a){t(e,n,r,i,a)},propWithChildren(e,n,r,i,a){t(e,n,r,i,a)},sheetObject(e,n,r,i,a){t(e,n,r,i,a)},primitiveProp(e,t,n,r,i){let{sheetObject:a,trackId:o}=n,s=(0,eL.val)(T().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[o]);if(!(r.v[0]>n.top+n.heightIncludingChildren/2+5||n.top+n.heightIncludingChildren/2-5>r.v[1]))for(let e of s.keyframes)if(!(e.position+t.scaledSpace.toUnitSpace(5)<=r.h[0])){if(e.position-t.scaledSpace.toUnitSpace(5)>=r.h[1])break;Vz(i,t=>t[a.address.objectKey].byTrackId[o].byKeyframeId[e.id],!0)}}},r=(e,t,n,r,a)=>{if("children"in n)for(let o of n.children)i(e,t,o,r,a)};function i(e,t,i,a,o){if(!i.shouldRender||a.v[0]>i.top+i.heightIncludingChildren||i.top>a.v[1])return;let s=n[i.type];s?s(e,t,i,a,o):r(e,t,i,a,o)}e.boundsToSelection=function(e,t,n){let r={};n=lL(n);let a=t.tree;i(e.utilFor.internal(),t,a,n,r);let o=t.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:r,getDragHandlers:e=>({debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let n,i=t.scaledSpace.toUnitSpace;return{onDrag(t,a,s){n&&(n.discard(),n=void 0);let l=Gz.checkIfMouseEventSnapToPos(s,{ignore:e.domNode}),u=null!=l?l-e.positionAtStartOfDrag:i(t);n=T().tempTransaction(({stateEditors:t})=>{let n=t.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let t of Object.keys(r)){let{byTrackId:i}=r[t];for(let r of Object.keys(i)){let{byKeyframeId:a}=i[r];n({trackId:r,keyframeIds:Object.keys(a),translate:u,scale:1,origin:0,snappingFunction:o.getSequence().closestGridPosition,objectKey:t,projectId:e.projectId,sheetId:e.sheetId})}}})},onDragEnd(e){e?null==n||n.commit():null==n||n.discard()}}}}),delete(){T().transaction(({stateEditors:e})=>{let t=e.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let e of Object.keys(r)){let{byTrackId:n}=r[e];for(let r of Object.keys(n)){let{byKeyframeId:i}=n[r];t(v(g({},o.address),{objectKey:e,trackId:r,keyframeIds:Object.keys(i)}))}}})}}}})(aL||(aL={})),sL=Vp.div(oL||(oL=k(["\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px dashed rgba(255, 255, 255, 0.4);\n  box-sizing: border-box;\n"]))),lL=e=>({h:[...e.h].sort((e,t)=>e-t),v:[...e.v].sort((e,t)=>e-t)}),uL=({state:e,layoutP:t})=>{let n=function(e){let t=(0,Uz.useMemo)(()=>new Fz.Atom(e),[]);return(0,Uz.useLayoutEffect)(()=>{t.set(e)},[e]),t}(e);return zf(()=>{let e=(0,eL.val)(n.pointer),r=lL(e),i=(0,eL.val)(t.scaledSpace.fromUnitSpace),a=(0,eL.val)(t.scaledSpace.leftPadding),o=r.h.map(i).map(e=>e+a),s=r.v[0],l=r.v[1]-r.v[0],u=o[0],c=o[1]-o[0];return tL.default.createElement(sL,{style:{top:s+"px",height:l+"px",left:u+"px",width:c+"px"}})},[t,n])},cL=iL}),FL=b(()=>{Ey(),dL=S(Af()),Hp(),gY(),hL=Vp.div(fL||(fL=k(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  z-index: ",";\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n"])),()=>ZX.scrollableArea),pL=(0,dL.createContext)(xy),mL=()=>(0,dL.useContext)(pL),gL=e=>{let t=(0,dL.useRef)(null),n=(0,dL.useCallback)(e=>{t.current.scrollBy(0,e.deltaY)},[]);return dL.default.createElement(pL.Provider,{value:n},dL.default.createElement(hL,{ref:t},e.children))}}),UL=b(()=>{vL='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),BL=b(()=>{yL=(e,t=e)=>"\n  left: ".concat(-.5*e,"px;\n  top: ").concat(-.5*t,"px;\n  width: ").concat(e,"px;\n  height: ").concat(t,"px;\n")}),VL=b(()=>{bL=Cm(),wL=(0,bL.prism)(()=>{let[e,t]=bL.prism.state("pos",null);return bL.prism.effect("setupListeners",()=>{let e=e=>{t(e)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[]),e}),xL=wL}),HL=b(()=>{_L=Cm(),VL(),Mf(),SL=S(Af()),EL=(0,SL.createContext)(null),kL=0,CL=({children:e,layoutP:t})=>{let n=(0,SL.useMemo)(()=>new _L.Atom([]),[]),r=(0,SL.useMemo)(()=>(0,_L.prism)(()=>{let e=_L.prism.memo("p",()=>RL(t),[t]).getValue(),r=(0,_L.val)(n.pointer);return r.length>0?ed(r).position:e}),[t]),i=(0,SL.useCallback)(()=>{let e=kL++;return n.reduce(t=>[...t,{id:e,position:[-1,0]}]),{set:t=>{n.reduce(n=>{let r=n.findIndex(t=>t.id===e);if(-1===r)return n;let i=[...n];return i.splice(r,1,{id:e,position:[t,-1===t?0:1]}),i})},unlock:()=>{n.reduce(t=>t.filter(t=>t.id!==e))}}},[]),a={currentD:r,getLock:i};return SL.default.createElement(EL.Provider,{value:a},e)},ML=()=>(0,SL.useContext)(EL).currentD,PL=()=>{let{getLock:e}=(0,SL.useContext)(EL),t=(0,SL.useRef)();return(0,SL.useLayoutEffect)(()=>()=>{var e;null==(e=t.current)||e.unlock()},[]),(0,SL.useMemo)(()=>{let n;return(r,i)=>{var a,o;(null==n?void 0:n.shouldLock)!==r&&(r?t.current=e():null==(a=t.current)||a.unlock()),(null==n?void 0:n.pos)!==i&&r&&(null==(o=t.current)||o.set(i)),n={shouldLock:r,pos:i}}},[e])},TL=(e,t)=>{let{getLock:n}=(0,SL.useContext)(EL),r=(0,SL.useRef)();(0,SL.useLayoutEffect)(()=>{if(e)return r.current=n(),()=>{r.current.unlock()}},[e,n]),(0,SL.useLayoutEffect)(()=>{e&&r.current.set(t)},[t,e])},AL=e=>({[IL]:"hide"===e?e:e.toFixed(3)}),IL="data-theatre-lock-framestamp-to",RL=e=>(0,_L.prism)(()=>{let t=(0,_L.val)(e.rightDims),n=(0,_L.val)(e.clippedSpace.toUnitSpace),r=(0,_L.val)(xL);if(!r)return[-1,0];for(let e of r.composedPath()){if(!(e instanceof HTMLElement||e instanceof SVGElement))break;if(e.hasAttribute(IL)){let t=e.getAttribute(IL);if("string"!=typeof t)continue;if("hide"===t)return[-1,0];let n=parseFloat(t);if(isFinite(n)&&n>=0)return[n,2]}}let{clientX:i,clientY:a}=r,{screenX:o,screenY:s,width:l,height:u}=t;if(wd(i,o,o+l)&&wd(a,s+16,s+u)){return[n(i-o),3]}return[-1,0]}),OL=CL}),WL=b(()=>{_y(),tx(),Hp(),UL(),BL(),Xz(),HL(),NL={BEING_DRAGGED_CLASS:DL="beingDragged",CSS:Th(zL||(zL=k(["\n    position: absolute;\n    ",";\n    ",";\n\n    &."," {\n      pointer-events: none !important;\n    }\n  "])),yL(12),ty,DL),CSS_WHEN_SOMETHING_DRAGGING:Th(LL||(LL=k(["\n    pointer-events: auto;\n    cursor: var(",");\n\n    //  thing\n    // This box extends the hitzone so the user does not\n    // accidentally leave the hitzone\n    &:hover:after {\n      position: absolute;\n      top: calc(50% - ","px);\n      left: calc(50% - ","px);\n      width: ","px;\n      height: ","px;\n      display: block;\n      content: ' ';\n      background: url(",") no-repeat 100% 100%;\n      // This icon might also fit: GiConvergenceTarget\n    }\n  "])),Gw,17,17,34,34,vL),reactProps:e=>v(g(g({},AL(e.position)),Gz.includePositionSnapAttrs(e.position)),{className:e.isDragging?NL.BEING_DRAGGED_CLASS:""})}});function GL(){rN.set({mode:"snapToAll"})}function qL(){rN.set({mode:"snapToNone"})}function XL(e){rN.set({mode:"snapToSome",positions:e})}function YL(e,t){return Object.fromEntries(Object.entries(e).map(([e,n])=>[e,Object.fromEntries(Object.entries(n.trackData).map(([n,r])=>[n,r.keyframes.filter(i=>t(i,{trackId:n,trackData:r,objectKey:e})).map(e=>e.position)]))]))}var KL,$L,ZL,QL,JL,eN,tN,nN,rN,iN,aN=b(()=>{KL=Cm(),$L=Cm(),ZL=S(Af()),Hp(),WL(),JL=Vp.div(QL||(QL=k(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    ","\n  }\n"])),NL.CSS,NL.CSS_WHEN_SOMETHING_DRAGGING),tN=Vp.div(eN||(eN=k(["\n  position: absolute;\n"]))),nN=e=>ZL.default.createElement(tN,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,$L.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},ZL.default.createElement(JL,g({},NL.reactProps({isDragging:!1,position:e.position})))),rN=new KL.Atom({mode:"snapToNone"}),iN=rN.prism});function oN(e,t){let n=mL();(0,uN.useLayoutEffect)(()=>{if(!t)return;let r=r=>{if(r.ctrlKey){r.preventDefault(),r.stopPropagation();let n=r.clientX-t.getBoundingClientRect().left,i=(0,lN.val)(e.clippedSpace.toUnitSpace)(n),a=(0,lN.val)(e.clippedSpace.range),o=1+.03*sN(r.deltaY,[-50,50]),s=Td(a,e=>(e-i)*o+i),l=(0,lN.val)(e.sheet).getSequence().length,u=l+.25*l;return void(0,lN.val)(e.clippedSpace.setRange)(function(e,t){return Td(e,e=>sN(e,t))}(s,[0,u]))}if(r.shiftKey){r.preventDefault(),r.stopPropagation();let t=(0,lN.val)(e.sheet).getSequence().length,n=(0,lN.val)(e.clippedSpace.range),i=(n.end-n.start)/t,a=.05*sN(r.deltaY||r.deltaX,[-50,50])*i,o=Td(n,e=>e+a);return void(0,lN.val)(e.clippedSpace.setRange)(o)}{n(r),r.preventDefault(),r.stopPropagation();let t=(0,lN.val)(e.scaledSpace.toUnitSpace)(1*r.deltaX),i=(0,lN.val)(e.clippedSpace.range),a=Td(i,e=>e+t);return void(0,lN.val)(e.clippedSpace.setRange)(a)}},i={capture:!0,passive:!1};return t.addEventListener("wheel",r,i),()=>{t.removeEventListener("wheel",r,i)}},[t,e]),mx(t,(0,uN.useMemo)(()=>({onDragStart(t){let r=(0,lN.val)(e.clippedSpace.range),i=(0,lN.val)(e.clippedSpace.setRange),a=(0,lN.val)(e.scaledSpace.toUnitSpace);return t.preventDefault(),t.stopPropagation(),{onDrag(e,t,o,s,l){n({deltaY:-l});let u=-a(e),c=Td(r,e=>e+u);i(c)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function sN(e,[t,n]){return Math.max(Math.min(e,n),t)}var lN,uN,cN,dN,fN,hN,pN,mN,gN,vN,yN,bN,wN,xN,_N=b(()=>{bx(),Zv(),$f(),lN=Cm(),Mf(),uN=S(Af()),Hp(),FL(),_y(),tx(),Xz(),aN(),dN=Vp.div(cN||(cN=k(["\n  position: absolute;\n\n  right: 0;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  ",";\n\n  // hide the scrollbar on Gecko\n  scrollbar-width: none;\n\n  // hide the scrollbar on Webkit/Blink\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),ty),fN=uN.default.memo(({layoutP:e,children:t,height:n})=>{let{width:r,unitSpaceToScaledSpaceMultiplier:i}=zf(()=>({width:(0,lN.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,lN.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[a,o]=Kv(null);return oN(e,o),function(e,t){let n=(0,uN.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(n){if(n.target instanceof HTMLInputElement||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||n.composedPath().some(e=>e instanceof HTMLElement&&!0===e.draggable))return!1;let r=n.clientX-t.getBoundingClientRect().left,i=ds((0,lN.val)(e.clippedSpace.toUnitSpace)(r),0,1/0),a=(0,lN.val)(e.seeker.setIsSeeking),o=(0,lN.val)(e.sheet).getSequence();o.position=i;let s=i,l=(0,lN.val)(e.scaledSpace.toUnitSpace);return a(!0),GL(),{onDrag(e,t,n){let r=l(e),i=ds(s+r,0,o.length),a=Gz.checkIfMouseEventSnapToPos(n,{});null!=a&&(i=a),o.position=i},onDragEnd(){a(!1),qL()}}}}),[e,t]),[r]=mx(t,n);Qw(r,"draggingPositionInSequenceEditor","ew-resize")}(e,o),function(e,t){(0,uN.useLayoutEffect)(()=>{if(!t)return;let n=(0,lN.prism)(()=>{let t=(0,lN.val)(e.clippedSpace.range);return(0,lN.val)(e.scaledSpace.fromUnitSpace)(t.start)}),r=()=>{let e=n.getValue();t.scrollLeft=e},i=n.onStale(r);r();let a=setTimeout(r,100);return()=>{clearTimeout(a),i()}},[e,t])}(e,o),uN.default.createElement(dN,{ref:a,style:{width:r+"px",height:n+"px","--unitSpaceToScaledSpaceMultiplier":i}},t)}),hN=fN}),SN=b(()=>{pN=S(Af()),Hp(),gN=Vp.li(mN||(mN=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-sizing: border-box;\n  position: relative;\n"]))),yN=Vp.div(vN||(vN=k(["\n  box-sizing: border-box;\n  width: 100%;\n  position: relative;\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -40px;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n    border-bottom: 1px solid #252b3869;\n    background: ",";\n  }\n"])),e=>e.isEven?"transparent":"#6b8fb505"),wN=Vp.ul(bN||(bN=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),xN=({leaf:e,children:t,node:n,isCollapsed:r})=>{let i=Array.isArray(t)&&t.length>0;return e.shouldRender?pN.default.createElement(gN,null,pN.default.createElement(yN,{style:{height:e.nodeHeight+"px"},isEven:e.n%2==0},n),i&&pN.default.createElement(wN,null,t)):null}}),EN=w((e,t)=>{!function(){var n={};void 0!==e?t.exports=n:this.fuzzy=n,n.simpleFilter=function(e,t){return t.filter(function(t){return n.test(e,t)})},n.test=function(e,t){return null!==n.match(e,t)},n.match=function(e,t,n){n=n||{};var r,i=0,a=[],o=t.length,s=0,l=0,u=n.pre||"",c=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)r=t[f],d[f]===e[i]?(r=u+r+c,i+=1,l+=1+l):l=0,s+=l,a[a.length]=r;return i===e.length?(s=d===e?1/0:s,{rendered:a.join(""),score:s}):null},n.filter=function(e,t,r){return t&&0!==t.length?"string"!=typeof e?t:(r=r||{},t.reduce(function(t,i,a,o){var s=i;r.extract&&(s=r.extract(i));var l=n.match(e,s,r);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:a,original:i}),t},[]).sort(function(e,t){return t.score-e.score||e.index-t.index})):[]}}()});var kN,CN,MN,PN=b(()=>{kN=S(Af())}),TN=b(()=>{CN="rgba(26, 28, 30, 0.97);",MN="#272B2F"});function AN(e,t,n,r){let i=function(e,t){let[n,r]=(0,kN.useState)(!1),i=(0,kN.useRef)(t);return n||(i.current=t),(0,kN.useMemo)(()=>e(r),i.current)}(t=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart:()=>(t(!0),{onDrag(t,i){e&&n.onCurveChange(r(t,i))},onDragEnd(e){t(!1),n.onCancelCurveChange()}})}),[e,n.onCurveChange,n.onCancelCurveChange]);mx(t,i)}var IN,RN,ON,DN,zN,LN,NN,jN,FN,UN,BN,VN,HN,WN,GN,qN=b(()=>{IN=S(Af()),bx(),Zv(),fs(),Hp(),_y(),PN(),TN(),RN=.12,ON=1.24,DN=.01,zN=.99/7,LN="#3EAAA4",NN="#3EAAA4",jN="#B3B3B3",FN=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],BN=Vp.circle(UN||(UN=k(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.04px;\n  pointer-events: none;\n  transition: r 0.15s;\n  fill: ",";\n"])),"#3eaaa4"),HN=Vp.circle(VN||(VN=k(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.09px;\n  cursor: move;\n  ",";\n  &:hover {\n    opacity: 0.4;\n  }\n  &:hover + "," {\n    fill: ",";\n  }\n"])),ty,BN,"#67dfd8"),WN=e=>{let{curveConnection:{left:t,right:n},backgroundConnections:r}=e,i=Math.min(0,1-n.handles[1],1-t.handles[3]),a=Math.max(1,1-n.handles[1],1-t.handles[3]),o=Math.max(1,a-i),s=e=>(e-i)/o,[l,u]=Kv(null),c=ON/((null==u?void 0:u.clientWidth)||1),d=ON/((null==u?void 0:u.clientHeight)||1),[f,h]=Kv(null);AN(u,h,e,(e,r)=>[ds(t.handles[2]+e*c,0,1),t.handles[3]-r*d,n.handles[0],n.handles[1]]);let[p,m]=Kv(null);AN(u,m,e,(e,r)=>{let i=ds(n.handles[0]+e*c,0,1),a=n.handles[1]-r*d;return[t.handles[2],t.handles[3],i,a]});let g=e=>"M0 ".concat(s(1)," C").concat(e.left.handles[2]," ").concat(s(1-e.left.handles[3])," ").concat(e.right.handles[0]," ").concat(s(1-e.right.handles[1])," 1 ").concat(s(0));return IN.default.createElement("svg",{height:"100%",width:"100%",ref:l,viewBox:"".concat(-RN," ").concat(-RN," ").concat(ON," ").concat(ON),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},IN.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},IN.default.createElement("stop",{offset:s(-1),stopColor:"#3EAAA4"}),IN.default.createElement("stop",{offset:s(0),stopColor:NN}),IN.default.createElement("stop",{offset:s(.3),stopColor:"#3EAAA4"}),IN.default.createElement("stop",{offset:s(.5),stopColor:"#3EAAA4"}),IN.default.createElement("stop",{offset:s(.7),stopColor:"#3EAAA4"}),IN.default.createElement("stop",{offset:s(1),stopColor:LN}),IN.default.createElement("stop",{offset:s(2),stopColor:"#3EAAA4"})),IN.default.createElement("pattern",{id:"dot-background-pattern-1",width:zN,height:zN/o,y:-i/o},IN.default.createElement("rect",{width:DN,height:DN,fill:jN,opacity:.3})),IN.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),IN.default.createElement("pattern",{id:"dot-background-pattern-2",width:zN,height:zN},IN.default.createElement("rect",{width:DN,height:DN,fill:jN})),IN.default.createElement("rect",{x:0,y:s(0),width:"1",height:s(1)-s(0),fill:"url(#dot-background-pattern-2)"}),t.type&&"bezier"!==t.type?IN.default.createElement(IN.default.Fragment,null,IN.default.createElement("line",{x1:0,y1:s(1),x2:1,y2:s(1),stroke:jN,strokeWidth:"0.01"}),IN.default.createElement("line",{x1:1,y1:s(1),x2:1,y2:0,stroke:jN,strokeWidth:"0.01"}),IN.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:NN,strokeWidth:"0.02",fill:MN}),IN.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:NN,strokeWidth:"0.02",fill:MN})):IN.default.createElement(IN.default.Fragment,null,IN.default.createElement("line",{x1:0,y1:s(1),x2:t.handles[2],y2:s(1-t.handles[3]),stroke:jN,strokeWidth:"0.01"}),IN.default.createElement("line",{x1:1,y1:s(0),x2:n.handles[0],y2:s(1-n.handles[1]),stroke:jN,strokeWidth:"0.01"}),IN.default.createElement("path",{d:g(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),r.map((e,t)=>IN.default.createElement("path",{key:e.objectKey+"/"+e.left.id,d:g(e),stroke:FN[t%FN.length],opacity:.6,strokeWidth:"0.01"})),IN.default.createElement("path",{d:g(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),IN.default.createElement("circle",{cx:0,cy:s(1),r:"0.025",stroke:LN,strokeWidth:"0.02",fill:MN}),IN.default.createElement("circle",{cx:1,cy:s(0),r:"0.025",stroke:NN,strokeWidth:"0.02",fill:MN}),IN.default.createElement(HN,{ref:f,cx:t.handles[2],cy:s(1-t.handles[3]),fill:LN,opacity:.2}),IN.default.createElement(BN,{cx:t.handles[2],cy:s(1-t.handles[3])}),IN.default.createElement(HN,{ref:p,cx:n.handles[0],cy:s(1-n.handles[1]),fill:NN,opacity:.2}),IN.default.createElement(BN,{cx:n.handles[0],cy:s(1-n.handles[1])})))},GN=WN});function XN(e){return e.map(e=>e.toFixed(3)).join(", ")}function YN(e){if(!e||(null==e?void 0:e.length)>$N)return null;let t=e.split(",");if(4!==t.length)return null;let n=t.map(e=>Number(e.trim()));return!n.every(e=>isFinite(e))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function KN(e,t,n={threshold:.02}){if(!e||!t)return!1;let r=0;for(let n=0;n<4;n++)r+=Math.abs(e[n]-t[n]);return r<n.threshold}var $N,ZN,QN,JN,ej,tj,nj,rj,ij,aj,oj,sj,lj,uj,cj,dj,fj,hj,pj=b(()=>{$N=128,ZN=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),mj=b(()=>{QN=S(Af()),JN=.75,ej=.1,tj="#4f4f4f",nj="rgba(255, 255, 255, 0.1)",rj=e=>1-e,ij=e=>{let{easing:t,isSelected:n}=e,r=n?"#F5F5F5":"#888888",i="".concat(-JN," ").concat(-JN," ").concat(2.5," ").concat(2.5);if(t){let e=[t[0],rj(t[1])],n=[t[2],rj(t[3])];return QN.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},QN.default.createElement("line",{x1:"0",y1:"1",x2:e[0],y2:e[1],stroke:tj,strokeWidth:"0.1"}),QN.default.createElement("line",{x1:"1",y1:"0",x2:n[0],y2:n[1],stroke:tj,strokeWidth:"0.1"}),QN.default.createElement("circle",{cx:e[0],cy:e[1],r:.1,fill:nj}),QN.default.createElement("circle",{cx:n[0],cy:n[1],r:.1,fill:nj}),QN.default.createElement("circle",{cx:e[0],cy:e[1],r:ej,fill:tj}),QN.default.createElement("circle",{cx:n[0],cy:n[1],r:ej,fill:tj}),QN.default.createElement("path",{d:"M0 1 C".concat(e[0]," ").concat(e[1]," ").concat(n[0]," \n        ").concat(n[1]," 1 0"),stroke:r,strokeWidth:"0.08"}),QN.default.createElement("circle",{cx:0,cy:1,r:ej,fill:r}),QN.default.createElement("circle",{cx:1,cy:0,r:ej,fill:r}))}return QN.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},QN.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),QN.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),QN.default.createElement("circle",{cx:0,cy:1,r:ej,fill:r}),QN.default.createElement("circle",{cx:1,cy:0,r:ej,fill:r}))},aj=ij}),gj=b(()=>{xI(),oj=S(Af()),Hp(),pj(),mj(),Bw(),TN(),jk(),uj=Vp.div(lj||(lj=k(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  aspect-ratio: 1;\n\n  transition: background-color 0.15s;\n  background-color: ",";\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n\n  ","\n\n  &:hover {\n    background-color: #31353a;\n  }\n\n  &:focus {\n    background-color: #383d42;\n  }\n"])),MN,({isSelected:e})=>e&&Th(sj||(sj=k(["\n      background-color: #383d42;\n    "])))),dj=Vp(zk)(cj||(cj=k(["\n  padding: 0.5em;\n  color: white;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-bg: black;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: transparent;\n  box-shadow: none;\n"]))),fj=oj.default.forwardRef((e,t)=>{let[n,r]=LA({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>oj.default.createElement(dj,{showPopoverEdgeTriangle:!1},e.easing.label));return oj.default.createElement(uj,g({ref:Uw([r,t])},e),n,oj.default.createElement(aj,{easing:YN(e.easing.value),isSelected:e.isSelected}))}),hj=fj});var vj,yj=b(()=>{vj=S(Af()),Uj()});function bj(e,t,n){var r;null==(r=e.current)||r.discard(),e.current=null;let i=YN(n);e.current=null===i?function(e){return T().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:n}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:t,sheetId:r,objectKey:i,trackId:a,left:o}of e)n({projectId:t,sheetId:r,objectKey:i,trackId:a,keyframeId:o.id,keyframeType:"hold"})})}(t):function(e,t){return T().tempTransaction(({stateEditors:n})=>{let{setHandlesForKeyframe:r,setKeyframeType:i}=n.coreByProject.historic.sheetsById.sequence;for(let{projectId:n,sheetId:a,objectKey:o,trackId:s,left:l,right:u}of e)r({projectId:n,sheetId:a,objectKey:o,trackId:s,keyframeId:l.id,start:[t[0],t[1]]}),r({projectId:n,sheetId:a,objectKey:o,trackId:s,keyframeId:u.id,end:[t[2],t[3]]}),i({projectId:n,sheetId:a,objectKey:o,trackId:s,keyframeId:l.id,keyframeType:"bezier"})})}(t,i)}function wj(e){var t;null==(t=e.current)||t.discard(),e.current=null}function xj(e,t){return()=>setTimeout(e,t)}var _j,Sj,Ej,kj,Cj,Mj,Pj,Tj,Aj,Ij,Rj,Oj,Dj,zj,Lj,Nj,jj,Fj,Uj=b(()=>{_j=Cm(),Sj=S(Af()),Hp(),Ej=S(EN()),I(),qN(),gj(),pj(),TN(),Zv(),yj(),Cj=Vp.div(kj||(kj=k(["\n  background: ",";\n  display: grid;\n  grid-template-areas:\n    'search  tween'\n    'presets tween';\n  grid-template-rows: 32px 1fr;\n  grid-template-columns: ","px 120px;\n  gap: 1px;\n  height: 120px;\n"])),CN,159),Pj=Vp.div(Mj||(Mj=k(["\n  overflow: auto;\n  grid-area: presets;\n\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-auto-rows: min-content;\n  gap: 1px;\n\n  overflow-y: scroll;\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* Internet Explorer 10+ */\n  &::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"])),3),Aj=Vp.input.attrs({type:"text"})(Tj||(Tj=k(["\n  background-color: ",";\n  border: none;\n  border-radius: 2px;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 6px;\n  font-size: 12px;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n\n  grid-area: search;\n\n  &:hover {\n    background-color: #212121;\n  }\n\n  &:focus {\n    background-color: rgba(16, 16, 16, 0.26);\n    outline: 1px solid rgba(0, 0, 0, 0.35);\n  }\n"])),MN),Rj=Vp.div(Ij||(Ij=k(["\n  grid-area: tween;\n  background: ",";\n"])),MN),Dj=Vp.div(Oj||(Oj=k(["\n  grid-column: 1 / 4;\n  padding: 6px;\n  color: #888888;\n"]))),zj=e=>{let t=(0,Sj.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),n=(0,Sj.useRef)(null);(0,Sj.useEffect)(()=>{let e=Fj(t);return()=>{var t;e(),null==(t=n.current)||t.commit()}},[n]);let r=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,Sj.useRef)(null);(0,Sj.useLayoutEffect)(()=>{var e,t;null==(e=i.current)||e.select(),null==(t=i.current)||t.focus()},[i.current]);let[a,o]=(0,Sj.useState)(XN(r)),s=e=>{void 0!==e&&(u(1),o(e.target.value),YN(e.target.value)&&d(e.target.value))},[l,u]=(0,Sj.useState)(0);(0,Sj.useEffect)(()=>{2===l?o(XN(r)):3===l&&""!==a&&o("")},t);let[c,d]=(0,Sj.useState)(XN(r)),[f,h]=(0,Sj.useState)(null);(0,Sj.useEffect)(()=>{var e;0!==l&&3!==l&&bj(n,t,null!=(e=null!=f?f:c)?e:"")},[f,c,l]),t.some(function({left:e,right:t}){return({left:n,right:r})=>e.handles[2]!==n.handles[2]||e.handles[3]!==n.handles[3]||t.handles[0]!==r.handles[0]||t.handles[1]!==r.handles[1]}(e.curveConnection))&&0===l&&u(3);let p=(0,Sj.useMemo)(()=>/^[A-Za-z]/.test(a)?Ej.default.filter(a,ZN,{extract:e=>e.label}).map(e=>e.original):ZN,[a]);(0,Sj.useEffect)(()=>{1===l&&p[0]&&d(p[0].value)},[p]);let m=t=>{"Escape"===t.key?(wj(n),e.onRequestClose("key Escape"),t.stopPropagation()):"Enter"===t.key&&(e.onRequestClose("key Enter"),t.stopPropagation())},g=()=>h(null),v=(0,Sj.useRef)(ZN.reduce((e,t)=>(e[t.label]={current:null},e),{})),[y,b]=Kv(null),[w,x]=(0,Sj.useState)(0);(0,Sj.useEffect)(()=>{let e=()=>{var e;x(null!=(e=null==b?void 0:b.scrollTop)?e:0)};return null==b||b.addEventListener("scroll",e),()=>null==b?void 0:b.removeEventListener("scroll",e)},[b]);let _=function(e){var t;let[n,r]=(0,vj.useState)(null),i=t=>{if(null===n)return void(e.items.length>0&&r(0));let i=n+t*e.uiColumns,a=i<0,o=i>e.items.length-1;if(a||o)return e.canVerticleExit&&e.canVerticleExit(a?"top":"bottom")?void r(null):void 0;r(i)},a=t=>{r(null===n?function(e,t){return(e%t+t)%t}(t,e.items.length):n+t<0?null:Math.min(n+t,e.items.length-1))};return{focusFirstItem(){r(0)},onParentEltKeyDown:e=>{if("ArrowRight"===e.key)a(1);else if("ArrowLeft"===e.key)a(-1);else if("ArrowUp"===e.key)i(-1);else{if("ArrowDown"!==e.key)return 0;i(1)}return 1},gridItems:e.items.map((t,i)=>e.renderItem({isSelected:i===n,item:t,select(n){r(i),1===e.onSelectItem(t)&&(null==n||n.preventDefault(),null==n||n.stopPropagation())}})),currentSelection:null!=(t=e.items[null!=n?n:-1])?t:null}}({items:p,uiColumns:3,onSelectItem:r=>(bj(n,t,r.value),e.onRequestClose("selected easing option"),1),canVerticleExit(e){var t,n;return"top"===e?(null==(t=i.current)||t.select(),null==(n=i.current)||n.focus(),1):0},renderItem:({item:e,select:t})=>{var n,i;return Sj.default.createElement(hj,{key:e.label,easing:e,tabIndex:0,onKeyDown:m,ref:v.current[e.label],onMouseOver:()=>(e=>{0===l&&u(2),h(e.value)})(e),onMouseOut:g,onClick:t,tooltipPlacement:(null!=(i=null==(n=v.current[e.label].current)?void 0:n.offsetTop)?i:0)-(null!=w?w:0)<78?"bottom":"top",isSelected:KN(r,YN(e.value))})}});return(0,Sj.useLayoutEffect)(()=>{var e,t;if(null!==_.currentSelection&&document.activeElement!==i.current){let n=null==(t=null==(e=v.current)?void 0:e[_.currentSelection.label])?void 0:t.current;null==n||n.focus(),d(_.currentSelection.value),/^[A-Za-z]/.test(a)||o(_.currentSelection.value)}},[_.currentSelection]),Sj.default.createElement(Cj,null,Sj.default.createElement(Aj,{value:a,placeholder:3===l?"Multiple easings selected":"Search presets...",onPaste:xj(s),onChange:s,ref:i,onKeyDown:t=>{var r,i;u(1),("ArrowDown"===t.key||"ArrowUp"===t.key)&&t.preventDefault(),"ArrowDown"===t.key?(_.focusFirstItem(),null==(i=null==(r=v.current[p[0].label])?void 0:r.current)||i.focus()):"Escape"===t.key?(wj(n),e.onRequestClose("key Escape")):"Enter"===t.key&&e.onRequestClose("key Enter")}}),Sj.default.createElement(Pj,{ref:y,onKeyDown:e=>_.onParentEltKeyDown(e)},_.gridItems,0===_.gridItems.length?Sj.default.createElement(Dj,null,"No results found"):void 0),Sj.default.createElement(Rj,{onClick:()=>{var e;return null==(e=i.current)?void 0:e.focus()}},Sj.default.createElement(GN,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:e=>{var t,n;u(2);let r=XN(e);o(r),d(r),null==(t=i.current)||t.select(),null==(n=i.current)||n.focus()},onCancelCurveChange:()=>{}})))},Lj=zj,({isCurveEditorOpenD:Nj,isConnectionEditingInCurvePopover:jj,getLock:Fj}=(()=>{let e=new _j.Atom([]);return{getLock:t=>(e.set(t),function(){e.set([])}),isCurveEditorOpenD:(0,_j.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover:t=>(_j.prism.ensurePrism(),e.prism.getValue().some(({left:e,right:n})=>t.left.id===e.id&&t.right.id===n.id))}})())});function Bj(e,t){for(let{keyframeId:n}of function(e){var t,n,r;let i=[];for(let[a,o]of Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{}))for(let[e,t]of Object.entries(null!=(n=null==o?void 0:o.byTrackId)?n:{}))for(let n of Object.keys(null!=(r=null==t?void 0:t.byKeyframeId)?r:{}))i.push({objectKey:a,trackId:e,keyframeId:n});return i}(t))if(e.left.id===n)return!0;return!1}function Vj(e,t,n){return(0,Xj.prism)(()=>{if(void 0===n)return[];let r=[];for(let{objectKey:i,trackId:a}of qj(n)){let o=(0,Xj.val)(T().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[i].trackData[a]);o&&(r=r.concat(Gj(o.keyframes).filter(e=>Bj(e,n)).map(({left:n,right:r})=>({left:n,right:r,trackId:a,objectKey:i,sheetId:t,projectId:e}))))}return r})}function Hj(e,t,n){var r;if(void 0===n)return[];let i=[];for(let{objectKey:a,trackId:o,keyframeIds:s}of qj(n))i=i.concat(null!=(r=Wj({projectId:e,sheetId:t,objectKey:a,trackId:o,keyframeIds:s}))?r:[]);let a=Az(i.map(e=>e.pathToProp));return i.map(({keyframe:e,pathToProp:t})=>({keyframe:e,pathToProp:t.slice(a.length)}))}function Wj({projectId:e,sheetId:t,objectKey:n,trackId:r,keyframeIds:i}){let a=(0,Xj.val)(T().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[n]),o=null==a?void 0:a.trackData[r];if(!o)return null;let s=function(e){let t={};for(let[n,r]of Object.entries(e))t[r]=n;return t}((null==a?void 0:a.trackIdByPropPath)||{})[r];if(!s)return null;let l=[n,...Rz(s)];return i.map(e=>({keyframe:o.keyframes.find(t=>t.id===e),pathToProp:l})).filter(({keyframe:e})=>void 0!==e)}function Gj(e){return e.map((t,n)=>({left:t,right:e[n+1]})).slice(0,-1)}function qj(e){var t,n,r;let i=[];for(let[a,o]of Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{}))for(let[e,t]of Object.entries(null!=(n=null==o?void 0:o.byTrackId)?n:{}))i.push({objectKey:a,trackId:e,keyframeIds:Object.keys(null!=(r=null==t?void 0:t.byKeyframeId)?r:{})});return i}var Xj,Yj=b(()=>{Xj=Cm(),I(),Oz()});function Kj(e,t){return(0,$j.useMemo)(()=>function(e,t){let n=null,r=t=>T().tempTransaction(n=>e(n,t));function i(){null==n||n.discard(),n=null}let a={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:e=>e.id?t.sheet.project.assetStorage.getAssetUrl(e.id):void 0};return g({temporarilySetValue(e){i(),n=r(e)},discardTemporaryValue:i,permanentlySetValue(e){i(),r(e).commit()}},a)}(e,t),[])}var $j,Zj=b(()=>{I(),$j=S(Af())});function Qj(e){var t;if("sheetObject"===e.type)return eF.default.createElement(eF.default.Fragment,null,eF.default.createElement(iF,{style:{paddingLeft:"".concat(e.indent*aF,"px")}},e.sheetObject.address.objectKey),e.children.map((t,n)=>eF.default.createElement(Qj,v(g({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1}))));if("propWithChildren"===e.type){let n=null!=(t=e.propConfig.label)?t:ed(e.pathToProp);return eF.default.createElement(eF.default.Fragment,null,eF.default.createElement(iF,{style:{paddingLeft:"".concat(e.indent*aF,"px")}},n),e.children.map((t,n)=>eF.default.createElement(Qj,v(g({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1}))))}return eF.default.createElement(Jj,v(g({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function Jj(e){var t;let n=null!=(t=e.propConfig.label)?t:ed(e.pathToProp),r=function(e){let t=e.sheetObject;return Kj(({stateEditors:n},r)=>{let i=v(g({},e.keyframe),{value:r});n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},t.address),{trackId:e.trackId,keyframes:[i],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}(e);if("enum"===e.propConfig.type)return eF.default.createElement(eF.default.Fragment,null);{let t=IC[e.propConfig.type];return eF.default.createElement(nF,null,eF.default.createElement(iF,null,eF.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*aF,"px")}},n)),eF.default.createElement(sF,null,eF.default.createElement(t,{editingTools:r,propConfig:e.propConfig,value:jC(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}var eF,tF,nF,rF,iF,aF,oF,sF,lF=b(()=>{eF=S(Af()),Hp(),OC(),td(),Zj(),ZC(),nF=Vp.div(tF||(tF=k(["\n  display: flex;\n  align-items: stretch;\n  min-width: 200px;\n\n  select {\n    min-width: 100px;\n  }\n"]))),iF=Vp.div(rF||(rF=k(["\n  font-style: normal;\n  font-weight: 400;\n  font-size: 11px;\n  line-height: 13px;\n  letter-spacing: 0.01em;\n  padding: 6px 6px 6px 0;\n\n  width: 40%;\n\n  color: #919191;\n\n  overflow: hidden;\n"]))),aF=10,sF=Vp.div(oF||(oF=k(["\n  display: flex;\n  align-items: center;\n  width: 60%;\n"])))});function uF(e){return hk({debugName:"useKeyframeInlineEditorPopover"},()=>cF.default.createElement(zk,{showPopoverEdgeTriangle:!0},cF.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((e,t)=>cF.default.createElement(Qj,v(g({key:t},e),{autoFocusInput:0===t,indent:0}))):void 0)))}var cF,dF=b(()=>{cF=S(Af()),Lk(),jk(),lF()});var fF,hF,pF,mF,gF,vF,yF,bF,wF,xF,_F,SF,EF,kF,CF,MF,PF,TF,AF,IF,RF=b(()=>{fF=S(Af()),Hp(),I(),kM(),bx(),Zv(),hF=Cm(),HL(),tx(),Xz(),BL(),ox(),Yj(),_y(),aN(),dF(),yP(),mF=(pF=6)+2,gF={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},vF=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?gF.inlineEditorOpenColor:e?gF.selectedColor:t?gF.selectedAndInlineEditorOpenColor:gF.normalColor,bF=Vp.div(yF||(yF=k(["\n  position: absolute;\n  ","\n\n  background: ",";\n  transform: rotateZ(45deg);\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),yL(pF),e=>vF(e),e=>2===e.flag?"outline: 2px solid white;":""),xF=Vp.div(wF||(wF=k(["\n  position: absolute;\n  ","\n\n  background: ",";\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),yL(1.5*pF),e=>vF(e),e=>2===e.flag?"outline: 2px solid white;":""),SF=Vp.div(_F||(_F=k(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  & + "," {\n    ","\n  }\n\n  &:hover + "," {\n    ","\n  }\n"])),yL(12),ty,bF,e=>e.isInlineEditorPopoverOpen?yL(mF):"",bF,yL(mF)),EF=e=>{let t=rx("SingleKeyframeDot",e.keyframe.id),n=RM(e.itemKey),[r,i]=Kv(null),[a]=function(e,t,n){return _M(e,{displayName:"Keyframe",menuItems:()=>{let e=Hj(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:e.length>0?"Copy (selection)":"Copy",callback:()=>{e.length>0?T().transaction(t=>{t.stateEditors.studio.ahistoric.setClipboardKeyframes(e)}):T().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])})}},{label:void 0!==n.selection?"Delete (selection)":"Delete",callback:()=>{n.selection?n.selection.delete():T().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",n)}})}(i,t,e),{node:o,toggle:s,isOpen:l}=uF([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);!function(e,t,n){let r=(0,fF.useRef)(t);r.current=t;let{onClickFromDrag:i}=n,a=(0,fF.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(t){let n=r.current,a=YL((0,hF.val)(T().atomP.historic.coreByProject[n.leaf.sheetObject.address.projectId].sheetsById[n.leaf.sheetObject.address.sheetId].sequence.tracksByObject),function(e,{trackId:t,objectKey:r}){var i,a;return e.id!==n.keyframe.id&&!(n.selection&&null!=(a=null==(i=n.selection.byObjectKey[r])?void 0:i.byTrackId[t])&&a.byKeyframeId[e.id])});if(XL(a),n.selection){let{selection:r,leaf:a}=n,{sheetObject:o}=a,s=r.getDragHandlers(v(g({},o.address),{domNode:e,positionAtStartOfDrag:n.track.data.keyframes[n.index].position})).onDragStart(t);return s&&v(g({},s),{onClick:i,onDragEnd:(...e)=>{var t;null==(t=s.onDragEnd)||t.call(s,...e),qL()}})}let o,s=n,l=(0,hF.val)(s.layoutP.scaledSpace.toUnitSpace);return{onDrag(t,n,r){var i;let a=s.track.data.keyframes[s.index],u=Math.max(null!=(i=Gz.checkIfMouseEventSnapToPos(r,{ignore:e}))?i:a.position+l(t),0);null==o||o.discard(),o=void 0,o=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},s.leaf.sheetObject.address),{trackId:s.leaf.trackId,keyframes:[v(g({},a),{position:u})],snappingFunction:(0,hF.val)(s.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(e){e?null==o||o.commit():null==o||o.discard(),qL()},onClick(e){i(e)}}}}),[i]),[o]=mx(e,a);TL(o,t.keyframe.position),Qw(o,"draggingPositionInSequenceEditor","ew-resize")}(i,e,{onClickFromDrag(e){s(e,r.current)}});let u=!e.keyframe.type||"bezier"===e.keyframe.type;return fF.default.createElement(fF.default.Fragment,null,fF.default.createElement(SF,g({ref:r,isInlineEditorPopoverOpen:l},n.attrs)),u?fF.default.createElement(bF,{isSelected:!!e.selection,isInlineEditorPopoverOpen:l,flag:n.flag}):fF.default.createElement(xF,{isSelected:!!e.selection,isInlineEditorPopoverOpen:l,flag:n.flag}),o,a)},kF=EF}),OF=b(()=>{$m(),CF=S(Af()),Hp(),RF(),MF=pF/2+1,PF={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?PF.selectedColor:PF.normalColor;return e.isPopoverOpen?Xm(.2,qm(.2,t)):t},hoverColor:e=>{let t=e.isSelected?PF.selectedColor:PF.normalColor;return e.isPopoverOpen?Xm(.2,qm(.2,t)):Xm(.1,qm(.1,t))}},AF=Vp.div(TF||(TF=k(["\n  position: absolute;\n  background: ",";\n  height: ","px;\n  width: ","px;\n\n  left: 0;\n  top: -","px;\n  transform-origin: top left;\n  z-index: 0;\n  cursor: ew-resize;\n\n  &:after {\n    display: block;\n    position: absolute;\n    content: ' ';\n    top: -4px;\n    bottom: -4px;\n    left: 0;\n    right: 0;\n  }\n\n  &:hover {\n    background: ",";\n  }\n"])),PF.barColor,MF,1e3,MF/2,PF.hoverColor),IF=CF.default.forwardRef((e,t)=>{let n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return CF.default.createElement(AF,v(g({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/1e3,"))")},onClick:t=>{var n;null==(n=e.openPopover)||n.call(e,t)}}),e.children)})});var DF,zF,LF,NF,jF,FF,UF,BF,VF,HF,WF,GF,qF,XF,YF,KF=b(()=>{I(),kM(),bx(),Zv(),DF=Cm(),zF=S(Af()),LF=S(Af()),Lk(),jk(),Uj(),OF(),TN(),$f(),Yj(),Yj(),Hp(),jF=Vp(zk)(NF||(NF=k(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: ",";\n"])),CN),FF=e=>{let{index:t,track:n}=e,r=n.data.keyframes[t],i=n.data.keyframes[t+1],[a,o]=Kv(null),{node:s,toggle:l,close:u}=hk(()=>{let t=(0,DF.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:t.screenX+5,maxX:t.screenX+t.width-5}}},()=>zF.default.createElement(BF,v(g({},e),{closePopover:u}))),[c]=function(e,t,n,r){return _M(t,{displayName:"Tween",menuItems:()=>{let t=Hj(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:t.length>0?"Copy (selection)":"Copy",callback:()=>{t.length>0?T().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)}):T().transaction(t=>{t.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:r,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():T().transaction(({stateEditors:t})=>{t.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},e.leaf.sheetObject.address),{keyframeIds:[n.id,r.id],trackId:e.leaf.trackId}))})}}]}})}(e,o,r,i);!function(e,t){let n=(0,LF.useRef)(t);n.current=t;let r=(0,LF.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(t){let r,i=n.current;if(i.selection){let{selection:n,leaf:r}=i,{sheetObject:a}=r;return n.getDragHandlers(v(g({},a.address),{domNode:e,positionAtStartOfDrag:i.track.data.keyframes[i.index].position})).onDragStart(t)}let a=i,o=(0,DF.val)(a.layoutP.sheet).getSequence(),s=(0,DF.val)(a.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,t,n){let i=s(e);r&&(r.discard(),r=void 0),r=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.transformKeyframes(v(g({},a.leaf.sheetObject.address),{trackId:a.leaf.trackId,keyframeIds:[a.keyframe.id,a.track.data.keyframes[a.index+1].id],translate:i,scale:1,origin:0,snappingFunction:o.closestGridPosition}))})},onDragEnd(e){e?r&&r.commit():r&&r.discard()}}}}),[]);mx(e,r)}(o,e);let d=i.position-r.position,f={isPopoverOpen:zf(()=>jj(v(g({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:r,right:i})),[e.leaf.sheetObject.address,e.leaf.trackId,r,i]),isSelected:void 0!==e.selection};return zF.default.createElement(zF.default.Fragment,null,zF.default.createElement(IF,v(g({ref:a,connectorLengthInUnitSpace:d},f),{openPopover:e=>{o&&l(e,o)}}),s),c)},UF=FF,BF=zF.default.forwardRef((e,t)=>{let{index:n,track:{data:r},selection:i}=e,a=r.keyframes[n],o=r.keyframes[n+1],s=e.leaf.trackId,l=e.leaf.sheetObject.address,u=zf(()=>Vj(l.projectId,l.sheetId,i).getValue(),[l,i]),c=g({left:a,right:o,trackId:s},l);return zF.default.createElement(jF,{showPopoverEdgeTriangle:!1,ref:t},zF.default.createElement(Lj,{curveConnection:c,additionalConnections:u,onRequestClose:e.closePopover}))})}),$F=b(()=>{VF=Cm(),HF=S(Af()),Hp(),KF(),RF(),GF=Vp.div(WF||(WF=k(["\n  position: absolute;\n"]))),qF=HF.default.createElement(HF.default.Fragment,null),XF=HF.default.memo(e=>{let{index:t,track:{data:n}}=e,r=n.keyframes[t],i=n.keyframes[t+1],a=r.connectedRight&&!!i;return HF.default.createElement(GF,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,VF.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(r.position,"px))")}},HF.default.createElement(kF,v(g({},e),{itemKey:e.itemKey})),a?HF.default.createElement(UF,g({},e)):qF)}),YF=XF});function ZF(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var n;let r=(0,QF.val)(e.layoutP.sheet).getSequence(),i=null==(n=t[0])?void 0:n.pathToProp,a=t.filter(({keyframe:e,pathToProp:t})=>function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(i,t)).map(({keyframe:e,pathToProp:t})=>e);T().transaction(({stateEditors:t})=>{var n;r.position=r.closestGridPosition(r.position);let i=null==(n=function(e){let t=null;for(let n of e)(null===t||n.position<t.position)&&(t=n);return t}(a))?void 0:n.position;for(let n of a)t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(v(g({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:r.position+n.position-i,handles:n.handles,value:n.value,snappingFunction:r.closestGridPosition,type:n.type}))})}}}var QF,JF,eU,tU,nU,rU,iU,aU,oU,sU=b(()=>{$f(),QF=Cm(),JF=S(Af()),Hp(),$F(),kM(),Zv(),I(),Oz(),aN(),PP(),tU=Vp.div(eU||(eU=k(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),nU=JF.default.memo(e=>{var t;let{layoutP:n,trackData:r,leaf:i}=e,[a,o]=Kv(null),{selectedKeyframeIds:s,selection:l}=zf(()=>{let e=(0,QF.val)(n.selectionAtom),t=(0,QF.val)(e.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return t?{selectedKeyframeIds:t,selection:(0,QF.val)(e.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[n,i.trackId]),[u,c,d]=function(e,t){return _M(e,{displayName:"Keyframe Track",menuItems:()=>{var e;let n=null!=(e=(0,QF.val)(T().atomP.ahistoric.clipboard.keyframesWithRelativePaths))?e:[];return[ZF(t,n)]}})}(o,e),f=Vf(iN),h="snapToSome"===f.mode?null==(t=f.positions[i.sheetObject.address.objectKey])?void 0:t[i.trackId]:[],p="snapToAll"===f.mode,m=(0,JF.useMemo)(()=>({data:r,id:i.trackId,sheetObject:e.leaf.sheetObject}),[r,i.trackId]),g=r.keyframes.map((e,t)=>JF.default.createElement(YF,{key:"keyframe-"+e.id,itemKey:MP.forTrackKeyframe(i.sheetObject,i.trackId,e.id),keyframe:e,index:t,track:m,layoutP:n,leaf:i,selection:!0===s[e.id]?l:void 0})),v=h.map(e=>JF.default.createElement(nN,{key:"snap-target-"+e,layoutP:n,leaf:i,position:e})),y=p?r.keyframes.map(e=>JF.default.createElement(nN,{key:"additionalSnapTarget-".concat(e.id),layoutP:n,leaf:i,position:e.position})):null;return JF.default.createElement(tU,{ref:a,style:{background:d?"#444850 ":"unset"}},g,v,JF.default.createElement(JF.default.Fragment,null,y),u)}),nU.displayName="BasicKeyframedTrack",rU=nU}),lU=b(()=>{I(),$f(),iU=Cm(),aU=S(Af()),SN(),sU(),ox(),oU=({leaf:e,layoutP:t})=>{let n=rx("PrimitivePropRow",e.pathToProp.join());return zf(()=>{let{sheetObject:r}=e,{trackId:i}=e,a=(0,iU.val)(T().atomP.historic.coreByProject[r.address.projectId].sheetsById[r.address.sheetId].sequence.tracksByObject[r.address.objectKey].trackData[i]);return"BasicKeyframedTrack"!==(null==a?void 0:a.type)?(n.errorDev("trackData type ".concat(null==a?void 0:a.type," is not yet supported on the sequence editor")),aU.default.createElement(xN,{leaf:e,isCollapsed:!1,node:aU.default.createElement("div",null)})):aU.default.createElement(xN,{leaf:e,isCollapsed:!1,node:aU.default.createElement(rU,{layoutP:t,trackData:a,leaf:e})})},[e,t])}});var uU=b(()=>{});function cU(e){let{index:t,aggregateKeyframes:n,selection:r}=e;return zf(dU(e),[t,n,r,e.viewModel])}function dU(e){let{index:t,aggregateKeyframes:n,selection:r}=e,{projectId:i,sheetId:a}="sheet"===e.viewModel.type?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let o=n[t],s=n[t+1],l=s&&o.keyframes.length===s.keyframes.length&&o.keyframes.every(({track:e},t)=>s.keyframes[t].track===e)?{length:s.position-o.position,selected:0===o.selected&&0===s.selected}:null,u=l?o.keyframes.map(({kf:e,track:t},n)=>v(g({},t.sheetObject.address),{trackId:t.id,left:e,right:s.keyframes[n].kf})):[],c=function(e){return e()}(()=>{let e=fU.prism.memo("selectedConnections",()=>Vj(i,a,r),[i,a,r]).getValue();return[...u,...e]}),d=u.every(e=>jj(e));return{itemKey:fU.prism.memo("itemKey",()=>"sheet"===e.viewModel.type?MP.forSheetAggregateKeyframe(e.viewModel.sheet,o.position):"sheetObject"===e.viewModel.type?MP.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,o.position):MP.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,o.position),[e.viewModel,o.position]),cur:o,connected:l,isAggregateEditingInCurvePopover:d,allConnections:c}}}var fU,hU=b(()=>{fU=Cm(),PP(),Uj(),$f(),Yj(),uU()});var pU,mU,gU,vU,yU,bU,wU=b(()=>{pU=Cm(),mU=S(Af()),OF(),Lk(),Zv(),I(),bx(),Uj(),hU(),Hp(),jk(),Yj(),kM(),Oz(),vU=Vp(zk)(gU||(gU=k(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: rgba(26, 28, 30, 0.97);\n"]))),yU=mU.default.forwardRef((e,t)=>{let{allConnections:n}=cU(e);return mU.default.createElement(vU,{showPopoverEdgeTriangle:!1,ref:t},mU.default.createElement(Lj,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))}),bU=e=>{let[t,n]=Kv(null),{editorProps:r}=e,[i]=function(e,t){return _M(t,{displayName:"Aggregate Tween",menuItems:()=>{let t=e.utils.allConnections.reduce((e,t)=>{var n;return e.concat(null!=(n=Wj(v(g({},t),{keyframeIds:[t.left.id,t.right.id]})))?n:[])},[]),n=Az(t.map(e=>e.pathToProp)),r=t.map(({keyframe:e,pathToProp:t})=>({keyframe:e,pathToProp:t.slice(n.length)})),i=e.editorProps.viewModel,a="sheet"===i.type?i.sheet.address:i.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let t=Hj(a.projectId,a.sheetId,e.editorProps.selection);T().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)})}else T().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(r)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():T().transaction(({stateEditors:t})=>{for(let n of e.utils.allConnections)t.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},a),{objectKey:n.objectKey,keyframeIds:[n.left.id,n.right.id],trackId:n.trackId}))})}}]}})}(e,n),[a]=function(e,t){let n=(0,mU.useRef)(t);n.current=t;let r=(0,mU.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(t){let r,i=n.current,a=i.aggregateKeyframes[i.index].keyframes,{selection:o,viewModel:s}=i,l="sheet"===s.type?s.sheet.address:s.sheetObject.address;if(o&&0===i.aggregateKeyframes[i.index].selected)return o.getDragHandlers(v(g({},l),{domNode:e,positionAtStartOfDrag:i.aggregateKeyframes[i.index].position})).onDragStart(t);let u=i,c=(0,pU.val)(u.layoutP.sheet).getSequence(),d=(0,pU.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,t,n){let i=d(e);r&&(r.discard(),r=void 0),r=T().tempTransaction(({stateEditors:e})=>{for(let t of a)e.coreByProject.historic.sheetsById.sequence.transformKeyframes(v(g({},t.track.sheetObject.address),{trackId:t.track.id,keyframeIds:[t.kf.id,t.track.data.keyframes[t.track.data.keyframes.indexOf(t.kf)+1].id],translate:i,scale:1,origin:0,snappingFunction:c.closestGridPosition}))})},onDragEnd(e){e?r&&r.commit():r&&r.discard()}}}}),[]);return mx(e,r)}(n,e.editorProps),{node:o,toggle:s,close:l}=hk(()=>{let e=(0,pU.val)(r.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:e.screenX+5,maxX:e.screenX+e.width-5}}},()=>mU.default.createElement(yU,v(g({},r),{closePopover:l}))),{connected:u,isAggregateEditingInCurvePopover:c}=e.utils;return u||a?mU.default.createElement(mU.default.Fragment,null,mU.default.createElement(IF,{ref:t,connectorLengthInUnitSpace:u?u.length:0,isSelected:!!u&&u.selected,isPopoverOpen:c,openPopover:e=>{n&&s(e,n)}}),o,i):mU.default.createElement(mU.default.Fragment,null)}});function xU(e){let t={isSelected:e.isSelected,flag:e.flag};return _U.default.createElement(EU,null,e.isAllHere?_U.default.createElement(RU,g({},t)):_U.default.createElement(OU,g({},t)))}var _U,SU,EU,kU,CU,MU,PU,TU,AU,IU,RU,OU,DU=b(()=>{_U=S(Af()),Hp(),BL(),_y(),EU=Vp.div(SU||(SU=k(["\n  position: absolute;\n  ","\n  z-index: 1;\n"])),yL(16)),CU=Vp.div(kU||(kU=k(["\n  z-index: 2;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  &:hover\n    + ",",\n    #pointer-root.draggingPositionInSequenceEditor\n    &:hover\n    + "," {\n    ","\n  }\n"])),yL(12),ty,EU,EU,yL(18)),MU="#F2C95C",PU="#40AAA4",TU="#45747C",AU=e=>0===e.isSelected?MU:1===e.isSelected?PU:TU,IU=e=>0===e.isSelected?MU:1===e.isSelected?PU:TU,RU=e=>_U.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_U.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:IU(e)}),_U.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:AU(e),stroke:2===e.flag?"white":void 0,strokeWidth:2===e.flag?"2px":void 0})),OU=e=>_U.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_U.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:2===e.flag?"white":AU(e),strokeWidth:2===e.flag?"2px":void 0}))});function zU(e,t){let n=e.children.map(e=>"propWithChildren"===e.type?zU(e,t):LU(e,t)).filter(FU);return 0===n.length?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function LU(e,t){let n=t.find(t=>t.track.id===e.trackId);return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function NU(e){var t,n,r,i;let{cur:a}=e.utils,o=uF("sheet"===e.editorProps.viewModel.type?null:"sheetObject"===e.editorProps.viewModel.type?null!=(n=null==(t=function(e,t){let n=e.children.map(e=>"propWithChildren"===e.type?zU(e,t):LU(e,t)).filter(FU);return 0===n.length?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}(e.editorProps.viewModel,a.keyframes))?void 0:t.children)?n:null:null!=(i=null==(r=zU(e.editorProps.viewModel,a.keyframes))?void 0:r.children)?i:null),s=RM(e.utils.itemKey);s.useRelations(()=>a.keyframes.map(e=>({affects:e.itemKey,flag:2})),[a.keyframes.map(e=>e.track.id).join("-")]);let[l,u]=Kv(null),[c]=function(e,t){return _M(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let t=e.editorProps.viewModel,n=e.editorProps.selection;return[{label:n?"Copy (selection)":"Copy",callback:()=>{if(n){let{projectId:e,sheetId:r}="sheet"===t.type?t.sheet.address:t.sheetObject.address,i=Hj(e,r,n);T().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}else{let n=e.utils.cur.keyframes.flatMap(e=>{var t;return null!=(t=Wj(v(g({},e.track.sheetObject.address),{trackId:e.track.id,keyframeIds:[e.kf.id]})))?t:[]}),r=Az(["sheet"===t.type?[]:"sheetObject"===t.type?[t.sheetObject.address.objectKey]:"propWithChildren"===t.type?[t.sheetObject.address.objectKey,...t.pathToProp]:[],...n.map(e=>e.pathToProp)]),i=n.map(({keyframe:e,pathToProp:t})=>({keyframe:e,pathToProp:t.slice(r.length)}));T().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}}},{label:n?"Delete (selection)":"Delete",callback:()=>{n?n.delete():T().transaction(({stateEditors:t})=>{for(let n of e.utils.cur.keyframes)t.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},n.track.sheetObject.address),{keyframeIds:[n.kf.id],trackId:n.track.id}))})}}]}})}(e,u);return jU.default.createElement(jU.default.Fragment,null,jU.default.createElement(CU,v(g(g({ref:l},s.attrs),Gz.includePositionSnapAttrs(a.position)),{onClick:t=>"sheet"!==e.editorProps.viewModel.type?o.open(t,l.current):null})),jU.default.createElement(xU,{flag:s.flag,isAllHere:a.allHere,isSelected:a.selected}),c,o.node)}var jU,FU,UU,BU,VU,HU,WU,GU,qU=b(()=>{jU=S(Af()),Zv(),yP(),kM(),DU(),I(),Yj(),Oz(),Xz(),dF(),FU=e=>null!==e}),XU=b(()=>{UU=Cm(),BU=S(Af()),Hp(),wU(),hU(),qU(),HU=Vp.div(VU||(VU=k(["\n  position: absolute;\n"]))),WU=BU.default.memo(e=>{let t=cU(e);return BU.default.createElement(HU,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,UU.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},BU.default.createElement(NU,{editorProps:e,utils:t}),BU.default.createElement(bU,{editorProps:e,utils:t}))}),GU=WU});function YU(e){let{layoutP:t,aggregatedKeyframes:n,viewModel:r}=e,i=rx("AggregatedKeyframeTrack"),[a,o]=Kv(null),{selectedPositions:s,selection:l}=function(e,t){return zf(()=>(0,eB.val)(function(e,t){return(0,eB.prism)(()=>{let n=(0,eB.val)(e.selectionAtom),r=(0,eB.val)(n.pointer.current);if(!r)return iB;let i=new Map;for(let[e,n]of t.byPosition){let t=KU(n,r);void 0!==t&&t!==cB&&i.set(e,t)}return{selectedPositions:i,selection:(0,eB.val)(n.pointer.current)}})}(e,t)),[e,t])}(t,n),[u,c,d]=function(e,t,n){return _M(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:()=>{var e;let n=null!=(e=(0,eB.pointerToPrism)(T().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())?e:[];return[$U(t,n)]}})}(o,e,()=>i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),f=(0,tB.useMemo)(()=>[...n.byPosition.entries()].sort((e,t)=>e[0]-t[0]).map(([e,t])=>({position:e,keyframes:t,selected:s.get(e),allHere:t.length===n.tracks.length})),[n,s]),h=Vf(iN),p="snapToAll"===h.mode,m="snapToSome"===h.mode?h.positions:RP,y=(0,tB.useMemo)(()=>"sheet"===r.type?function(e,t){return kf(e.children.flatMap(e=>Zz(e,t)))}(r,m):Zz(r,m),[m]).map(e=>tB.default.createElement(nN,{key:"snap-target-"+e,layoutP:t,leaf:r,position:e})),b=(0,tB.useMemo)(()=>f.map(({position:e,keyframes:n},i)=>({position:e,editorProps:{index:i,layoutP:t,viewModel:r,aggregateKeyframes:f,selection:s.has(e)?l:void 0}})),[f,r,s]);!function(e,t,n){let r=rx("useDragForAggregateKeyframeDot"),i=PL(),a=(0,tB.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(a){r._debug("onDragStart",{target:a.target});let o=Number(a.target.dataset.pos),s=t(o);if(!s)return r._debug("no props found for ",{positionToFind:o}),!1;i(!0,o);let l=(0,eB.prism)(dU(s)).getValue().cur.keyframes,u="sheet"===s.viewModel.type?s.viewModel.sheet.address:s.viewModel.sheetObject.address,c=YL((0,eB.val)(T().atomP.historic.coreByProject[u.projectId].sheetsById[u.sheetId].sequence.tracksByObject),function(e,{trackId:t,objectKey:n}){var r,i;return l.every(t=>e.id!==t.kf.id)&&!(s.selection&&null!=(i=null==(r=s.selection.byObjectKey[n])?void 0:r.byTrackId[t])&&i.byKeyframeId[e.id])});if(XL(c),s.selection&&0===s.aggregateKeyframes[s.index].selected){let{selection:t,viewModel:r}=s,i=t.getDragHandlers(v(g({},u),{domNode:e,positionAtStartOfDrag:l[0].kf.position})).onDragStart(a);return i&&v(g({},i),{onClick:n.onClickFromDrag,onDragEnd:(...e)=>{var t;null==(t=i.onDragEnd)||t.call(i,...e),qL()}})}let d,f=s,h=(0,eB.val)(f.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,t,n){var r;let a=Math.max(null!=(r=Gz.checkIfMouseEventSnapToPos(n,{}))?r:l[0].kf.position+h(e),0);i(!0,a),null==d||d.discard(),d=void 0,d=T().tempTransaction(({stateEditors:e})=>{for(let t of l){let n=t.kf;e.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},t.track.sheetObject.address),{trackId:t.track.id,keyframes:[v(g({},n),{position:a})],snappingFunction:(0,eB.val)(f.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(e){i(!1,-1),e?null==d||d.commit():(null==d||d.discard(),n.onClickFromDrag(a)),qL()},onClick(e){n.onClickFromDrag(e)}}}}),[t,n.onClickFromDrag]),[o]=mx(e,a);Qw(o,"draggingPositionInSequenceEditor","ew-resize")}(o,e=>{var t;return null==(t=b.find(t=>t.position===e))?void 0:t.editorProps},{onClickFromDrag(e){}});let w=b.map((e,n)=>tB.default.createElement(tB.Fragment,{key:"agg-"+f[n].keyframes[0].kf.id},p&&tB.default.createElement(nN,{layoutP:t,leaf:r,position:e.position}),tB.default.createElement(GU,g({},e.editorProps))));return tB.default.createElement(rB,{ref:a,style:{background:d?"#444850 ":"unset"}},w,y,u)}function KU(e,t){var n,r,i;let a;for(let{track:o,kf:s}of e){let e=!0===(null==(i=null==(r=null==(n=t.byObjectKey[o.sheetObject.address.objectKey])?void 0:n.byTrackId[o.id])?void 0:r.byKeyframeId)?void 0:i[s.id]);void 0===a?a=e?lB:cB:e?a===cB&&(a=uB):a===lB&&(a=uB)}return a}function $U(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let n=(0,eB.val)(e.layoutP.sheet).getSequence();"sheet"===e.viewModel.type?function(e,t,n){var r;let{projectId:i,sheetId:a,sheetInstanceId:o}=e.sheet.address;if(t.every(({pathToProp:e})=>0===e.length))for(let o of e.children.map(e=>e.sheetObject)){let e=(0,eB.pointerToPrism)(T().atomP.historic.coreByProject[i].sheetsById[a].sequence.tracksByObject[o.address.objectKey]).getValue(),s=Object.keys(null!=(r=null==e?void 0:e.trackData)?r:{});ZU(o.address,s,t,n)}else{let e=(0,eB.pointerToPrism)(T().atomP.historic.coreByProject[i].sheetsById[a].sequence.tracksByObject).getValue(),r=t.map(({keyframe:t,pathToProp:n})=>{var r,s;let l=n[0],u=n.slice(1),c=Iz([...u]),d=(null!=(s=null==(r=null==e?void 0:e[l])?void 0:r.trackIdByPropPath)?s:{})[c];return d?{keyframe:t,trackId:d,address:{objectKey:l,projectId:i,sheetId:a,sheetInstanceId:o}}:null}).filter(e=>null!==e);QU(r,n)}}(e.viewModel,t,n):function(e,t,n){var r;let{projectId:i,sheetId:a,objectKey:o}=e.sheetObject.address,s=(0,eB.pointerToPrism)(T().atomP.historic.coreByProject[i].sheetsById[a].sequence.tracksByObject[o]).getValue();if(t.every(({pathToProp:e})=>0===e.length)){let i=Object.keys(null!=(r=null==s?void 0:s.trackData)?r:{});if("sheetObject"===e.type)ZU(e.sheetObject.address,i,t,n);else{let r=(null==s?void 0:s.trackIdByPropPath)||{},i=Object.entries(r).filter(([t,n])=>void 0!==n&&function(e,t){return t.every((t,n)=>t===e[n])}(Rz(t),e.pathToProp)).map(([e,t])=>t);ZU(e.sheetObject.address,i,t,n)}}else{let r=(null==s?void 0:s.trackIdByPropPath)||{},i="propWithChildren"===e.type?e.pathToProp:[],a=t.map(({keyframe:t,pathToProp:n})=>{let a=Iz([...i,...n]),o=r[a];return o?{keyframe:t,trackId:o,address:e.sheetObject.address}:null}).filter(e=>null!==e);QU(a,n)}}(e.viewModel,t,n)}}}function ZU(e,t,n,r){var i;r.position=r.closestGridPosition(r.position);let a=null==(i=JU(n.map(({keyframe:e})=>e)))?void 0:i.position;T().transaction(({stateEditors:i})=>{for(let o of t)for(let{keyframe:t}of n)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(v(g({},e),{trackId:o,position:r.position+t.position-a,handles:t.handles,value:t.value,snappingFunction:r.closestGridPosition,type:t.type}))})}function QU(e,t){var n;t.position=t.closestGridPosition(t.position);let r=null==(n=JU(e.map(({keyframe:e})=>e)))?void 0:n.position;T().transaction(({stateEditors:n})=>{for(let{keyframe:i,trackId:a,address:o}of e)n.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(v(g({},o),{trackId:a,position:t.position+i.position-r,handles:i.handles,value:i.value,snappingFunction:t.closestGridPosition,type:i.type}))})}function JU(e){let t=null;for(let n of e)(null===t||n.position<t.position)&&(t=n);return t}var eB,tB,nB,rB,iB,aB,oB,sB,lB,uB,cB,dB,fB,hB,pB,mB,gB,vB,yB,bB,wB,xB,_B,SB,EB=b(()=>{var e;$f(),eB=Cm(),tB=S(Af()),Hp(),kM(),Zv(),XU(),Jz(),ox(),hU(),Xz(),bx(),HL(),tx(),I(),Oz(),aN(),DP(),aN(),Jz(),rB=Vp.div(nB||(nB=k(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),iB=Object.freeze({selectedPositions:new Map,selection:void 0}),aB=tB.default.memo(YU),oB=aB,(e=sB||{})[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",sB=e,({AllSelected:lB,AtLeastOneUnselected:uB,NoneSelected:cB}=sB)}),kB=b(()=>{$f(),dB=S(Af()),lU(),SN(),EB(),Jz(),ox(),fB=(e,t)=>"propWithChildren"===e.type?dB.default.createElement(hB,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):dB.default.createElement(oU,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),hB=({viewModel:e,layoutP:t})=>{let n=rx("RightPropWithChildrenRow",e.pathToProp.join());return zf(()=>{let r=Yz(e);return dB.default.createElement(nx,{logger:n},dB.default.createElement(xN,{leaf:e,node:dB.default.createElement(oB,{layoutP:t,aggregatedKeyframes:r,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(e=>fB(e,t))))},[e,t])}}),CB=b(()=>{$f(),pB=S(Af()),kB(),SN(),Jz(),EB(),mB=({leaf:e,layoutP:t})=>zf(()=>{let n=Yz(e);return pB.default.createElement(xN,{leaf:e,node:pB.default.createElement(oB,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(e=>fB(e,t)))},[e,t])}),MB=b(()=>{$f(),gB=S(Af()),CB(),SN(),Jz(),EB(),vB=({leaf:e,layoutP:t})=>zf(()=>{let n=Yz(e);return gB.default.createElement(xN,{leaf:e,node:gB.default.createElement(oB,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(e=>gB.default.createElement(mB,{layoutP:t,key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e})))},[e,t])}),PB=b(()=>{$f(),yB=Cm(),bB=S(Af()),Hp(),jL(),_N(),MB(),wB=1e6,_B=Vp.ul(xB||(xB=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  left: 0;\n  width: ","px;\n"])),wB),SB=({layoutP:e})=>zf(()=>{let t=(0,yB.val)(e.tree),n=(0,yB.val)(e.tree.top)+Math.max((0,yB.val)(e.tree.heightIncludingChildren),(0,yB.val)(e.dopeSheetDims.height));return bB.default.createElement(bB.default.Fragment,null,bB.default.createElement(hN,{layoutP:e,height:n},bB.default.createElement(cL,{layoutP:e,height:n},bB.default.createElement(_B,{style:{top:t.top+"px"}},bB.default.createElement(vB,{leaf:t,layoutP:e})))))},[e])});function TB(e,t,n,r){let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),a="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");0===n&&(n=1e-4);let o="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");0===r&&(r=.001);let s="calc(var(--graphEditorVerticalSpace) * ".concat(-1*r,")");return"translate(".concat(i,", ").concat(a,") scale(").concat(o,", ").concat(s,")")}var AB,IB,RB,OB,DB,zB=b(()=>{ZC(),I(),kM(),Zv(),AB=S(Af()),Hp(),RB=Vp.path(IB||(IB=k(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),OB=e=>{let{index:t,trackData:n}=e,r=n.keyframes[t],i=n.keyframes[t+1],a=i.position-r.position,[o,s]=Kv(null),[l]=function(e,t){let{index:n,trackData:r}=t,i=r.keyframes[n],a=r.keyframes[n+1];return _M(e,{menuItems:()=>[{label:"Delete",callback:()=>{T().transaction(({stateEditors:e})=>{let{deleteKeyframes:n}=e.coreByProject.historic.sheetsById.sequence;n(v(g({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,a.id]}))})}}]})}(s,e),u=e.isScalar?jC(r.value,e.propConfig):0,c=e.isScalar?jC(i.value,e.propConfig):1,d=e.extremumSpace.fromValueSpace(u),f=e.extremumSpace.fromValueSpace(c)-d,h=TB(r.position,d,a,f),p=r.handles[2],m=r.handles[3],y=i.handles[0],b=i.handles[1],w="M 0 0 C ".concat(p," ").concat(m," ").concat(y," ").concat(b," 1 1");return AB.default.createElement(AB.default.Fragment,null,AB.default.createElement(RB,{ref:o,d:r.type&&"bezier"!==r.type?"M 0 0 L 1 0 L 1 1":w,style:{transform:h}}),l)},DB=OB});var LB,NB,jB,FB,UB,BB,VB,HB,WB,GB,qB=b(()=>{I(),kM(),bx(),Zv(),LB=Cm(),Mf(),NB=S(Af()),Hp(),zB(),_y(),FB=Vp.circle(jB||(jB=k(["\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n  fill: var(--main-color);\n  r: 2px;\n  pointer-events: none;\n"]))),BB=Vp.circle(UB||(UB=k(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  cursor: move;\n  ",";\n  &:hover {\n  }\n  &:hover + "," {\n    r: 6px;\n  }\n"])),ty,FB),HB=Vp.path(VB||(VB=k(["\n  stroke-width: 1;\n  stroke: var(--main-color);\n  /* stroke: gray; */\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),WB=e=>{let[t,n]=Kv(null),{index:r,trackData:i}=e,a=i.keyframes[r],o=i.keyframes[r+1],[s]=function(e,t){return _M(e,{menuItems:()=>[{label:"Delete",callback:()=>{T().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}(n,e);!function(e,t){let n=(0,NB.useRef)(t);n.current=t;let r=(0,NB.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let e,r=n.current,i=(0,LB.val)(r.layoutP.scaledSpace.toUnitSpace),a=(0,LB.val)(r.layoutP.graphEditorVerticalSpace.toExtremumSpace),o=r.extremumSpace.lock();return{onDrag(n,o){e&&(e.discard(),e=void 0);let{index:s,trackData:l}=r,u=l.keyframes[s],c=l.keyframes[s+1],d=i(n)/(c.position-u.position),f=a(-o),h=r.extremumSpace.deltaToValueSpace(f),p=t.isScalar?u.value:0,m=h/((t.isScalar?c.value:1)-p);if("left"===r.which){let t=ds(u.handles[2]+d,0,1),n=u.handles[3]+m;e=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},r.sheetObject.address),{snappingFunction:(0,LB.val)(r.layoutP.sheet).getSequence().closestGridPosition,trackId:r.trackId,keyframes:[v(g({},u),{handles:[u.handles[0],u.handles[1],t,n]})]}))})}else{let t=ds(c.handles[0]+d,0,1),n=c.handles[1]+m;e=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},r.sheetObject.address),{trackId:r.trackId,snappingFunction:(0,LB.val)(r.layoutP.sheet).getSequence().closestGridPosition,keyframes:[v(g({},c),{handles:[t,n,c.handles[2],c.handles[3]]})]}))})}},onDragEnd(t){o(),t?e&&e.commit():e&&e.discard()}}}}),[]);mx(e,r)}(n,e);let l="left"===e.which?a.handles[2]:o.handles[0],u=a.position+(o.position-a.position)*l,c="left"===e.which?a.handles[3]:o.handles[1],d=e.isScalar?a.value:0,f=e.isScalar?o.value:1,h=d+(f-d)*c,p=e.extremumSpace.fromValueSpace(h),m=p-e.extremumSpace.fromValueSpace("left"===e.which?d:f),y=TB("left"===e.which?a.position:o.position,e.extremumSpace.fromValueSpace("left"===e.which?d:f),u-("left"===e.which?a.position:o.position),m);return NB.default.createElement("g",null,NB.default.createElement(BB,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(p,") * 1px)")}}),NB.default.createElement(FB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(p,") * 1px)")}}),NB.default.createElement(HB,{d:"M 0 0 L 1 1",style:{transform:y}}),s)},GB=WB});var XB,YB,KB,$B,ZB,QB,JB,eV,tV=b(()=>{I(),kM(),bx(),Zv(),XB=Cm(),YB=S(Af()),Hp(),HL(),HL(),_y(),tx(),Xz(),dF(),yP(),$B=Vp.circle(KB||(KB=k(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),QB=Vp.circle(ZB||(ZB=k(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: move;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),ty,$B,Gw),JB=e=>{let[t,n]=Kv(null),{index:r,trackData:i}=e,a=i.keyframes[r],[o]=function(e,t){return _M(e,{menuItems:()=>[{label:"Delete",callback:()=>{T().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}(n,e),s=RM(e.itemKey),l=a.value,u=e.extremumSpace.fromValueSpace(l),c=uF([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),d=function(e){let[t,n]=(0,YB.useState)(!1);TL(t,e.props.keyframe.position);let r=(0,YB.useRef)(e.props);r.current=e.props;let i=(0,YB.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(t){n(!0);let i,a=!!t.altKey,o=r.current,s=(0,XB.val)(o.layoutP.scaledSpace.toUnitSpace),l=(0,XB.val)(o.layoutP.graphEditorVerticalSpace.toExtremumSpace),u=o.extremumSpace.lock();return{onDrag(e,t){let n=o.trackData.keyframes[o.index],r=s(e),u=l(-t),c=o.extremumSpace.deltaToValueSpace(u),d=[],f=v(g({},n),{position:n.position+r,value:n.value+c,handles:[...n.handles]});if(d.push(f),a){let e=o.trackData.keyframes[o.index-1];if(e&&Math.abs(n.value-e.value)>0){let t=v(g({},e),{handles:[...e.handles]});d.push(t),t.handles[3]=function(e,t,n,r,i){return(r-t)*e/(i-n)}(e.handles[3],e.value,e.value,n.value,f.value)}let t=o.trackData.keyframes[o.index+1];if(t&&Math.abs(n.value-t.value)>0){let e=v(g({},t),{handles:[...t.handles]});d.push(e),e.handles[1]=function(e,t,n,r,i){return((t-r)*e+r-t+n-i)/(n-i)}(e.handles[1],e.value,e.value,n.value,f.value)}}null==i||i.discard(),i=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},o.sheetObject.address),{trackId:o.trackId,keyframes:d,snappingFunction:(0,XB.val)(o.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(r){n(!1),u(),r?null==i||i.commit():(null==i||i.discard(),e.onDetectedClick(t))}}}}),[]);return mx(e.node,i),Qw(t,"draggingPositionInSequenceEditor","move"),t}({node:n,props:e,onDetectedClick:e=>c.toggle(e,e.target instanceof Element?e.target:n)});return YB.default.createElement(YB.default.Fragment,null,YB.default.createElement(QB,v(g(g(g({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(a.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(u,") * 1px)")}},AL(a.position)),Gz.includePositionSnapAttrs(a.position)),s.attrs),{className:d?"beingDragged":""})),YB.default.createElement($B,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(a.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(u,") * 1px)"),fill:2===s.flag?"white":void 0}}),c.node,o)},eV=JB});var nV,rV,iV,aV,oV,sV,lV,uV,cV,dV,fV,hV,pV,mV,gV,vV,yV,bV,wV=b(()=>{I(),kM(),bx(),Zv(),nV=Cm(),rV=S(Af()),Hp(),HL(),HL(),_y(),tx(),Xz(),dF(),yP(),aV=Vp.circle(iV||(iV=k(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),sV=Vp.circle(oV||(oV=k(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: ew-resize;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),ty,aV,Gw),lV=e=>{let[t,n]=Kv(null),{index:r,trackData:i,itemKey:a}=e,o=i.keyframes[r],[s]=function(e,t){return _M(e,{menuItems:()=>[{label:"Delete",callback:()=>{T().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(v(g({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}(n,e),l=RM(a),u="left"===e.which?0:1,c=uF([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),d=function(e){let[t,n]=(0,rV.useState)(!1);TL(t,e.props.keyframe.position);let r=(0,rV.useRef)(e.props);r.current=e.props;let i=(0,rV.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(t){n(!0);let i,a=r.current,o=(0,nV.val)(a.layoutP.scaledSpace.toUnitSpace),s=a.extremumSpace.lock();return{onDrag(e,t){let n=a.trackData.keyframes[a.index],r=o(e),s=[],l=v(g({},n),{position:n.position+r,value:n.value,handles:[...n.handles]});s.push(l),null==i||i.discard(),i=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.replaceKeyframes(v(g({},a.sheetObject.address),{trackId:a.trackId,keyframes:s,snappingFunction:(0,nV.val)(a.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(r){n(!1),s(),r?null==i||i.commit():(null==i||i.discard(),e.onDetectedClick(t))}}}}),[]);return mx(e.node,i),Qw(t,"draggingPositionInSequenceEditor","ew-resize"),t}({node:n,props:e,onDetectedClick:e=>c.toggle(e,e.target instanceof Element?e.target:n)}),f=e.extremumSpace.fromValueSpace(u);return rV.default.createElement(rV.default.Fragment,null,rV.default.createElement(sV,v(g(g(g({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},l.attrs),AL(o.position)),Gz.includePositionSnapAttrs(o.position)),{className:d?"beingDragged":""})),rV.default.createElement(aV,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:2===l.flag?"white":void 0}}),c.node,s)},uV=lV}),xV=b(()=>{cV=S(Af()),Hp(),zB(),fV=Vp.path(dV||(dV=k(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  stroke-dasharray: 3 2;\n  fill: none;\n  vector-effect: non-scaling-stroke;\n  opacity: 0.3;\n"]))),hV=e=>{let{index:t,trackData:n}=e,r=TB(n.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return cV.default.createElement(cV.default.Fragment,null,cV.default.createElement(fV,{d:"M 0 0 L 1 1",style:{transform:r}}))}}),_V=b(()=>{pV=S(Af()),Hp(),zB(),qB(),tV(),wV(),xV(),gV=Vp.g(mV||(mV=k(["\n  /* position: absolute; */\n"]))),vV=pV.default.createElement(pV.default.Fragment,null),yV=e=>{let{index:t,trackData:n,isScalar:r}=e,i=n.keyframes[t],a=n.keyframes[t+1],o=i.connectedRight&&!!a&&a.value!==i.value;return pV.default.createElement(gV,null,o?pV.default.createElement(pV.default.Fragment,null,pV.default.createElement(DB,g({},e)),!i.type||"bezier"===i.type&&pV.default.createElement(pV.default.Fragment,null,pV.default.createElement(GB,v(g({},e),{which:"left"})),pV.default.createElement(GB,v(g({},e),{which:"right"})))):vV,r?pV.default.createElement(eV,g({},e)):pV.default.createElement(pV.default.Fragment,null,pV.default.createElement(uV,v(g({},e),{which:"left"})),pV.default.createElement(uV,v(g({},e),{which:"right"})),pV.default.createElement(hV,g({},e))))},bV=yV});var SV,EV,kV,CV,MV,PV,TV=b(()=>{PP(),SV=S(Af()),mH(),_V(),ZC(),$f(),EV=SV.default.memo(({layoutP:e,trackData:t,sheetObject:n,trackId:r,color:i,pathToProp:a})=>{let o=NC(Vf(n.template.configPointer),a);if(LC(o))return SV.default.createElement(SV.default.Fragment,null);let[s,l]=(0,SV.useState)(!1),u=(0,SV.useMemo)(()=>{let e=new Set;return function(){let t=0===e.size;function n(){let t=e.size>0;e.delete(n),t&&0===e.size&&l(!1)}return e.add(n),t&&l(!0),n}},[]),c=(0,SV.useMemo)(()=>{let e="number"===o.type?function(e,t){let n=1/0,r=-1/0;function i(e){n=Math.min(e,n),r=Math.max(e,r)}return e.forEach((n,r)=>{let a=jC(n.value,t);if(i(a),!n.connectedRight)return;let o=e[r+1];if(!o)return;let s=("number"==typeof o.value?o.value:1)-a;i(a+n.handles[3]*s),i(a+o.handles[1]*s)}),[n,r]}(t.keyframes,o):function(e){let t=0,n=1;function r(e){t=Math.min(e,t),n=Math.max(e,n)}return e.forEach((t,n)=>{if(!t.connectedRight)return;let i=e[n+1];i&&(r(t.handles[3]),r(i.handles[1]))}),[t,n]}(t.keyframes),n=t=>t*(e[1]-e[0]);return{fromValueSpace:t=>(t-e[0])/(e[1]-e[0]),toValueSpace:t=>e[0]+n(t),deltaToValueSpace:n,lock:u}},[t.keyframes]),d=(0,SV.useRef)(void 0);s||(d.current=c);let f=t.keyframes.map((s,l)=>SV.default.createElement(bV,{pathToProp:a,propConfig:o,itemKey:MP.forTrackKeyframe(n,r,s.id),keyframe:s,index:l,trackData:t,layoutP:e,sheetObject:n,trackId:r,isScalar:"number"===o.type,key:s.id,extremumSpace:d.current,color:i}));return SV.default.createElement("g",{style:{"--main-color":XV[i].iconColor}},f)}),kV=EV}),AV=b(()=>{I(),$f(),CV=Cm(),MV=S(Af()),TV(),PV=e=>zf(()=>{let{sheetObject:t,trackId:n}=e,r=(0,CV.val)(T().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return"BasicKeyframedTrack"!==(null==r?void 0:r.type)?MV.default.createElement(MV.default.Fragment,null):MV.default.createElement(kV,v(g({},e),{trackData:r}))},[e.trackId,e.layoutP])});function IV({clippedSpaceRange:e,clippedSpaceWidth:t,fps:n,gapWidth:r=120},i){let a=1/n,o=t/(n*(e.end-e.start)),s=Math.floor(r/o),l=(s<n?RV(n).find(e=>e>=s):n*Math.floor(s/n))*a,u=Math.floor(e.start/l),c=Math.ceil(e.end/l);for(let e=u;e<=c;e++){let t=e*l;i(t,t%1==0)}}var RV,OV=b(()=>{Mf(),RV=oo(e=>{let t=[];for(let n=1;n<=e;n++)e%n===0&&t.push(n);return t})});var DV,zV,LV,NV,jV,FV,UV,BV,VV,HV,WV,GV,qV,XV,YV,KV,$V,ZV,QV,JV,eH,tH,nH,rH,iH,aH,oH,sH,lH,uH,cH,dH,fH,hH,pH=b(()=>{DV=Cm(),zV=S(Af()),Hp(),OV(),I(),NV=Vp.div(LV||(LV=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),FV=Vp.canvas(jV||(jV=k(["\n  position: relative;\n  left: 0;\n"]))),UV=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},BV=()=>window.devicePixelRatio||1,VV=e=>BV()/UV(e),HV=({layoutP:e,width:t,height:n})=>{let r=(0,zV.useRef)(null),[i,a]=(0,zV.useState)(null),{ctx:o,ratio:s}=(0,zV.useMemo)(()=>{if(!i)return{};let e=i.getContext("2d");return{ctx:e,ratio:VV(e)}},[i]);return(0,zV.useLayoutEffect)(()=>{if(!o)return;i.width=t*s,i.height=n*s;let r=(0,DV.prism)(()=>{let t=(0,DV.val)(e.sheet).getSequence();return{ctx:o,clippedSpaceRange:(0,DV.val)(e.clippedSpace.range),clippedSpaceWidth:(0,DV.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,DV.val)(e.clippedSpace.fromUnitSpace),height:n,leftPadding:(0,DV.val)(e.scaledSpace.leftPadding),fps:t.subUnitsPerUnit,snapToGrid:e=>t.closestGridPosition(e)}}).onChange(T().ticker,e=>{o.save(),o.scale(s,s),function(e){let{clippedSpaceWidth:t,height:n,ctx:r,unitSpaceToClippedSpace:i,snapToGrid:a}=e;r.clearRect(0,0,t,n),IV(e,(e,t)=>{let o=a(e),s=Math.floor(i(o));r.strokeStyle=t?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",r.beginPath(),r.moveTo(s,0),r.lineTo(s,n),r.stroke(),r.closePath()})}(e),o.restore()},!0);return()=>{r()}},[o,t,n,e]),zV.default.createElement(NV,{ref:r,style:{width:t+"px"}},zV.default.createElement(FV,{ref:a,style:{width:t+"px",height:n+"px"}}))},WV=HV}),mH=b(()=>{I(),Oz(),MM(),$f(),GV=Cm(),qV=S(Af()),Hp(),PB(),_N(),AV(),pH(),$m(),XV={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},KV=Vp.div(YV||(YV=k(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  background: ",";\n"])),Ym(.03,"#1a1c1e")),ZV=Vp.svg($V||($V=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  pointer-events: none;\n"]))),QV=({layoutP:e})=>zf(()=>{let t=(0,GV.val)(e.sheet),n=(0,GV.val)(T().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),r=(0,GV.val)(e.graphEditorDims.height),i=(0,GV.val)(e.scaledSpace.fromUnitSpace)(1),a=[];if(n)for(let[r,i]of Object.entries(n)){let n=t.getObject(r);if(!n)continue;let o=(0,GV.val)(n.template.getMapOfValidSequenceTracks_forStudio());for(let[t,s]of Object.entries(i)){let i=Rz(t),l=CM(o,i);l&&a.push(qV.default.createElement(PV,{key:"graph-".concat(r,"-").concat(t),sheetObject:n,pathToProp:i,layoutP:e,trackId:l,color:s}))}}let o=(0,GV.val)(e.rightDims.width);return qV.default.createElement(KV,{style:{width:o+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,GV.val)(e.graphEditorVerticalSpace.space))}},qV.default.createElement(WV,{layoutP:e,width:o,height:r}),qV.default.createElement(hN,{layoutP:e,height:r},qV.default.createElement(ZV,{width:wB,height:r,viewBox:"0 0 ".concat(wB," ").concat(r)},qV.default.createElement("g",{style:{transform:"translate(".concat((0,GV.val)(e.scaledSpace.leftPadding),"px, ").concat((0,GV.val)(e.graphEditorDims.padding.top),"px)")}},a))))},[e]),JV=QV}),gH=b(()=>{I(),Oz(),IM(),$f(),eH=Cm(),tH=S(Af()),Hp(),dT(),bP(),mH(),Tz(),JC(),Pz(),nH={label:{color:"#9a9a9a"}},iH=Vp(mz)(rH||(rH=k([""]))),oH=Vp(vz)(aH||(aH=k(["\n  display: flex;\n  color: ",";\n  padding-right: 12px;\n  align-items: center;\n  justify-content: flex-end;\n  box-sizing: border-box;\n"])),nH.label.color),lH=Vp.button(sH||(sH=k(["\n  background: none;\n  border: none;\n  outline: none;\n  display: flex;\n  box-sizing: border-box;\n  font-size: 14px;\n  align-items: center;\n  height: 100%;\n  margin-left: 12px;\n  color: ",";\n\n  &:not([disabled]):hover {\n    color: white;\n  }\n"])),e=>e.isSelected?XV[e.graphEditorColor].iconColor:qM.offColor),uH=()=>tH.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},tH.default.createElement("g",{transform:"translate(0 100)"},tH.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),dH=Vp.span(cH||(cH=k(["\n  margin-right: 4px;\n  ",";\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),HC,oH),fH=({leaf:e})=>{var t;let n=AM(e.sheetObject.propsP,e.pathToProp),r=e.sheetObject,{controlIndicators:i}=sT(n,r,e.propConf),a=zf(()=>{let t=e.sheetObject.address,n=Iz(e.pathToProp);return(0,eH.val)(T().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.selectedPropsByObject[t.objectKey][n])},[e]),o=(0,tH.useRef)(!1),s="string"==typeof a;o.current=s;let l=(0,tH.useCallback)(()=>{let t=e.sheetObject.address;T().transaction(({stateEditors:n})=>{o.current?n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(v(g({},t),{pathToProp:e.pathToProp})):(n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(v(g({},t),{pathToProp:e.pathToProp})),n.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),u=null!=(t=e.propConf.label)?t:e.pathToProp[e.pathToProp.length-1],c=(0,tH.useRef)(null);return dz(c.current,e),tH.default.createElement(iH,{depth:e.depth},tH.default.createElement(oH,{ref:c,isEven:e.n%2==0,style:{height:e.nodeHeight+"px"},isSelected:!0===s},tH.default.createElement(dH,null,u),i,tH.default.createElement(lH,{onClick:l,isSelected:!0===s,graphEditorColor:null!=a?a:"1",style:{opacity:1},disabled:!1},tH.default.createElement(uH,null))))},hH=fH});function vH(e,t){T().transaction(({stateEditors:n})=>{n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(v(g({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var yH,bH,wH,xH,_H,SH,EH,kH,CH,MH,PH,TH,AH,IH,RH,OH,DH,zH,LH,NH,jH,FH,UH=b(()=>{I()}),BH=b(()=>{yH=S(Af()),Tz(),gH(),UH(),bH=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?"propWithChildren"===e.type?yH.default.createElement(wH,{leaf:e,key:t}):yH.default.createElement(hH,{leaf:e,key:t}):yH.default.createElement(yH.default.Fragment,{key:t})},wH=({leaf:e})=>yH.default.createElement(Mz,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>vH(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(e=>bH(e)))}),VH=b(()=>{xH=S(Af()),Tz(),BH(),UH(),I(),_H=({leaf:e})=>xH.default.createElement(Mz,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{T().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>vH(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(e=>bH(e)))}),HH=b(()=>{$f(),SH=S(Af()),VH(),Tz(),UH(),xA(),EH=({leaf:e})=>zf(()=>SH.default.createElement(Mz,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{vH(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(e=>SH.default.createElement(_H,{key:"sheetObject-"+lA(e.sheetObject),leaf:e}))),[e])}),WH=b(()=>{$f(),kH=Cm(),CH=S(Af()),Hp(),HH(),PH=Vp.div(MH||(MH=k(["\n  position: absolute;\n  left: 0;\n  overflow-x: visible;\n"]))),AH=Vp.ul(TH||(TH=k(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),IH=({layoutP:e})=>zf(()=>{let t=(0,kH.val)(e.tree),n=(0,kH.val)(e.leftDims.width);return CH.default.createElement(PH,{style:{width:n+"px",top:t.top+"px"}},CH.default.createElement(AH,null,CH.default.createElement(EH,{leaf:t})))},[e])}),GH=b(()=>{_y(),gY(),$f(),$m(),RH=S(Af()),Hp(),pH(),DH=Vp.div(OH||(OH=k(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: hidden;\n  background: ",";\n  pointer-events: none;\n"])),()=>ZX.rightBackground,Ym(.01,Gm(.03,ny.panel.bg))),zH=({layoutP:e})=>{let t=Vf(e.rightDims.width),n=Vf(e.panelDims.height);return RH.default.createElement(DH,{style:{width:t+"px"}},RH.default.createElement(WV,{width:t,height:n,layoutP:e}))}}),qH=b(()=>{$f(),LH=S(Af()),Hp(),WH(),GH(),PB(),FL(),jH=Vp.div(NH||(NH=k(["\n  position: absolute;\n  left: 0;\n  right: 0;\n"]))),FH=({layoutP:e})=>{let t=Vf(e.dopeSheetDims.height);return LH.default.createElement(jH,{style:{height:t+"px"}},LH.default.createElement(zH,{layoutP:e}),LH.default.createElement(gL,null,LH.default.createElement(IH,{layoutP:e}),LH.default.createElement(SB,{layoutP:e})))}});var XH,YH=b(()=>{XH=Cm()});function KH(e){return function(t,n){return e(t,n())}}function $H(e){return Object.freeze({audience:ZH(e,8)?"internal":ZH(e,16)?"dev":"public",category:ZH(e,4)?"troubleshooting":ZH(e,2)?"todo":"general",level:ZH(e,512)?512:ZH(e,256)?256:ZH(e,128)?128:64})}function ZH(e,t){return(e&t)===t}function QH(e,t){return(!(32&~t)||(16&~t?!(8&~t)&&e.internal:e.dev))&&e.min<=t}function JH(e=console,t={}){let n=v(g({},oW),{includes:g({},oW.includes)}),r={styled:nW.bind(n,e),noStyle:rW.bind(n,e)},i=tW.bind(n);function a(){return n.loggingConsoleStyle&&n.loggerConsoleStyle?r.styled:r.noStyle}return n.create=a(),{configureLogger(e){var t;"console"===e?(n.loggerConsoleStyle=oW.loggerConsoleStyle,n.create=a()):"console"===e.type?(n.loggerConsoleStyle=null!=(t=e.style)?t:oW.loggerConsoleStyle,n.create=a()):"keyed"===e.type?(n.creatExt=t=>e.keyed(t.names),n.create=i):"named"===e.type&&(n.creatExt=eW.bind(null,e.named),n.create=i)},configureLogging(e){var t,r,i,o,s;n.includes.dev=null!=(t=e.dev)?t:oW.includes.dev,n.includes.internal=null!=(r=e.internal)?r:oW.includes.internal,n.includes.min=null!=(i=e.min)?i:oW.includes.min,n.include=null!=(o=e.include)?o:oW.include,n.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:oW.loggingConsoleStyle,n.create=a()},getLogger:()=>n.create({names:[]})}}function eW(e,t){let n=[];for(let{name:e,key:r}of t.names)n.push(null==r?e:"".concat(e," (").concat(r,")"));return e(n)}function tW(e){let t=g(g({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=QH(t,524),o=QH(t,522),s=QH(t,521),l=QH(t,529),u=QH(t,545),c=QH(t,265),d=QH(t,268),f=QH(t,273),h=QH(t,289),p=QH(t,137),m=QH(t,145),v=QH(t,73),y=QH(t,81),b=a?i.error.bind(i,aW._hmm):n.bind(e,524),w=o?i.error.bind(i,aW._todo):n.bind(e,522),x=s?i.error.bind(i,aW._error):n.bind(e,521),_=l?i.error.bind(i,aW.errorDev):n.bind(e,529),S=u?i.error.bind(i,aW.errorPublic):n.bind(e,545),E=d?i.warn.bind(i,aW._kapow):n.bind(e,268),k=c?i.warn.bind(i,aW._warn):n.bind(e,265),C=f?i.warn.bind(i,aW.warnDev):n.bind(e,273),M=h?i.warn.bind(i,aW.warnPublic):n.bind(e,273),P=p?i.debug.bind(i,aW._debug):n.bind(e,137),T=m?i.debug.bind(i,aW.debugDev):n.bind(e,145),A=v?i.trace.bind(i,aW._trace):n.bind(e,73),I=y?i.trace.bind(i,aW.traceDev):n.bind(e,81),R={_hmm:b,_todo:w,_error:x,errorDev:_,errorPublic:S,_kapow:E,_warn:k,warnDev:C,warnPublic:M,_debug:P,debugDev:T,_trace:A,traceDev:I,lazy:{_hmm:a?KH(b):b,_todo:o?KH(w):w,_error:s?KH(x):x,errorDev:l?KH(_):_,errorPublic:u?KH(S):S,_kapow:d?KH(E):E,_warn:c?KH(k):k,warnDev:f?KH(C):C,warnPublic:h?KH(M):M,_debug:p?KH(P):P,debugDev:m?KH(T):T,_trace:v?KH(A):A,traceDev:y?KH(I):I},named:r,utilFor:{internal:()=>({debug:R._debug,error:R._error,warn:R._warn,trace:R._trace,named:(e,t)=>R.named(e,t).utilFor.internal()}),dev:()=>({debug:R.debugDev,error:R.errorDev,warn:R.warnDev,trace:R.traceDev,named:(e,t)=>R.named(e,t).utilFor.dev()}),public:()=>({error:R.errorPublic,warn:R.warnPublic,debug(e,t){R._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){R._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>R.named(e,t).utilFor.public()})}};return R}function nW(e,t){let n=g(g({},this.includes),this.include(t)),r=[],i="";for(let e=0;e<t.names.length;e++){let{name:n,key:a}=t.names[e];if(i+=" %c".concat(n),r.push(this.style.css(n)),null!=a){let e="%c#".concat(a);i+=e,r.push(this.style.css(e))}}let a=this.filtered,o=this.named.bind(this,t),s=[i,...r];return iW(a,t,n,e,s,function(e){let t=e.slice(0);for(let e=1;e<t.length;e++)t[e]+=";background-color:#e0005a;padding:2px;color:white";return t}(s),o)}function rW(e,t){let n=g(g({},this.includes),this.include(t)),r="";for(let e=0;e<t.names.length;e++){let{name:n,key:i}=t.names[e];r+=" ".concat(n),null!=i&&(r+="#".concat(i))}let i=[r];return iW(this.filtered,t,n,e,i,i,this.named.bind(this,t))}function iW(e,t,n,r,i,a,o){let s=QH(n,524),l=QH(n,522),u=QH(n,521),c=QH(n,529),d=QH(n,545),f=QH(n,265),h=QH(n,268),p=QH(n,273),m=QH(n,289),g=QH(n,137),v=QH(n,145),y=QH(n,73),b=QH(n,81),w=s?r.error.bind(r,...i):e.bind(t,524),x=l?r.error.bind(r,...i):e.bind(t,522),_=u?r.error.bind(r,...i):e.bind(t,521),S=c?r.error.bind(r,...i):e.bind(t,529),E=d?r.error.bind(r,...i):e.bind(t,545),k=h?r.warn.bind(r,...a):e.bind(t,268),C=f?r.warn.bind(r,...i):e.bind(t,265),M=p?r.warn.bind(r,...i):e.bind(t,273),P=m?r.warn.bind(r,...i):e.bind(t,273),T=g?r.info.bind(r,...i):e.bind(t,137),A=v?r.info.bind(r,...i):e.bind(t,145),I=y?r.debug.bind(r,...i):e.bind(t,73),R=b?r.debug.bind(r,...i):e.bind(t,81),O={_hmm:w,_todo:x,_error:_,errorDev:S,errorPublic:E,_kapow:k,_warn:C,warnDev:M,warnPublic:P,_debug:T,debugDev:A,_trace:I,traceDev:R,lazy:{_hmm:s?KH(w):w,_todo:l?KH(x):x,_error:u?KH(_):_,errorDev:c?KH(S):S,errorPublic:d?KH(E):E,_kapow:h?KH(k):k,_warn:f?KH(C):C,warnDev:p?KH(M):M,warnPublic:m?KH(P):P,_debug:g?KH(T):T,debugDev:v?KH(A):A,_trace:y?KH(I):I,traceDev:b?KH(R):R},named:o,utilFor:{internal:()=>({debug:O._debug,error:O._error,warn:O._warn,trace:O._trace,named:(e,t)=>O.named(e,t).utilFor.internal()}),dev:()=>({debug:O.debugDev,error:O.errorDev,warn:O.warnDev,trace:O.traceDev,named:(e,t)=>O.named(e,t).utilFor.dev()}),public:()=>({error:O.errorPublic,warn:O.warnPublic,debug(e,t){O._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){O._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>O.named(e,t).utilFor.public()})}};return O}var aW,oW,sW,lW,uW,cW,dW,fW=b(()=>{aW={_hmm:$H(524),_todo:$H(522),_error:$H(521),errorDev:$H(529),errorPublic:$H(545),_kapow:$H(268),_warn:$H(265),warnDev:$H(273),warnPublic:$H(289),_debug:$H(137),debugDev:$H(145),_trace:$H(73),traceDev:$H(81)},oW={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,r,i;let a=this.cssMemo.get(e);if(a)return a;let o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return null!=(r=this.bold)&&r.test(e)&&(o+=";font-weight:600"),null!=(i=this.italic)&&i.test(e)&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}}}),hW=b(()=>{fW(),fW(),(sW=JH(console,{_debug:function(){},_error:function(){}})).configureLogging({dev:!0,min:64}),lW=sW.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),pW=b(()=>{PP(),uW=Cm(),hW(),Sy(),cW=28,dW=(e,t)=>{var n;uW.prism.ensurePrism();let r=!0,i=vy+cW,a=0,o=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,s=o.byId[MP.forSheet()].isCollapsed,l=null!=(n=(0,uW.pointerToPrism)(s).getValue())&&n,u={type:"sheet",isCollapsed:l,sheet:e,children:[],sheetItemKey:MP.forSheet(),shouldRender:r,top:vy,depth:0,n:a,nodeHeight:cW,heightIncludingChildren:-1};a+=1;for(let t of Object.values((0,uW.val)(e.objectsP)))t&&c(t,u.children,u.depth+1,!l);function c(e,t,n,r){var s;let l=(0,uW.val)(e.template.getMapOfValidSequenceTracks_forStudio()),u=(0,uW.val)(e.template.configPointer);if(0===Object.keys(l).length)return;let c=o.byId[MP.forSheetObject(e)].isCollapsed,f=null!=(s=(0,uW.pointerToPrism)(c).getValue())&&s,h={type:"sheetObject",isCollapsed:f,sheetItemKey:MP.forSheetObject(e),shouldRender:r,top:i,children:[],depth:n,n:a,sheetObject:e,nodeHeight:r?cW:0,heightIncludingChildren:-1};t.push(h),r&&(a+=1,i+=h.nodeHeight),d(e,l,[],u,h.children,n+1,r&&!f),h.heightIncludingChildren=i-h.top}function d(e,t,n,r,i,a,o){for(let[s,l]of Object.entries(t)){f(e,l,[...n,s],r.props[s],i,a,o)}}function f(e,t,n,r,s,l,u){"compound"===r.type?function(e,t,n,r,s,l,u,c){var f;let h=o.byId[MP.forSheetObjectProp(e,r)].isCollapsed,p=null!=(f=(0,uW.pointerToPrism)(h).getValue())&&f,m={type:"propWithChildren",isCollapsed:p,propConf:n,pathToProp:r,sheetItemKey:MP.forSheetObjectProp(e,r),sheetObject:e,shouldRender:c,top:i,children:[],nodeHeight:c?cW:0,heightIncludingChildren:-1,depth:u,trackMapping:t,n:a};l.push(m),c&&(i+=m.nodeHeight,a+=1),d(e,t,r,s,m.children,u+1,c&&!p),m.heightIncludingChildren=i-m.top}(e,t,r,n,r,s,l,u):"enum"===r.type?lW.warn("Prop type enum is not yet supported in the sequence editor"):function(e,t,n,r,o,s,l){let u={type:"primitiveProp",propConf:r,depth:s,sheetItemKey:MP.forSheetObjectProp(e,n),sheetObject:e,pathToProp:n,shouldRender:l,top:i,nodeHeight:l?cW:0,heightIncludingChildren:l?cW:0,trackId:t,n:a};o.push(u),a+=1,i+=u.nodeHeight}(e,t,n,r,s,l,u)}return u.heightIncludingChildren=i-u.top,u}});function mW(e,t){let n=T(),r=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,gW.prism)(()=>{var a;let o=function(e,t,n){return XH.prism.memo(e,()=>(0,XH.prism)(t),n).getValue()}("tree",()=>dW(e,n),[]),s=(0,gW.val)(t),l=(0,gW.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),u=(0,gW.val)(i.sequenceEditor.selectedPropsByObject),c=!!u&&Object.keys(u).length>0,{leftDims:d,rightDims:f,graphEditorDims:h,dopeSheetDims:p,horizontalScrollbarDims:m}=gW.prism.memo("leftDims",()=>{var e;let t={width:Math.floor(s.width*vW),height:s.height,screenX:s.screenX,screenY:s.screenY},n={width:s.width-t.width,height:s.height,screenX:s.screenX+t.width,screenY:s.screenY},r=c&&!0===(null==l?void 0:l.isOpen),i=Math.floor((r?ds(null!=(e=null==l?void 0:l.height)?e:.5,.1,.7):0)*s.heightWithoutBorder),a=0+i,o=s.height-a,u={width:s.width,height:o,screenX:s.screenX,screenY:s.screenY};return{leftDims:t,rightDims:n,graphEditorDims:{isAvailable:c,isOpen:r,width:n.width,height:i,screenX:s.screenX,screenY:s.screenY+o,padding:{top:20,bottom:20}},dopeSheetDims:u,horizontalScrollbarDims:{bottom:0}}},[s,l,c]),y=gW.prism.memo("graphEditorVerticalSpace",()=>{let e=h.height-h.padding.top-h.padding.bottom;return{space:e,fromExtremumSpace:t=>t*e,toExtremumSpace:t=>t/e}},[h]),[b,w]=gW.prism.state("isSeeking",!1),x={isSeeking:b,setIsSeeking:w},_=null!=(a=(0,gW.val)(r.sequence.clippedSpaceRange))?a:yW,S=gW.prism.memo("scaledSpace",()=>{let e=_.end-_.start,t=f.width,n=e/t,r=t/e;return{fromUnitSpace:e=>e*r,toUnitSpace:e=>e*n,leftPadding:10}},[_,f.width]),E=gW.prism.memo("setClippedSpaceRange",()=>function(t){n.transaction(({stateEditors:n})=>{let r=g({},t);if(r.end<=r.start&&(r.end=r.start+1),r.start<0){let e=r.end-r.start;r.start=0,r.end=e}n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(v(g({},e.address),{range:r}))})},[]),k=gW.prism.memo("clippedSpace",()=>({range:_,width:f.width,fromUnitSpace:e=>S.fromUnitSpace(e-_.start)+S.leftPadding,toUnitSpace:e=>S.toUnitSpace(e-S.leftPadding)+_.start,setRange:E}),[_,f.width,S,E]),C=gW.prism.memo("selection.current",()=>new gW.Atom({}),[]);return ez("finalAtom",{sheet:e,tree:o,panelDims:s,leftDims:d,rightDims:f,dopeSheetDims:p,horizontalScrollbarDims:m,seeker:x,unitSpace:{},scaledSpace:S,clippedSpace:k,graphEditorDims:h,graphEditorVerticalSpace:y,selectionAtom:C}).pointer})}var gW,vW,yW,bW=b(()=>{I(),YH(),cz(),gW=Cm(),pW(),Mf(),vW=.2,yW={start:0,end:10}});function wW(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:n,snapToGrid:r,unitSpaceToClippedSpace:i}=e,a="";IV(e,(e,t)=>{let o=r(e),s=i(o);a+=t?xW(n.formatFullUnitForGrid(o),s,"full-unit"):xW(n.formatSubUnitForGrid(o),s,"sub-unit")}),t.innerHTML=a}function xW(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var _W,SW,EW,kW,CW,MW,PW,TW,AW,IW,RW,OW=b(()=>{_W=Cm(),$m(),SW=S(Af()),Hp(),OV(),I(),kW=Vp.div(EW||(EW=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),CW={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return Gm(.2,CW.fullUnitStampColor)}},PW=Vp.div(MW||(MW=k(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n"]))),AW=Vp.div(TW||(TW=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  & > span {\n    position: absolute;\n    display: block;\n    top: 9px;\n    left: -10px;\n    color: ",";\n    text-align: center;\n    font-size: ",";\n    width: 20px;\n\n    &.full-unit {\n      color: ",";\n    }\n\n    &.sub-unit {\n      color: ",";\n    }\n  }\n\n  pointer-events: none;\n"])),CW.fullUnitStampColor,CW.stampFontSize,CW.fullUnitStampColor,CW.subUnitStampColor),IW=({layoutP:e,width:t})=>{let n=(0,SW.useRef)(null),[r,i]=(0,SW.useState)(null);return(0,SW.useLayoutEffect)(()=>{if(r)return(0,_W.prism)(()=>{let t=(0,_W.val)(e.sheet).getSequence();return{fullSecondStampsContainer:r,clippedSpaceRange:(0,_W.val)(e.clippedSpace.range),clippedSpaceWidth:(0,_W.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,_W.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,_W.val)(e.scaledSpace.leftPadding),fps:t.subUnitsPerUnit,sequencePositionFormatter:t.positionFormatter,snapToGrid:e=>t.closestGridPosition(e)}}).onChange(T().ticker,wW,!0)},[r,t,e]),SW.default.createElement(kW,{ref:n,style:{width:t+"px"}},SW.default.createElement(PW,{style:{width:t+"px"}},SW.default.createElement(AW,{ref:i})))},RW=IW});var DW,zW=b(()=>{DW=S(Af())});var LW,NW,jW,FW,UW,BW,VW,HW,WW,GW,qW,XW,YW,KW,$W,ZW,QW,JW=b(()=>{LW=Cm(),$f(),_y(),I(),SG(),kM(),bx(),Zv(),NW=S(Af()),Hp(),HL(),jW={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},UW=Vp.div(FW||(FW=k(["\n  position: absolute;\n  height: ","px;\n  background-color: ",";\n  cursor: grab;\n  top: 0;\n  left: 0;\n  width: ","px;\n  transform-origin: left top;\n  &:hover {\n    background-color: ",";\n  }\n  &.dragging {\n    background-color: ",";\n    cursor: grabbing !important;\n  }\n  ",";\n\n  /* covers the one pixel space between the focus range strip and the top strip\n  of the sequence editor panel, which would have caused that one pixel to act\n  like a panel drag zone */\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    bottom: -1px;\n    height: 1px;\n    left: 0;\n    right: 0;\n    background: transparent;\n    pointer-events: normal;\n    z-index: -1;\n  }\n"])),()=>lG-1,e=>e.enabled?jW.enabled.backgroundColor:jW.disabled.backgroundColor,1e3,jW.hover.backgroundColor,jW.dragging.backgroundColor,ty),BW=({layoutP:e})=>{let t=(0,NW.useMemo)(()=>(0,LW.prism)(()=>{let{projectId:t,sheetId:n}=(0,LW.val)(e.sheet).address;return(0,LW.val)(T().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange)}),[e]),[n,r]=Kv(null),[i]=_M(r,{menuItems:()=>{let n=(0,LW.val)(e.sheet),r=t.getValue();return[{label:"Delete focus range",callback:()=>{T().tempTransaction(({stateEditors:e})=>{e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(g({},n.address))}).commit()}},{label:null!=r&&r.enabled?"Disable focus range":"Enable focus range",callback:()=>{void 0!==r&&T().tempTransaction(({stateEditors:e})=>{e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(v(g({},n.address),{range:r.range,enabled:!r.enabled}))}).commit()}}]}}),a=Vf(e.scaledSpace.toUnitSpace),o=Vf(e.sheet),s=(0,NW.useMemo)(()=>{let n,r;return{debugName:"FocusRangeStrip",onDragStart(i){let s,l=t.getValue();if(!l)return!1;let u=l.range.start,c=l.range.end,d=!1,f=(0,LW.val)(e.sheet).getSequence();return{onDrag(e){if(l=t.getValue(),l){d=!0;let t=a(e),i=u+t,h=c+t;h<i&&(h=i),[n,r]=function(e,t){let n=0,[r,i]=e,[a,o]=t;return i-r>o-a?[a,o]:(r<a&&(n=0-r),i>o&&(n=o-i),[r+n,i+n])}([i,h],[0,f.length]).map(e=>f.closestGridPosition(e)),s&&s.discard(),s=T().tempTransaction(({stateEditors:e})=>{var t;e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(v(g({},o.address),{range:{start:n,end:r},enabled:null==(t=null==l?void 0:l.enabled)||t}))})}},onDragEnd(){l&&(d&&void 0!==s?s.commit():s&&s.discard())}}},lockCSSCursorTo:"grabbing"}},[o,a]),[l]=mx(r,s);return TL(l,-1),zf(()=>{let r,a,o=t.getValue(),s=(null==o?void 0:o.range)||{start:0,end:0},u=(0,LW.val)(e.clippedSpace.fromUnitSpace)(s.start),c=(0,LW.val)(e.clippedSpace.fromUnitSpace)(s.end);return u<0&&(u=0),c>(0,LW.val)(e.clippedSpace.width)&&(c=(0,LW.val)(e.clippedSpace.width)),u>c?(a=0,r=0):(a=u,r=(c-u)/1e3),o?NW.default.createElement(NW.default.Fragment,null,i,NW.default.createElement(UW,{id:"range-strip",enabled:o.enabled,className:"".concat(l?"dragging":""," ").concat(o.enabled?"enabled":""),ref:n,style:{transform:"translateX(".concat(a,"px) scale(").concat(r,", 1)")}})):NW.default.createElement(NW.default.Fragment,null)},[e,n,t,i,l])},VW=BW}),eG=b(()=>{HW=Cm(),$f(),I(),SG(),tx(),bx(),Zv(),WW=S(Af()),Hp(),HL(),JW(),Xz(),qW=Vp.div(GW||(GW=k(["\n  position: absolute;\n  top: 0;\n  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side\n  left: ","px;\n  transform-origin: left top;\n  width: ","px;\n  height: ","px;\n  z-index: 3;\n\n  --bg: ",";\n\n  stroke: ",";\n  user-select: none;\n\n  cursor: ",";\n\n  // no pointer events unless pointer-root is in normal mode _and_ the\n  // focus range is enabled\n  #pointer-root & {\n    pointer-events: none;\n  }\n\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.dragging {\n    pointer-events: none !important;\n  }\n\n  // highlight the handle if it's hovered, or the whole strip is hovverd\n  ",":hover ~ &, &:hover {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  // highlight the handle when it's being dragged or the whole strip is being dragged.\n  // using dragging.dragging to give this selector priority, as it seems to be overridden\n  // by the hover selector above\n  &.dragging,\n  ",".dragging.dragging ~ & {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor &:hover {\n    --bg: ",";\n    stroke: #40aaa4;\n  }\n\n  background-color: var(--bg);\n\n  // a larger hit zone\n  &:before {\n    display: block;\n    content: ' ';\n    position: absolute;\n    inset: -8px;\n  }\n"])),e=>"start"===e.type?0:-jW.thumbWidth,jW.thumbWidth,()=>lG-1,({enabled:e})=>e?jW.enabled.backgroundColor:jW.disabled.backgroundColor,jW.enabled.stroke,e=>"start"===e.type?"w-resize":"e-resize",Gw,()=>UW,jW.hover.backgroundColor,jW.hover.stroke,()=>UW,jW.dragging.backgroundColor,jW.dragging.stroke,jW.dragging.backgroundColor),YW=Vp.div(XW||(XW=k(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    var(--bg) 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),e=>"start"===e.type?90:-90,e=>"start"===e.type?jW.thumbWidth:1-jW.thumbWidth),$W=Vp.div(KW||(KW=k(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    "," 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),e=>"start"===e.type?-90:90,()=>uG.backgroundColor,e=>"start"===e.type?-12:jW.thumbWidth),ZW=({layoutP:e,thumbType:t})=>{var n;let[r,i]=Kv(null),a=(0,WW.useMemo)(()=>(0,HW.prism)(()=>{let{projectId:t,sheetId:n}=(0,HW.val)(e.sheet).address;return(0,HW.val)(T().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange)}),[e]),o=(0,WW.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let n,r,o=(0,HW.val)(e.sheet),s={start:0,end:o.getSequence().length},l=a.getValue()||{range:s,enabled:!1},u=l.enabled,c=l.range[t],d=(0,HW.val)(e.scaledSpace.toUnitSpace),f=d(jW.rangeStripMinWidth);return{onDrag(e,l,h){var p;let m,y=Gz.checkIfMouseEventSnapToPos(h,{ignore:i});if(null==y){let t=d(e);m=c+t}else m=y;r=(null==(p=a.getValue())?void 0:p.range)||s,m="start"===t?Math.max(Math.min(m,r.end-f),0):Math.min(Math.max(m,r.start+f),o.getSequence().length);let b=o.getSequence().closestGridPosition(m);void 0!==n&&n.discard(),n=T().tempTransaction(({stateEditors:e})=>{e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(v(g({},o.address),{range:v(g({},r),{[t]:b}),enabled:u}))})},onDragEnd(e){e?null==n||n.commit():null==n||n.discard()}}}}),[e]),[s]=mx(i,o);Qw(s,"draggingPositionInSequenceEditor","start"===t?"w-resize":"e-resize");let l=Vf(a);return TL(s,null!=(n=null==l?void 0:l.range[t])?n:0),zf(()=>{let n=a.getValue();if(!n)return null;let{enabled:i}=n,o=n.range[t],l=(0,HW.val)(e.clippedSpace.fromUnitSpace)(o);return(l<0||(0,HW.val)(e.clippedSpace.width)<l)&&(l=-1e4),WW.default.createElement(qW,v(g(g({ref:r},Gz.includePositionSnapAttrs(o)),AL(o)),{className:"".concat(s&&"dragging"," ").concat(i&&"enabled"),enabled:i,type:t,style:{transform:"translate3d(".concat(l,"px, 0, 0)")}}),WW.default.createElement(YW,{type:t,enabled:i}),WW.default.createElement($W,{type:t}),WW.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},WW.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),WW.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,r,a,s])},QW=ZW});var tG,nG,rG,iG,aG,oG,sG,lG,uG,cG,dG,fG,hG,pG,mG,gG,vG,yG,bG,wG,xG,_G=b(()=>{tG=Cm(),$f(),I(),rz(),SG(),tx(),bx(),zW(),jz(),Zv(),Mf(),nG=S(Af()),Hp(),JW(),eG(),Sy(),iG=Vp.div(rG||(rG=k(["\n  position: absolute;\n  height: ",'px;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */\n  cursor: ',";\n"])),()=>lG,e=>e.isShiftDown?"ew-resize":"move"),aG=({layoutP:e})=>{let[t,n]=Kv(null),r=BO(),i=(0,nG.useRef)(r);i.current=r;let a=(0,nG.useMemo)(()=>(0,tG.prism)(()=>{let{projectId:t,sheetId:n}=(0,tG.val)(e.sheet).address;return(0,tG.val)(T().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange)}),[e]);mx(n,function(e,t){let[n,r]=(0,nG.useState)("none");return Qw("none"!==n,"dragging","creating"===n?"ew-resize":"move"),(0,nG.useMemo)(()=>({debugName:"FocusRangeZone",onDragStart(n){let[i,a]=n.shiftKey?["creating",{debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(t){let n,r=(0,tG.val)(e.clippedSpace.toUnitSpace),i=(0,tG.val)(e.scaledSpace.toUnitSpace),a=(0,tG.val)(e.sheet),o=a.getSequence(),s=t.target.getBoundingClientRect(),l=r(t.clientX-s.left),u=i(jW.rangeStripMinWidth);return{onDrag(e){let t=i(e),r=l,s=l+t;[r,s]=[ds(r,0,o.length),ds(s,0,o.length)].map(e=>o.closestGridPosition(e)),s<r?[r,s]=[Math.max(Math.min(s,r-u),0),r]:e>0&&(s=Math.min(Math.max(s,r+u),o.length)),n&&n.discard(),n=T().tempTransaction(({stateEditors:e})=>{e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(v(g({},a.address),{range:{start:r,end:s},enabled:!0}))})},onDragEnd(e){e&&void 0!==n?n.commit():n&&n.discard()}}},lockCSSCursorTo:"ew-resize"}.onDragStart(n)]:["moving-panel",{debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let e,n=t.current,r=t.current.addBoundsHighlightLock();return{onDrag(t,r){let i=v(g({},n.dims),{top:ds(n.dims.top+r,0,window.innerHeight-wy),left:ds(n.dims.left+t,-n.dims.width+wy,window.innerWidth-wy)}),a=FO(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=T().tempTransaction(({stateEditors:e})=>{e.studio.historic.panelPositions.setPanelPosition({position:a,panelId:n.panelId})})},onDragEnd(t){r(),t?null==e||e.commit():null==e||e.discard()}}},lockCSSCursorTo:"move"}.onDragStart(n)];return r(i),!1!==a&&{onDrag(e,t,n,r,i){a.onDrag(e,t,n,r,i)},onDragEnd(e){var t;r("none"),null==(t=a.onDragEnd)||t.call(a,e)}}}}),[e,t])}(e,i));let o=Lz("Shift"),s=function(e){let[t,n]=(0,DW.useState)(!1);return(0,DW.useEffect)(()=>{if(n(!1),!e)return;let t=t=>{t.target===e?n(!0):n(!1)},r=()=>{n(!1)};return e.addEventListener("mouseenter",t),e.addEventListener("mousemove",t),e.addEventListener("mouseleave",r),()=>{n(!1),e.removeEventListener("mouseenter",t),e.removeEventListener("mousemove",t),e.removeEventListener("mouseleave",r)}},[e]),t}(n);return(0,nG.useEffect)(()=>{if(!o&&s)return i.current.addBoundsHighlightLock()},[!o&&s]),zf(()=>nG.default.createElement(iG,{ref:t,isShiftDown:o},nG.default.createElement(VW,{layoutP:e}),nG.default.createElement(QW,{thumbType:"start",layoutP:e}),nG.default.createElement(QW,{thumbType:"end",layoutP:e})),[e,a,o])},oG=aG}),SG=b(()=>{$f(),sG=S(Af()),Hp(),OW(),HL(),_y(),_G(),lG=18,uG={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},dG=Vp.div(cG||(cG=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: ","px;\n  box-sizing: border-box;\n  background: ",";\n  border-bottom: 1px solid ",";\n  ",";\n"])),lG,uG.backgroundColor,uG.borderColor,ty),fG=({layoutP:e})=>{let t=Vf(e.rightDims.width);return sG.default.createElement(sG.default.Fragment,null,sG.default.createElement(dG,g({},AL("hide")),sG.default.createElement(RW,{layoutP:e,width:t,height:lG}),sG.default.createElement(oG,{layoutP:e})))}}),EG=b(()=>{hG=S(Af()),Hp(),$f(),I(),Dx(),JC(),pG=e=>isFinite(e)&&e>0,gG=Vp.div(mG||(mG=k(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),yG=Vp.div(vG||(vG=k(["\n  ",";\n  white-space: nowrap;\n"])),HC),bG=({deltaX:e})=>.25*e,wG=({layoutP:e})=>{let t=Vf(e.sheet),n=(0,hG.useMemo)(()=>{let e;return{temporarilySetValue(n){e&&(e.discard(),e=void 0),e=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.setLength(v(g({},t.address),{length:n}))})},discardTemporaryValue(){e&&(e.discard(),e=void 0)},permanentlySetValue(n){e&&(e.discard(),e=void 0),T().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.setLength(v(g({},t.address),{length:n}))})}}},[e,t]),r=(0,hG.useRef)(null);return(0,hG.useLayoutEffect)(()=>{r.current.focus()},[]),zf(()=>{let e=t.getSequence().length;return hG.default.createElement(gG,null,hG.default.createElement(yG,null,"Sequence length"),hG.default.createElement(Ox,v(g({value:e},n),{isValid:pG,inputRef:r,nudge:bG})))},[t,n,r])},xG=wG});var kG,CG,MG,PG,TG,AG,IG,RG,OG,DG,zG,LG,NG,jG,FG,UG,BG,VG,HG,WG,GG,qG,XG,YG,KG,$G,ZG,QG,JG,eq,tq,nq,rq,iq,aq,oq,sq,lq,uq,cq,dq,fq,hq,pq,mq,gq,vq,yq,bq,wq,xq,_q,Sq,Eq,kq,Cq,Mq,Pq,Tq,Aq,Iq=b(()=>{$f(),kG=Cm(),CG=S(Af()),Hp(),gY(),SG(),Zv(),bx(),I(),Lk(),HL(),z_(),EG(),_y(),jk(),MG={stripNormal:"#0000006c",stripActive:"#000000"},TG=Vp.div(PG||(PG=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  z-index: ",";\n  pointer-events: none;\n\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    /* top: ","px; */\n    top: 0;\n    bottom: 0;\n    left: -1px;\n    width: 1px;\n    background-color: ",";\n  }\n\n  &:hover:after,\n  &.dragging:after {\n    background-color: ",";\n  }\n"])),()=>ZX.lengthIndicatorStrip,lG,MG.stripNormal,MG.stripActive),IG=Vp.div(AG||(AG=k(["\n  position: absolute;\n  top: ","px;\n  width: 100px;\n  left: -50px;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n"])),lG-15),OG=Vp.div(RG||(RG=k(["\n  margin-top: 8px;\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 2px 8px;\n  border-radius: 2px;\n  ",";\n  cursor: ew-resize;\n  color: #464646;\n  background-color: #0000004d;\n  display: none;\n\n  ",":hover &, ",".dragging & {\n    display: block;\n    color: white;\n    background-color: ",";\n  }\n"])),ty,TG,TG,MG.stripActive),zG=Vp.div(DG||(DG=k(["\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 1px 2px;\n  border-radius: 2px;\n  ",";\n  justify-content: center;\n  align-items: center;\n  cursor: ew-resize;\n  color: #5d5d5d;\n  background-color: #191919;\n\n  ",":hover &, ",".dragging & {\n    color: white;\n    background-color: ",";\n\n    & > svg:first-child {\n      margin-right: -1px;\n    }\n  }\n\n  & > svg:first-child {\n    margin-right: -4px;\n  }\n"])),ty,TG,TG,MG.stripActive),NG=Vp.div(LG||(LG=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgb(23 23 23 / 43%);\n  width: ","px;\n  z-index: ",";\n  transform-origin: left top;\n\n  ",".dragging ~ &, ",":hover ~ & {\n    background-color: rgb(23 23 23 / 60%);\n  }\n"])),1e3,()=>ZX.lengthIndicatorCover,TG,TG),jG=({layoutP:e})=>{let[t,n]=Kv(null),[r]=function(e,t){let n=(0,CG.useRef)(t);n.current=t;let r=(0,CG.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(e){let t,r=n.current,i=(0,kG.val)(n.current.layoutP.sheet),a=i.getSequence().length,o=(0,kG.val)(r.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,n,r){let s=o(e);t&&(t.discard(),t=void 0),t=T().tempTransaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.setLength(v(g({},i.address),{length:a+s}))})},onDragEnd(e){e?t&&t.commit():t&&t.discard()}}}}),[]),[i]=mx(e,r);return TL(i,-1),[i]}(n,{layoutP:e}),{node:i,toggle:a,close:o}=hk({debugName:"LengthIndicator"},()=>CG.default.createElement(zk,null,CG.default.createElement(xG,{layoutP:e,onRequestClose:o})));return zf(()=>{let o,s,l=(0,kG.val)(e.sheet),u=(0,kG.val)(e.rightDims.height),c=l.getSequence(),d=c.length,f=d,h=(0,kG.val)(e.clippedSpace.fromUnitSpace)(f),p=(0,kG.val)(e.clippedSpace.width);return h>p?(s=0,o=0):(h<0&&(h=0),s=h,o=(p-h)/1e3),CG.default.createElement(CG.default.Fragment,null,i,CG.default.createElement(TG,{style:{height:u+"px",transform:"translateX(".concat(0===s?-1e4:s,"px)")},className:r?"dragging":""},CG.default.createElement(IG,null,CG.default.createElement(zG,g({ref:t,onClick:e=>{a(e,n)}},AL("hide")),CG.default.createElement(p_,null),CG.default.createElement(m_,null)),CG.default.createElement(OG,null,"Sequence length:"," ",c.positionFormatter.formatBasic(d)))),CG.default.createElement(NG,{title:"Length",style:{height:u+"px",transform:"translateX(".concat(s,"px) scale(").concat(o,", 1)")}}))},[e,t,r,i])},FG=jG}),Rq=b(()=>{$f(),UG=Cm(),BG=S(Af()),Hp(),OW(),gY(),SG(),HL(),HG=Vp.div(VG||(VG=k(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin-top: 0px;\n"]))),GG=Vp.div(WG||(WG=k(["\n  position: absolute;\n  top: 16px;\n  font-size: ",";\n  color: ",";\n  text-align: center;\n  transform: translateX(-50%);\n  background: ",";\n  padding: 1px 8px;\n  font-variant-numeric: tabular-nums;\n  pointer-events: none;\n  z-index: ",";\n"])),CW.stampFontSize,CW.fullUnitStampColor,uG.backgroundColor,()=>ZX.currentFrameStamp),XG=Vp.div(qG||(qG=k(["\n  position: absolute;\n  top: 5px;\n  left: -0px;\n  bottom: 0;\n  width: 0.5px;\n  background: rgba(100, 100, 100, 0.2);\n  pointer-events: none;\n"]))),YG=BG.default.memo(({layoutP:e})=>{let[t,n]=Vf(ML()),r=Vf(e.clippedSpace.fromUnitSpace),{sequence:i,formatter:a,clippedSpaceWidth:o}=zf(()=>{let t=(0,UG.val)(e.sheet).getSequence(),n=(0,UG.val)(e.clippedSpace.width);return{sequence:t,formatter:t.positionFormatter,clippedSpaceWidth:n}},[e]);if(-1==t)return BG.default.createElement(BG.default.Fragment,null);let s=3===n?i.closestGridPosition(t):t,l=r(s),u=l>=0&&l<=o;return BG.default.createElement(BG.default.Fragment,null,BG.default.createElement(HG,null,BG.default.createElement(GG,{style:{opacity:u?1:0,transform:"translate3d(calc(".concat(l,"px - 50%), 0, 0)")}},a.formatForPlayhead(s)),BG.default.createElement(XG,{posType:n,style:{opacity:u?1:0,transform:"translate3d(".concat(l,"px, 0, 0)")}}))," ")}),KG=YG}),Oq=b(()=>{$f(),$G=Cm(),Ad(),$m(),ZG=S(Af()),Hp(),gY(),HL(),_y(),bx(),JG=Vp.div(QG||(QG=k(["\n  --threadHeight: 6px;\n  --bg-inactive: #32353b;\n  --bg-active: #5b5c5d;\n  position: absolute;\n  height: 0;\n  width: 100%;\n  left: 12px;\n  /* bottom: 8px; */\n  z-index: ",";\n  ","\n"])),()=>ZX.horizontalScrollbar,ty),tq=Vp.div(eq||(eq=k(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--threadHeight);\n"]))),rq=Vp.div(nq||(nq=k(["\n  position: absolute;\n  height: 5px;\n  background: var(--bg-inactive);\n  cursor: ew-resize;\n  z-index: 2;\n\n  &:hover,\n  &:active {\n    background: var(--bg-active);\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),Mm("absolute","-4px")),aq=Vp.div(iq||(iq=k(["\n  position: absolute;\n  height: 5px;\n  width: 7px;\n  left: 0;\n  z-index: 2;\n  top: 0;\n  bottom: 0;\n  display: block;\n\n  &:hover:before {\n    background: var(--bg-active);\n  }\n\n  &:before {\n    ",";\n    display: block;\n    content: ' ';\n    background: var(--bg-inactive);\n    border-radius: 0 2px 2px 0;\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),Mm("absolute","0"),Mm("absolute","-4px")),sq=Vp(aq)(oq||(oq=k(["\n  left: calc(-1 * 7px);\n  cursor: w-resize;\n  &:before {\n    transform: scaleX(-1);\n  }\n"]))),uq=Vp(aq)(lq||(lq=k(["\n  cursor: e-resize;\n  left: 0px;\n"]))),dq=Vp.div(cq||(cq=k(["\n  display: ",";\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 4px;\n  transform: translateX(-50%);\n  background: #131d1f;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n\n  ",":hover &,\n  ",":hover &,\n  ",":hover ~ "," &,\n  ",":hover ~ "," & {\n    display: block;\n  }\n"])),e=>e.active?"block":"none",sq,uq,rq,sq,rq,uq),fq=({layoutP:e})=>{let t=(0,ZG.useCallback)(e=>e.toFixed(2),[]),n=(0,ZG.useMemo)(()=>(0,$G.prism)(()=>{let t=(0,$G.val)(e.rightDims.width)-25,n=(0,$G.val)(e.clippedSpace.range),r=(0,$G.val)(e.sheet).getSequence().length,i=Math.max(n.end,r);return{rightWidth:t,clippedSpaceRange:n,sequenceLength:r,assumedLengthOfSequence:i,rangeStartX:n.start/i*t,rangeEndX:n.end/i*t,bottom:(0,$G.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:r,rangeEndX:i,clippedSpaceRange:a,bottom:o}=Vf(n),[s,l]=(0,ZG.useState)("nothing"),u=(0,ZG.useMemo)(()=>{let t=(0,$G.val)(n),r=()=>{t=(0,$G.val)(n)},i=e=>e/t.rightWidth*t.assumedLengthOfSequence;return{onRangeDragStart:()=>(r(),{onDrag(n){l("both");let r=i(n),a=Td(t.clippedSpaceRange,e=>e+r);(0,$G.val)(e.clippedSpace.setRange)(a)},onDragEnd(){l("nothing")}}),onRangeStartDragStart:()=>(r(),{onDrag(n){l("start");let r=i(n),a={start:t.clippedSpaceRange.start+r,end:t.clippedSpaceRange.end};a.start>a.end-1&&(a.start=a.end-1),a.start<=0&&(a.start=0),(0,$G.val)(e.clippedSpace.setRange)(a)},onDragEnd(){l("nothing")}}),onRangeEndDragStart:()=>(r(),{onDrag(n){l("end");let r=i(n),a={start:t.clippedSpaceRange.start,end:t.clippedSpaceRange.end+r};a.end<a.start+1&&(a.end=a.start+1),a.end>=t.assumedLengthOfSequence&&(a.end=t.assumedLengthOfSequence),(0,$G.val)(e.clippedSpace.setRange)(a)},onDragEnd(){l("nothing")}})}},[e,n]),[c,d]=(0,ZG.useState)(null);mx(c,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:u.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[f,h]=(0,ZG.useState)(null);mx(f,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:u.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[p,m]=(0,ZG.useState)(null);return mx(p,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:u.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),ZG.default.createElement(JG,g({style:{bottom:o+8+"px"}},AL("hide")),ZG.default.createElement(tq,null,ZG.default.createElement(rq,{ref:d,style:{width:"".concat(i-r,"px"),transform:"translate3d(".concat(r,"px, 0, 0)")}}),ZG.default.createElement(sq,{ref:h,style:{transform:"translate3d(".concat(r,"px, 0, 0)")}},ZG.default.createElement(dq,{active:"both"===s||"start"===s},t(a.start))),ZG.default.createElement(uq,{ref:m,style:{transform:"translate3d(".concat(i,"px, 0, 0)")}},ZG.default.createElement(dq,{active:"both"===s||"end"===s},t(a.end)))))},hq=fq}),Dq=b(()=>{pq=S(Af()),Hp(),gq=Vp.div(mq||(mq=k(["\n  position: absolute;\n  inset: ","px;\n"])),e=>-1*e.room),vq=e=>pq.default.createElement(gq,{room:e.room})}),zq=b(()=>{Hp(),$f(),Dx(),JC(),yq=S(Af()),bq=S(Af()),wq=Cm(),fs(),xq=e=>isFinite(e)&&e>=0,Sq=Vp.div(_q||(_q=k(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),kq=Vp.div(Eq||(Eq=k(["\n  ",";\n  white-space: nowrap;\n"])),HC),Cq=({deltaX:e})=>.25*e,Mq=({layoutP:e,onRequestClose:t})=>{let n=(0,wq.val)(e.sheet),r=n.getSequence(),i=(0,yq.useMemo)(()=>{let e,n=r.position;return{temporarilySetValue(t){e&&(e=void 0),e=ds(t,0,r.length),r.position=e},discardTemporaryValue(){e&&(e=void 0,r.position=n,t("discardTemporaryValue"))},permanentlySetValue(n){e&&(e=void 0),r.position=ds(n,0,r.length),t("permanentlySetValue")}}},[e,r]),a=(0,yq.useRef)(null);return(0,yq.useLayoutEffect)(()=>{a.current.focus()},[]),zf(()=>{let e=n.getSequence(),t=Number((0,wq.val)(e.pointer.position).toFixed(3));return bq.default.createElement(Sq,null,bq.default.createElement(kq,null,"Sequence position"),bq.default.createElement(Ox,v(g({value:t},i),{isValid:xq,inputRef:a,nudge:Cq})))},[n,i,a])},Pq=Mq}),Lq=b(()=>{Tq="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),Nq=b(()=>{Lq(),Aq=e=>Tq?!0===e.metaKey:!0===e.ctrlKey});function jq(){let e=T();(0,Fq.useEffect)(()=>{let t=t=>{let n=t.composedPath()[0];if(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName){if("z"===t.key||"Z"===t.key||"KeyZ"===t.code){if(!Aq(t))return;!0===t.shiftKey?e.redo():e.undo()}else if("Space"!==t.code||t.shiftKey||t.metaKey||t.altKey||t.ctrlKey){if(!t.altKey||"\\"!==t.key&&"Backslash"!==t.code&&"IntlBackslash"!==t.code)return;e.transaction(({stateEditors:e,drafts:t})=>{e.studio.ahistoric.setVisibilityState("everythingIsHidden"===t.ahistoric.visibilityState?"everythingIsVisible":"everythingIsHidden")})}else{if(!Bq)return;let e=function(){let e=kf(xb().filter(e=>j(e)||U(e)).map(e=>U(e)?e.sheet:e))[0];if(e)return e.getSequence()}();if(!e)return;if(e.playing)e.pause();else{let{projectId:t,sheetId:n}=e.address,r=(0,Uq.prism)(()=>{let r=(0,Uq.val)(T().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange);return Uq.prism.memo("shouldFollowFocusRange",()=>{let t=e.position;if(r){let e=t>=r.range.start&&t<=r.range.end;return!r.enabled||!!e}return!0},[])&&r&&r.enabled?{range:[r.range.start,r.range.end],isFollowingARange:!0}:{range:[0,(0,Uq.val)(e.pointer.length)],isFollowingARange:!1}}),i=e.playDynamicRange((0,Uq.prism)(()=>(0,Uq.val)(r).range),T().ticker),a=Vq(e);i.finally(()=>{a.set(void 0)}),a.set(r)}}t.preventDefault(),t.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var Fq,Uq,Bq,Vq,Hq,Wq=b(()=>{Fq=S(Af()),I(),Nq(),kb(),Uq=Cm(),zC(),Bq=!0,Vq=DC(e=>new Uq.Atom(void 0)),Hq=DC(e=>(0,Uq.prism)(()=>{let t=Vq(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:t,sheetId:n}=e.address,r=(0,Uq.val)(T().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange);if(!r||!r.enabled)return!1;let i=(0,Uq.val)(e.pointer.position);return i>=r.range.start&&i<=r.range.end}}))});var Gq,qq,Xq,Yq,Kq,$q,Zq,Qq,Jq,eX,tX,nX,rX,iX,aX,oX,sX,lX,uX,cX,dX,fX,hX,pX,mX,gX,vX,yX=b(()=>{Dq(),bx(),Zv(),$f(),Gq=Cm(),fs(),qq=S(Af()),Hp(),gY(),HL(),_y(),Lk(),jk(),zq(),Wq(),tx(),kM(),I(),PP(),Xz(),aN(),Yq=Vp.div(Xq||(Xq=k(["\n  --thumbColor: #00e0ff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 5px;\n  height: 100%;\n  z-index: ",";\n  pointer-events: none;\n\n  display: ",";\n"])),()=>ZX.playhead,e=>e.isVisible?"block":"none"),$q=Vp.div(Kq||(Kq=k(["\n  position: absolute;\n  top: 8px;\n  width: 0;\n  height: calc(100% - 8px);\n  border-left: 1px solid #27e0fd;\n  z-index: 10;\n  pointer-events: none;\n\n  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {\n    /* pointer-events: auto; */\n    /* cursor: var(","); */\n\n    &:after {\n      position: absolute;\n      inset: -8px;\n      display: block;\n      content: ' ';\n    }\n  }\n"])),Gw),Qq=Vp.div(Zq||(Zq=k(["\n  background-color: var(--thumbColor);\n  position: absolute;\n  width: 5px;\n  height: 13px;\n  top: -4px;\n  left: -2px;\n  z-index: 11;\n  cursor: ew-resize;\n  --sunblock-color: #1f2b2b;\n\n  ",";\n\n  ",".seeking > & {\n    pointer-events: none !important;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor\n    ",":not(.seeking)\n    > & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  ",".playheadattachedtofocusrange > & {\n    top: -8px;\n    --sunblock-color: #005662;\n    &:before,\n    &:after {\n      border-bottom-width: 8px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-left: 2px solid transparent;\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    right: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-right: 2px solid transparent;\n  }\n"])),ty,Yq,Yq,Gw,Yq),eX=Vp.div(Jq||(Jq=k(["\n  position: absolute;\n  left: 1px;\n  right: 1px;\n  top: 13px;\n  border-top: 3px solid var(--thumbColor);\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  pointer-events: none;\n\n  /* ",".playheadattachedtofocusrange & {\n    top: 10px;\n    &:before,\n    &:after {\n      height: 15px;\n    }\n  } */\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    left: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 0 100% 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-right: 1px solid var(--thumbColor);\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    right: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 100% 0 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-left: 1px solid var(--thumbColor);\n  }\n"])),Yq),nX=Vp.div(tX||(tX=k(["\n  display: none;\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 2px;\n  transform: translateX(-50%);\n  background: #1a1a1a;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n  ",":hover &, ",".seeking & {\n    display: block;\n  }\n"])),Qq,Yq),rX=({layoutP:e})=>{let[t,n]=Kv(null),{node:r,toggle:i,close:a}=hk({debugName:"Playhead"},()=>qq.default.createElement(zk,null,qq.default.createElement(Pq,{layoutP:e,onRequestClose:a}))),o=(0,qq.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let r=(0,Gq.val)(e.sheet).getSequence(),a=r.position,o=(0,Gq.val)(e.scaledSpace.toUnitSpace),s=(0,Gq.val)(e.seeker.setIsSeeking);return s(!0),GL(),{onDrag(e,t,i){var s;let l=o(e);r.position=null!=(s=Gz.checkIfMouseEventSnapToPos(i,{ignore:n}))?s:ds(a+l,0,r.length)},onDragEnd(e){s(!1),qL()},onClick(e){i(e,t.current)}}}}),[e,n]),[s]=mx(n,o);Qw(s,"draggingPositionInSequenceEditor","ew-resize"),TL(Vf(e.seeker.isSeeking)||s,-1);let[l]=function(e,t){return _M(e,{menuItems:()=>[{label:"Place marker",callback:()=>{T().transaction(({stateEditors:e})=>{let n=(0,Gq.val)(t.layoutP.sheet),r=n.getSequence();e.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:n.address,markers:[{id:SP(10),position:r.position}],snappingFunction:r.closestGridPosition})})}}]})}(n,{layoutP:e});return zf(()=>{let n=(0,Gq.val)(e.seeker.isSeeking),i=(0,Gq.val)(e.sheet).getSequence(),a=(0,Gq.val)(Hq(i)),o=i.positionPrism.getValue(),s=(0,Gq.val)(e.clippedSpace.fromUnitSpace)(o),u=s>=0&&s<=(0,Gq.val)(e.clippedSpace.width);return qq.default.createElement(qq.default.Fragment,null,l,r,qq.default.createElement(Yq,g({isVisible:u,style:{transform:"translate3d(".concat(s,"px, 0, 0)")},className:"".concat(n&&"seeking"," ").concat(a&&"playheadattachedtofocusrange")},AL("hide")),qq.default.createElement(Qq,g({ref:t},Gz.includePositionSnapAttrs(o)),qq.default.createElement(vq,{room:8}),qq.default.createElement(eX,null),qq.default.createElement(nX,null,i.positionFormatter.formatForPlayhead(i.closestGridPosition(o)))),qq.default.createElement($q,v(g({},Gz.includePositionSnapAttrs(o)),{className:n?"seeking":""}))))},[e,t,r])},iX=rX}),bX=b(()=>{aX=Cm(),$f(),I(),SG(),oX=S(Af()),Hp(),sX=1e3,uX=Vp.div(lX||(lX=k(["\n  position: absolute;\n  top: ","px;\n  left: 0;\n  opacity: 0.15;\n  width: ","px;\n  transform-origin: top left;\n  pointer-events: none;\n  background-color: ",";\n"])),lG,sX,e=>e.enabled?"#000000":"transparent"),cX=({layoutP:e})=>{let t=(0,oX.useMemo)(()=>(0,aX.prism)(()=>{let{projectId:t,sheetId:n}=(0,aX.val)(e.sheet).address;return(0,aX.val)(T().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange)}),[e]);return zf(()=>{let n=t.getValue();if(!n||!n.enabled)return null;let r=(0,aX.val)(e.rightDims.height)-lG,i=(0,aX.val)(e.clippedSpace.fromUnitSpace),a=(0,aX.val)(e.clippedSpace.width),o=[];{let e,t,r=0,s=i(n.range.start);r>s?(t=0,e=0):(s>a&&(s=a),t=r,e=(s-r)/sX),o.push({translateX:t,scaleX:e})}{let e,t,r=i(n.range.end);r>a?(t=0,e=0):(r<0&&(r=0),t=r,e=(a-r)/sX),o.push({translateX:t,scaleX:e})}return oX.default.createElement(oX.default.Fragment,null,o.map(({translateX:e,scaleX:t},n)=>oX.default.createElement(uX,{key:"curtain-".concat(n),enabled:!0,style:{height:"".concat(r,"px"),transform:"translateX(".concat(e,"px) scaleX(").concat(t,")")}})))},[e,t])},dX=cX}),wX=b(()=>{fX=S(Af()),Hp(),$f(),I(),JC(),rS(),pX=Vp.div(hX||(hX=k(["\n  display: flex;\n  gap: 8px;\n  /* padding: 4px 8px; */\n  height: 28px;\n  align-items: center;\n"]))),Vp.div(mX||(mX=k(["\n  ",";\n  white-space: nowrap;\n"])),HC),gX=({layoutP:e,marker:t})=>{var n;let r=Vf(e.sheet),i=(0,fX.useMemo)(()=>{let e;return{temporarilySetValue(n){e&&(e.discard(),e=void 0),e=T().tempTransaction(({stateEditors:e})=>{e.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:r.address,markerId:t.id,label:n})})},discardTemporaryValue(){e&&(e.discard(),e=void 0)},permanentlySetValue(n){e&&(e.discard(),e=void 0),T().transaction(({stateEditors:e})=>{e.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:r.address,markerId:t.id,label:n})})}}},[e,r]),a=(0,fX.useRef)(null);return(0,fX.useLayoutEffect)(()=>{a.current.focus()},[]),fX.default.createElement(pX,null,fX.default.createElement(tS,v(g({value:null!=(n=t.label)?n:""},i),{isValid:()=>!0,inputRef:a})))},vX=gX});var xX,_X,SX,EX,kX,CX,MX,PX,TX,AX,IX,RX,OX,DX,zX,LX,NX,jX,FX,UX,BX,VX,HX,WX,GX,qX,XX,YX,KX,$X,ZX,QX,JX,eY,tY,nY,rY,iY,aY,oY,sY,lY,uY,cY,dY,fY=b(()=>{xX=Cm(),$f(),I(),tx(),kM(),Zv(),_X=S(Af()),Hp(),HL(),bx(),gY(),Xz(),BL(),WL(),aN(),Lk(),jk(),wX(),EX=Vp.div(SX||(SX=k(['\n  position: absolute;\n  // below the sequence ruler "top bar"\n  top: 18px;\n  z-index: ',";\n"])),()=>ZX.marker),CX=Vp.div(kX||(kX=k(["\n  position: absolute;\n  ","\n  pointer-events: none;\n"])),yL(12,12)),MX=_X.default.memo(()=>_X.default.createElement(CX,{children:_X.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_X.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),TX=Vp.div(PX||(PX=k(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  // :not dragging marker to ensure that markers don't snap to other markers\n  // this works because only one marker track (so this technique is not used by keyframes...)\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {\n    ",'\n  }\n\n  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"\n  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,\n  #pointer-root.draggingPositionInSequenceEditor\n    &.'," {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &:hover\n    + ",',\n    // notice , "or" in CSS\n    &.',"\n    + "," {\n    ","\n  }\n"])),NL.CSS,NL.CSS_WHEN_SOMETHING_DRAGGING,NL.BEING_DRAGGED_CLASS,Gw,CX,NL.BEING_DRAGGED_CLASS,CX,yL(24,24)),AX=({layoutP:e,markerId:t})=>{let n=Vf(e.sheet.address),r=Vf(T().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet.byId[t]);if(!r)return null;let i=Vf(e.clippedSpace.width),a=Vf(e.clippedSpace.fromUnitSpace)(r.position),o=a<=0||a>i,s=o?-1e4:a,l=o?0:1;return _X.default.createElement(EX,{style:{transform:"translateX(".concat(s,"px) scale(").concat(l,")")}},_X.default.createElement(RX,{marker:r,layoutP:e}))},IX=AX,RX=({layoutP:e,marker:t})=>{let n=Vf(e.sheet.address),[r,i]=Kv(null),[a]=function(e,t){return _M(e,{menuItems:()=>[{label:"Remove marker",callback:()=>{T().transaction(({stateEditors:e})=>{e.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]})}(i,{sheetAddress:n,markerId:t.id}),[o]=function(e,t){let n=(0,_X.useRef)(t);n.current=t;let r=(0,_X.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(r){let i,a=n.current.marker,o=(0,xX.val)(t.layoutP.scaledSpace.toUnitSpace);return GL(),{onDrag(n,r,s){var l;let u=a,c=Math.max(null!=(l=Gz.checkIfMouseEventSnapToPos(s,{ignore:e}))?l:u.position+o(n),0);null==i||i.discard(),i=T().tempTransaction(({stateEditors:e})=>{e.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,xX.val)(t.layoutP.sheet.address),markers:[v(g({},u),{position:c})],snappingFunction:(0,xX.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(e){e?null==i||i.commit():null==i||i.discard(),qL()}}}}),[]),[i]=mx(e,r);return TL(i,t.marker.position),Qw(i,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[i]}(i,{layoutP:e,marker:t}),{node:s,toggle:l,close:u}=hk({debugName:"MarkerPopover"},()=>_X.default.createElement(zk,null,_X.default.createElement(vX,{marker:t,layoutP:e,onRequestClose:u})));return _X.default.createElement(_X.default.Fragment,null,a,s,_X.default.createElement(TX,g({title:t.label?"Marker: ".concat(t.label):"Marker",ref:r,onClick:e=>{l(e,r.current)}},NL.reactProps({isDragging:o,position:t.position}))),_X.default.createElement(MX,null))}}),hY=b(()=>{$f(),I(),OX=S(Af()),fY(),DX=({layoutP:e})=>{let t=Vf(e.sheet.address),n=T().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,r=Vf(n.allIds);return OX.default.createElement(OX.default.Fragment,null,r&&Object.keys(r).map(t=>OX.default.createElement(IX,{key:t,layoutP:e,markerId:t})))}}),pY=b(()=>{gY(),$f(),zX=Cm(),LX=S(Af()),Hp(),Iq(),Rq(),Oq(),yX(),SG(),bX(),hY(),jX=Vp.div(NX||(NX=k(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: visible;\n  pointer-events: none;\n"])),()=>ZX.rightOverlay),FX=({layoutP:e})=>zf(()=>{let t=(0,zX.val)(e.rightDims.width);return LX.default.createElement(jX,{style:{width:t+"px"}},LX.default.createElement(iX,{layoutP:e}),LX.default.createElement(hq,{layoutP:e}),LX.default.createElement(KG,{layoutP:e}),LX.default.createElement(fG,{layoutP:e}),LX.default.createElement(DX,{layoutP:e}),LX.default.createElement(FG,{layoutP:e}),LX.default.createElement(dX,{layoutP:e}))},[e])}),mY=b(()=>{UX=Cm(),$f(),I(),BX=S(Af()),Hp(),z_(),HL(),HX=Vp.button(VX||(VX=k(["\n  outline: none;\n  background-color: #1c1d21;\n  border: 1px solid #191919;\n  border-radius: 2px;\n  display: flex;\n  bottom: 14px;\n  right: 8px;\n  z-index: 1;\n  position: absolute;\n\n  padding: 4px 8px;\n  display: flex;\n  color: #656d77;\n  line-height: 20px;\n  font-size: 10px;\n\n  &:hover {\n    color: white;\n  }\n\n  & > svg {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg);\n  }\n\n  &:hover > svg {\n    transform: rotateZ(-20deg);\n  }\n\n  &.open > svg {\n    transform: rotateZ(-180deg);\n  }\n\n  &.open:hover > svg {\n    transform: rotateZ(-160deg);\n  }\n"]))),WX=({layoutP:e})=>{let t=Vf(e.graphEditorDims.isOpen),n=(0,BX.useCallback)(()=>{let t=(0,UX.val)(e.graphEditorDims.isOpen);T().transaction(({stateEditors:e})=>{e.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!t})})},[e]);return BX.default.createElement(HX,g({onClick:n,title:"Toggle graph editor",className:t?"open":""},AL("hide")),BX.default.createElement(O_,null))}}),gY=b(()=>{kb(),$f(),cz(),GX=Cm(),qX=S(Af()),Hp(),qH(),mH(),bW(),pY(),rz(),iz(),sz(),HL(),Q(),Mf(),mY(),Sy(),yP(),YX=Vp(RD)(XX||(XX=k(["\n  z-index: ",";\n  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);\n"])),uy.sequenceEditorPanel),$X=Vp.div(KX||(KX=k(["\n  background-color: rgba(40, 43, 47, 0.99);\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none;\n"]))),ZX=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let n of Object.keys(e))e[n]=t,t++;return e})(),JX=Vp(YO)(QX||(QX=k(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n"]))),eY={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},tY={width:800,height:200},nY=e=>qX.default.createElement(HO,{panelId:"sequenceEditor",defaultPosition:eY,minDims:tY},qX.default.createElement(rY,null)),rY=()=>{let{dims:e}=BO(),[t,n]=(0,qX.useState)(null);return OM(t),zf(()=>{let r=GX.prism.memo("panelSize",()=>{let t=e.width,n=e.height;return{width:t,height:n,widthWithoutBorder:t-2,heightWithoutBorder:n-4,screenX:e.left,screenY:e.top}},[e]),i=kf(xb().filter(e=>j(e)||U(e)).map(e=>U(e)?e.sheet:e));if(1!==kf(i.map(e=>e.template)).length)return qX.default.createElement(qX.default.Fragment,null);let a=i[0];if(!a)return qX.default.createElement(qX.default.Fragment,null);let o=ez("panelSizeP",r).pointer,s=GX.prism.memo("key",()=>JSON.stringify(a.address),[a]),l=GX.prism.memo("layout",()=>mW(a,o),[a,o]).getValue();if(0===(0,GX.val)(l.tree.children).length)return qX.default.createElement(qX.default.Fragment,null);let u=GX.prism.memo("containerRef",oY,[]),c=(0,GX.val)(l.graphEditorDims.isAvailable),d=(0,GX.val)(l.graphEditorDims.isOpen);return qX.default.createElement(YX,{ref:e=>{u(e),e!==t&&n(e)}},qX.default.createElement($X,{style:{width:"".concat((0,GX.val)(l.leftDims.width),"px")}}),qX.default.createElement(OL,{layoutP:l},qX.default.createElement(iY,{layoutP:l}),qX.default.createElement(FH,{key:s+"-dopeSheet",layoutP:l}),d&&qX.default.createElement(JV,{key:s+"-graphEditor",layoutP:l}),c&&qX.default.createElement(WX,{layoutP:l}),qX.default.createElement(FX,{layoutP:l})))},[e,t])},iY=({layoutP:e})=>zf(()=>{let t=(0,GX.val)(e.sheet);return qX.default.createElement(JX,{style:{width:(0,GX.val)(e.leftDims.width)}},qX.default.createElement(by,null,qX.default.createElement(fy,null,t.address.sheetId," "),qX.default.createElement(py,null,":",""),qX.default.createElement(fy,null,t.address.sheetInstanceId," "),qX.default.createElement(py,null,"",">",""),qX.default.createElement(fy,null,"Sequence")))},[e]),aY=nY,oY=()=>{let e=null,t={passive:!1,capture:!1},n=e=>{Math.abs(e.deltaY)<Math.abs(e.deltaX)&&(e.preventDefault(),e.stopPropagation())};return r=>{e!==r&&e&&e.removeEventListener("wheel",n,t),e=r,r&&r.addEventListener("wheel",n,t)}}}),vY=b(()=>{Rw(),nz(),sY=S(Af()),I(),$f(),uz(),gY(),lY=()=>{let e=Vf(T().paneManager.allPanesD),t=Object.entries(e).map(([e,t])=>sY.default.createElement(QD,{key:"pane-".concat(e),paneInstance:t}));return sY.default.createElement(sY.default.Fragment,null,t,sY.default.createElement(Ew,null),sY.default.createElement(DO,null),sY.default.createElement(aY,null))}}),yY=b(()=>{Hp(),_I(),cY=Vp(HA)(uY||(uY=k(["\n  --popover-outer-stroke: #e11c1c;\n  --popover-inner-stroke: #2c1c1c;\n  --popover-bg: #2c1c1c;\n  pointer-events: none !important;\n"]))),dY=cY}),bY=w((e,t)=>{var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,l,u,c,d,f;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),d=0;d<a;)r[d]=e.charCodeAt(d),n[d]=++d;for(f=0;f<o;)for(s=t.charCodeAt(f),l=u=f++,d=-1;++d<a;)c=s===r[d]?u:u+1,u=n[d],n[d]=l=u>l?c>l?l+1:c:c>u?u+1:c;return l}}),wY=w((e,t)=>{var n=bY();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],l=arguments[1],u=l.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var d=0;d<u;++d)(e=(t=a?n(s,l[d],!0):n(s,l[d]))>s.length?1-t/l[d].length:1-t/s.length)>o&&(o=e,r=l[d]);return o>=i?r:null}});var xY,_Y=b(()=>{xY=S(wY())});function SY(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var EY,kY,CY,MY,PY,TY,AY,IY,RY,OY,DY,zY,LY,NY=b(()=>{}),jY=b(()=>{NY(),EY=e=>"string"==typeof e?'string("'.concat(SY(e,10),'")'):"number"==typeof e?"number(".concat(SY(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"==typeof e?String(e):Array.isArray(e)?"array":"object"==typeof e?"object":"unknown"}),FY=b(()=>{Hp(),Yv(),CY=Vp(Fv)(kY||(kY=k(["\n  display: flex;\n  height: fit-content;\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n"]))),MY=CY}),UY=b(()=>{Hp(),_y(),PY=S(Af()),xI(),Bw(),qR(),FY(),AY=Vp.button(TY||(TY=k(["\n  ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: 600;\n  width: 32px;\n  height: 32px;\n  outline: none;\n\n  color: #a8a8a9;\n\n  background: rgba(40, 43, 47, 0.8);\n  backdrop-filter: blur(14px);\n  border: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 2px;\n\n  svg {\n    display: block;\n  }\n\n  &:hover {\n    background: rgba(59, 63, 69, 0.8);\n  }\n\n  &:active {\n    background: rgba(82, 88, 96, 0.8);\n  }\n\n  &.selected {\n    color: rgba(255, 255, 255, 0.8);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  }\n\n  // Don't blur if in a button group, because it already blurs. We need to blur\n  // on the group-level, otherwise we get seams.\n  "," > & {\n    backdrop-filter: none;\n    filter: none;\n    border-radius: 0;\n\n    &:first-child {\n      border-top-left-radius: 2px;\n      border-bottom-left-radius: 2px;\n    }\n\n    &:last-child {\n      border-bottom-right-radius: 2px;\n      border-top-right-radius: 2px;\n    }\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ty,MY),IY=PY.default.forwardRef((e,t)=>{var n=e,{title:r}=n,i=y(n,["title"]);let[a,o]=LA({enabled:"string"==typeof r},()=>PY.default.createElement(fR,null,r));return PY.default.createElement(PY.default.Fragment,null,a,PY.default.createElement(AY,g({ref:Uw([o,t])},i))," ")}),RY=IY}),BY=b(()=>{OY=S(Af()),UY(),Hp(),_y(),zY=Vp(RY)(DY||(DY=k(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),ty),LY=({config:e,testId:t})=>{var n;return OY.default.createElement(zY,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:null!=(n=e.svgSource)?n:""}})}});function VY({value:e,label:t,icon:n,onClick:r,isSelected:i}){return HY.default.createElement(HY.default.Fragment,null,HY.default.createElement(RY,{forwardedAs:Nv,className:i?"selected":void 0,"aria-label":t,onClick:r,title:t},n))}var HY,WY,GY,qY,XY,YY,KY,$Y,ZY,QY,JY=b(()=>{HY=S(Af()),Yv(),UY(),FY(),WY=({value:e,onChange:t,options:n})=>HY.default.createElement(MY,null,n.map(({label:n,icon:r,value:i})=>HY.default.createElement(VY,{key:i,value:i,isSelected:e===i,label:n,icon:r,onClick:()=>t(i)})))}),eK=b(()=>{GY=S(Af()),Hp(),_y(),JY(),XY=Vp.div(qY||(qY=k(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),ty),YY=({config:e})=>GY.default.createElement(WY,{onChange:e.onChange,options:e.options.map(({label:e,value:t,svgSource:n})=>({label:e,value:t,icon:GY.default.createElement(XY,{dangerouslySetInnerHTML:{__html:n}})})),value:e.value})}),tK=b(()=>{KY=S(Af()),Hp(),_y(),UY(),bM(),Lk(),ZY=Vp.div($Y||($Y=k(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),ty),QY=({config:e})=>{let t=(0,KY.useRef)(null),n=hk(()=>{let n=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:n.right,maxY:8,minX:n.left,minY:8},verticalGap:2}},()=>KY.default.createElement(lM,{items:e.items.map((e,t)=>({label:e.label,callback:()=>{var t;try{null==(t=e.onClick)||t.call(e)}catch(e){}}})),onRequestClose:()=>{n.close("clicked")}}));return KY.default.createElement(ZY,null,n.node,KY.default.createElement(RY,{ref:t,onClick:e=>{n.open(e,t.current)}},e.label))}});var nK,rK,iK,aK,oK,sK,lK,uK,cK,dK,fK,hK,pK,mK,gK,vK,yK,bK,wK,xK=b(()=>{_Y(),jY(),nK=S(Af()),BY(),eK(),tK(),rK=e=>nK.default.createElement(nK.default.Fragment,null,e.config.map((e,t)=>nK.default.createElement(aK,{config:e,key:t}))),iK={Icon:LY,Switch:YY,Flyout:QY},aK=({config:e})=>{let t=function(e){return iK[e]}(e.type);if(!t)throw new Error("No tool with tool.type ".concat(EY(e.type)," exists. Did you mean ").concat(function(e,t,n="Did you mean ",r="?"){let i=(0,xY.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+r:""}(e.type,Object.keys(iK))));return nK.default.createElement(t,{config:e})},oK=rK}),_K=b(()=>{sK=Cm(),$f(),I(),lK=S(Af()),Hp(),xK(),cK=Vp.div(uK||(uK=k(["\n  height: 36px;\n  /* pointer-events: none; */\n\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n"]))),fK=Vp.div(dK||(dK=k(["\n  position: abolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),hK=({extension:e,toolbarId:t})=>{var n;let r=(0,lK.useMemo)(()=>new sK.Atom([]),[]),i=null==(n=e.toolbars)?void 0:n[t];(0,lK.useLayoutEffect)(()=>{let e=null==i?void 0:i(r.set.bind(r),T().publicApi);if("function"==typeof e)return e},[e,t,i]);let a=Vf(r.prism);return lK.default.createElement(oK,{config:a})},pK=({toolbarId:e,showLeftDivider:t})=>{var n;let r=[],i=Vf(T().atomP.ephemeral.extensions.byId),a=!1;for(let[,t]of Object.entries(i))!t||null==(n=t.toolbars)||!n[e]||(r.push(lK.default.createElement(lK.default.Fragment,{key:"extensionToolbar-"+t.id},a?lK.default.createElement(fK,null):void 0,lK.default.createElement(hK,{extension:t,toolbarId:e}))),a=!0);return 0===r.length?null:lK.default.createElement(cK,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?lK.default.createElement(fK,null):void 0,r)},mK=pK}),SK=b(()=>{Hp(),gK=S(Af()),UY(),yK=Vp(RY)(vK||(vK=k(["\n  color: ",";\n\n  border-bottom: 1px solid\n    ",";\n"])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),bK=(0,gK.forwardRef)((e,t)=>{var n=e,{children:r,hint:i,pinned:a,icon:o,pinHintIcon:s,unpinHintIcon:l}=n,u=y(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[c,d]=(0,gK.useState)(!1),f=c||i;return gK.default.createElement(yK,v(g({},u),{pinned:a,ref:t,onMouseOver:()=>d(!0),onMouseOut:()=>d(!1)}),gK.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},f&&!a?s:f&&a?l:o),r)}),wK=bK});function EK(e){return kK.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),kK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var kK,CK,MK=b(()=>{kK=S(Af()),CK=EK});function PK(e){return TK.createElement("svg",g({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),TK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var TK,AK,IK,RK,OK,DK,zK,LK,NK,jK,FK,UK,BK,VK,HK,WK,GK,qK,XK,YK,KK,$K,ZK,QK,JK,e$,t$,n$,r$,i$,a$,o$,s$,l$,u$,c$,d$,f$,h$,p$,m$,g$,v$,y$,b$,w$,x$,_$=b(()=>{TK=S(Af()),AK=PK}),S$=b(()=>{$f(),I(),IK=S(Af()),Hp(),OK=Vp.div(RK||(RK=k(["\n  width: 138px;\n  border-radius: 2px;\n  background-color: rgba(42, 45, 50, 0.9);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  pointer-events: auto;\n  // makes the edges of the item highlights match the rounded corners\n  overflow: hidden;\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(42, 45, 50, 0.98);\n  }\n\n  color: rgba(255, 255, 255, 0.9);\n\n  & a {\n    // Fix colors of links to not be default\n    color: inherit;\n  }\n"]))),zK=Vp.div(DK||(DK=k(["\n  position: relative;\n  padding: 0px 12px;\n  font-weight: 400;\n  font-size: 11px;\n  height: 32px;\n  text-decoration: none;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: default;\n"]))),NK=Vp(zK)(LK||(LK=k(["\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    inset: 3px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.1);\n    opacity: 0;\n  }\n\n  &.secondary {\n    color: rgba(255, 255, 255, 0.5);\n  }\n\n  &:hover {\n    /* background-color: #398995; */\n    color: white !important;\n    &:before {\n      opacity: 1;\n    }\n  }\n"]))),FK=Vp(zK)(jK||(jK=k(["\n  height: auto;\n  min-height: 32px;\n  padding-top: 12px;\n  padding-bottom: 10px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 8px;\n  color: rgba(255, 255, 255, 0.5);\n"]))),BK=Vp.div(UK||(UK=k(["\n  font-weight: 600;\n"]))),HK=Vp.div(VK||(VK=k(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),GK=Vp.div(WK||(WK=k(["\n  margin-left: 2px;\n"]))),XK=Vp.div(qK||(qK=k(["\n  height: 1px;\n  margin: 0 2px;\n  background: rgba(255, 255, 255, 0.02);\n"]))),KK=Vp.div(YK||(YK=k(["\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #40aaa4;\n  right: 14px;\n  top: 12px;\n  border-radius: 50%;\n"]))),ZK=($K="0.7.2").match(/^[^\-]+/)[0],QK=IK.default.forwardRef((e,t)=>{let n=Vf(T().atomP.ahistoric.updateChecker.result.hasUpdates);return IK.default.createElement(OK,{ref:t},IK.default.createElement(NK,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),IK.default.createElement(NK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),IK.default.createElement(XK,null),IK.default.createElement(NK,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),IK.default.createElement(NK,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),IK.default.createElement(NK,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),IK.default.createElement(XK,null),IK.default.createElement(FK,null,IK.default.createElement(BK,null,"Version"),IK.default.createElement(HK,null,IK.default.createElement(GK,null,$K," ",!0===n?"(outdated)":!1===n?"(latest)":""))),!0===n&&IK.default.createElement(IK.default.Fragment,null,IK.default.createElement(XK,null),IK.default.createElement(NK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(ZK)),className:"",target:"_blank"},"Update",IK.default.createElement(KK,null)),IK.default.createElement(NK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(ZK)),className:"",target:"_blank"},"What's new?")))}),JK=QK}),E$=b(()=>{$f(),I(),e$=S(Af()),Hp(),xI(),yY(),_I(),t$=Cm(),_K(),SK(),yb(),MK(),_$(),UY(),Lk(),S$(),XR(),r$=Vp.div(n$||(n$=k(["\n  height: 36px;\n  pointer-events: none;\n\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n"]))),a$=Vp.div(i$||(i$=k(["\n  color: white;\n  width: 14px;\n  height: 14px;\n  background: #d00;\n  border-radius: 4px;\n  text-align: center;\n  line-height: 14px;\n  font-weight: 600;\n  font-size: 8px;\n  position: relative;\n  left: -6px;\n  top: -11px;\n  margin-right: -14px;\n  box-shadow: 0 4px 6px -4px #00000059;\n"]))),s$=Vp.div(o$||(o$=k(["\n  display: flex;\n  gap: 8px;\n"]))),u$=Vp.div(l$||(l$=k(["\n  position: absolute;\n  background: ",";\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  right: -2px;\n  top: -2px;\n"])),({type:e})=>"info"===e?"#40aaa4":"#f59e0b"),Vp.div(c$||(c$=k(["\n  position: absolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),d$=!1,f$=()=>{var e,t,n;let r=zf(()=>{let e=(0,t$.val)(T().atomP.ephemeral.coreByProject);return Object.entries(e).map(([e,t])=>({projectId:e,state:t})).filter(({state:e})=>"browserStateIsNotBasedOnDiskState"===e.loadingState.type)},[]),[i,a]=LA({enabled:r.length>0,enterDelay:r.length>0?0:200},()=>r.length>0?e$.default.createElement(dY,null,1===r.length?'There is a state conflict in project "'.concat(r[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(r.length," projects that have state conflicts. They are highlighted in the outline below. ")):e$.default.createElement(HA,null,e$.default.createElement(e$.default.Fragment,null,"Outline"))),o=null==(e=Vf(T().atomP.ahistoric.pinOutline))||e,s=null==(t=Vf(T().atomP.ahistoric.pinDetails))||t,l=!0===Vf(T().atomP.ahistoric.updateChecker.result.hasUpdates),u=hk(()=>{let e=c.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:e.right,maxY:8,minX:e.left-140,minY:8},verticalGap:2}},()=>e$.default.createElement(JK,null)),c=(0,e$.useRef)(null),d=(0,e$.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(d$||(d$=!0)),!(!l&&!window.__IS_VISUAL_REGRESSION_TESTING)||l),[l]),{hasNotifications:f}=WR(),[h,p]=VR();return e$.default.createElement(r$,null,e$.default.createElement(s$,null,i,e$.default.createElement(wK,{ref:a,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{T().transaction(({stateEditors:e,drafts:t})=>{var n;e.studio.ahistoric.setPinOutline(!(null==(n=t.ahistoric.pinOutline)||n))})},icon:e$.default.createElement(My,null),pinHintIcon:e$.default.createElement(AK,null),unpinHintIcon:e$.default.createElement(CK,null),pinned:o}),r.length>0?e$.default.createElement(a$,null,r.length):null,e$.default.createElement(mK,{showLeftDivider:!0,toolbarId:"global"})),e$.default.createElement(s$,null,h,e$.default.createElement(wK,{ref:p,onClick:()=>{T().transaction(({stateEditors:e,drafts:t})=>{var n;e.studio.ahistoric.setPinNotifications(!(null!=(n=t.ahistoric.pinNotifications)&&n))})},icon:e$.default.createElement(Xy,null),pinHintIcon:e$.default.createElement(Xy,null),unpinHintIcon:e$.default.createElement(Xy,null),pinned:null!=(n=Vf(T().atomP.ahistoric.pinNotifications))&&n},f&&e$.default.createElement(u$,{type:"warning"})),u.node,e$.default.createElement(RY,{ref:c,onClick:e=>{u.toggle(e,c.current)}},e$.default.createElement(Fy,null),d&&e$.default.createElement(u$,{type:"info"})),e$.default.createElement(wK,{ref:a,onClick:()=>{T().transaction(({stateEditors:e,drafts:t})=>{var n;e.studio.ahistoric.setPinDetails(!(null==(n=t.ahistoric.pinDetails)||n))})},icon:e$.default.createElement(zy,null),pinHintIcon:e$.default.createElement(CK,null),unpinHintIcon:e$.default.createElement(AK,null),pinned:s})))},h$=f$}),k$=b(()=>{p$=Cm(),$f(),m$=S(Af()),g$=S(Df()),v$=new p$.Atom({set:{},byId:{}}),y$=1,b$=()=>{let e=y$++;return{mountOrRender:function(t,n,r){v$.reduce(i=>({byId:v(g({},i.byId),{[e]:{comp:t,props:n,portalNode:r}}),set:v(g({},i.set),{[e]:!0})}))},unmount:function(){v$.reduce(t=>{let n=g({},t.set),r=g({},t.byId);return delete n[e],{byId:r,set:n}})}}},w$=()=>{let e=Object.keys(Vf(v$.pointer.set));return m$.default.createElement(m$.default.Fragment,null,e.map(e=>m$.default.createElement(x$,{key:"id-"+e,id:e})))},x$=({id:e})=>{let{comp:t,portalNode:n,props:r}=Vf(v$.pointer.byId[e]);return(0,g$.createPortal)(m$.default.createElement(t,g({},r)),n)}});function C$(e){let t=T(),[n,r]=Kv(void 0),i=JH();i.configureLogging({min:128,dev:D$,internal:D$});let a=i.getLogger().named("Theatre.js UIRoot");jq();let o=Vf(t.atomP.ahistoric.visibilityState);return(0,P$.useEffect)(()=>()=>{},[o]),zf(()=>{let i=(0,M$.val)(t.atomP.ahistoric.visibilityState);return(0,M$.val)(t.atomP.ephemeral.initialised)?P$.default.createElement(nx,{logger:a},P$.default.createElement(OA,null,P$.default.createElement(sx,null,P$.default.createElement(z$,null),P$.default.createElement(Wv.Provider,{value:r},P$.default.createElement(sy,{target:!0===window.__IS_VISUAL_REGRESSION_TESTING?void 0:e.containerShadow},P$.default.createElement(P$.default.Fragment,null,P$.default.createElement(A$,null),P$.default.createElement(R$,{className:"everythingIsHidden"===i?"invisible":""},P$.default.createElement(oy,{ref:n}),P$.default.createElement(h$,null),P$.default.createElement(lY,null),P$.default.createElement(HR,null)))))))):null},[t,n,r])}var M$,P$,T$,A$,I$,R$,O$,D$,z$,L$=b(()=>{I(),$f(),M$=Cm(),P$=S(Af()),Hp(),vY(),E$(),Zv(),Yv(),Wq(),tx(),zA(),hx(),k$(),_y(),hW(),ox(),XR(),A$="undefined"!=typeof window?zh(T$||(T$=k(["\n  :host {\n    contain: strict;\n  }\n"]))):{},R$=Vp(Jw)(I$||(I$=k(["\n  z-index: 50;\n  position: fixed;\n  inset: 0;\n\n  &.invisible {\n    pointer-events: none !important;\n    opacity: 0;\n    transform: translateX(1000000px);\n  }\n"]))),D$=/Playground.+Theatre\.js/.test(null!=(O$="undefined"!=typeof document?null==document?void 0:document.title:null)?O$:""),z$=()=>P$.default.createElement(w$,null)}),N$=w(e=>{var t=Df();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),j$={};x(j$,{default:()=>B$});var F$,U$,B$,V$,H$=b(()=>{L$(),F$=S(Af()),U$=S(N$()),k$(),_y(),_K(),B$=class{constructor(){E(this,"containerEl",document.createElement("div")),E(this,"_renderTimeout"),E(this,"_documentBodyUIIsRenderedIn"),E(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText="\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      z-index: 100;\n    ";this.containerShadow=(()=>{if(!0===window.__IS_VISUAL_REGRESSION_TESTING){let e=document.createElement("div");return e.id="theatrejs-faux-shadow-root",document.body.appendChild(e),e}return this.containerEl.attachShadow({mode:"open"})})()}render(){let e=()=>{document.body?(this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),U$.default.createRoot(this.containerShadow).render(F$.default.createElement(C$,{containerShadow:this.containerShadow}))):this._renderTimeout=setTimeout(e,5)};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let n=b$();return n.mountOrRender((r=mK,e=>Qv.default.createElement(ly,null,Qv.default.createElement(r,g({},e)))),{toolbarId:e},t),n.unmount;var r}}}),W$=w(e=>{var t,n,r;function i(e,i,a,o,s,l){return i[s+o]===a[l+o]?{value:e[l+1][s+1].value,type:r}:e[l][s+1].value<e[l+1][s].value?{value:e[l][s+1].value+1,type:t}:{value:e[l+1][s].value+1,type:n}}e.compare=function(e,a){for(var o=e.length,s=a.length,l=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r&&e[n]===t[n];)++n;return n}(e,a),u=l<o&&l<s?function(e,t){for(var n=e.length-1,r=t.length-1,i=Math.min(n,r),a=0;a<i&&e[n-a]===t[r-a];)++a;return a}(e,a):0,c=u+l-1,d=function(e,i){var a,o,s,l=[];for(s=l[i]=[],o=0;o<e;++o)s[o]={value:e-o,type:t};for(a=0;a<i;++a)l[a]=[],l[a][e]={value:i-a,type:n};return l[i][e]={value:0,type:r},l}(o-=c,s-=c),f=o-1;f>=0;--f)for(var h=s-1;h>=0;--h)d[h][f]=i(d,e,a,l,f,h);return{prefix:l,matrix:d,suffix:u}},e.reduce=function(e,i,a){var o,s,l,u,c=a.matrix,d=a.prefix;for(o=0;o<d;++o)i=e(i,r,o,o);for(l=o,d=c.length,o=0,s=0;o<d;)switch(u=c[o][s].type,i=e(i,u,o+l,s+l),u){case r:++o,++s;break;case t:++s;break;case n:++o}for(o+=l,s+=l,d=a.suffix,l=0;l<d;++l)i=e(i,r,o+l,s+l);return i},e.REMOVE=t=-1,e.ADD=n=1,e.EQUAL=r=0}),G$=w(e=>{e.cons=function(e,t){var n=t.length,r=new Array(n+1);r[0]=e;for(var i=0;i<n;++i)r[i+1]=t[i];return r},e.tail=function(e){for(var t=e.length-1,n=new Array(t),r=0;r<t;++r)n[r]=e[r+1];return n},e.map=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r)n[r]=e(t[r]);return n}}),q$=w((e,t)=>{t.exports=function(e,t){var o,s,l,u;for(o=e.charAt(0)===r?1:0,s="",n.lastIndex=o;l=n.exec(e);)if(u=l[0],s+=e.slice(o,n.lastIndex-u.length),o=n.lastIndex,u===r){if(!1===t(s))return e;s=""}else s+=u===a?r:i;return s+=e.slice(o),t(s),e};var n=/\/|~1|~0/g,r="/",i="~",a="~1"}),X$=w(e=>{var t=q$();e.find=function(e,r,i,a){if("string"==typeof r){if(""===r)return{target:e,key:void 0};if(r===n)return{target:e,key:""};var o,s=e,l=void 0!==a;return t(r,function(t){if(null==e)return s=null,!1;o=Array.isArray(e)?l?function(e,t,n,r){var i=t;if(i<0)throw new Error("array index out of bounds "+i);if(void 0!==r&&"function"==typeof e&&(i=e(t,n,r),i<0))throw new Error("could not find patch context "+r);return i}(i,f(t),e,a):"-"===t?t:f(t):t,s=e,e=e[o]}),null===s?void 0:{target:s,key:o}}},e.join=function(e){return e.join(n)},e.absolute=function(e){return e[0]===n?e:n+e},e.parse=function(e){var n=[];return t(e,n.push.bind(n)),n},e.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===n},e.encodeSegment=function(e){return e.replace(s,l).replace(r,i)},e.decodeSegment=function(e){return e.replace(a,n).replace(u,o)},e.parseArrayIndex=f,e.isValidArrayIndex=d;var n="/",r=/\//g,i="~1",a=/~1/g,o="~",s=/~/g,l="~0",u=/~0/g;var c=/^(0|[1-9]\d*)$/;function d(e){return c.test(e)}function f(e){if(d(e))return+e;throw new SyntaxError("invalid array index "+e)}}),Y$=w((e,t)=>{function n(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=n(e[i]);return r}(e):function(e){for(var t,r=Object.keys(e),i={},a=0,o=r.length;a<o;++a)t=r[a],i[t]=n(e[t]);return i}(e)}t.exports=n}),K$=w((e,t)=>{function n(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(e,t):"object"==typeof e&&"object"==typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a,o=0;o<r.length;++o)if(!((a=r[o])in t)||!n(e[a],t[a]))return!1;return!0}(e,t))}t.exports=n}),$$=w((e,t)=>{var n=X$();function r(e,t,n,r,i){var a=t.length-1,o=+t[a],s=+r[a],l=r.slice();return o>s||("add"===e.op||"copy"===e.op?l[a]=Math.max(0,s-i):"remove"===e.op&&(l[a]=Math.max(0,s+i))),l}function i(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}t.exports=function(e,t){var a=n.parse(e.path),o=n.parse(t.path),s=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||n<2&&r<2)return[];for(var i=n===r?n-1:Math.min(n,r),a=0;a<i&&e[a]===t[a];)++a;return e.slice(0,a)}(a,o),l=function(e,t,r){return n.isValidArrayIndex(e[r])&&n.isValidArrayIndex(t[r])}(a,o,s.length),u=i(e),c=i(t);return 0!==s.length||l?l?function(e,t,i,a){return t.length===a.length?function(e,t,r,i){var a,o=t.length-1,s=+t[o],l=+i[o];return s<l?"add"===e.op||"copy"===e.op?(a=i.slice(),a[o]=Math.max(0,l-1),r.path=n.absolute(n.join(a))):"remove"===e.op&&(a=i.slice(),a[o]=l+1,r.path=n.absolute(n.join(a))):"add"===r.op||"copy"===r.op?(a=t.slice(),a[o]=s+1,e.path=n.absolute(n.join(a))):s>l&&"remove"===r.op&&(a=t.slice(),a[o]=Math.max(0,s-1),e.path=n.absolute(n.join(a))),[r,e]}(e,t,i,a):(t.length>a.length?(t=r(i,a,e,t,-1),e.path=n.absolute(n.join(t))):(a=r(e,t,i,a,1),i.path=n.absolute(n.join(a))),[i,e])}(u,a,c,o):function(e,t,n){if(e.path===n.path)throw new TypeError("cannot commute "+e.op+","+n.op+" with identical object paths");return[n,e]}(u,0,c):[c,u]}}),Z$=w((e,t)=>{function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),Q$=w((e,t)=>{function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),J$=w((e,t)=>{function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),eZ=w(e=>{var t=X$(),n=Y$(),r=K$(),i=$$(),a=G$(),o=Z$(),s=Q$(),l=J$(),u=t.find,c=t.parseArrayIndex;function d(e,t){var n=e.target;if(Array.isArray(n))if("-"===e.key)n.push(t);else{if(e.key>n.length)throw new s("target of add outside of array bounds");n.splice(e.key,0,t)}else{if(!g(n))throw new s("target of add must be an object or array "+e.key);n[e.key]=t}}function f(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(e,t)}function h(e){var t,n=e.target;if(Array.isArray(n))return(t=n.splice(c(e.key),1))[0];if(g(n))return t=n[e.key],delete n[e.key],t;throw new s("target of remove must be an object or array")}function p(e){return void 0===e||null==e.target&&void 0!==e.key}function m(e){return void 0!==e.key&&void 0===e.target[e.key]}function g(e){return null!==e&&"object"==typeof e}e.test={apply:function(e,t,n){var i,a,s=u(e,t.path,n.findContext,t.context),l=s.target;if(Array.isArray(l)?(i=c(s.key),a=l[i]):a=void 0===s.key?s.target:s.target[s.key],!r(a,t.value))throw new o("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");return"test"===t.op||"replace"===t.op?[t,e]:i(e,t)}},e.add={apply:function(e,t,r){var i=u(e,t.path,r.findContext,t.context);if(p(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);return void 0===i.key?a:(d(i,a),e)},inverse:function(e,t){var n=t.context;return void 0!==n&&(n={before:n.before,after:a.cons(t.value,n.after)}),e.push({op:"test",path:t.path,value:t.value,context:n}),e.push({op:"remove",path:t.path,context:n}),1},commute:f},e.remove={apply:function(e,t,n){var r=u(e,t.path,n.findContext,t.context);if(p(r)||void 0===r.target[r.key])throw new s("path does not exist "+t.path);return h(r),e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new l("cannot invert remove w/o test");var o=i.context;return void 0!==o&&(o={before:o.before,after:a.tail(o.after)}),e.push({op:"add",path:i.path,value:i.value,context:o}),2},commute:function(e,t){return e.path===t.path&&"remove"===t.op?[t,e]:i(e,t)}},e.replace={apply:function(e,t,r){var i=u(e,t.path,r.findContext,t.context);if(p(i)||m(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);if(void 0===i.key)return a;var o=i.target;return Array.isArray(o)?o[c(i.key)]=a:o[i.key]=a,e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new l("cannot invert replace w/o test");var o=i.context;return void 0!==o&&(o={before:o.before,after:a.cons(i.value,a.tail(o.after))}),e.push({op:"test",path:i.path,value:t.value}),e.push({op:"replace",path:i.path,value:i.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return"test"===t.op||"replace"===t.op?[t,e]:i(e,t)}},e.move={apply:function(e,n,r){if(t.contains(n.path,n.from))throw new s("move.from cannot be ancestor of move.path");var i=u(e,n.path,r.findContext,n.context),a=u(e,n.from,r.findContext,n.fromContext);return d(i,h(a)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(e,t)}},e.copy={apply:function(e,t,r){var i=u(e,t.path,r.findContext,t.context),a=u(e,t.from,r.findContext,t.fromContext);if(p(a)||m(a))throw new s("copy.from must exist");var o,l=a.target;return o=Array.isArray(l)?l[c(a.key)]:l[a.key],d(i,n(o)),e},inverse:function(e,t){throw new l("cannot invert "+t.op)},commute:f}}),tZ=w(e=>{var t=eZ(),n=Y$(),r=Q$();e.apply=function(e,t,r){return a(e,n(t),r)},e.applyInPlace=a,e.clone=n,e.isValidObject=o,e.defaultHash=function(e){return o(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var i={};function a(e,n,a){if(a||(a=i),!Array.isArray(e))return n;for(var o,s,l=0;l<e.length;++l){if(s=e[l],void 0===(o=t[s.op]))throw new r("invalid op "+JSON.stringify(s));n=o.apply(n,s,a)}return n}function o(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}}),nZ=w((e,t)=>{var n=eZ();function r(e,t,r,i){var a=n[t.op];return void 0!==a&&"function"==typeof a.inverse?a.inverse(e,t,r,i):1}t.exports=function(e){var t,n,i=[];for(t=e.length-1;t>=0;t-=n)n=r(i,e[t],t,e);return i}}),rZ=w(e=>{var t=W$(),n=G$(),r=tZ(),i=nZ(),a=X$().encodeSegment;e.diff=function(e,t,n){return l(e,t,"",function(e,t){return"object"==typeof e?{patch:t,hash:u(d,e.hash,s),makeContext:u(d,e.makeContext,c),invertible:!1!==e.invertible}:{patch:t,hash:u(d,e,s),makeContext:c,invertible:!0}}(n,[])).patch},e.patch=r.apply,e.patchInPlace=r.applyInPlace,e.inverse=i,e.clone=r.clone,e.InvalidPatchOperationError=Q$(),e.TestFailedError=Z$(),e.PatchNotInvertibleError=J$();var o=r.isValidObject,s=r.defaultHash;function l(e,r,i,s){return Array.isArray(e)&&Array.isArray(r)?function(e,r,i,a){var o=n.map(a.hash,e),s=n.map(a.hash,r),u=t.compare(o,s);return function(e,n,r,i,a){var o=0;return t.reduce(function(i,a,s,u){var c,d,f=i.patch,h=r+"/"+(u+o);return a===t.REMOVE?(c=f[f.length-1],d=i.makeContext(u,e),i.invertible&&f.push({op:"test",path:h,value:e[u],context:d}),void 0!==c&&"add"===c.op&&c.path===h?(c.op="replace",c.context=d):f.push({op:"remove",path:h,context:d}),o-=1):a===t.ADD?(f.push({op:"add",path:h,value:n[s],context:i.makeContext(u,e)}),o+=1):l(e[u],n[s],h,i),i},i,a)}(e,r,i,a,u)}(e,r,i,s):o(e)&&o(r)?function(e,t,n,r){var i,o,s=Object.keys(t),u=r.patch;for(i=s.length-1;i>=0;--i){o=s[i];var c=n+"/"+a(o);void 0!==e[o]?l(e[o],t[o],c,r):u.push({op:"add",path:c,value:t[o]})}for(s=Object.keys(e),i=s.length-1;i>=0;--i)if(o=s[i],void 0===t[o]){var d=n+"/"+a(o);r.invertible&&u.push({op:"test",path:d,value:e[o]}),u.push({op:"remove",path:d})}return r}(e,r,i,s):function(e,t,n,r){return e!==t&&(r.invertible&&r.patch.push({op:"test",path:n,value:e}),r.patch.push({op:"replace",path:n,value:t})),r}(e,r,i,s)}function u(e,t,n){return e(t)?t:n}function c(){}function d(e){return"function"==typeof e}}),iZ=w((e,t)=>{t.exports=function(e,t){for(var n=0,r=t.length-1;n<r;n++){if(!e[t[n]])return null;e=e[t[n]]}return e}}),aZ=w((e,t)=>{function n(e){return"~0"===e?"~":"/"}t.exports=function(e){var t=e.split("/");if(-1===e.indexOf("~"))return t;for(var r=0,i=t.length;r<i;r++)-1!==t[r].indexOf("~")&&(t[r]=t[r].replace(/~[01]/g,n));return t}}),oZ=w((e,t)=>{var n=iZ(),r=aZ();t.exports=function(e,t){var i=r(t),a=i[i.length-1],o=n(e,i);return o?o[a]:void 0}}),sZ=w((e,t)=>{t.exports=function e(t,n){if(t===n)return!0;if(!t||!n||"object"!=typeof t||"object"!=typeof n||t.length!==n.length)return!1;if(Array.isArray(t)){if(!Array.isArray(n))return!1;for(var r=0,i=t.length;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;for(var o=0,s=a.length;o<s;o++){var l=a[o];if(!e(t[l],n[l]))return!1}return!0}}),lZ=w((e,t)=>{t.exports=function(e,t){if("-"===t)return e.length;for(var n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);if(57<i||i<48)return 1/0}return+t}}),uZ=w((e,t)=>{var n=sZ(),r=iZ(),i=lZ(),a=aZ();t.exports=function(e,t,o,s){if(void 0===o)return"[op:add] require value, but got undefined";var l=a(t),u=l[l.length-1],c=r(e,l);if(null===c)return"[op:add] path not found: "+t;if(Array.isArray(c)){var d=i(c,u);if(c.length<d)return"[op:add] invalid array index: "+t;s(e,l).splice(d,0,o)}else n(c[u],o)||(s(e,l)[u]=o)}}),cZ=w((e,t)=>{var n=iZ(),r=lZ(),i=aZ();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],l=n(e,o);if(null===l)return"[op:remove] path not found: "+t;if(Array.isArray(l)){var u=r(l,s);if(l.length<=u)return"[op:remove] invalid array index: "+t;a(e,o).splice(u,1)}else delete a(e,o)[s]}}),dZ=w((e,t)=>{var n=sZ(),r=iZ(),i=lZ(),a=aZ();t.exports=function(e,t,o,s){if(void 0===o)return"[op:replace] require value, but got undefined";var l=a(t),u=l[l.length-1],c=r(e,l);if(null===c)return"[op:replace] path not found: "+t;if(Array.isArray(c)){var d=i(c,u);if(c.length<=d)return"[op:replace] invalid array index: "+t;n(c[d],o)||s(e,l).splice(d,1,o)}else n(c[u],o)||(s(e,l)[u]=o)}}),fZ=w((e,t)=>{var n=uZ(),r=iZ(),i=lZ(),a=aZ();t.exports=function(e,t,o,s){if(o!==t){var l=a(t),u=l[l.length-1],c=r(e,l);if(null===c)return"[op:move] path not found: "+t;var d=void 0;if(Array.isArray(c)){var f=i(c,u);if(c.length<=f)return"[op:move] invalid array index: "+o;d=c[f],s(e,l).splice(f,1)}else d=c[u],delete s(e,l)[u];return n(e,o,d,s)}}}),hZ=w((e,t)=>{var n=iZ(),r=aZ(),i=uZ();t.exports=function(e,t,a,o){var s=r(t),l=s[s.length-1],u=n(e,s);return null===u?"[op:copy] path not found: "+t:i(e,a,u[l],o)}}),pZ=w((e,t)=>{var n=sZ(),r=iZ(),i=aZ();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],l=r(e,o);return null===l?"[op:test] path not found: "+t:n(l[s],a)?void 0:"[op:test] not matched: "+JSON.stringify(l[s])+" "+JSON.stringify(a)}}),mZ=w((e,t)=>{t.exports=function(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r];return n}for(var i=Object.keys(e),a={},o=0,s=i.length;o<s;o++){var l=i[o];a[l]=e[l]}return a}}),gZ=w((e,t)=>{var n=oZ(),r=uZ(),i=cZ(),a=dZ(),o=fZ(),s=hZ(),l=pZ(),u=sZ(),c=mZ(),d=aZ();t.exports=function(e,t){return{get:function(t){return n(e,t)},add:function(n,i){return r(e,n,i,t)},remove:function(n){return i(e,n,t)},replace:function(n,r){return a(e,n,r,t)},move:function(n,r){return o(e,n,r,t)},copy:function(n,r){return s(e,n,r,t)},test:function(t,n){return l(e,t,n)},deepEqual:u,shallowCopy:c,toKeys:d}}}),vZ=w((e,t)=>{t.exports=function(e,t,n,r){return r.error=n,r.partial?t[""]:e}}),yZ=w((e,t)=>{t.exports=function(e){return!!e}}),bZ=w((e,t)=>{t.exports=function(e){if(e)throw new TypeError(e)}}),wZ=w((e,t)=>{var n=mZ();t.exports=function(e,t){for(var r=0,i=t.length-1;r<i;r++)e=e[t[r]]=n(e[t[r]]);return e}}),xZ=w((e,t)=>{var n=mZ();function r(e,t,r){var i=e[t];return r.has(i)||(i=n(i),r.add(i)),i}t.exports=function(e,t,n){for(var i=0,a=t.length-1;i<a;i++)e=e[t[i]]=r(e,t[i],n);return e}}),_Z=w((e,t)=>{var n=gZ(),r=vZ(),i=yZ(),a=bZ(),o=wZ(),s=xZ(),l=uZ(),u=cZ(),c=dZ(),d=fZ(),f=hZ(),h=pZ(),p=Set||function(){var e=[];return e.has=function(e){return-1!==this.indexOf(e)},e.add=function(e){this.push(e)},e};t.exports=function(e,t,m){if(0===t.length)return e;for(var g,v=(m=m||{}).strict?a:i,y=1===t.length?o:function(e){return function(t,n){return s(t,n,e)}}(new p),b={"":e},w=0,x=t.length;w<x;w++){var _=t[w];switch(_.op){case"add":if(v(l(b,""+_.path,_.value,y)))return r(e,b,_,m);break;case"remove":if(v(u(b,""+_.path,y)))return r(e,b,_,m);break;case"replace":if(v(c(b,""+_.path,_.value,y)))return r(e,b,_,m);break;case"move":if(v(d(b,""+_.from,""+_.path,y)))return r(e,b,_,m);break;case"copy":if(v(f(b,""+_.from,""+_.path,y)))return r(e,b,_,m);break;case"test":if(v(h(b,""+_.path,_.value)))return r(e,b,_,m);break;default:if(!m.custom||!m.custom[_.op])return v("[op:"+_.op+"] unknown"),r(e,b,_,m);if(g=g||n(b,y),v(m.custom[_.op](g,_,w,t)))return r(e,b,_,m)}}return b[""]}}),SZ=w((e,t)=>{t.exports=_Z()}),EZ=w((e,t)=>{var n,r;n=window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._messageId=1,n._messages=new Map,n._worker=e,n._worker.onmessage=n._onMessage.bind(n),n._id=Math.ceil(1e7*Math.random()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return 0===this._messages.size}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments[3];return new Promise(function(a,o){var s=n._messageId++;n._messages.set(s,[a,o,i]),n._worker.postMessage([s,t,e],r||[])})}},{key:"postMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];return new Promise(function(i,a){var o=t._messageId++;t._messages.set(o,[i,a,r]),t._worker.postMessage([o,e],n||[])})}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._worker.postMessage({eventName:e,args:n})}},{key:"_onMessage",value:function(e){var n;if(!Array.isArray(e.data)&&e.data.eventName)return(n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(n,[this,e.data.eventName].concat(a(e.data.args)));var r,i=(r=e.data,Array.isArray(r)?r:Array.from(r)),o=i[0],s=i.slice(1);if(1===o)this._onEvent.apply(this,a(s));else{if(0!==o)throw new Error("Wrong message type '"+o+"'");this._onResult.apply(this,a(s))}}},{key:"_onResult",value:function(e,t,n){var i=this._messages.get(e),a=r(i,2),o=a[0],s=a[1];return this._messages.delete(e),1===t?o(n):s(n)}},{key:"_onEvent",value:function(e,t,n){var i=this._messages.get(e),a=r(i,3)[2];a&&a(t,n)}}]),t}(n(2));e.exports=o},function(e,t,n){e.exports=function(){return n(3)('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);',null)}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return r(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,o=void 0;try{for(var s,l=this.__listeners[e][Symbol.iterator]();!(i=(s=l.next()).done);i=!0)s.value.apply(void 0,n)}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return this}},{key:"once",value:function(e,t){var n=this;return this.on(e,function r(){n.off(e,r),t.apply(void 0,arguments)})}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();e.exports=i},function(e,t,n){var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),a=n(1),o=n.n(a);n.d(t,"workersEnabled",function(){return s}),n.d(t,"default",function(){return l});let s=!!window.Worker;class l{static toBinaryStringWithWorker(e,t){return C(this,null,function*(){let n=new i.a(new o.a),r=yield n.exec("binary",{blob:e,chunk:t});return n.terminate(),r})}static toBinaryStringWithoutWorker(e,t){return n=e,r=t,new Promise((e,t)=>{let i=new FileReader,a=r?Math.min(r,n.size):n.size,o=n.slice(0,a);i.onload=()=>e(i.result),i.onerror=t,i.readAsBinaryString(o)});var n,r}static toBinaryString(e,t,n=!0){return n&&s?this.toBinaryStringWithWorker(e,t):this.toBinaryStringWithoutWorker(e,t)}static toArrayBufferWithWorker(e,t){return C(this,null,function*(){let n=new i.a(new o.a),r=yield n.exec("buffer",{blob:e,chunk:t});return n.terminate(),r})}static toArrayBufferWithoutWorker(e,t){return n=e,r=t,new Promise((e,t)=>{let i=new FileReader,a=r?Math.min(r,n.size):n.size,o=n.slice(0,a);i.onload=()=>e(i.result),i.onerror=t,i.readAsArrayBuffer(o)});var n,r}static toArrayBuffer(e,t,n=!0){return n&&s?this.toArrayBufferWithWorker(e,t):this.toArrayBufferWithoutWorker(e,t)}static compareBuffersWithWorker(e,t){return C(this,null,function*(){if(e===t)return!0;let n=new i.a(new o.a),r=yield n.exec("compare",{buf1:e,buf2:t},[e,t]);return n.terminate(),r})}static compareBuffersWithoutWorker(e,t){return function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;let n=new DataView(e),r=new DataView(t);for(var i=e.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}(e,t)}static compareBuffers(e,t,n=!0){return n&&s?this.compareBuffersWithWorker(e,t):this.compareBuffersWithoutWorker(e,t)}static sizeEqual(e,t){return e.size===t.size}static typeEqual(e,t){return e.type===t.type}static magicNumbersEqual(e,t,n=!0){return C(this,null,function*(){if(e===t)return!0;let r=[24,16,14,12,8,6,4],[i,a]=yield Promise.all([this.toBinaryString(e,24,n),this.toBinaryString(t,24,n)]);for(let e of r)if(i.substring(0,e)===a.substring(0,e))return!0;return!1})}static bytesEqualWithBinaryString(e,t,n,r=!0){return C(this,null,function*(){if(e===t)return!0;let[i,a]=yield Promise.all([this.toBinaryString(e,n,r),this.toBinaryString(t,n,r)]);return i===a})}static bytesEqualWithArrayBuffer(e,t,n,r=!0){return C(this,null,function*(){if(e===t)return!0;let[i,a]=yield Promise.all([this.toArrayBuffer(e,n,r),this.toArrayBuffer(t,n,r)]);return this.compareBuffers(i,a,r)})}static isEqual(e,t){return C(this,arguments,function*(e,t,{methods:n=["size","type","magic","byte"],byte:r="buffer",partial:i=!1,chunks:a=null,worker:o=!0}={}){let s=null;for(let l of n){if(!1===s||i&&!0===s)break;switch(l){case"byte":case"bytes":case"content":a=a instanceof Array?a:[e.size],s=!0;for(let n of a){let i=!1;i="buffer"===r?yield this.bytesEqualWithArrayBuffer(e,t,n,o):yield this.bytesEqualWithBinaryString(e,t,n,o),i||(s=!1)}break;case"magic":case"headers":case"numbers":case"mime":s=yield this.magicNumbersEqual(e,t,o);break;case"size":case"sizes":s=this.sizeEqual(e,t);break;case"type":case"types":s=this.typeEqual(e,t);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return s})}}}])},"object"==typeof e&&"object"==typeof t?t.exports=r():"object"==typeof e?e.blobCompare=r():n.blobCompare=r()}),kZ={};x(kZ,{ToolbarDropdownSelect:()=>ZJ,default:()=>JJ}),e.exports=(V$=kZ,_(i({},"__esModule",{value:!0}),V$)),I(),z();var CZ=Cm();Q();var MZ=0,PZ=class{constructor(e){this._studio=e,E(this,"_id"),E(this,"_state",{type:"Ready"}),this._id=String(MZ++)}get status(){return this._state.type}reset(){let{_state:e}=this;if("Ready"!==e.type){if("Captured"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.");this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard()}}commit(){let{_state:e}=this;if("Captured"!==e.type){if("Ready"===e.type)return;throw"Committed"===e.type?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"}}capture(e){if("Captured"===this._state.type&&this.reset(),"Ready"!==this._state.type)throw"Committed"===this._state.type?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()");{let t=!0;try{this._state=g({type:"Captured"},this._capture(e)),t=!1}finally{t&&(this._state={type:"Discarded"})}}}_capture(e){let t=[],n=this._studio.tempTransaction(n=>{let r=!0,i={set:(e,i)=>{if(!r)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:a,path:o}=(0,CZ.getPointerParts)(e);if(!U(a))throw new Error("We can only scrub props of Sheet Objects for now");n.set(e,i),t.push(e)}};try{e(i)}finally{r=!1}}),r=this._studio.tempTransaction(({stateEditors:e})=>{t.forEach(t=>{let{root:n,path:r}=(0,CZ.getPointerParts)(t);U(n)&&R(n.template.getDefaultsAtPointer(t),(t,r)=>{e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(v(g({},n.address),{pathToProp:r}))},r)})});return{transaction:n,flagsTransaction:r}}discard(){let{_state:e}=this;if("Captured"!==e.type&&"Ready"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded");"Captured"===e.type&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"}}},TZ=Cm(),AZ="undefined"!=typeof window?Promise.resolve().then(()=>(H$(),j$)).then(e=>e.default):null,IZ=class{constructor(e){this.studio=e,E(this,"_rendered",!1),E(this,"_nonSSRBits",AZ?AZ.then(e=>new e):Promise.reject()),E(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return"everythingIsHidden"===(0,TZ.val)(this.studio.atomP.ahistoric.visibilityState)}renderToolset(e,t){let n=!1,r=null;return this._nonSSRBits.then(i=>{n||(r=i.renderToolset(e,t))}).catch(e=>{}),()=>{r?r():n||(n=!0)}}},RZ=Cm();function OZ(e){return e}var DZ=(e,t=OZ)=>{let n=n=>({type:e,payload:t(n)});return n.type=e,n.is=t=>t&&t.type&&t.type===e,n},zZ=S(rZ()),LZ=S(SZ());td();var NZ,jZ=new Uint8Array(16);function FZ(){if(!NZ&&!(NZ="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return NZ(jZ)}var UZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var BZ,VZ=function(e){return"string"==typeof e&&UZ.test(e)},HZ=[];for(BZ=0;BZ<256;++BZ)HZ.push((BZ+256).toString(16).substr(1));var WZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(HZ[e[t+0]]+HZ[e[t+1]]+HZ[e[t+2]]+HZ[e[t+3]]+"-"+HZ[e[t+4]]+HZ[e[t+5]]+"-"+HZ[e[t+6]]+HZ[e[t+7]]+"-"+HZ[e[t+8]]+HZ[e[t+9]]+"-"+HZ[e[t+10]]+HZ[e[t+11]]+HZ[e[t+12]]+HZ[e[t+13]]+HZ[e[t+14]]+HZ[e[t+15]]).toLowerCase();if(!VZ(n))throw TypeError("Stringified UUID is invalid");return n};var GZ=function(e,t,n){var r=(e=e||{}).random||(e.rng||FZ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return WZ(r)},qZ={replaceHistory:DZ("@history/replaceHistory"),startHistoryFromScratch:DZ("@history/startHistoryFromScratch"),undo:DZ("@history/undo"),redo:DZ("@history/redo")},XZ={type:"@history/unknownAction",payload:""},YZ={maxNumberOfCommits:100};function KZ(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}hW();var $Z={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},ZZ=DZ("@storeBundle/replacePersistentState",e=>e),QZ=DZ("@storeBundle/reduceParts",e=>e),JZ={historic:qZ,replacePersistentState:ZZ,reduceParts:QZ},eQ=DZ("@storeBundle/setInnerHistoricState",e=>e),tQ=((e,t=YZ)=>{let n=KZ(e(void 0,XZ));return function(r,i){return qZ.startHistoryFromScratch.is(i)?KZ(e(void 0,i.payload)):qZ.replaceHistory.is(i)?i.payload:qZ.undo.is(i)?r?function(e){if(void 0===e.currentCommitHash)return e;let t=e.listOfCommitHashes.findIndex(t=>t===e.currentCommitHash);if(-1===t)throw new Error("This should never happen");let n=e.commitsByHash[e.currentCommitHash],r=(0,LZ.default)(e.innerState,n.backwardDiff),i=t-1,a=-1===i?void 0:e.listOfCommitHashes[i];return v(g({},e),{currentCommitHash:a,innerState:r})}(r):n:qZ.redo.is(i)?r?function(e){if(0===e.listOfCommitHashes.length)return e;let t=e.listOfCommitHashes.findIndex(t=>t===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let n=t+1,r=e.listOfCommitHashes[n],i=e.commitsByHash[r],a=(0,LZ.default)(e.innerState,i.forwardDiff);return v(g({},e),{currentCommitHash:r,innerState:a})}(r):n:r?function(e,t,n){if(t===e.innerState)return e;let r=function(e,t){let n=zZ.default.diff(e,t,{invertible:!1}),r=zZ.default.diff(t,e,{invertible:!1}),i=Date.now(),a=GZ();return{forwardDiff:n,backwardDiff:r,timestamp:i,hash:a}}(e.innerState,t);if(0===r.forwardDiff.length)return e;let i=ed(e.listOfCommitHashes),a={currentCommitHash:r.hash,commitsByHash:g({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==i){let t=e.listOfCommitHashes.findIndex(t=>t===e.currentCommitHash);e.listOfCommitHashes.slice(t+1).forEach(e=>{delete a.commitsByHash[e]}),a.listOfCommitHashes.splice(t+1,a.listOfCommitHashes.length)}if(a.listOfCommitHashes.push(r.hash),a.commitsByHash[r.hash]=r,a.listOfCommitHashes.length>n.maxNumberOfCommits){let e=a.listOfCommitHashes.length-n.maxNumberOfCommits;a.listOfCommitHashes.slice(0,e).forEach(e=>{delete a.commitsByHash[e]}),a.listOfCommitHashes.splice(0,e)}return a}(r,e(r.innerState,i),t):KZ(e(void 0,i))}})((e=$Z.historic,t)=>eQ.is(t)?t.payload:e),nQ=(e,t)=>{if(ZZ.is(t)){let{historic:n,ahistoric:r}=t.payload;return{$persistent:{historic:n,ahistoric:r},ephemeral:(null==e?void 0:e.ephemeral)||$Z.ephemeral}}if(e){let{historic:n,ahistoric:r}=e.$persistent,{ephemeral:i}=e;if(QZ.is(t)){let a={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},o=t.payload(a);if(o===a)return e;n.innerState!==o.historic&&(n=tQ(n,eQ(o.historic))),r=o.ahistoric,i=o.ephemeral}else{let r=tQ(n,t);if(r===n)return e;n=r}return{$persistent:n===e.$persistent.historic&&r===e.$persistent.ahistoric?e.$persistent:{historic:n,ahistoric:r},ephemeral:i}}return{$persistent:{historic:tQ(void 0,{}),ahistoric:$Z.ahistoric},ephemeral:$Z.ephemeral}},rQ=DZ("@history/pushTempAction",e=>e),iQ=DZ("@history/discardTempAction",e=>e),aQ=DZ("@history/commitTempAction",e=>e),oQ=0,sQ=(e,t)=>{if(e){let n,{tempActions:r,permanent:i}=e.$temps;if(rQ.is(t))r=[...r,t];else if(aQ.is(t)){let e=r.find(e=>e.payload.id===t.payload);e?(n=e.payload.originalAction,r=r.filter(e=>e.payload.id!==t.payload)):lW.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else iQ.is(t)?r=r.filter(e=>e.payload.id!==t.payload):n=t;n&&(i=nQ(e.$temps.permanent,n));let a={historic:i.$persistent.historic.innerState,ahistoric:i.$persistent.ahistoric,ephemeral:i.ephemeral};for(let e of r)a=e.payload.originalAction.payload(a);return g({$temps:{tempActions:r,permanent:i},$persistent:i.$persistent},a)}{let e=nQ(void 0,t);return{$temps:{permanent:e,tempActions:[]},$persistent:e.$persistent,historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral}}};function lQ(e,t){if("object"!=typeof e||null===e)return;if(0===t.length){for(let t of Object.keys(e))delete e[t];return}let n=t.slice(0,t.length-1),r=e,i=new WeakMap;for(let e of n){let t=r,n=t[e];if("object"!=typeof n||null===n)return;i.set(n,t),r=n}let a=t.slice().reverse();for(let e of a){if(delete r[e],Object.keys(r).length>0)return;r=i.get(r)}}function uQ(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function cQ(e){return!!e&&!!e[KQ]}function dQ(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$Q}(e)||Array.isArray(e)||!!e[YQ]||!!e.constructor[YQ]||gQ(e)||vQ(e))}function fQ(e,t,n){void 0===n&&(n=!1),0===hQ(e)?(n?Object.keys:ZQ)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function hQ(e){var t=e[KQ];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:gQ(e)?2:vQ(e)?3:0}function pQ(e,t){return 2===hQ(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mQ(e,t,n){var r=hQ(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function gQ(e){return WQ&&e instanceof Map}function vQ(e){return GQ&&e instanceof Set}function yQ(e){return e.o||e.t}function bQ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=QQ(e);delete t[KQ];for(var n=ZQ(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function wQ(e,t){return void 0===t&&(t=!1),_Q(e)||cQ(e)||!dQ(e)||(hQ(e)>1&&(e.set=e.add=e.clear=e.delete=xQ),Object.freeze(e),t&&fQ(e,function(e,t){return wQ(t,!0)},!0)),e}function xQ(){uQ(2)}function _Q(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function SQ(e){var t=JQ[e];return t||uQ(18,e),t}function EQ(){return VQ}function kQ(e,t){t&&(SQ("Patches"),e.u=[],e.s=[],e.v=t)}function CQ(e){MQ(e),e.p.forEach(TQ),e.p=null}function MQ(e){e===VQ&&(VQ=e.l)}function PQ(e){return VQ={p:[],l:VQ,h:e,m:!0,_:0}}function TQ(e){var t=e[KQ];0===t.i||1===t.i?t.j():t.O=!0}function AQ(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||SQ("ES5").S(t,e,r),r?(n[KQ].P&&(CQ(t),uQ(4)),dQ(e)&&(e=IQ(t,e),t.l||OQ(t,e)),t.u&&SQ("Patches").M(n[KQ],e,t.u,t.s)):e=IQ(t,n,[]),CQ(t),t.u&&t.v(t.u,t.s),e!==XQ?e:void 0}function IQ(e,t,n){if(_Q(t))return t;var r=t[KQ];if(!r)return fQ(t,function(i,a){return RQ(e,r,t,i,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return OQ(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=bQ(r.k):r.o;fQ(3===r.i?new Set(i):i,function(t,a){return RQ(e,r,i,t,a,n)}),OQ(e,i,!1),n&&e.u&&SQ("Patches").R(r,n,e.u,e.s)}return r.o}function RQ(e,t,n,r,i,a){if(cQ(i)){var o=IQ(e,i,a&&t&&3!==t.i&&!pQ(t.D,r)?a.concat(r):void 0);if(mQ(n,r,o),!cQ(o))return;e.m=!1}if(dQ(i)&&!_Q(i)){if(!e.h.F&&e._<1)return;IQ(e,i),t&&t.A.l||OQ(e,i)}}function OQ(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&wQ(t,n)}function DQ(e,t){var n=e[KQ];return(n?yQ(n):e)[t]}function zQ(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function LQ(e){e.P||(e.P=!0,e.l&&LQ(e.l))}function NQ(e){e.o||(e.o=bQ(e.t))}function jQ(e,t,n){var r=gQ(t)?SQ("MapSet").N(t,n):vQ(t)?SQ("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:EQ(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=eJ;n&&(i=[r],a=tJ);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):SQ("ES5").J(t,n);return(n?n.A:EQ()).p.push(r),r}function FQ(e){return cQ(e)||uQ(22,e),function e(t){if(!dQ(t))return t;var n,r=t[KQ],i=hQ(t);if(r){if(!r.P&&(r.i<4||!SQ("ES5").K(r)))return r.t;r.I=!0,n=UQ(t,i),r.I=!1}else n=UQ(t,i);return fQ(n,function(t,i){r&&function(e,t){return 2===hQ(e)?e.get(t):e[t]}(r.t,t)===i||mQ(n,t,e(i))}),3===i?new Set(n):n}(e)}function UQ(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return bQ(e)}Oz(),Oz(),PP();var BQ,VQ,HQ="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),WQ="undefined"!=typeof Map,GQ="undefined"!=typeof Set,qQ="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,XQ=HQ?Symbol.for("immer-nothing"):((BQ={})["immer-nothing"]=!0,BQ),YQ=HQ?Symbol.for("immer-draftable"):"__$immer_draftable",KQ=HQ?Symbol.for("immer-state"):"__$immer_state",$Q=""+Object.prototype.constructor,ZQ="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,QQ=Object.getOwnPropertyDescriptors||function(e){var t={};return ZQ(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},JQ={},eJ={get:function(e,t){if(t===KQ)return e;var n=yQ(e);if(!pQ(n,t))return function(e,t,n){var r,i=zQ(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!dQ(r)?r:r===DQ(e.t,t)?(NQ(e),e.o[t]=jQ(e.A.h,r,e)):r},has:function(e,t){return t in yQ(e)},ownKeys:function(e){return Reflect.ownKeys(yQ(e))},set:function(e,t,n){var r=zQ(yQ(e),t);if(null!=r&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=DQ(yQ(e),t),a=null==i?void 0:i[KQ];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||pQ(e.t,t)))return!0;NQ(e),LQ(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==DQ(e.t,t)||t in e.t?(e.D[t]=!1,NQ(e),LQ(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=yQ(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty:function(){uQ(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){uQ(12)}},tJ={};fQ(eJ,function(e,t){tJ[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tJ.deleteProperty=function(e,t){return eJ.deleteProperty.call(this,e[0],t)},tJ.set=function(e,t,n){return eJ.set.call(this,e[0],t,n,e[0])};var nJ=function(){function e(e){var t=this;this.g=qQ,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))})}}var o;if("function"!=typeof n&&uQ(6),void 0!==r&&"function"!=typeof r&&uQ(7),dQ(e)){var s=PQ(t),l=jQ(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?CQ(s):MQ(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return kQ(s,r),AQ(e,s)},function(e){throw CQ(s),e}):(kQ(s,r),AQ(o,s))}if(!e||"object"!=typeof e)return(o=n(e))===XQ?void 0:(void 0===o&&(o=e),t.F&&wQ(o,!0),o);uQ(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(i))})}:[t.produce(e,n,function(e,t){r=e,i=t}),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){dQ(e)||uQ(8),cQ(e)&&(e=FQ(e));var t=PQ(this),n=jQ(this,e,void 0);return n[KQ].C=!0,MQ(t),n},t.finishDraft=function(e,t){var n=(e&&e[KQ]).A;return kQ(n,t),AQ(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!qQ&&uQ(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=SQ("Patches").$;return cQ(e)?i(e,t):this.produce(e,function(e){return i(e,t.slice(n+1))})},e}(),rJ=new nJ;rJ.produce,rJ.produceWithPatches.bind(rJ),rJ.setAutoFreeze.bind(rJ),rJ.setUseProxies.bind(rJ),rJ.applyPatches.bind(rJ);var iJ=rJ.createDraft.bind(rJ),aJ=rJ.finishDraft.bind(rJ);cd(),Md(),lf(),vf(),yf(),mH(),Mf(),Q();var oJ,sJ,lJ,uJ,cJ={create(e){let t={byId:{},allIds:{}};if(e)for(let[n,r]of e)t.byId[n]=r,t.allIds[n]=!0;return t},shallowCopy:e=>({byId:g({},null==e?void 0:e.byId),allIds:g({},null==e?void 0:e.allIds)}),add:(e,t,n)=>({byId:v(g({},null==e?void 0:e.byId),{[t]:n}),allIds:v(g({},null==e?void 0:e.allIds),{[t]:!0})}),merge(e){let t=cJ.create();for(let n=0;n<e.length;n++)t.byId=g(g({},t.byId),e[n].byId),t.allIds=g(g({},t.allIds),e[n].allIds);return t},remove(e,t){let n=cJ.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter(e,t){let n=cJ.shallowCopy(e);for(let[e,r]of Object.entries(n.byId))t(r)||(delete n.allIds[e],delete n.byId[e]);return n}},dJ=e=>(oJ=e,sJ),fJ=()=>{if(void 0===oJ)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return oJ};function hJ(){let e,t,n=new Promise((n,i)=>{e=e=>{n(e),r.status="resolved"},t=e=>{i(e),r.status="rejected"}}),r={resolve:e,reject:t,promise:n,status:"pending"};return r}(e=>{var t,n,r;(e=>{(e.panelPositions||(e.panelPositions={})).setPanelPosition=function(e){let t=fJ().historic;null!=t.panelPositions||(t.panelPositions={}),t.panelPositions[e.panelId]=e.position},(e=>{var t;e._ensure=function(){var e;return null!=(e=fJ().historic).panels||(e.panels={}),fJ().historic.panels},(t=e.outline||(e.outline={}))._ensure=function(){let e=lJ.studio.historic.panels._ensure();return null!=e.outlinePanel||(e.outlinePanel={}),e.outlinePanel},(e=>{e.set=function(e){let n=[];for(let t of kf(e))N(t)?n.push(g({type:"Project"},t.address)):j(t)?(n.push(g({type:"Sheet"},t.template.address)),lJ.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(t.address)):F(t)?n.push(g({type:"Sheet"},t.address)):U(t)?(n.push(g({type:"SheetObject"},t.template.address)),lJ.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(t.sheet.address)):V(t)&&n.push(g({type:"SheetObject"},t.address));t._ensure().selection=n},e.unset=function(){t._ensure().selection=[]}})(t.selection||(t.selection={})),(e=>{e._ensure=function(){let e=lJ.studio.historic.panels._ensure();return null!=e.sequenceEditor||(e.sequenceEditor={}),e.sequenceEditor},(t=>{t.setIsOpen=function(t){(function(){let t=e._ensure();return null!=t.graphEditor||(t.graphEditor={height:.5,isOpen:!1}),t.graphEditor}()).isOpen=t.isOpen}})(e.graphEditor||(e.graphEditor={}))})(e.sequenceEditor||(e.sequenceEditor={}))})(e.panels||(e.panels={})),(e=>{var t;(t=e.stateByProjectId||(e.stateByProjectId={}))._ensure=function(e){let t=fJ().historic;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(e=>{e._ensure=function(e){let t=lJ.studio.historic.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),t.stateBySheetId[e.sheetId]},e.setSelectedInstanceId=function(e){lJ.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(e).selectedInstanceId=e.sheetInstanceId},(t=>{function n(e){let t=lJ.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(e).sequenceEditor;return t.markerSet||(t.markerSet=cJ.create()),t.markerSet}t.addPropToGraphEditor=function(t){let{selectedPropsByObject:n}=e._ensure(t).sequenceEditor;n[t.objectKey]||(n[t.objectKey]={});let r=n[t.objectKey],i=Iz(t.pathToProp),a=new Set(Object.keys(XV));for(let[e,t]of Object.entries(FQ(n)))for(let[e,n]of Object.entries(t))a.delete(n);let o=a.size>0?a.values().next().value:Object.keys(XV)[0];r[i]=o},t.removePropFromGraphEditor=function(t){let{selectedPropsByObject:n}=e._ensure(t).sequenceEditor;if(!n[t.objectKey])return;let r=n[t.objectKey],i=Iz(t.pathToProp);r[i]&&lQ(n,[t.objectKey,i])},t.replaceMarkers=function(e){let t=n(e.sheetAddress),r=e.markers.filter(e=>!!isFinite(e.position)).map(t=>v(g({},t),{position:e.snappingFunction(t.position)})),i=kd(r,"id"),a=cJ.filter(t,e=>e&&!i[e.id]),o=kd(Object.values(a.byId),"position");r.forEach(({position:e})=>{let t=o[e];t&&(a=cJ.remove(a,t.id))}),Object.assign(t,cJ.merge([a,cJ.create(r.map(e=>[e.id,e]))]))},t.removeMarker=function(e){let t=n(e.sheetAddress);Object.assign(t,cJ.remove(t,e.markerId))},t.updateMarker=function(e){let t=n(e.sheetAddress).byId[e.markerId];void 0!==t&&(t.label=e.label)}})(e.sequenceEditor||(e.sequenceEditor={}))})(t.stateBySheetId||(t.stateBySheetId={}))})(e.projects||(e.projects={}))})(e.historic||(e.historic={})),(t=e.ephemeral||(e.ephemeral={})).setShowOutline=function(e){fJ().ephemeral.showOutline=e},(e=>{(e=>{var t;e._ensure=function(e){let t=fJ().ephemeral;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=e.stateBySheetId||(e.stateBySheetId={}))._ensure=function(e){let t=lJ.studio.ephemeral.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={stateByObjectKey:{}}),t.stateBySheetId[e.sheetId]},(e=>{e._ensure=function(e){var t;let n=lJ.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(e).stateByObjectKey;return null!=n[t=e.objectKey]||(n[t]={}),n[e.objectKey]},(e=>{function t(e){let t=lJ.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(e);return null!=t.valuesBeingScrubbed||(t.valuesBeingScrubbed={}),t.valuesBeingScrubbed}e._ensure=t,e.flag=function(e){df(t(e),e.pathToProp,!0)}})(e.propsBeingScrubbed||(e.propsBeingScrubbed={}))})(t.stateByObjectKey||(t.stateByObjectKey={}))})(e.stateByProjectId||(e.stateByProjectId={}))})(t.projects||(t.projects={})),(n=e.ahistoric||(e.ahistoric={})).setPinOutline=function(e){fJ().ahistoric.pinOutline=e},n.setPinDetails=function(e){fJ().ahistoric.pinDetails=e},n.setPinNotifications=function(e){fJ().ahistoric.pinNotifications=e},n.setVisibilityState=function(e){fJ().ahistoric.visibilityState=e},n.setClipboardKeyframes=function(e){let t=Az(e.map(e=>e.pathToProp)),n=e.map(({keyframe:e,pathToProp:n})=>({keyframe:e,pathToProp:n.slice(t.length)})),r=fJ();r.ahistoric.clipboard?r.ahistoric.clipboard.keyframesWithRelativePaths=n:r.ahistoric.clipboard={keyframesWithRelativePaths:n}},(e=>{e._ensure=function(e){let t=fJ().ahistoric;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(e=>{e._ensure=function(e){let t=lJ.studio.ahistoric.projects.stateByProjectId._ensure(e);return t.collapsedItemsInOutline||(t.collapsedItemsInOutline={}),t.collapsedItemsInOutline},e.set=function(e){let t=lJ.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(e);e.isCollapsed?t[e.itemKey]=!0:delete t[e.itemKey]}})(e.collapsedItemsInOutline||(e.collapsedItemsInOutline={})),(e=>{e._ensure=function(e){let t=lJ.studio.ahistoric.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={}),t.stateBySheetId[e.sheetId]},(e=>{var t;e._ensure=function(e){let t=lJ.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(e);return t.sequence||(t.sequence={}),t.sequence},(t=e.focusRange||(e.focusRange={})).set=function(e){lJ.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).focusRange={range:e.range,enabled:e.enabled}},t.unset=function(e){lJ.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).focusRange=void 0},(e=>{e.set=function(e){lJ.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).clippedSpaceRange=g({},e.range)}})(e.clippedSpaceRange||(e.clippedSpaceRange={})),(e=>{e.set=function(e){let t=function(e){let t=lJ.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e),n=t.collapsableItems;return n||(n=t.collapsableItems=cJ.create()),n}(e);Object.assign(t,cJ.add(t,e.studioSheetItemKey,{isCollapsed:e.isCollapsed}))}})(e.sequenceEditorCollapsableItems||(e.sequenceEditorCollapsableItems={}))})(e.sequence||(e.sequence={}))})(e.stateBySheetId||(e.stateBySheetId={}))})((r=n.projects||(n.projects={})).stateByProjectId||(r.stateByProjectId={}))})((lJ=sJ||(sJ={})).studio||(lJ.studio={})),(e=>{var t,n;(e.revisionHistory||(e.revisionHistory={})).add=function(e){let t=fJ().historic.coreByProject[e.projectId].revisionHistory;t.unshift(e.revision),t.length>50&&(t.length=50)},(t=e.sheetsById||(e.sheetsById={}))._ensure=function(e){let t=fJ().historic.coreByProject[e.projectId].sheetsById;return t[e.sheetId]||(t[e.sheetId]={staticOverrides:{byObject:{}}}),t[e.sheetId]},t.forgetObject=function(e){let t=fJ().historic.coreByProject[e.projectId].sheetsById[e.sheetId];if(!t)return;delete t.staticOverrides.byObject[e.objectKey];let n=t.sequence;n&&delete n.tracksByObject[e.objectKey]},t.forgetSheet=function(e){fJ().historic.coreByProject[e.projectId].sheetsById[e.sheetId]&&delete fJ().historic.coreByProject[e.projectId].sheetsById[e.sheetId]},(e=>{function t(e){let t=lJ.coreByProject.historic.sheetsById._ensure(e);return null!=t.sequence||(t.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),t.sequence}function n(e){var t;let n=lJ.coreByProject.historic.sheetsById.sequence._ensure(e).tracksByObject;return null!=n[t=e.objectKey]||(n[t]={trackData:{},trackIdByPropPath:{}}),n[e.objectKey]}function r(e){return n(e).trackData[e.trackId]}function i(e){let t=r(e);if(t)return t.keyframes.find(t=>t.id===e.keyframeId)}function a(e){let t=r(e);if(!t)return;let n=FQ(t.keyframes),i=e.keyframes.filter(e=>!("number"==typeof e.value&&!isFinite(e.value)||!e.handles.every(e=>isFinite(e)))).map(t=>v(g({},t),{position:e.snappingFunction(t.position)})),a=kd(i,"id"),o=n.filter(e=>!a[e.id]),s=kd(o,"position");i.forEach(({position:e})=>{let t=s[e];t&&rf(o,t)});let l=hf([...o,...i],"position");t.keyframes=l}e._ensure=t,e.setLength=function(e){t(e).length=ds(parseFloat(e.length.toFixed(2)),.01,1/0)},e.setSubUnitsPerUnit=function(e){t(e).subUnitsPerUnit=ds(e.subUnitsPerUnit,1,p(2,12))},e.setPrimitivePropAsSequenced=function(e,t){let r=n(e),i=Iz(e.pathToProp);if("string"==typeof r.trackIdByPropPath[i])return;let a=SP(10),o={type:"BasicKeyframedTrack",__debugName:"".concat(e.objectKey,":").concat(i),keyframes:[]};r.trackData[a]=o,r.trackIdByPropPath[i]=a},e.setPrimitivePropAsStatic=function(e){let t=n(e),r=Iz(e.pathToProp),i=t.trackIdByPropPath[r];"string"==typeof i&&(delete t.trackIdByPropPath[r],delete t.trackData[i],lJ.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(e))},e.setCompoundPropAsStatic=function(e){let t=n(e);for(let n of Object.keys(t.trackIdByPropPath)){let r=JSON.parse(n);if(e.pathToProp.every((e,t)=>r[t]===e)){let e=t.trackIdByPropPath[n];if("string"!=typeof e)continue;delete t.trackIdByPropPath[n],delete t.trackData[e]}}lJ.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(e)},e.setKeyframeAtPosition=function(e){let t=e.snappingFunction(e.position),n=r(e);if(!n)return;let{keyframes:i}=n,a=i.findIndex(e=>e.position===t);if(-1!==a)return void(i[a].value=e.value);let o=ud(i,e=>e.position<t);if(-1===o)return void i.unshift({id:CP(),position:t,connectedRight:!0,handles:e.handles||[.5,1,.5,0],type:e.type||"bezier",value:e.value});let s=i[o];i.splice(o+1,0,{id:CP(),position:t,connectedRight:s.connectedRight,handles:e.handles||[.5,1,.5,0],type:e.type||"bezier",value:e.value})},e.unsetKeyframeAtPosition=function(e){let t=r(e);if(!t)return;let{keyframes:n}=t,i=n.findIndex(t=>t.position===e.position);-1!==i&&n.splice(i,1)},e.transformKeyframes=function(e){let t=r(e);if(!t)return;let n=FQ(t.keyframes).filter(t=>e.keyframeIds.includes(t.id)).map(t=>{let n=t.position,r=e.snappingFunction(function(e,{scale:t,origin:n,translate:r}){return r+(n+(e-n)*t)}(n,e));return v(g({},t),{position:r})});a(v(g({},e),{keyframes:n}))},e.setTweenBetweenKeyframes=function(e){let t=r(e);t&&(t.keyframes=t.keyframes.map((n,r)=>{let i=t.keyframes[r-1],a=e.keyframeIds.includes(n.id),o=e.keyframeIds.includes(null==i?void 0:i.id);return a&&!o?v(g({},n),{handles:[n.handles[0],n.handles[1],e.handles[0],e.handles[1]]}):a&&o?v(g({},n),{handles:[e.handles[2],e.handles[3],e.handles[0],e.handles[1]]}):o?v(g({},n),{handles:[e.handles[2],e.handles[3],n.handles[2],n.handles[3]]}):n}))},e.setHandlesForKeyframe=function(e){var t,n,r,a,o,s,l,u;let c=i(e);c&&(c.handles=[null!=(n=null==(t=e.end)?void 0:t[0])?n:c.handles[0],null!=(a=null==(r=e.end)?void 0:r[1])?a:c.handles[1],null!=(s=null==(o=e.start)?void 0:o[0])?s:c.handles[2],null!=(u=null==(l=e.start)?void 0:l[1])?u:c.handles[3]])},e.deleteKeyframes=function(e){let t=r(e);t&&(t.keyframes=t.keyframes.filter(t=>-1===e.keyframeIds.indexOf(t.id)))},e.setKeyframeType=function(e){let t=i(e);t&&(t.type=e.keyframeType)},e.replaceKeyframes=a})(t.sequence||(t.sequence={})),(e=>{function t(e){var t;let n=lJ.coreByProject.historic.sheetsById._ensure(e).staticOverrides.byObject;return null!=n[t=e.objectKey]||(n[t]={}),n[e.objectKey]}e.setValueOfCompoundProp=function(e){let n=t(e);df(n,e.pathToProp,e.value)},e.setValueOfPrimitiveProp=function(e){let n=t(e);df(n,e.pathToProp,e.value)},e.unsetValueOfPrimitiveProp=function(e){let t=lJ.coreByProject.historic.sheetsById._ensure(e).staticOverrides.byObject[e.objectKey];t&&lQ(t,e.pathToProp)}})((n=t.staticOverrides||(t.staticOverrides={})).byObject||(n.byObject={}))})((uJ=lJ.coreByProject||(lJ.coreByProject={})).historic||(uJ.historic={}));var pJ=Cm();ts();var mJ=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==hh?hh:e),gJ=mJ,vJ="@@redux/INIT";function yJ(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(yJ)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){return a}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),s.push(e),function(){if(t){t=!1,u();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!es(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:vJ}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,f({type:vJ})}})[gJ]=function(){var e,t=d;return e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}},e[gJ]=function(){return this},e},r}function bJ(e){let t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}();return yJ(e.rootReducer,void 0,t)}hW(),Kc();var wJ=new WeakMap,xJ=(e,t,n)=>{let r=_J(n);!function(){let n=localStorage.getItem(r);if(n){let r,i=!0;try{r=JSON.parse(n),i=!1}catch(e){lW.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{i||(t=>{e.dispatch(JZ.replacePersistentState(t))})(r),t()}}else t()}();let i=()=>{let t=e.getState().$persistent;t!==wJ.get(e)&&(wJ.set(e,t),localStorage.setItem(r,JSON.stringify(t)))};e.subscribe(Yc(i,1e3)),window&&window.addEventListener("beforeunload",i)};function _J(e){return e+".persistent"}DA(),Q(),Oo(),Cd(),z(),MM();var SJ=Cm();function EJ(e){if("boolean"==typeof e||"string"==typeof e||"number"==typeof e)return e;if(es(e)){let t={},n=!1;for(let[r,i]of Object.entries(e))void 0!==EJ(i)&&(t[r]=i,n=!0);if(n)return t}}function kJ(e,t,n){for(let[r,i]of Object.entries(e.props))if("compound"===i.type)kJ(i,[...t,r],n);else{if("enum"===i.type)throw new Error("Not yet implemented");n(i,[...t,r])}}function CJ(e,t,n){return{set:(n,r)=>{e();let i=EJ(r);if(void 0===i)return;let{root:a,path:o}=(0,SJ.getPointerParts)(n);if(U(a)){let e=a.template.getMapOfValidSequenceTracks_forStudio().getValue(),r=NC(a.template.staticConfig,o);if(!r)throw new Error("Object ".concat(a.address.objectKey," does not have a prop at ").concat(JSON.stringify(o)));let s=(n,r,i)=>{if(null==n)return;if(void 0===EJ(r.deserializeAndSanitize(n)))throw new Error("Invalid value ".concat(EY(n)," for object.props").concat(i.map(e=>"[".concat(JSON.stringify(e),"]")).join("")," is invalid"));let o=v(g({},a.address),{pathToProp:i}),s=Ro(e,i);if("string"==typeof s){let e=a.sheet.getSequence();e.position=e.closestGridPosition(e.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(v(g({},o),{trackId:s,position:e.position,value:n,snappingFunction:e.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(v(g({},o),{value:n}))};if("compound"===r.type){let e=(0,SJ.getPointerParts)(n).path,t=e.length;kJ(r,e,(e,n)=>{let r=n.slice(t),a=CM(i,r);if(void 0===a)throw new Error("Property object.props".concat(n.map(e=>"[".concat(JSON.stringify(e),"]")).join("")," is required but not provided"));s(a,e,n)})}else{if("enum"===r.type)throw new Error("Enums aren't implemented yet");s(i,r,o)}}else{if(!B(a))throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far");{let[e]=o;if("subUnitsPerUnit"===e){if("number"!=typeof i||!Sd(i)||i<1)throw new Error("Value ".concat(i," is not an integer, which is required for setting sequence prop ").concat(e));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(v(g({},a.address),{subUnitsPerUnit:i}))}else{if("length"!==e)throw new Error("Setting sequence prop ".concat(e," is not supported"));if("number"!=typeof i||i<=.001)throw new Error("Value ".concat(i," is not a positive number, which is required for setting sequence prop ").concat(e));t.coreByProject.historic.sheetsById.sequence.setLength(v(g({},a.address),{length:i}))}}}},unset:n=>{e();let{root:r,path:i}=(0,SJ.getPointerParts)(n);if(!U(r))throw new Error("Only setting props of SheetObject-s is supported in a transaction so far");{let e=r.template.getMapOfValidSequenceTracks_forStudio().getValue(),a=CM(r.template.getDefaultValues().getValue(),i),o=NC(r.template.staticConfig,i),s=(n,i)=>{let a=v(g({},r.address),{pathToProp:i}),s=Ro(e,i);"string"==typeof s?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(v(g({},a),{trackId:s,position:r.sheet.getSequence().positionSnappedToGrid})):void 0!==o&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(a)};"compound"===o.type?R(a,(e,t)=>{s(e,t)},(0,SJ.getPointerParts)(n).path):s(a,i)}},get drafts(){return e(),n},get stateEditors(){return t}}}ZC(),Mf(),jY();var MJ=class{constructor(){E(this,"_reduxStore"),E(this,"_atom"),E(this,"atomP"),this._reduxStore=bJ({rootReducer:sQ,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=function(e){let t=e.getState(),n=new pJ.Atom(t);return e.subscribe(()=>{let r=e.getState();n.set(r),t=r}),n}(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=hJ();return!0===e.usePersistentStorage?xJ(this._reduxStore,()=>{this.tempTransaction(({drafts:e})=>{e.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:e})=>{e.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return((e,t)=>{let n=_J(t),r=e.getState().$persistent;localStorage.removeItem(n),wJ.set(e,r)})(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(JZ.historic.startHistoryFromScratch(JZ.reduceParts(t=>v(g({},t),{historic:e}))))}tempTransaction(e){let t,n=(()=>{let e=oQ++;return{push:t=>rQ({id:e,originalAction:t}),discard:()=>iQ(e),commit:()=>aQ(e)}})(),r=n.push(JZ.reduceParts(n=>{let r={historic:iJ(n.historic),ahistoric:iJ(n.ahistoric),ephemeral:iJ(n.ephemeral)},i=!0,a=CJ(()=>{if(!i)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},dJ(r),r);try{return e(a),i=!1,{historic:aJ(r.historic),ahistoric:aJ(r.ahistoric),ephemeral:aJ(r.ephemeral)}}catch(e){return t=e,n}finally{dJ(void 0)}}));if(this._reduxStore.dispatch(r),t)throw this._reduxStore.dispatch(n.discard()),t;return{commit:()=>{this._reduxStore.dispatch(n.commit())},discard:()=>{this._reduxStore.dispatch(n.discard())}}}undo(){this._reduxStore.dispatch(JZ.historic.undo())}redo(){this._reduxStore.dispatch(JZ.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=CA();this.tempTransaction(({stateEditors:n})=>{n.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return g({},n)}},PJ=Cm(),TJ=class{constructor(){E(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}};Q(),kb(),I(),Mf(),Wq();var AJ=class{constructor(e){E(this,"ui",{hide(){T().ui.hide()},get isHidden(){return T().ui.isHidden},restore(){T().ui.restore()},renderToolset:(e,t)=>T().ui.renderToolset(e,t)}),E(this,"_cache",new TJ),E(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){Bq=!1},__experimental_enablePlayPauseKeyboardShortcut(){Bq=!0},__experimental_clearPersistentStorage:e=>T().clearPersistentStorage(e),__experimental_createContentOfSaveFileTyped:e=>T().createContentOfSaveFile(e)})}initialize(e){return T().initialize(e)}extend(e,t){T().extend(e,t)}transaction(e){return T().transaction(({set:t,unset:n,stateEditors:r})=>e({set:t,unset:n,__experimental_forgetObject:e=>{if(!W(e))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");r.coreByProject.historic.sheetsById.forgetObject(e.address)},__experimental_forgetSheet:e=>{if(!H(e))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");r.coreByProject.historic.sheetsById.forgetSheet(e.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,PJ.prism)(()=>xb().filter(e=>"Theatre_SheetObject"===e.type||"Theatre_Sheet"===e.type).map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(e=>W(e)||H(e)).map(e=>T().corePrivateAPI(e));T().transaction(({stateEditors:e})=>{e.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=T();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return T().scrub()}getStudioProject(){let e=T().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return T().getStudioProject(e)}debouncedScrub(e=1e3){let t,n=Yc(()=>{let e=t;e&&(t=void 0,e.commit())},e);return{capture:e=>{t||(t=this.scrub());let r=!0;try{t.capture(e),r=!1}finally{if(r){let e=t;t=void 0,e.discard()}else n()}}}}createPane(e){return T().paneManager.createPane(e)}destroyPane(e){return T().paneManager.destroyPane(e)}createContentOfSaveFile(e){return T().createContentOfSaveFile(e)}};kP();var IJ=Cm(),RJ=class{constructor(e){this._studio=e,E(this,"_cache",new TJ),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,IJ.prism)(()=>{if(!(0,IJ.val)(this._studio.coreP))return{};let e=(0,IJ.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,IJ.val)(this._studio.atomP.ephemeral.extensions.paneClasses),n={};for(let r of Object.values(e)){if(!r)continue;let e=t[r.paneClass];if(!e)continue;let{instanceId:i}=r,{extensionId:a,classDefinition:o}=e,s=IJ.prism.memo("instance-".concat(r.instanceId),()=>({extensionId:a,instanceId:i,definition:o}),[o]);n[i]=s}return n}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t,n=(0,IJ.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),r=(0,IJ.val)(this._studio.atomP.historic.panelInstanceDesceriptors);for(let n=1;n<1e3&&(t="".concat(e," #").concat(n),r[t]);n++);if(!n)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:n})=>{n.historic.panelInstanceDesceriptors[t]={instanceId:t,paneClass:e}}),this._getAllPanes().getValue()[t]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},OJ=Cm();I();var DJ=18e5;function zJ(){return C(this,null,function*(){if(!"0.7.2".match(/COMPAT/))for(yield LJ(500),yield function(){return C(this,null,function*(){let e=T().atomP.ahistoric.visibilityState;if("everythingIsVisible"===(0,OJ.val)(e))return;let t=hJ(),n=(0,OJ.pointerToPrism)(e).onStale(()=>{"everythingIsVisible"===(0,OJ.val)(e)&&(n(),t.resolve(void 0))});return t.promise})}();;){let e=(0,OJ.val)(T().atomP.ahistoric.updateChecker);if(e&&"error"!==e.result){let t=e.lastChecked,n=Date.now(),r=Math.abs(n-t);r<DJ&&(yield LJ(DJ-r))}try{let e=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(!e.ok)throw new Error("HTTP Error ".concat(e.statusText));{let t=yield e.json();if(!NJ(t))throw new Error("Bad response");T().transaction(({drafts:e})=>{e.ahistoric.updateChecker={lastChecked:Date.now(),result:g({},t)}}),yield LJ(1e3)}}catch(e){yield LJ(36e5)}}})}var LJ=e=>new Promise(t=>setTimeout(t,e));function NJ(e){if("object"!=typeof e)return!1;let t=e;return"boolean"==typeof t.hasUpdates&&(!0===t.hasUpdates&&"string"==typeof t.newVersion&&"string"==typeof t.releasePage||!1===t.hasUpdates)}var jJ,FJ=S(Jf());function UJ(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function BJ(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=UJ(n);return(e,n)=>r.then(r=>n(r.transaction(t,e).objectStore(t)))}function VJ(){return jJ||(jJ=BJ("keyval-store","keyval")),jJ}function HJ(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},UJ(e.transaction)}var WJ=e=>{let t=BJ("theatrejs-".concat(e),"default-store");return{set:(e,n)=>function(e,t,n=VJ()){return n("readwrite",n=>(n.put(t,e),UJ(n.transaction)))}(e,n,t),get:e=>function(e,t=VJ()){return t("readonly",t=>UJ(t.get(e)))}(e,t),del:e=>function(e,t=VJ()){return t("readwrite",t=>(t.delete(e),UJ(t.transaction)))}(e,t),keys:()=>function(e=VJ()){return e("readonly",e=>{if(e.getAllKeys)return UJ(e.getAllKeys());let t=[];return HJ(e,e=>t.push(e.key)).then(()=>t)})}(t),entries:()=>function(e=VJ()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([UJ(t.getAllKeys()),UJ(t.getAll())]).then(([e,t])=>e.map((e,n)=>[e,t[n]]));let n=[];return e("readonly",e=>HJ(e,e=>n.push([e.key,e.value])).then(()=>n))})}(t),values:()=>function(e=VJ()){return e("readonly",e=>{if(e.getAll)return UJ(e.getAll());let t=[];return HJ(e,e=>t.push(e.value)).then(()=>t)})}(t)}};$R(),XR();var GJ="theatre-0.4",qJ="__TheatreJS_StudioBundle",XJ=class{constructor(e){this._studio=e,E(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");let t;this._coreBundle=e,e.getBitsForStudio(this._studio,e=>{t=e}),this._studio.setCoreBits(t)}},YJ=S(Af());Hp();var KJ,$J=Vp.div(KJ||(KJ=k([""]))),ZJ=e=>YJ.default.createElement($J,null);XR();var QJ=new class{constructor(){E(this,"ui"),E(this,"publicApi"),E(this,"address"),E(this,"_projectsProxy",new RZ.PointerProxy(new RZ.Atom({}).pointer)),E(this,"projectsP",this._projectsProxy.pointer),E(this,"_store",new MJ),E(this,"_corePrivateApi"),E(this,"_cache",new TJ),E(this,"paneManager"),E(this,"_coreAtom",new RZ.Atom({})),E(this,"_initializedDeferred",hJ()),E(this,"_initializeFnCalled",!1),E(this,"_didWarnAboutNotInitializing",!1),E(this,"_coreBits"),E(this,"_rafDriver"),this.address={studioId:SP(10)},this.publicApi=new AJ(this),this.ui=new IZ(this),this._attachToIncomingProjects(),this.paneManager=new RJ(this),"undefined"!=typeof window&&setTimeout(()=>{this._initializeFnCalled||(this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return C(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing;let t={persistenceKey:GJ,usePersistentStorage:!0};if("string"==typeof(null==e?void 0:e.persistenceKey)&&(t.persistenceKey=e.persistenceKey),(!1===(null==e?void 0:e.usePersistentStorage)||"undefined"==typeof window)&&(t.usePersistentStorage=!1),null!=e&&e.__experimental_rafDriver){if("Theatre_RafDriver_PublicAPI"!==e.__experimental_rafDriver.type)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let t=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!t)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=t}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(e){return void this._initializedDeferred.reject(e)}"undefined"!=typeof window&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),zJ().catch(e=>{})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,RZ.pointerToPrism)(this.projectsP),t=e=>{for(let t of Object.values(e))t.isAttachedToStudio||t.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(e=>e.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new PZ(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||"object"!=typeof e)throw new Error("Extensions must be JS objects");if("string"!=typeof e.id)throw new Error("extension.id must be a string");let n=!0===(null==t?void 0:t.__experimental_reconfigure),r=e.id,i=this._store.getState().ephemeral.extensions.byId[r];if(i&&!n){if(e===i||(0,FJ.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:t})=>{var r,a;t.ephemeral.extensions.byId[e.id]=e;let o=t.ephemeral.extensions.paneClasses;n&&i&&(null==(r=i.panes)||r.forEach(e=>{delete o[e.class]})),null==(a=e.panes)||a.forEach(t=>{if("string"!=typeof t.class)throw new Error("pane.class must be a string");if(t.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let r=o[t.class];if(r&&(!n||r.extensionId!==e.id))throw new Error('Pane class "'.concat(t.class,'" already exists and is supplied by extension ').concat(r));o[t.class]={extensionId:e.id,classDefinition:t}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return C(this,null,function*(){if("undefined"==typeof window)return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return{getAssetUrl:e=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:e=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let n=WJ("".concat(e.address.projectId,"-assets")),r=YR(e),i=yield n.keys();yield Promise.all(i.map(e=>C(this,null,function*(){r.includes(e)||(yield n.del(e))}))),yield Promise.all(i.map(r=>C(this,null,function*(){var i,a;let o="".concat(t,"/").concat(r);try{(yield fetch(o,{method:"HEAD"})).ok&&(yield n.del(r))}catch(t){IR.error("Failed to access assets","Failed to access assets at ".concat(null!=(a=null==(i=e.config.assets)?void 0:i.baseUrl)?a:"/",". This is likely due to a CORS issue."))}})));let a=new Map(yield n.entries()),o=new Map,s=e=>{let t=a.get(e);if(!t)throw new Error("Asset with id ".concat(e," not found"));return(e=>{if(o.has(e))return o.get(e);{let t=URL.createObjectURL(e);return o.set(e,t),t}})(t)};return{getAssetUrl:e=>a.has(e)?s(e):"".concat(t,"/").concat(e),createAsset:r=>C(this,null,function*(){var i,o,s;let l=YR(e),u=!1;if(l.includes(r.name)){let n;try{n=null!=(i=a.get(r.name))?i:yield fetch("".concat(t,"/").concat(r.name)).then(e=>e.ok?e.blob():void 0)}catch(t){return IR.error("Failed to access assets","Failed to access assets at ".concat(null!=(s=null==(o=e.config.assets)?void 0:o.baseUrl)?s:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(n){if(u=yield(yield Promise.resolve().then(()=>S(EZ()))).default.isEqual(r,n),u)return r.name;{let e=t=>{let n=prompt(t,r.name);return null!==n&&(""===n?e("Asset name cannot be empty. Please choose a different file name for this asset."):l.includes(n)?e("An asset with this name already exists. Please choose a different file name for this asset."):(r=new File([r],n,{type:r.type}),!0))};if(!e("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return a.set(r.name,r),yield n.set(r.name,r),r.name})}})}clearPersistentStorage(e=GJ){this._store.__experimental_clearPersistentStorage(e)}};!function(e){A=e}(QJ);var JJ=QJ.publicApi;!function(){if("undefined"==typeof window)return;let e=window[qJ];if(void 0!==e)throw"object"==typeof e&&e&&"string"==typeof e.version?new Error("It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(qJ," seems to be already set by a module other than @theatre/core."));let t=new XJ(QJ);window[qJ]=t;let n=window.__TheatreJS_CoreBundle;n&&null!==n&&"Theatre_CoreBundle"===n.type&&t.registerCoreBundle(n)}(),"undefined"!=typeof window&&(window.__TheatreJS_Notifications={notify:IR})}(Am,Am.exports)),Am.exports}var Rm,Om,Dm=ph(Im()),zm=Object.create,Lm=Object.defineProperty,Nm=Object.defineProperties,jm=Object.getOwnPropertyDescriptor,Fm=Object.getOwnPropertyDescriptors,Um=Object.getOwnPropertyNames,Bm=Object.getOwnPropertySymbols,Vm=Object.getPrototypeOf,Hm=Object.prototype.hasOwnProperty,Wm=Object.prototype.propertyIsEnumerable,Gm=(e,t,n)=>t in e?Lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qm=(e,t)=>{for(var n in t||(t={}))Hm.call(t,n)&&Gm(e,n,t[n]);if(Bm)for(var n of Bm(t))Wm.call(t,n)&&Gm(e,n,t[n]);return e},Xm=(e,t)=>Nm(e,Fm(t)),Ym=(e,t)=>{var n={};for(var r in e)Hm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bm)for(var r of Bm(e))t.indexOf(r)<0&&Wm.call(e,r)&&(n[r]=e[r]);return n},Km=((e,t,n)=>(n=null!=e?zm(Vm(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of Um(t))Hm.call(e,i)||i===n||Lm(e,i,{get:()=>t[i],enumerable:!(r=jm(t,i))||r.enumerable});return e})(!t&&e&&e.__esModule?n:Lm(n,"default",{value:e,enumerable:!0}),e)))((Rm={"../../node_modules/zustand/vanilla.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach(function(e){return e(t,a)})}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}}},function(){return Om||(0,Rm[Um(Rm)[0]])((Om={exports:{}}).exports,Om),Om.exports})()),$m=new WeakSet,Zm=(0,Km.default)((e,t)=>({sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new Ro,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:(n,r)=>{e({scene:n,gl:r}),t().createSnapshot()},addEditable:(t,n)=>{e(e=>({editables:Xm(qm({},e.editables),{[t]:n})}))},removeEditable:t=>{e(e=>{const n=qm({},e.editables);return delete n[t],{editables:n}})},createSnapshot:()=>{e(e=>{var t,n;return{sceneSnapshot:null!=(n=null==(t=e.scene)?void 0:t.clone())?n:null,editablesSnapshot:e.editables}})},setSnapshotProxyObject:(t,n)=>{e(e=>({editablesSnapshot:Xm(qm({},e.editablesSnapshot),{[n]:Xm(qm({},e.editablesSnapshot[n]),{proxyObject:t})})}))}}));function Qm(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}var Jm=u(void 0),eg=()=>(()=>{const e=d(Jm);if(!e)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return e})().sheet,tg=({sheet:e,children:n})=>{const{scene:r,gl:i}=jp(e=>({scene:e.scene,gl:e.gl}));return a(()=>{if(!e||"Theatre_Sheet_PublicAPI"!==e.type)throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")},[e]),o(()=>{(({gl:e,scene:t})=>{(0,Zm.getState().init)(t,e)})({gl:i,scene:r})},[r,i]),t.createElement(Jm.Provider,{value:{sheet:e}},n)};function ng(e){return"number"==typeof e&&isFinite(e)}var rg=e=>e?{x:e[0],y:e[1],z:e[2]}:{x:0,y:0,z:0},ig=(e,t=rg(),{nudgeMultiplier:n=.01}={})=>({parse:n=>{const r=n[e],i=r?Array.isArray(r)?rg(r):ng(r)?{x:r,y:r,z:r}:(a=r,["x","y","z"].every(e=>ng(a[e]))?{x:r.x,y:r.y,z:r.z}:(Mm.notify.warning(`Invalid value for vector prop "${e}"`,`Couldn't make sense of \`${e}={${JSON.stringify(r)}}\`, falling back to \`${e}={${JSON.stringify([t.x,t.y,t.z])}}\`.\n\nTo fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`),t)):t;var a;return["x","y","z"].forEach(t=>{n[`${e}-${t}`]&&(i[t]=n[`${e}-${t}`])}),i},apply:(t,n)=>{n[e].set(t.x,t.y,t.z)},type:{[e]:{x:Mm.types.number(t.x,{nudgeMultiplier:n}),y:Mm.types.number(t.y,{nudgeMultiplier:n}),z:Mm.types.number(t.z,{nudgeMultiplier:n})}}}),ag=(e,t=0,{nudgeMultiplier:n=.01}={})=>({parse:n=>{var r;return null!=(r=n[e])?r:t},apply:(t,n)=>{n[e]=t},type:{[e]:Mm.types.number(t,{nudgeMultiplier:n})}}),og=(e,t=new qr(0,0,0))=>({parse:n=>{var r;return Xm(qm({},null!=(r=n[e])?r:t),{a:1})},apply:(t,n)=>{n[e].setRGB(t.r,t.g,t.b)},type:{[e]:Mm.types.rgba(Xm(qm({},t),{a:1}))}}),sg=(e,t)=>Xm(qm({},e),{props:qm(qm({},e.props),t)}),lg={props:{position:ig("position"),rotation:ig("rotation"),scale:ig("scale",rg([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:e=>new xc(e,dg)},ug=Xm(qm({},sg(lg,{intensity:ag("intensity",1),distance:ag("distance"),decay:ag("decay"),color:og("color",new qr("white"))})),{dimensionless:!0}),cg=Xm(qm({},sg(lg,{near:ag("near",.1,{nudgeMultiplier:.1}),far:ag("far",2e3,{nudgeMultiplier:.1})})),{updateObject:e=>{e.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:e=>new yc(e)}),dg="#40AAA4",fg={group:Xm(qm({},lg),{icon:"collection",createHelper:e=>new xc(e,dg)}),mesh:Xm(qm({},lg),{icon:"cube",createHelper:e=>new xc(e,dg)}),spotLight:Xm(qm({},sg(ug,{angle:ag("angle",0,{nudgeMultiplier:.001}),penumbra:ag("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:e=>new rc(e,dg)}),directionalLight:Xm(qm({},sg(lg,{intensity:ag("intensity",1),color:og("color",new qr("white"))})),{icon:"sun",dimensionless:!0,createHelper:e=>new mc(e,1,dg)}),pointLight:Xm(qm({},ug),{icon:"lightBulb",createHelper:e=>new lc(e,1,dg)}),ambientLight:{props:{intensity:ag("intensity",1),color:og("color",new qr("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:ag("intensity",1),color:og("color",new qr("white")),groundColor:og("groundColor",new qr("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:sg(cg,{fov:ag("fov",50,{nudgeMultiplier:.1}),zoom:ag("zoom",1)}),orthographicCamera:cg,points:lg,line:lg,lineLoop:lg,lineSegments:lg,fog:{props:{color:og("color"),near:ag("near",1,{nudgeMultiplier:.1}),far:ag("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}};Zm.getState().createSnapshot;var hg=e=>`${e.sheetId}:${e.sheetInstanceId}:${e.objectKey}`,pg=u(void 0),mg=(e=>{const n=(n,i)=>{if("primitive"!==n&&!i)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return c((u,c)=>{var f=u,{theatreKey:h,visible:p,editableType:m,additionalProps:g,objRef:v}=f,y=Ym(f,["theatreKey","visible","editableType","additionalProps","objRef"]);if("string"!=typeof h)throw new Error(`No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${h}`);if("primitive"===n&&!m)throw new Error(`When using the primitive component, you must provide the editableType prop. Received: ${m}`);const b=null!=i?i:m,w=r(),x=eg(),_=(()=>{var e;return null==(e=d(pg))?void 0:e.rafDriver})(),[S,E]=s(void 0),k=l(()=>hg(Xm(qm({},x.address),{objectKey:h})),[x,h]),C=jp(({invalidate:e})=>e);return a(()=>{if("perspectiveCamera"===n||"orthographicCamera"===n){const e=n.charAt(0).toUpperCase()+n.slice(1);Mm.notify.warning(`Possibly incorrect use of <e.${n} />`,`You seem to have declared the camera "${h}" simply as \`<e.${n} ... />\`. This alone won't make r3f use it for rendering.\n\nThe easiest way to create a custom animatable \`${e}\` is to import it from \`@react-three/drei\`, and make it editable.\n\`\`\`\nimport {${e}} from '@react-three/drei'\n\nconst EditableCamera =\n  editable(${e}, '${n}')\n\`\`\`\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\n\`\`\`\n<EditableCamera\n  theatreKey="${h}"\n  makeDefault\n>\n\`\`\`\n`)}},[n,h]),o(()=>{if(x)if(S)x.object(h,Object.assign(qm({},g),...Object.values(e[b].props).map(e=>e.type)),{reconfigure:!0});else{const t=x.object(h,Object.assign(qm({},g),...Object.values(e[b].props).map(e=>e.type)));$m.add(t),E(t),v&&("function"==typeof v?v(t):v.current=t),Zm.getState().addEditable(k,{type:b,sheetObject:t,visibleOnlyInEditor:"editor"===p,objectConfig:e[b]})}},[x,k,g]),o(()=>{S&&(S.initialValue=Object.fromEntries(Object.entries(e[b].props).map(([e,t])=>[e,t.parse(y)])))},[S,...Object.keys(e[b].props).map(e=>y[e])]),o(()=>{if(!S)return;const t=w.current,n=n=>{var r,i;Object.entries(e[b].props).forEach(([e,r])=>r.apply(n[e],t)),null==(i=(r=e[b]).updateObject)||i.call(r,t),C()};n(S.value);const r=S.onValuesChange(n,_);return()=>{r(),S.sheet.detachObject(h),$m.delete(S),Zm.getState().removeEditable(k)}},[S,_]),t.createElement(n,Xm(qm({ref:Qm([w,c])},y),{visible:"editor"!==p&&p,userData:{__editable:!0,__storeKey:k}}))})},i=Xm(qm({},Object.fromEntries(Object.keys(e).map(e=>[e,n(e,e)]))),{primitive:n("primitive",null)});return Object.assign(n,i)})(fg),gg=mg,vg=gg(e.forwardRef((t,n)=>{var r=t,{makeDefault:i,lookAt:a}=r,o=Ym(r,["makeDefault","lookAt"]);const s=jp(({set:e})=>e),l=jp(({camera:e})=>e),u=jp(({size:e})=>e),c=e.useRef(null);return e.useLayoutEffect(()=>{o.manual||(c.current.aspect=u.width/u.height)},[u,o]),e.useLayoutEffect(()=>{c.current.updateProjectionMatrix()}),e.useLayoutEffect(()=>{if(i){const e=l;return s(()=>({camera:c.current})),()=>s(()=>({camera:e}))}},[c,i,s]),Fp(()=>{var e;if(a&&c.current){c.current.lookAt(Array.isArray(a)?new En(...a):a.current?a.current.position:a);const t=Zm.getState().editablesSnapshot;t&&(null==(e=t[c.current.userData.__storeKey].proxyObject)||e.rotation.copy(c.current.rotation))}}),e.createElement("perspectiveCamera",qm({ref:Qm([c,n])},o))}),"perspectiveCamera");gg(e.forwardRef((t,n)=>{var r=t,{makeDefault:i,lookAt:a}=r,o=Ym(r,["makeDefault","lookAt"]);const s=jp(({set:e})=>e),l=jp(({camera:e})=>e),u=jp(({size:e})=>e),c=e.useRef(null);return e.useLayoutEffect(()=>{o.manual||c.current.updateProjectionMatrix()},[u,o]),e.useLayoutEffect(()=>{c.current.updateProjectionMatrix()}),e.useLayoutEffect(()=>{if(i){const e=l;return s(()=>({camera:c.current})),()=>s(()=>({camera:e}))}},[c,i,s]),Fp(()=>{var e;if(a&&c.current){c.current.lookAt(Array.isArray(a)?new En(...a):a.current?a.current.position:a);const t=Zm.getState().editablesSnapshot;t&&(null==(e=t[c.current.userData.__storeKey].proxyObject)||e.rotation.copy(c.current.rotation))}}),e.createElement("orthographicCamera",qm({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:Qm([c,n])},o))}),"orthographicCamera");var yg=Cm(),bg=Object.create,wg=Object.defineProperty,xg=Object.defineProperties,_g=Object.getOwnPropertyDescriptor,Sg=Object.getOwnPropertyDescriptors,Eg=Object.getOwnPropertyNames,kg=Object.getOwnPropertySymbols,Cg=Object.getPrototypeOf,Mg=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable,Tg=(e,t,n)=>t in e?wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ag=(e,t)=>{for(var n in t||(t={}))Mg.call(t,n)&&Tg(e,n,t[n]);if(kg)for(var n of kg(t))Pg.call(t,n)&&Tg(e,n,t[n]);return e},Ig=(e,t)=>xg(e,Sg(t)),Rg=(e,t)=>{var n={};for(var r in e)Mg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&kg)for(var r of kg(e))t.indexOf(r)<0&&Pg.call(e,r)&&(n[r]=e[r]);return n},Og=(e,t)=>function(){return e&&(t=(0,e[Eg(e)[0]])(e=0)),t},Dg=(e,t)=>function(){return t||(0,e[Eg(e)[0]])((t={exports:{}}).exports,t),t.exports},zg=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of Eg(t))!Mg.call(e,i)&&i!==n&&wg(e,i,{get:()=>t[i],enumerable:!(r=_g(t,i))||r.enumerable});return e},Lg=(e,t,n)=>(n=null!=e?bg(Cg(e)):{},zg(!t&&e&&e.__esModule?n:wg(n,"default",{value:e,enumerable:!0}),e)),Ng=(e,t,n)=>(Tg(e,"symbol"!=typeof t?t+"":t,n),n),jg=Dg({"../../node_modules/react/cjs/react.production.min.js"(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,p(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)x.call(n,i)&&!S.hasOwnProperty(i)&&(a[i]=n[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:_.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,r,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,r,i,"",function(e){return e})):null!=o&&(k(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),r.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+M(s=e[u],u);l+=P(s,r,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,r,i,c=a+M(s,u++),o);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},R={transition:null},O={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};e.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},e.Component=g,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=i,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)x.call(n,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},e.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},e.createElement=E,e.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:l,render:e}},e.isValidElement=k,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},e.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},e.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(e,t){return I.current.useCallback(e,t)},e.useContext=function(e){return I.current.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e){return I.current.useDeferredValue(e)},e.useEffect=function(e,t){return I.current.useEffect(e,t)},e.useId=function(){return I.current.useId()},e.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},e.useMemo=function(e,t){return I.current.useMemo(e,t)},e.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},e.useRef=function(e){return I.current.useRef(e)},e.useState=function(e){return I.current.useState(e)},e.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},e.useTransition=function(){return I.current.useTransition()},e.version="18.2.0"}}),Fg=Dg({"../../node_modules/react/index.js"(e,t){t.exports=jg()}}),Ug=Dg({"../../node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js"(e){e.ConcurrentRoot=1,e.ContinuousEventPriority=4,e.DefaultEventPriority=16,e.DiscreteEventPriority=1,e.IdleEventPriority=536870912,e.LegacyRoot=0}}),Bg=Dg({"../../node_modules/react-reconciler/constants.js"(e,t){t.exports=Ug()}}),Vg=Dg({"../../node_modules/scheduler/cjs/scheduler.production.min.js"(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(M),M=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!A());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,E,k=!1,C=null,M=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function I(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?_():(k=!1,C=null)}}else k=!1}function R(e){C=e,k||(k=!0,_())}function O(t,n){M=g(function(){t(e.unstable_now())},n)}"function"==typeof y?_=function(){y(I)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=I,_=function(){E.postMessage(null)}):_=function(){g(I,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e||(P=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(M),M=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,R(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}}),Hg=Dg({"../../node_modules/scheduler/index.js"(e,t){t.exports=Vg()}}),Wg=Dg({"../../node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(e,t){t.exports=function(e){var t={},n=Fg(),r=Hg(),i=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w=Symbol.iterator;function x(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case l:return"Portal";case d:return"Profiler";case c:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return _(e(t))}catch(e){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function k(e){if(E(e)!==e)throw Error(a(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return k(i),e;if(o===r)return k(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function M(e){return null!==(e=C(e))?P(e):null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=P(e);if(null!==t)return t;e=e.sibling}return null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=T(e);if(null!==t)return t}e=e.sibling}return null}var A,I=Array.isArray,R=e.getPublicInstance,O=e.getRootHostContext,D=e.getChildHostContext,z=e.prepareForCommit,L=e.resetAfterCommit,N=e.createInstance,j=e.appendInitialChild,F=e.finalizeInitialChildren,U=e.prepareUpdate,B=e.shouldSetTextContent,V=e.createTextInstance,H=e.scheduleTimeout,W=e.cancelTimeout,G=e.noTimeout,q=e.isPrimaryRenderer,X=e.supportsMutation,Y=e.supportsPersistence,K=e.supportsHydration,$=e.getInstanceFromNode,Z=e.preparePortalMount,Q=e.getCurrentEventPriority,J=e.detachDeletedInstance,ee=e.supportsMicrotasks,te=e.scheduleMicrotask,ne=e.supportsTestSelectors,re=e.findFiberRoot,ie=e.getBoundingRect,ae=e.getTextContent,oe=e.isHiddenSubtree,se=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,ce=e.appendChild,de=e.appendChildToContainer,fe=e.commitTextUpdate,he=e.commitMount,pe=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ve=e.removeChild,ye=e.removeChildFromContainer,be=e.resetTextContent,we=e.hideInstance,xe=e.hideTextInstance,_e=e.unhideInstance,Se=e.unhideTextInstance,Ee=e.clearContainer,ke=e.cloneInstance,Ce=e.createContainerChildSet,Me=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,Te=e.replaceContainerChildren,Ae=e.cloneHiddenInstance,Ie=e.cloneHiddenTextInstance,Re=e.canHydrateInstance,Oe=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,ze=e.isSuspenseInstancePending,Le=e.isSuspenseInstanceFallback,Ne=e.registerSuspenseInstanceRetry,je=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Ue=e.getFirstHydratableChildWithinContainer,Be=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,He=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ge=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Ke=e.clearSuspenseBoundaryFromContainer,$e=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance;function Je(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var et=!1;function tt(e,t){if(!e||et)return"";et=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{et=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Je(e):""}var nt=Object.prototype.hasOwnProperty,rt=[],it=-1;function at(e){return{current:e}}function ot(e){0>it||(e.current=rt[it],rt[it]=null,it--)}function st(e,t){it++,rt[it]=e.current,e.current=t}var lt={},ut=at(lt),ct=at(!1),dt=lt;function ft(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ht(e){return null!=(e=e.childContextTypes)}function pt(){ot(ct),ot(ut)}function mt(e,t,n){if(ut.current!==lt)throw Error(a(168));st(ut,t),st(ct,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,S(e)||"Unknown",o));return i({},n,r)}function vt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,dt=ut.current,st(ut,e),st(ct,ct.current),!0}function yt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,ot(ct),ot(ut),st(ut,e)):ot(ct),st(ct,n)}var bt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(wt(e)/xt|0)|0},wt=Math.log,xt=Math.LN2;var _t=64,St=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-bt(t)),r|=e[n],t&=~i;return r}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function At(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Rt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Ot=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,zt=r.unstable_shouldYield,Lt=r.unstable_requestPaint,Nt=r.unstable_now,jt=r.unstable_ImmediatePriority,Ft=r.unstable_UserBlockingPriority,Ut=r.unstable_NormalPriority,Bt=r.unstable_IdlePriority,Vt=null,Ht=null;var Wt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gt=null,qt=!1,Xt=!1;function Yt(e){null===Gt?Gt=[e]:Gt.push(e)}function Kt(){if(!Xt&&null!==Gt){Xt=!0;var e=0,t=It;try{var n=Gt;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gt=null,qt=!1}catch(t){throw null!==Gt&&(Gt=Gt.slice(e+1)),Ot(jt,Kt),t}finally{It=t,Xt=!1}}return null}var $t=o.ReactCurrentBatchConfig;function Zt(e,t){if(Wt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Qt(e){switch(e.tag){case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return Je("Suspense");case 19:return Je("SuspenseList");case 0:case 2:case 15:return e=tt(e.type,!1);case 11:return e=tt(e.type.render,!1);case 1:return e=tt(e.type,!0);default:return""}}function Jt(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var en=at(null),tn=null,nn=null,rn=null;function an(){rn=nn=tn=null}function on(e,t,n){q?(st(en,t._currentValue),t._currentValue=n):(st(en,t._currentValue2),t._currentValue2=n)}function sn(e){var t=en.current;ot(en),q?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){tn=e,rn=nn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(Di=!0),e.firstContext=null)}function cn(e){var t=q?e._currentValue:e._currentValue2;if(rn!==e)if(e={context:e,memoizedValue:t,next:null},null===nn){if(null===tn)throw Error(a(308));nn=e,tn.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var dn=null,fn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==qa&&1&e.mode&&!(2&Ga)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function vn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,At(e,n)}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var a=e.updateQueue;fn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var f=a.baseState;for(s=0,d=c=u=null,l=o;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=g.payload)?m.call(p,f,h):m))break e;f=i({},f,h);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(h=l).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ja|=s,e.lanes=s,e.memoizedState=f}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var xn=(new n.Component).refs;function _n(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bo(),i=wo(e),a=mn(r,i);a.payload=t,null!=n&&(a.callback=n),gn(e,a),null!==(t=xo(e,i,r))&&vn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bo(),i=wo(e),a=mn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),gn(e,a),null!==(t=xo(e,i,r))&&vn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bo(),r=wo(e),i=mn(n,r);i.tag=2,null!=t&&(i.callback=t),gn(e,i),null!==(t=xo(e,r,n))&&vn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zt(n,r)||!Zt(i,a))}function kn(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"==typeof a&&null!==a?a=cn(a):(i=ht(t)?dt:ut.current,a=(r=null!=(r=t.contextTypes))?ft(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function Mn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xn,hn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=cn(a):(a=ht(t)?dt:ut.current,i.context=ft(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(_n(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Pn=[],Tn=0,An=null,In=0,Rn=[],On=0,Dn=null,zn=1,Ln="";function Nn(e,t){Pn[Tn++]=In,Pn[Tn++]=An,An=e,In=t}function jn(e,t,n){Rn[On++]=zn,Rn[On++]=Ln,Rn[On++]=Dn,Dn=e;var r=zn;e=Ln;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var a=32-bt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zn=1<<32-bt(t)+i|n<<i|r,Ln=a+e}else zn=1<<a|n<<i|r,Ln=e}function Fn(e){null!==e.return&&(Nn(e,1),jn(e,1,0))}function Un(e){for(;e===An;)An=Pn[--Tn],Pn[Tn]=null,In=Pn[--Tn],Pn[Tn]=null;for(;e===Dn;)Dn=Rn[--On],Rn[On]=null,Ln=Rn[--On],Rn[On]=null,zn=Rn[--On],Rn[On]=null}var Bn=null,Vn=null,Hn=!1,Wn=!1,Gn=null;function qn(e,t){var n=$o(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,Bn=e,Vn=Fe(t),!0);case 6:return null!==(t=Oe(t,e.pendingProps))&&(e.stateNode=t,Bn=e,Vn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:zn,overflow:Ln}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$o(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Bn=e,Vn=null,!0}return!1;default:return!1}}function Yn(e){return!(!(1&e.mode)||128&e.flags)}function Kn(e){if(Hn){var t=Vn;if(t){var n=t;if(!Xn(e,t)){if(Yn(e))throw Error(a(418));t=je(n);var r=Bn;t&&Xn(e,t)?qn(r,n):(e.flags=-4097&e.flags|2,Hn=!1,Bn=e)}}else{if(Yn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Hn=!1,Bn=e}}}function $n(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bn=e}function Zn(e){if(!K||e!==Bn)return!1;if(!Hn)return $n(e),Hn=!0,!1;if(3!==e.tag&&(5!==e.tag||$e(e.type)&&!B(e.type,e.memoizedProps))){var t=Vn;if(t){if(Yn(e)){for(e=Vn;e;)e=je(e);throw Error(a(418))}for(;t;)qn(e,t),t=je(t)}}if($n(e),13===e.tag){if(!K)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Vn=Ge(e)}else Vn=Bn?je(e.stateNode):null;return!0}function Qn(){K&&(Vn=Bn=null,Wn=Hn=!1)}function Jn(e){null===Gn?Gn=[e]:Gn.push(e)}function er(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===xn&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function tr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nr(e){return(0,e._init)(e._payload)}function rr(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Qo(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function c(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=ns(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===u?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===y&&nr(a)===t.type)?((r=i(t,n.props)).ref=er(e,t,n),r.return=e,r):((r=Jo(n.type,n.key,n.props,null,e.mode,r)).ref=er(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=rs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=es(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=ns(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case s:return(n=Jo(t.type,t.key,t.props,null,e.mode,n)).ref=er(e,null,t),n.return=e,n;case l:return(t=rs(t,e.mode,n)).return=e,t;case y:return m(e,(0,t._init)(t._payload),n)}if(I(t)||x(t))return(t=es(t,e.mode,n,null)).return=e,t;tr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?f(e,t,n,r):null;case l:return n.key===i?h(e,t,n,r):null;case y:return g(e,t,(i=n._init)(n._payload),r)}if(I(n)||x(n))return null!==i?null:p(e,t,n,r,null);tr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case s:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return v(e,t,n,(0,r._init)(r._payload),i)}if(I(r)||x(r))return p(t,e=e.get(n)||null,r,i,null);tr(t,r)}return null}return function d(f,h,p,b){if("object"==typeof p&&null!==p&&p.type===u&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case s:e:{for(var w=p.key,_=h;null!==_;){if(_.key===w){if((w=p.type)===u){if(7===_.tag){n(f,_.sibling),(h=i(_,p.props.children)).return=f,f=h;break e}}else if(_.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===y&&nr(w)===_.type){n(f,_.sibling),(h=i(_,p.props)).ref=er(f,_,p),h.return=f,f=h;break e}n(f,_);break}t(f,_),_=_.sibling}p.type===u?((h=es(p.props.children,f.mode,b,p.key)).return=f,f=h):((b=Jo(p.type,p.key,p.props,null,f.mode,b)).ref=er(f,h,p),b.return=f,f=b)}return c(f);case l:e:{for(_=p.key;null!==h;){if(h.key===_){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(f,h.sibling),(h=i(h,p.children||[])).return=f,f=h;break e}n(f,h);break}t(f,h),h=h.sibling}(h=rs(p,f.mode,b)).return=f,f=h}return c(f);case y:return d(f,h,(_=p._init)(p._payload),b)}if(I(p))return function(i,a,s,l){for(var u=null,c=null,d=a,f=a=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=g(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),Hn&&Nn(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=m(i,s[f],l))&&(a=o(d,a,f),null===c?u=d:c.sibling=d,c=d);return Hn&&Nn(i,f),u}for(d=r(i,d);f<s.length;f++)null!==(h=v(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),a=o(h,a,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(i,e)}),Hn&&Nn(i,f),u}(f,h,p,b);if(x(p))return function(i,s,l,u){var c=x(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=g(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=o(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),Hn&&Nn(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=m(i,y.value,u))&&(s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return Hn&&Nn(i,h),c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=v(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(i,e)}),Hn&&Nn(i,h),c}(f,h,p,b);tr(f,p)}return"string"==typeof p&&""!==p||"number"==typeof p?(p=""+p,null!==h&&6===h.tag?(n(f,h.sibling),(h=i(h,p)).return=f,f=h):(n(f,h),(h=ns(p,f.mode,b)).return=f,f=h),c(f)):n(f,h)}}var ir=rr(!0),ar=rr(!1),or={},sr=at(or),lr=at(or),ur=at(or);function cr(e){if(e===or)throw Error(a(174));return e}function dr(e,t){st(ur,t),st(lr,e),st(sr,or),e=O(t),ot(sr),st(sr,e)}function fr(){ot(sr),ot(lr),ot(ur)}function hr(e){var t=cr(ur.current),n=cr(sr.current);n!==(t=D(n,e.type,t))&&(st(lr,e),st(sr,t))}function pr(e){lr.current===e&&(ot(sr),ot(lr))}var mr=at(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ze(n)||Le(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vr=[];function yr(){for(var e=0;e<vr.length;e++){var t=vr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}vr.length=0}var br=o.ReactCurrentDispatcher,wr=o.ReactCurrentBatchConfig,xr=0,_r=null,Sr=null,Er=null,kr=!1,Cr=!1,Mr=0,Pr=0;function Tr(){throw Error(a(321))}function Ar(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Ir(e,t,n,r,i,o){if(xr=o,_r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?hi:pi,e=n(r,i),Cr){o=0;do{if(Cr=!1,Mr=0,25<=o)throw Error(a(301));o+=1,Er=Sr=null,t.updateQueue=null,br.current=mi,e=n(r,i)}while(Cr)}if(br.current=fi,t=null!==Sr&&null!==Sr.next,xr=0,Er=Sr=_r=null,kr=!1,t)throw Error(a(300));return e}function Rr(){var e=0!==Mr;return Mr=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?_r.memoizedState=Er=e:Er=Er.next=e,Er}function Dr(){if(null===Sr){var e=_r.alternate;e=null!==e?e.memoizedState:null}else e=Sr.next;var t=null===Er?_r.memoizedState:Er.next;if(null!==t)Er=t,Sr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Sr=e).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===Er?_r.memoizedState=Er=e:Er=Er.next=e}return Er}function zr(e,t){return"function"==typeof t?t(e):t}function Lr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Sr,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((xr&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,_r.lanes|=d,Ja|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,Wt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,_r.lanes|=o,Ja|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Wt(o,t.memoizedState)||(Di=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jr(){}function Fr(e,t){var n=_r,r=Dr(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,Di=!0),r=r.queue,$r(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,Gr(9,Br.bind(null,n,r,i,t),void 0,null),null===qa)throw Error(a(349));30&xr||Ur(n,t,i)}return i}function Ur(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Br(e,t,n,r){t.value=n,t.getSnapshot=r,Hr(t)&&xo(e,1,-1)}function Vr(e,t,n){return n(function(){Hr(t)&&xo(e,1,-1)})}function Hr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(e){return!0}}function Wr(e){var t=Or();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,_r,e),[t.memoizedState,e]}function Gr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qr(){return Dr().memoizedState}function Xr(e,t,n,r){var i=Or();_r.flags|=e,i.memoizedState=Gr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Dr();r=void 0===r?null:r;var a=void 0;if(null!==Sr){var o=Sr.memoizedState;if(a=o.destroy,null!==r&&Ar(r,o.deps))return void(i.memoizedState=Gr(t,n,a,r))}_r.flags|=e,i.memoizedState=Gr(1|t,n,a,r)}function Kr(e,t){return Xr(8390656,8,e,t)}function $r(e,t){return Yr(2048,8,e,t)}function Zr(e,t){return Yr(4,2,e,t)}function Qr(e,t){return Yr(4,4,e,t)}function Jr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ei(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4,4,Jr.bind(null,t,e),n)}function ti(){}function ni(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ar(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ri(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ar(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ii(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{It=n,wr.transition=r}}function ai(){return Dr().memoizedState}function oi(e,t,n){var r=wo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ui(t,n):(ci(e,t,n),null!==(e=xo(e,r,n=bo()))&&di(e,t,r))}function si(e,t,n){var r=wo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ui(t,i);else{ci(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,o))return}catch(e){}null!==(e=xo(e,r,n=bo()))&&di(e,t,r)}}function li(e){var t=e.alternate;return e===_r||null!==t&&t===_r}function ui(e,t){Cr=kr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ci(e,t,n){null!==qa&&1&e.mode&&!(2&Ga)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,At(e,n)}}var fi={readContext:cn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},hi={readContext:cn,useCallback:function(e,t){return Or().memoizedState=[e,void 0===t?null:t],e},useContext:cn,useEffect:Kr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xr(4194308,4,Jr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oi.bind(null,_r,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Or().memoizedState=e},useState:Wr,useDebugValue:ti,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Kr(function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}},[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ii.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_r,i=Or();if(Hn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===qa)throw Error(a(349));30&xr||Ur(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Kr(Vr.bind(null,r,o,e),[e]),r.flags|=2048,Gr(9,Br.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Or(),t=qa.identifierPrefix;if(Hn){var n=Ln;t=":"+t+"R"+(n=(zn&~(1<<32-bt(zn)-1)).toString(32)+n),0<(n=Mr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pi={readContext:cn,useCallback:ni,useContext:cn,useEffect:$r,useImperativeHandle:ei,useInsertionEffect:Zr,useLayoutEffect:Qr,useMemo:ri,useReducer:Lr,useRef:qr,useState:function(){return Lr(zr)},useDebugValue:ti,useDeferredValue:function(e){var t=Lr(zr),n=t[0],r=t[1];return $r(function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}},[e]),n},useTransition:function(){return[Lr(zr)[0],Dr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Fr,useId:ai,unstable_isNewReconciler:!1},mi={readContext:cn,useCallback:ni,useContext:cn,useEffect:$r,useImperativeHandle:ei,useInsertionEffect:Zr,useLayoutEffect:Qr,useMemo:ri,useReducer:Nr,useRef:qr,useState:function(){return Nr(zr)},useDebugValue:ti,useDeferredValue:function(e){var t=Nr(zr),n=t[0],r=t[1];return $r(function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}},[e]),n},useTransition:function(){return[Nr(zr)[0],Dr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Fr,useId:ai,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=Qt(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}var vi,yi,bi,wi,xi="function"==typeof WeakMap?WeakMap:Map;function _i(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lo||(lo=!0,uo=r)},n}function Si(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===co?co=new Set([this]):co.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ei(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new xi;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wo.bind(null,e,t,n),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ci(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e)}function Mi(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(X)vi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)j(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yi=function(){},bi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=cr(sr.current);n=U(a,n,e,r,i,o),(t.updateQueue=n)&&Mi(t)}},wi=function(e,t,n,r){n!==r&&Mi(t)};else if(Y){vi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ae(a,i.type,i.memoizedProps,i)),j(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),j(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),vi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ti=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ae(a,i.type,i.memoizedProps,i)),Me(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),Me(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Ti(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};yi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=Ce(e);Ti(r,t,!1,!1),n.pendingChildren=r,Mi(t),Pe(e,r)}},bi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Pi(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=cr(sr.current),u=null;o!==r&&(u=U(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=ke(a,u,n,o,r,t,e,s),F(a,n,r,i,l)&&Mi(t),t.stateNode=a,e?Mi(t):vi(a,t,!1,!1))}},wi=function(e,t,n,r){n!==r?(e=cr(ur.current),n=cr(sr.current),t.stateNode=V(r,e,n,t),Mi(t)):t.stateNode=e.stateNode}}else yi=function(){},bi=function(){},wi=function(){};function Ai(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ii(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ri(e,t,n){var r=t.pendingProps;switch(Un(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:case 17:return ht(t.type)&&pt(),Ii(t),null;case 3:return r=t.stateNode,fr(),ot(ct),ot(ut),yr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&(Zn(t)?Mi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Gn&&(Co(Gn),Gn=null))),yi(e,t),Ii(t),null;case 5:pr(t),n=cr(ur.current);var i=t.type;if(null!==e&&null!=t.stateNode)bi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ii(t),null}if(e=cr(sr.current),Zn(t)){if(!K)throw Error(a(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Mi(t)}else{var o=N(i,r,n,e,t);vi(o,t,!1,!1),t.stateNode=o,F(o,i,r,n,e)&&Mi(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&null!=t.stateNode)wi(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=cr(ur.current),n=cr(sr.current),Zn(t)){if(!K)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=He(e,r,t,!Wn))&&null!==(i=Bn))switch(o=!!(1&i.mode),i.tag){case 3:Ze(i.stateNode.containerInfo,e,r,o);break;case 5:Qe(i.type,i.memoizedProps,i.stateNode,e,r,o)}n&&Mi(t)}else t.stateNode=V(r,e,n,t)}return Ii(t),null;case 13:if(ot(mr),r=t.memoizedState,Hn&&null!==Vn&&1&t.mode&&!(128&t.flags)){for(e=Vn;e;)e=je(e);return Qn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zn(t),null===e){if(!r)throw Error(a(318));if(!K)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));We(e,t)}else Qn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ii(t),null}return null!==Gn&&(Co(Gn),Gn=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&mr.current?0===Za&&(Za=3):Do())),null!==t.updateQueue&&(t.flags|=4),Ii(t),null);case 4:return fr(),yi(e,t),null===e&&Z(t.stateNode.containerInfo),Ii(t),null;case 10:return sn(t.type._context),Ii(t),null;case 19:if(ot(mr),null===(i=t.memoizedState))return Ii(t),null;if(r=!!(128&t.flags),null===(o=i.rendering))if(r)Ai(i,!1);else{if(0!==Za||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=gr(e))){for(t.flags|=128,Ai(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return st(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Nt()>ao&&(t.flags|=128,r=!0,Ai(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ai(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Hn)return Ii(t),null}else 2*Nt()-i.renderingStartTime>ao&&1073741824!==n&&(t.flags|=128,r=!0,Ai(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,e=mr.current,st(mr,r?1&e|2:1&e),t):(Ii(t),null);case 22:case 23:return Ao(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&Ka&&(Ii(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Ii(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Oi=o.ReactCurrentOwner,Di=!1;function zi(e,t,n,r){t.child=null===e?ar(t,null,n,r):ir(t,e.child,n,r)}function Li(e,t,n,r,i){n=n.render;var a=t.ref;return un(t,i),r=Ir(e,t,n,r,a,i),n=Rr(),null===e||Di?(Hn&&n&&Fn(t),t.flags|=1,zi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,na(e,t,i))}function Ni(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Zo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Jo(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zt)(o,r)&&e.ref===t.ref)return na(e,t,i)}return t.flags|=1,(e=Qo(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,i){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,na(e,t,i);131072&e.flags&&(Di=!0)}return Bi(e,t,n,r,i)}function Fi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,st($a,Ka),Ka|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,st($a,Ka),Ka|=r}else t.memoizedState={baseLanes:0,cachePool:null},st($a,Ka),Ka|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,st($a,Ka),Ka|=r;return zi(e,t,i,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bi(e,t,n,r,i){var a=ht(n)?dt:ut.current;return a=ft(t,a),un(t,i),n=Ir(e,t,n,r,a,i),r=Rr(),null===e||Di?(Hn&&r&&Fn(t),t.flags|=1,zi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,na(e,t,i))}function Vi(e,t,n,r,i){if(ht(n)){var a=!0;vt(t)}else a=!1;if(un(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),kn(t,n,r),Mn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=cn(u):u=ft(t,u=ht(n)?dt:ut.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Cn(t,o,r,u),fn=!1;var f=t.memoizedState;o.state=f,bn(t,r,o,i),l=t.memoizedState,s!==r||f!==l||ct.current||fn?("function"==typeof c&&(_n(t,n,c,r),l=t.memoizedState),(s=fn||En(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,pn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Jt(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=cn(l):l=ft(t,l=ht(n)?dt:ut.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Cn(t,o,r,l),fn=!1,f=t.memoizedState,o.state=f,bn(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||ct.current||fn?("function"==typeof h&&(_n(t,n,h,r),p=t.memoizedState),(u=fn||En(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Hi(e,t,n,r,a,i)}function Hi(e,t,n,r,i,a){Ui(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&yt(t,n,!1),na(e,t,a);r=t.stateNode,Oi.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ir(t,e.child,null,a),t.child=ir(t,null,s,a)):zi(e,t,s,a),t.memoizedState=r.state,i&&yt(t,n,!0),t.child}function Wi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),dr(e,t.containerInfo)}function Gi(e,t,n,r,i){return Qn(),Jn(i),t.flags|=256,zi(e,t,n,r),t.child}var qi={dehydrated:null,treeContext:null,retryLane:0};function Xi(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,o=mr.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),st(mr,1&o),null===e)return Kn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Le(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},1&i||null===s?s=ts(o,i,0,null):(s.childLanes=0,s.pendingProps=o),e=es(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Xi(n),t.memoizedState=qi,e):Ki(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Qi(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=ts({mode:"visible",children:i.children},o,0,null),(s=es(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&ir(t,e.child,null,n),t.child.memoizedState=Xi(n),t.memoizedState=qi,s);if(1&t.mode)if(Le(r))t=Qi(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=qa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=s&(i.suspendedLanes|n)?0:s)&&i!==o.retryLane&&(o.retryLane=i,xo(e,i,-1))}Do(),t=Qi(e,t,n,Error(a(421)))}else ze(r)?(t.flags|=128,t.child=e.child,t=qo.bind(null,e),Ne(r,t),t=null):(n=o.treeContext,K&&(Vn=Be(r),Bn=t,Hn=!0,Gn=null,Wn=!1,null!==n&&(Rn[On++]=zn,Rn[On++]=Ln,Rn[On++]=Dn,zn=n.id,Ln=n.overflow,Dn=t)),(t=Ki(t,t.pendingProps.children)).flags|=4096);else t=Qi(e,t,n,null);return t}return s?(i=Zi(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Xi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=qi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Zi(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Xi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=qi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}function Ki(e,t){return(t=ts({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){var i=e.child;return e=i.sibling,n=Qo(i,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Zi(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 1&a||t.child===e?(n=Qo(e,s)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null),null!==o?r=Qo(o,r):(r=es(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Qi(e,t,n,r){return null!==r&&Jn(r),ir(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ji(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function ea(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(zi(e,t,r.children,n),2&(r=mr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ji(e,n,t);else if(19===e.tag)Ji(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(mr,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,a);break;case"together":ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ja|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Qo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Qo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ra(e,t){switch(Un(t),t.tag){case 1:return ht(t.type)&&pt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),ot(ct),ot(ut),yr(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pr(t),null;case 13:if(ot(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Qn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ot(mr),null;case 4:return fr(),null;case 10:return sn(t.type._context),null;case 22:case 23:return Ao(),null;default:return null}}var ia=!1,aa=!1,oa="function"==typeof WeakSet?WeakSet:Set,sa=null;function la(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ho(e,t,n)}else n.current=null}function ua(e,t,n){try{n()}catch(n){Ho(e,t,n)}}var ca=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ua(t,n,a)}i=i.next}while(i!==r)}}function fa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ha(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=R(n);else e=n;"function"==typeof t?t(e):t.current=e}}function pa(e,t,n){if(Ht&&"function"==typeof Ht.onCommitFiberUnmount)try{Ht.onCommitFiberUnmount(Vt,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&ua(t,n,a),r=r.next}while(r!==e)}break;case 1:if(la(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ho(t,n,e)}break;case 5:la(t,n);break;case 4:X?_a(e,t,n):Y&&Y&&(t=t.stateNode.containerInfo,n=Ce(t),Te(t,n))}}function ma(e,t,n){for(var r=t;;)if(pa(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ga(e){var t=e.alternate;null!==t&&(e.alternate=null,ga(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&J(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function ya(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||va(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ba(e){if(X){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),xa(e,n=ya(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,wa(e,n=ya(e),t);break;default:throw Error(a(161))}}}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function xa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):ce(n,e);else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function _a(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag)ma(e,o,n),i?ye(r,o.stateNode):ve(r,o.stateNode);else if(18===o.tag)i?Ke(r,o.stateNode):Ye(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(pa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Sa(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),fa(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&pe(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo));case 13:case 19:return void Ea(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),fa(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ea(t);case 3:K&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Te(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oa),t.forEach(function(t){var r=Xo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ka(e,t,n){sa=e,Ca(e)}function Ca(e,t,n){for(var r=!!(1&e.mode);null!==sa;){var i=sa,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||ia;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||aa;s=ia;var u=aa;if(ia=o,(aa=l)&&!u)for(sa=i;null!==sa;)l=(o=sa).child,22===o.tag&&null!==o.memoizedState?Ta(i):null!==l?(l.return=o,sa=l):Ta(i);for(;null!==a;)sa=a,Ca(a),a=a.sibling;sa=i,ia=s,aa=u}Ma(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,sa=a):Ma(e)}}function Ma(e){for(;null!==sa;){var t=sa;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:aa||fa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!aa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&wn(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&he(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(K&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Xe(d)}}}break;default:throw Error(a(163))}aa||512&t.flags&&ha(t)}catch(e){Ho(t,t.return,e)}}if(t===e){sa=null;break}if(null!==(n=t.sibling)){n.return=t.return,sa=n;break}sa=t.return}}function Pa(e){for(;null!==sa;){var t=sa;if(t===e){sa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sa=n;break}sa=t.return}}function Ta(e){for(;null!==sa;){var t=sa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(e){Ho(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Ho(t,i,e)}}var a=t.return;try{ha(t)}catch(e){Ho(t,a,e)}break;case 5:var o=t.return;try{ha(t)}catch(e){Ho(t,o,e)}}}catch(e){Ho(t,t.return,e)}if(t===e){sa=null;break}var s=t.sibling;if(null!==s){s.return=t.return,sa=s;break}sa=t.return}}var Aa=0,Ia=1,Ra=2,Oa=3,Da=4;if("function"==typeof Symbol&&Symbol.for){var za=Symbol.for;Aa=za("selector.component"),Ia=za("selector.has_pseudo_class"),Ra=za("selector.role"),Oa=za("selector.test_id"),Da=za("selector.text")}function La(e){var t=$(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=re(e)))throw Error(a(362));return e.stateNode.current}function Na(e,t){switch(t.$$typeof){case Aa:if(e.type===t.value)return!0;break;case Ia:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!oe(r)){for(;null!=o&&Na(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ra:if(5===e.tag&&se(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&(null!==(e=ae(e))&&0<=e.indexOf(t.value)))return!0;break;case Oa:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ja(e){switch(e.$$typeof){case Aa:return"<"+(_(e.value)||"Unknown")+">";case Ia:return":has("+(ja(e)||"")+")";case Ra:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Oa:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Fa(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!oe(i)){for(;null!=o&&Na(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ua(e,t){if(!ne)throw Error(a(363));e=Fa(e=La(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)oe(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ba=Math.ceil,Va=o.ReactCurrentDispatcher,Ha=o.ReactCurrentOwner,Wa=o.ReactCurrentBatchConfig,Ga=0,qa=null,Xa=null,Ya=0,Ka=0,$a=at(0),Za=0,Qa=null,Ja=0,eo=0,to=0,no=null,ro=null,io=0,ao=1/0;function oo(){ao=Nt()+500}var so,lo=!1,uo=null,co=null,fo=!1,ho=null,po=0,mo=0,go=null,vo=-1,yo=0;function bo(){return 6&Ga?Nt():-1!==vo?vo:vo=Nt()}function wo(e){return 1&e.mode?2&Ga&&0!==Ya?Ya&-Ya:null!==$t.transition?(0===yo&&(e=_t,!(4194240&(_t<<=1))&&(_t=64),yo=e),yo):0!==(e=It)?e:Q():1}function xo(e,t,n){if(50<mo)throw mo=0,go=null,Error(a(185));var r=_o(e,t);return null===r?null:(Tt(r,t,n),(!(2&Ga)||r!==qa)&&(r===qa&&(!(2&Ga)&&(eo|=t),4===Za&&Mo(r,Ya)),So(r,n),1===t&&0===Ga&&!(1&e.mode)&&(oo(),qt&&Kt())),r)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function So(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bt(a),s=1<<o,l=i[o];-1===l?(!(s&n)||s&r)&&(i[o]=Ct(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=kt(e,e===qa?Ya:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){qt=!0,Yt(e)}(Po.bind(null,e)):Yt(Po.bind(null,e)),ee?te(function(){0===Ga&&Kt()}):Ot(jt,Kt),n=null;else{switch(Rt(r)){case 1:n=jt;break;case 4:n=Ft;break;case 16:default:n=Ut;break;case 536870912:n=Bt}n=Yo(n,Eo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eo(e,t){if(vo=-1,yo=0,6&Ga)throw Error(a(327));var n=e.callbackNode;if(Bo()&&e.callbackNode!==n)return null;var r=kt(e,e===qa?Ya:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=zo(e,r);else{t=r;var i=Ga;Ga|=2;var o=Oo();for((qa!==e||Ya!==t)&&(oo(),Io(e,t));;)try{No();break}catch(t){Ro(e,t)}an(),Va.current=o,Ga=i,null!==Xa?t=0:(qa=null,Ya=0,t=Za)}if(0!==t){if(2===t&&(0!==(i=Mt(e))&&(r=i,t=ko(e,i))),1===t)throw n=Qa,Io(e,0),Mo(e,r),So(e,Nt()),n;if(6===t)Mo(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=zo(e,r),2===t&&(o=Mt(e),0!==o&&(r=o,t=ko(e,o))),1!==t)))throw n=Qa,Io(e,0),Mo(e,r),So(e,Nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Uo(e,ro);break;case 3:if(Mo(e,r),(130023424&r)===r&&10<(t=io+500-Nt())){if(0!==kt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){bo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=H(Uo.bind(null,e,ro),t);break}Uo(e,ro);break;case 4:if(Mo(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-bt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Nt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ba(r/1960))-r)){e.timeoutHandle=H(Uo.bind(null,e,ro),r);break}Uo(e,ro);break;default:throw Error(a(329))}}}return So(e,Nt()),e.callbackNode===n?Eo.bind(null,e):null}function ko(e,t){var n=no;return e.current.memoizedState.isDehydrated&&(Io(e,t).flags|=256),2!==(e=zo(e,t))&&(t=ro,ro=n,null!==t&&Co(t)),e}function Co(e){null===ro?ro=e:ro.push.apply(ro,e)}function Mo(e,t){for(t&=~to,t&=~eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Po(e){if(6&Ga)throw Error(a(327));Bo();var t=kt(e,0);if(!(1&t))return So(e,Nt()),null;var n=zo(e,t);if(0!==e.tag&&2===n){var r=Mt(e);0!==r&&(t=r,n=ko(e,r))}if(1===n)throw n=Qa,Io(e,0),Mo(e,t),So(e,Nt()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uo(e,ro),So(e,Nt()),null}function To(e){null!==ho&&0===ho.tag&&!(6&Ga)&&Bo();var t=Ga;Ga|=1;var n=Wa.transition,r=It;try{if(Wa.transition=null,It=1,e)return e()}finally{It=r,Wa.transition=n,!(6&(Ga=t))&&Kt()}}function Ao(){Ka=$a.current,ot($a)}function Io(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,W(n)),null!==Xa)for(n=Xa.return;null!==n;){var r=n;switch(Un(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&pt();break;case 3:fr(),ot(ct),ot(ut),yr();break;case 5:pr(r);break;case 4:fr();break;case 13:case 19:ot(mr);break;case 10:sn(r.type._context);break;case 22:case 23:Ao()}n=n.return}if(qa=e,Xa=e=Qo(e.current,null),Ya=Ka=t,Za=0,Qa=null,to=eo=Ja=0,ro=no=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}dn=null}return e}function Ro(e,t){for(;;){var n=Xa;try{if(an(),br.current=fi,kr){for(var r=_r.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}kr=!1}if(xr=0,Er=Sr=_r=null,Cr=!1,Mr=0,Ha.current=null,null===n||null===n.return){Za=1,Qa=t,Xa=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Ya,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ki(s);if(null!==p){p.flags&=-257,Ci(p,s,l,0,t),1&p.mode&&Ei(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){Ei(o,c,t),Do();break e}u=Error(a(426))}else if(Hn&&1&l.mode){var v=ki(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),Ci(v,s,l,0,t),Jn(u);break e}}o=u,4!==Za&&(Za=2),null===no?no=[o]:no.push(o),u=gi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,yn(l,_i(0,u,t));break e;case 1:o=u;var y=l.type,b=l.stateNode;if(!(128&l.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==co&&co.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,yn(l,Si(l,o,t));break e}}l=l.return}while(null!==l)}Fo(n)}catch(e){t=e,Xa===n&&null!==n&&(Xa=n=n.return);continue}break}}function Oo(){var e=Va.current;return Va.current=fi,null===e?fi:e}function Do(){(0===Za||3===Za||2===Za)&&(Za=4),null===qa||!(268435455&Ja)&&!(268435455&eo)||Mo(qa,Ya)}function zo(e,t){var n=Ga;Ga|=2;var r=Oo();for(qa===e&&Ya===t||Io(e,t);;)try{Lo();break}catch(t){Ro(e,t)}if(an(),Ga=n,Va.current=r,null!==Xa)throw Error(a(261));return qa=null,Ya=0,Za}function Lo(){for(;null!==Xa;)jo(Xa)}function No(){for(;null!==Xa&&!zt();)jo(Xa)}function jo(e){var t=so(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,null===t?Fo(e):Xa=t,Ha.current=null}function Fo(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=ra(n,t)))return n.flags&=32767,void(Xa=n);if(null===e)return Za=6,void(Xa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ri(n,t,Ka)))return void(Xa=n);if(null!==(t=t.sibling))return void(Xa=t);Xa=t=e}while(null!==t);0===Za&&(Za=5)}function Uo(e,t){var n=It,r=Wa.transition;try{Wa.transition=null,It=1,function(e,t,n){do{Bo()}while(null!==ho);if(6&Ga)throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===qa&&(Xa=qa=null,Ya=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||fo||(fo=!0,Yo(Ut,function(){return Bo(),null})),o=!!(15990&r.flags),15990&r.subtreeFlags||o){o=Wa.transition,Wa.transition=null;var s=It;It=1;var l=Ga;Ga|=4,Ha.current=null,function(e,t){for(z(e.containerInfo),sa=t;null!==sa;)if(t=(e=sa).child,1028&e.subtreeFlags&&null!==t)t.return=e,sa=t;else for(;null!==sa;){e=sa;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:Jt(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ee(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(t){Ho(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,sa=t;break}sa=e.return}n=ca,ca=!1}(e,r),function(e,t){for(sa=t;null!==sa;){var n=(t=sa).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?_a(a,i,t):ma(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){Ho(i,t,e)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,sa=n;else for(;null!==sa;){t=sa;try{var s=t.flags;if(32&s&&X&&be(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"==typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(io=Nt())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,X)e:if(r=n,i=d,a=null,X)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?we(m):_e(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?xe(g):Se(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!h&&1&n.mode){sa=n;for(var v=n.child;null!==v;){for(n=sa=v;null!==sa;){var y=(r=sa).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:la(r,r.return);var b=r.stateNode;if("function"==typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(e){Ho(r,w,e)}}break;case 5:la(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==y?(y.return=r,sa=y):Pa(n)}v=v.sibling}}}switch(4102&s){case 2:ba(t),t.flags&=-3;break;case 6:ba(t),t.flags&=-3,Sa(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Sa(t.alternate,t);break;case 4:Sa(t.alternate,t)}}catch(e){Ho(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,sa=n;break}sa=t.return}}}(e,r),L(e.containerInfo),e.current=r,ka(r),Lt(),Ga=l,It=s,Wa.transition=o}else e.current=r;if(fo&&(fo=!1,ho=e,po=i),o=e.pendingLanes,0===o&&(co=null),function(e){if(Ht&&"function"==typeof Ht.onCommitFiberRoot)try{Ht.onCommitFiberRoot(Vt,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),So(e,Nt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(lo)throw lo=!1,e=uo,uo=null,e;1&po&&0!==e.tag&&Bo(),o=e.pendingLanes,1&o?e===go?mo++:(mo=0,go=e):mo=0,Kt()}(e,t,n)}finally{Wa.transition=r,It=n}return null}function Bo(){if(null!==ho){var e=Rt(po),t=Wa.transition,n=It;try{if(Wa.transition=null,It=16>e?16:e,null===ho)var r=!1;else{if(e=ho,ho=null,po=0,6&Ga)throw Error(a(331));var i=Ga;for(Ga|=4,sa=e.current;null!==sa;){var o=sa,s=o.child;if(16&sa.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(sa=c;null!==sa;){var d=sa;switch(d.tag){case 0:case 11:case 15:da(8,d,o)}var f=d.child;if(null!==f)f.return=d,sa=f;else for(;null!==sa;){var h=(d=sa).sibling,p=d.return;if(ga(d),d===c){sa=null;break}if(null!==h){h.return=p,sa=h;break}sa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}sa=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,sa=s;else e:for(;null!==sa;){if(2048&(o=sa).flags)switch(o.tag){case 0:case 11:case 15:da(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,sa=y;break e}sa=o.return}}var b=e.current;for(sa=b;null!==sa;){var w=(s=sa).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,sa=w;else e:for(s=b;null!==sa;){if(2048&(l=sa).flags)try{switch(l.tag){case 0:case 11:case 15:fa(9,l)}}catch(e){Ho(l,l.return,e)}if(l===s){sa=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,sa=x;break e}sa=l.return}}if(Ga=i,Kt(),Ht&&"function"==typeof Ht.onPostCommitFiberRoot)try{Ht.onPostCommitFiberRoot(Vt,e)}catch(e){}r=!0}return r}finally{It=n,Wa.transition=t}}return!1}function Vo(e,t,n){gn(e,t=_i(0,t=gi(n,t),1)),t=bo(),null!==(e=_o(e,1))&&(Tt(e,1,t),So(e,t))}function Ho(e,t,n){if(3===e.tag)Vo(e,e,n);else for(;null!==t;){if(3===t.tag){Vo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===co||!co.has(r))){gn(t,e=Si(t,e=gi(n,e),1)),e=bo(),null!==(t=_o(t,1))&&(Tt(t,1,e),So(t,e));break}}t=t.return}}function Wo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=bo(),e.pingedLanes|=e.suspendedLanes&n,qa===e&&(Ya&n)===n&&(4===Za||3===Za&&(130023424&Ya)===Ya&&500>Nt()-io?Io(e,0):to|=n),So(e,t)}function Go(e,t){0===t&&(1&e.mode?(t=St,!(130023424&(St<<=1))&&(St=4194304)):t=1);var n=bo();null!==(e=_o(e,t))&&(Tt(e,t,n),So(e,n))}function qo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Go(e,n)}function Xo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Go(e,n)}function Yo(e,t){return Ot(e,t)}function Ko(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(e,t,n,r){return new Ko(e,t,n,r)}function Zo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qo(e,t){var n=e.alternate;return null===n?((n=$o(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Zo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case u:return es(n.children,i,o,t);case c:s=8,i|=8;break;case d:return(e=$o(12,n,t,2|i)).elementType=d,e.lanes=o,e;case m:return(e=$o(13,n,t,i)).elementType=m,e.lanes=o,e;case g:return(e=$o(19,n,t,i)).elementType=g,e.lanes=o,e;case b:return ts(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case h:s=9;break e;case p:s=11;break e;case v:s=14;break e;case y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=$o(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function es(e,t,n,r){return(e=$o(7,e,r,t)).lanes=n,e}function ts(e,t,n,r){return(e=$o(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function ns(e,t,n){return(e=$o(6,e,null,t)).lanes=n,e}function rs(e,t,n){return(t=$o(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function is(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=G,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pt(0),this.expirationTimes=Pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.identifierPrefix=r,this.onRecoverableError=i,K&&(this.mutableSourceEagerHydrationData=null)}function as(e,t,n,r,i,a,o,s,l){return e=new is(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=$o(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},hn(a),e}function os(e){if(!e)return lt;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ht(n))return gt(e,n,t)}return t}function ss(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return null===(e=M(t))?null:e.stateNode}function ls(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function us(e,t){ls(e,t),(e=e.alternate)&&ls(e,t)}function cs(e){return null===(e=M(e))?null:e.stateNode}function ds(){return null}return so=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ct.current)Di=!0;else{if(!(e.lanes&n||128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:Wi(t),Qn();break;case 5:hr(t);break;case 1:ht(t.type)&&vt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:on(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(st(mr,1&mr.current),t.flags|=128,null):n&t.child.childLanes?Yi(e,t,n):(st(mr,1&mr.current),null!==(e=na(e,t,n))?e.sibling:null);st(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return ta(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,Fi(e,t,n)}return na(e,t,n)}(e,t,n);Di=!!(131072&e.flags)}else Di=!1,Hn&&1048576&t.flags&&jn(t,In,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ut.current);un(t,n),i=Ir(null,t,r,e,i,n);var o=Rr();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(o=!0,vt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hn(t),i.updater=Sn,t.stateNode=i,i._reactInternals=t,Mn(t,r,e,n),t=Hi(null,t,r,!0,o,n)):(t.tag=0,Hn&&o&&Fn(t),zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Zo(e)?1:0;if(null!=e){if((e=e.$$typeof)===p)return 11;if(e===v)return 14}return 2}(r),e=Jt(r,e),i){case 0:t=Bi(null,t,r,e,n);break e;case 1:t=Vi(null,t,r,e,n);break e;case 11:t=Li(null,t,r,e,n);break e;case 14:t=Ni(null,t,r,Jt(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bi(e,t,r,i=t.elementType===r?i:Jt(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:Jt(r,i),n);case 3:e:{if(Wi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,pn(e,t),bn(t,r,null,n);var s=t.memoizedState;if(r=s.element,K&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Gi(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Gi(e,t,r,n,i=Error(a(424)));break e}for(K&&(Vn=Ue(t.stateNode.containerInfo),Bn=t,Hn=!0,Gn=null,Wn=!1),n=ar(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qn(),r===i){t=na(e,t,n);break e}zi(e,t,r,n)}t=t.child}return t;case 5:return hr(t),null===e&&Kn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,B(r,i)?s=null:null!==o&&B(r,o)&&(t.flags|=32),Ui(e,t),zi(e,t,s,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return Yi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ir(t,null,r,n):zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Li(e,t,r,i=t.elementType===r?i:Jt(r,i),n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,on(0,r,s=i.value),null!==o)if(Wt(o.value,s)){if(o.children===i.children&&!ct.current){t=na(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=mn(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ln(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ln(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),r=r(i=cn(i)),t.flags|=1,zi(e,t,r,n),t.child;case 14:return i=Jt(r=t.type,t.pendingProps),Ni(e,t,r,i=Jt(r.type,i),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ht(r)?(e=!0,vt(t)):e=!1,un(t,n),kn(t,r,i),Mn(t,r,i,n),Hi(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 22:return Fi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(xo(e,134217728,bo()),us(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=bo(),n=wo(e);xo(e,n,t),us(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(At(t,1|n),So(t,Nt()),!(6&Ga)&&(oo(),Kt()))}break;case 13:var r=bo();To(function(){return xo(e,1,r)}),us(e,1)}},t.batchedUpdates=function(e,t){var n=Ga;Ga|=1;try{return e(t)}finally{0===(Ga=n)&&(oo(),qt&&Kt())}},t.createComponentSelector=function(e){return{$$typeof:Aa,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return as(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ia,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=as(n,r,!0,e,0,a,0,s,l)).context=os(null),n=e.current,(a=mn(r=bo(),i=wo(n))).callback=null!=t?t:null,gn(n,a),e.current.lanes=i,Tt(e,i,r),So(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ra,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Oa,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=It,n=Wa.transition;try{return Wa.transition=null,It=16,e()}finally{It=t,Wa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=It,o=Wa.transition;try{return Wa.transition=null,It=1,e(t,n,r,i)}finally{It=a,Wa.transition=o,0===Ga&&oo()}},t.findAllNodes=Ua,t.findBoundingRects=function(e,t){if(!ne)throw Error(a(363));t=Ua(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ie(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&o>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<o||f>s)){f>o&&(u.height+=f-o,u.y=o),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(o!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ss,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?T(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ss(e)},t.flushControlled=function(e){var t=Ga;Ga|=1;var n=Wa.transition,r=It;try{Wa.transition=null,It=1,e()}finally{It=r,Wa.transition=n,0===(Ga=t)&&(oo(),Kt())}},t.flushPassiveEffects=Bo,t.flushSync=To,t.focusWithin=function(e,t){if(!ne)throw Error(a(363));for(t=Fa(e=La(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!oe(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!ne)throw Error(a(363));var n=0,r=[];e=[La(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],l=t[s];if((5!==o.tag||!oe(o))&&(Na(o,l)&&(r.push(ja(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ja(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:cs,findFiberByHostInstance:e.findFiberByHostInstance||ds,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Ht=t}catch(e){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!ne)throw Error(a(363));e=Ua(e,t);var i=ue(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=bo(),o=wo(i);return n=os(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=xo(i,o,a))&&vn(e,i,o),o},t}}}),Gg=Dg({"../../node_modules/react-reconciler/index.js"(e,t){t.exports=Wg()}}),qg=Dg({"../../node_modules/debounce/index.js"(e,t){function n(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}n.debounce=n,t.exports=n}}),Xg=Dg({"../../node_modules/zustand/shallow.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}}}),Yg=Dg({"../../node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.min.js"(e){var t=Fg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},o={};function s(e){return!!r.call(o,e)||!r.call(a,e)&&(i.test(e)?o[e]=!0:(a[e]=!0,!1))}function l(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var u={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){u[e]=new l(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];u[t]=new l(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){u[e]=new l(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){u[e]=new l(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){u[e]=new l(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){u[e]=new l(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){u[e]=new l(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){u[e]=new l(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){u[e]=new l(e,5,!1,e.toLowerCase(),null,!1,!1)});var c=/[\-:]([a-z])/g;function d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(c,d);u[t]=new l(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(c,d);u[t]=new l(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(c,d);u[t]=new l(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){u[e]=new l(e,1,!1,e.toLowerCase(),null,!1,!1)}),u.xlinkHref=new l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){u[e]=new l(e,1,!1,e.toLowerCase(),null,!0,!0)});var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h=["Webkit","ms","Moz","O"];Object.keys(f).forEach(function(e){h.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]})});var p=/["'&<>]/;function m(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=p.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var g=/([A-Z])/g,v=/^ms-/,y=Array.isArray;function b(e,t){return{insertionMode:e,selectedValue:t}}var w=new Map;function x(e,t,i){if("object"!=typeof i)throw Error(n(62));for(var a in t=!0,i)if(r.call(i,a)){var o=i[a];if(null!=o&&"boolean"!=typeof o&&""!==o){if(0===a.indexOf("--")){var s=m(a);o=m((""+o).trim())}else{s=a;var l=w.get(s);void 0!==l||(l=m(s.replace(g,"-$1").toLowerCase().replace(v,"-ms-")),w.set(s,l)),s=l,o="number"==typeof o?0===o||r.call(f,a)?""+o:o+"px":m((""+o).trim())}t?(t=!1,e.push(' style="',s,":",o)):e.push(";",s,":",o)}}t||e.push('"')}function _(e,t,n,r){switch(n){case"style":return void x(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=u.hasOwnProperty(n)?u[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',m(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',m(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',m(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',m(r),'"')}}else if(s(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',m(r),'"')}}function S(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(""+t)}}function E(e,t,n,i){e.push(M(n));var a,o=n=null;for(a in t)if(r.call(t,a)){var s=t[a];if(null!=s)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:_(e,i,a,s)}}return e.push(">"),S(e,o,n),"string"==typeof n?(e.push(m(n)),null):n}var k=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,C=new Map;function M(e){var t=C.get(e);if(void 0===t){if(!k.test(e))throw Error(n(65,e));t="<"+e,C.set(e,t)}return t}function P(e,i,a,o,l){switch(i){case"select":e.push(M("select"));var u=null,c=null;for(p in a)if(r.call(a,p)){var d=a[p];if(null!=d)switch(p){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"defaultValue":case"value":break;default:_(e,o,p,d)}}return e.push(">"),S(e,c,u),u;case"option":c=l.selectedValue,e.push(M("option"));var f=d=null,h=null,p=null;for(u in a)if(r.call(a,u)){var g=a[u];if(null!=g)switch(u){case"children":d=g;break;case"selected":h=g;break;case"dangerouslySetInnerHTML":p=g;break;case"value":f=g;default:_(e,o,u,g)}}if(null!=c)if(a=null!==f?""+f:function(e){var n="";return t.Children.forEach(e,function(e){null!=e&&(n+=e)}),n}(d),y(c)){for(o=0;o<c.length;o++)if(""+c[o]===a){e.push(' selected=""');break}}else""+c===a&&e.push(' selected=""');else h&&e.push(' selected=""');return e.push(">"),S(e,p,d),d;case"textarea":for(d in e.push(M("textarea")),p=c=u=null,a)if(r.call(a,d)&&null!=(f=a[d]))switch(d){case"children":p=f;break;case"value":u=f;break;case"defaultValue":c=f;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:_(e,o,d,f)}if(null===u&&null!==c&&(u=c),e.push(">"),null!=p){if(null!=u)throw Error(n(92));if(y(p)&&1<p.length)throw Error(n(93));u=""+p}return"string"==typeof u&&"\n"===u[0]&&e.push("\n"),null!==u&&e.push(m(""+u)),null;case"input":for(c in e.push(M("input")),f=p=d=u=null,a)if(r.call(a,c)&&null!=(h=a[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":f=h;break;case"defaultValue":d=h;break;case"checked":p=h;break;case"value":u=h;break;default:_(e,o,c,h)}return null!==p?_(e,o,"checked",p):null!==f&&_(e,o,"checked",f),null!==u?_(e,o,"value",u):null!==d&&_(e,o,"value",d),e.push("/>"),null;case"menuitem":for(var v in e.push(M("menuitem")),a)if(r.call(a,v)&&null!=(u=a[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:_(e,o,v,u)}return e.push(">"),null;case"title":for(g in e.push(M("title")),u=null,a)if(r.call(a,g)&&null!=(c=a[g]))switch(g){case"children":u=c;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:_(e,o,g,c)}return e.push(">"),u;case"listing":case"pre":for(f in e.push(M(i)),c=u=null,a)if(r.call(a,f)&&null!=(d=a[f]))switch(f){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;default:_(e,o,f,d)}if(e.push(">"),null!=c){if(null!=u)throw Error(n(60));if("object"!=typeof c||!("__html"in c))throw Error(n(61));null!=(a=c.__html)&&("string"==typeof a&&0<a.length&&"\n"===a[0]?e.push("\n",a):e.push(""+a))}return"string"==typeof u&&"\n"===u[0]&&e.push("\n"),u;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var b in e.push(M(i)),a)if(r.call(a,b)&&null!=(u=a[b]))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,i));default:_(e,o,b,u)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return E(e,a,i,o);case"html":return 0===l.insertionMode&&e.push("<!DOCTYPE html>"),E(e,a,i,o);default:if(-1===i.indexOf("-")&&"string"!=typeof a.is)return E(e,a,i,o);for(h in e.push(M(i)),c=u=null,a)if(r.call(a,h)&&null!=(d=a[h]))switch(h){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"style":x(e,o,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:s(h)&&"function"!=typeof d&&"symbol"!=typeof d&&e.push(" ",h,'="',m(d),'"')}return e.push(">"),S(e,c,u),u}}function T(e,t,r){if(e.push('\x3c!--$?--\x3e<template id="'),null===r)throw Error(n(395));return e.push(r),e.push('"></template>')}var A=/[<\u2028\u2029]/g;function I(e){return JSON.stringify(e).replace(A,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function R(e,t,n,r){return n.generateStaticMarkup?(e.push(m(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(m(t)),e=!0),e)}var O=Object.assign,D=Symbol.for("react.element"),z=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.scope"),X=Symbol.for("react.debug_trace_mode"),Y=Symbol.for("react.legacy_hidden"),K=Symbol.for("react.default_value"),$=Symbol.iterator;function Z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case L:return"Fragment";case z:return"Portal";case j:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case H:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case W:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return Z(e(t))}catch(e){}}return null}var Q={};function J(e,t){if(!(e=e.contextTypes))return Q;var n,r={};for(n in e)r[n]=t[n];return r}var ee=null;function te(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));te(e,r)}t.context._currentValue2=t.value}}function ne(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&ne(e)}function re(e){var t=e.parent;null!==t&&re(t),e.context._currentValue2=e.value}function ie(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?te(e,t):ie(e,t)}function ae(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?te(e,r):ae(e,r),t.context._currentValue2=t.value}function oe(e){var t=ee;t!==e&&(null===t?re(e):null===e?ne(t):t.depth===e.depth?te(t,e):t.depth>e.depth?ie(t,e):ae(t,e),ee=e)}var se={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function le(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=se,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"==typeof o&&null!==o?o._currentValue2:r,"function"==typeof(o=t.getDerivedStateFromProps)&&(i=null==(o=o(n,i))?i:O({},i,o),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&se.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"==typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=O({},a,s)):O(a,s))}e.state=a}else a.queue=null}var ue={id:1,overflow:""};function ce(e,t,n){var r=e.id;e=e.overflow;var i=32-de(r)-1;r&=~(1<<i),n+=1;var a=32-de(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-de(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var de=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(fe(e)/he|0)|0},fe=Math.log,he=Math.LN2;var pe="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},me=null,ge=null,ve=null,ye=null,be=!1,we=!1,xe=0,_e=null,Se=0;function Ee(){if(null===me)throw Error(n(321));return me}function ke(){if(0<Se)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Ce(){return null===ye?null===ve?(be=!1,ve=ye=ke()):(be=!0,ye=ve):null===ye.next?(be=!1,ye=ye.next=ke()):(be=!0,ye=ye.next),ye}function Me(){ge=me=null,we=!1,ve=null,Se=0,ye=_e=null}function Pe(e,t){return"function"==typeof t?t(e):t}function Te(e,t,n){if(me=Ee(),ye=Ce(),be){var r=ye.queue;if(t=r.dispatch,null!==_e&&void 0!==(n=_e.get(r))){_e.delete(r),r=ye.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return ye.memoizedState=r,[r,t]}return[ye.memoizedState,t]}return e=e===Pe?"function"==typeof t?t():t:void 0!==n?n(t):t,ye.memoizedState=e,e=(e=ye.queue={last:null,dispatch:null}).dispatch=Ie.bind(null,me,e),[ye.memoizedState,e]}function Ae(e,t){if(me=Ee(),t=void 0===t?null:t,null!==(ye=Ce())){var n=ye.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!pe(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),ye.memoizedState=[e,t],e}function Ie(e,t,r){if(25<=Se)throw Error(n(301));if(e===me)if(we=!0,e={action:r,next:null},null===_e&&(_e=new Map),void 0===(r=_e.get(t)))_e.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function Re(){throw Error(n(394))}function Oe(){}var De={readContext:function(e){return e._currentValue2},useContext:function(e){return Ee(),e._currentValue2},useMemo:Ae,useReducer:Te,useRef:function(e){me=Ee();var t=(ye=Ce()).memoizedState;return null===t?(e={current:e},ye.memoizedState=e):t},useState:function(e){return Te(Pe,e)},useInsertionEffect:Oe,useLayoutEffect:function(){},useCallback:function(e,t){return Ae(function(){return e},t)},useImperativeHandle:Oe,useEffect:Oe,useDebugValue:Oe,useDeferredValue:function(e){return Ee(),e},useTransition:function(){return Ee(),[!1,Re]},useId:function(){var e=ge.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-de(e)-1)).toString(32)+t;var r=ze;if(null===r)throw Error(n(404));return t=xe++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ee(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()}},ze=null,Le=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ne(e){return null}function je(){}function Fe(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&et(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function Ue(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function Be(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ve(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function He(e,t,n,r,i){for(me={},ge=t,xe=0,e=n(r,i);we;)we=!1,xe=0,Se+=1,ye=null,e=n(r,i);return Me(),e}function We(e,t,r,i){var a=r.render(),o=i.childContextTypes;if(null!=o){var s=t.legacyContext;if("function"!=typeof r.getChildContext)i=s;else{for(var l in r=r.getChildContext())if(!(l in o))throw Error(n(108,Z(i)||"Unknown",l));i=O({},s,r)}t.legacyContext=i,Xe(e,t,a),t.legacyContext=s}else Xe(e,t,a)}function Ge(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function qe(e,t,r,i,a){if("function"==typeof r)if(r.prototype&&r.prototype.isReactComponent){a=J(r,t.legacyContext);var o=r.contextType;le(o=new r(i,"object"==typeof o&&null!==o?o._currentValue2:a),r,i,a),We(e,t,o,r)}else{a=He(e,t,r,i,o=J(r,t.legacyContext));var s=0!==xe;if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof)le(a,r,i,o),We(e,t,a,r);else if(s){i=t.treeContext,t.treeContext=ce(i,1,0);try{Xe(e,t,a)}finally{t.treeContext=i}}else Xe(e,t,a)}else{if("string"!=typeof r){switch(r){case Y:case X:case N:case j:case L:case H:return void Xe(e,t,i.children);case q:throw Error(n(343));case V:e:{r=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},u=Ue(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(u),a.lastPushedText=!1;var c=Ue(0,0,null,a.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(Ke(e,t,i),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,Qe(l,c),0===l.pendingTasks)break e}catch(t){c.status=4,l.forceClientRender=!0,l.errorDigest=Be(e,t)}finally{t.blockedBoundary=r,t.blockedSegment=a}t=Fe(e,o,r,u,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof r&&null!==r)switch(r.$$typeof){case B:if(i=He(e,t,r.render,i,a),0!==xe){r=t.treeContext,t.treeContext=ce(r,1,0);try{Xe(e,t,i)}finally{t.treeContext=r}}else Xe(e,t,i);return;case W:return void qe(e,t,r=r.type,i=Ge(r,i),a);case F:if(a=i.children,r=r._context,i=i.value,o=r._currentValue2,r._currentValue2=i,ee=i={parent:s=ee,depth:null===s?0:s.depth+1,context:r,parentValue:o,value:i},t.context=i,Xe(e,t,a),null===(e=ee))throw Error(n(403));return i=e.parentValue,e.context._currentValue2=i===K?e.context._defaultValue:i,e=ee=e.parent,void(t.context=e);case U:return void Xe(e,t,i=(i=i.children)(r._currentValue2));case G:return void qe(e,t,r=(a=r._init)(r._payload),i=Ge(r,i),void 0)}throw Error(n(130,null==r?r:typeof r,""))}switch(o=P((a=t.blockedSegment).chunks,r,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return b(1,null!=n.value?n.value:n.defaultValue);case"svg":return b(2,null);case"math":return b(3,null);case"foreignObject":return b(1,null);case"table":return b(4,null);case"thead":case"tbody":case"tfoot":return b(5,null);case"colgroup":return b(7,null);case"tr":return b(6,null)}return 4<=e.insertionMode||0===e.insertionMode?b(1,null):e}(s,r,i),Ke(e,t,o),a.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push("</",r,">")}a.lastPushedText=!1}}function Xe(e,t,r){if(t.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case D:return void qe(e,t,r.type,r.props,r.ref);case z:throw Error(n(257));case G:var i=r._init;return void Xe(e,t,r=i(r._payload))}if(y(r))return void Ye(e,t,r);if(null===r||"object"!=typeof r?i=null:i="function"==typeof(i=$&&r[$]||r["@@iterator"])?i:null,i&&(i=i.call(r))){if(!(r=i.next()).done){var a=[];do{a.push(r.value),r=i.next()}while(!r.done);Ye(e,t,a)}return}throw e=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(i=t.blockedSegment).lastPushedText=R(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=t.blockedSegment).lastPushedText=R(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function Ye(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=ce(a,r,i);try{Ke(e,t,n[i])}finally{t.treeContext=a}}}function Ke(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Xe(e,t,n)}catch(l){if(Me(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,oe(a),l;n=l;var o=t.blockedSegment,s=Ue(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=Fe(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,oe(a)}}function $e(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Je(this,t,e)}function Ze(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===r?Error(n(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(e){return Ze(e,t,r)}),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function Qe(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Qe(e,n)}else e.completedSegments.push(t)}function Je(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=je,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&Qe(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach($e,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(Qe(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function et(e){if(2!==e.status){var t=ee,n=Le.current;Le.current=De;var r=ze;ze=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,l=o.blockedSegment;if(0===l.status){oe(o.context);try{Xe(s,o,o.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),o.abortSet.delete(o),l.status=1,Je(s,o.blockedBoundary,l)}catch(e){if(Me(),"object"==typeof e&&null!==e&&"function"==typeof e.then){var u=o.ping;e.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=e,f=Be(s,d);if(null===c?Ve(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&ot(e,e.destination)}catch(t){Be(e,t),Ve(e,t)}finally{ze=r,Le.current=n,n===De&&oe(t)}}}function tt(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=i.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var a=!0;i=r.chunks;var o=0;r=r.children;for(var s=0;s<r.length;s++){for(a=r[s];o<a.index;o++)t.push(i[o]);a=nt(e,t,a)}for(;o<i.length-1;o++)t.push(i[o]);return o<i.length&&(a=t.push(i[o])),a;default:throw Error(n(390))}}function nt(e,t,r){var i=r.boundary;if(null===i)return tt(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||(i=i.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),i&&(t.push(' data-dgst="'),i=m(i),t.push(i),t.push('"')),t.push("></template>")),tt(e,t,r),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var a=e.responseState,o=a.nextSuspenseID++;return a=a.boundaryPrefix+o.toString(16),i=i.id=a,T(t,e.responseState,i),tt(e,t,r),t.push("\x3c!--/$--\x3e")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),T(t,e.responseState,i.id),tt(e,t,r),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(r=i.completedSegments).length)throw Error(n(391));return nt(e,t,r[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function rt(e,t,r){return function(e,t,r,i){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');default:throw Error(n(397))}}(t,e.responseState,r.formatContext,r.id),nt(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(n(397))}}(t,r.formatContext)}function it(e,t,r){for(var i=r.completedSegments,a=0;a<i.length;a++)at(e,t,r,i[a]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===i)throw Error(n(395));return r=r.toString(16),t.push(i),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function at(e,t,r,i){if(2===i.status)return!0;var a=i.id;if(-1===a){if(-1===(i.id=r.rootSegmentID))throw Error(n(392));return rt(e,t,i)}return rt(e,t,i),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),a=a.toString(16),t.push(a),t.push('","'),t.push(e.placeholderPrefix),t.push(a),t.push('")<\/script>')}function ot(e,t){try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){nt(e,t,r),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)t.push(i[r]);r<i.length&&t.push(i[r])}var a,o=e.clientRenderedBoundaries;for(a=0;a<o.length;a++){var s=o[a];i=t;var l=e.responseState,u=s.id,c=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(i.push(l.startInlineScript),l.sentClientRenderFunction?i.push('$RX("'):(l.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(n(395));if(i.push(u),i.push('"'),c||d||f){i.push(",");var h=I(c||"");i.push(h)}if(d||f){i.push(",");var p=I(d||"");i.push(p)}if(f){i.push(",");var m=I(f);i.push(m)}if(!i.push(")<\/script>"))return e.destination=null,a++,void o.splice(0,a)}o.splice(0,a);var g=e.completedBoundaries;for(a=0;a<g.length;a++)if(!it(e,t,g[a]))return e.destination=null,a++,void g.splice(0,a);g.splice(0,a);var v=e.partialBoundaries;for(a=0;a<v.length;a++){var y=v[a];e:{o=e,s=t;var b=y.completedSegments;for(l=0;l<b.length;l++)if(!at(o,s,y,b[l])){l++,b.splice(0,l);var w=!1;break e}b.splice(0,l),w=!0}if(!w)return e.destination=null,a++,void v.splice(0,a)}v.splice(0,a);var x=e.completedBoundaries;for(a=0;a<x.length;a++)if(!it(e,t,x[a]))return e.destination=null,a++,void x.splice(0,a);x.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function st(e,t){try{var n=e.abortableTasks;n.forEach(function(n){return Ze(n,e,t)}),n.clear(),null!==e.destination&&ot(e,e.destination)}catch(t){Be(e,t),Ve(e,t)}}function lt(){}function ut(e,t,r,i){var a=!1,o=null,s="",l={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){a=!0,o=e}},u=!1;if(e=function(e,t,n,r,i,a,o,s,l){var u=[],c=new Set;return(n=Ue(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?Ne:i,onAllReady:void 0===a?je:a,onShellReady:void 0===o?je:o,onShellError:void 0===s?je:s,onFatalError:void 0===l?je:l},0,null,n,!1,!1)).parentFlushed=!0,e=Fe(t,e,null,n,c,Q,null,ue),u.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,lt,void 0,function(){u=!0},void 0,void 0),et(e),st(e,i),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{ot(e,l)}catch(t){Be(e,t),Ve(e,t)}}if(a)throw o;if(!u)throw Error(n(426));return s}e.renderToNodeStream=function(){throw Error(n(207))},e.renderToStaticMarkup=function(e,t){return ut(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.renderToStaticNodeStream=function(){throw Error(n(208))},e.renderToString=function(e,t){return ut(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.version="18.2.0"}}),Kg=Dg({"../../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js"(e){var t=Fg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,i=0;function a(e,t){if(0!==t.length)if(512<t.length)0<i&&(e.enqueue(new Uint8Array(r.buffer,0,i)),r=new Uint8Array(512),i=0),e.enqueue(t);else{var n=r.length-i;n<t.length&&(0===n?e.enqueue(r):(r.set(t.subarray(0,n),i),e.enqueue(r),t=t.subarray(n)),r=new Uint8Array(512),i=0),r.set(t,i),i+=t.length}}function o(e,t){return a(e,t),!0}function s(e){r&&0<i&&(e.enqueue(new Uint8Array(r.buffer,0,i)),r=null,i=0)}var l=new TextEncoder;function u(e){return l.encode(e)}function c(e){return l.encode(e)}function d(e,t){"function"==typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,w);y[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,w);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,w);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var x={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(x).forEach(function(e){_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),x[t]=x[e]})});var S=/["'&<>]/;function E(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=S.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var k=/([A-Z])/g,C=/^ms-/,M=Array.isArray,P=c("<script>"),T=c("<\/script>"),A=c('<script src="'),I=c('<script type="module" src="'),R=c('" async=""><\/script>'),O=/(<\/|<)(s)(cript)/gi;function D(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function z(e,t){return{insertionMode:e,selectedValue:t}}var L=c("\x3c!-- --\x3e");function N(e,t,n,r){return""===t?r:(r&&e.push(L),e.push(u(E(t))),!0)}var j=new Map,F=c(' style="'),U=c(":"),B=c(";");function V(e,t,r){if("object"!=typeof r)throw Error(n(62));for(var i in t=!0,r)if(f.call(r,i)){var a=r[i];if(null!=a&&"boolean"!=typeof a&&""!==a){if(0===i.indexOf("--")){var o=u(E(i));a=u(E((""+a).trim()))}else{o=i;var s=j.get(o);void 0!==s||(s=c(E(o.replace(k,"-$1").toLowerCase().replace(C,"-ms-"))),j.set(o,s)),o=s,a="number"==typeof a?0===a||f.call(x,i)?u(""+a):u(a+"px"):u(E((""+a).trim()))}t?(t=!1,e.push(F,o,U,a)):e.push(B,o,U,a)}}t||e.push(G)}var H=c(" "),W=c('="'),G=c('"'),q=c('=""');function X(e,t,n,r){switch(n){case"style":return void V(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=y.hasOwnProperty(n)?y[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=u(t.attributeName),t.type){case 3:r&&e.push(H,n,q);break;case 4:!0===r?e.push(H,n,q):!1!==r&&e.push(H,n,W,u(E(r)),G);break;case 5:isNaN(r)||e.push(H,n,W,u(E(r)),G);break;case 6:!isNaN(r)&&1<=r&&e.push(H,n,W,u(E(r)),G);break;default:t.sanitizeURL&&(r=""+r),e.push(H,n,W,u(E(r)),G)}}else if(g(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(H,u(n),W,u(E(r)),G)}}var Y=c(">"),K=c("/>");function $(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(u(""+t))}}var Z=c(' selected=""');function Q(e,t,n,r){e.push(ne(n));var i,a=n=null;for(i in t)if(f.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":n=o;break;case"dangerouslySetInnerHTML":a=o;break;default:X(e,r,i,o)}}return e.push(Y),$(e,a,n),"string"==typeof n?(e.push(u(E(n))),null):n}var J=c("\n"),ee=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,te=new Map;function ne(e){var t=te.get(e);if(void 0===t){if(!ee.test(e))throw Error(n(65,e));t=c("<"+e),te.set(e,t)}return t}var re=c("<!DOCTYPE html>");function ie(e,r,i,a,o){switch(r){case"select":e.push(ne("select"));var s=null,l=null;for(p in i)if(f.call(i,p)){var c=i[p];if(null!=c)switch(p){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"defaultValue":case"value":break;default:X(e,a,p,c)}}return e.push(Y),$(e,l,s),s;case"option":l=o.selectedValue,e.push(ne("option"));var d=c=null,h=null,p=null;for(s in i)if(f.call(i,s)){var m=i[s];if(null!=m)switch(s){case"children":c=m;break;case"selected":h=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":d=m;default:X(e,a,s,m)}}if(null!=l)if(i=null!==d?""+d:function(e){var n="";return t.Children.forEach(e,function(e){null!=e&&(n+=e)}),n}(c),M(l)){for(a=0;a<l.length;a++)if(""+l[a]===i){e.push(Z);break}}else""+l===i&&e.push(Z);else h&&e.push(Z);return e.push(Y),$(e,p,c),c;case"textarea":for(c in e.push(ne("textarea")),p=l=s=null,i)if(f.call(i,c)&&null!=(d=i[c]))switch(c){case"children":p=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:X(e,a,c,d)}if(null===s&&null!==l&&(s=l),e.push(Y),null!=p){if(null!=s)throw Error(n(92));if(M(p)&&1<p.length)throw Error(n(93));s=""+p}return"string"==typeof s&&"\n"===s[0]&&e.push(J),null!==s&&e.push(u(E(""+s))),null;case"input":for(l in e.push(ne("input")),d=p=c=s=null,i)if(f.call(i,l)&&null!=(h=i[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":d=h;break;case"defaultValue":c=h;break;case"checked":p=h;break;case"value":s=h;break;default:X(e,a,l,h)}return null!==p?X(e,a,"checked",p):null!==d&&X(e,a,"checked",d),null!==s?X(e,a,"value",s):null!==c&&X(e,a,"value",c),e.push(K),null;case"menuitem":for(var v in e.push(ne("menuitem")),i)if(f.call(i,v)&&null!=(s=i[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:X(e,a,v,s)}return e.push(Y),null;case"title":for(m in e.push(ne("title")),s=null,i)if(f.call(i,m)&&null!=(l=i[m]))switch(m){case"children":s=l;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:X(e,a,m,l)}return e.push(Y),s;case"listing":case"pre":for(d in e.push(ne(r)),l=s=null,i)if(f.call(i,d)&&null!=(c=i[d]))switch(d){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;default:X(e,a,d,c)}if(e.push(Y),null!=l){if(null!=s)throw Error(n(60));if("object"!=typeof l||!("__html"in l))throw Error(n(61));null!=(i=l.__html)&&("string"==typeof i&&0<i.length&&"\n"===i[0]?e.push(J,u(i)):e.push(u(""+i)))}return"string"==typeof s&&"\n"===s[0]&&e.push(J),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(ne(r)),i)if(f.call(i,y)&&null!=(s=i[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,r));default:X(e,a,y,s)}return e.push(K),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Q(e,i,r,a);case"html":return 0===o.insertionMode&&e.push(re),Q(e,i,r,a);default:if(-1===r.indexOf("-")&&"string"!=typeof i.is)return Q(e,i,r,a);for(h in e.push(ne(r)),l=s=null,i)if(f.call(i,h)&&null!=(c=i[h]))switch(h){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"style":V(e,a,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:g(h)&&"function"!=typeof c&&"symbol"!=typeof c&&e.push(H,u(h),W,u(E(c)),G)}return e.push(Y),$(e,l,s),s}}var ae=c("</"),oe=c(">"),se=c('<template id="'),le=c('"></template>'),ue=c("\x3c!--$--\x3e"),ce=c('\x3c!--$?--\x3e<template id="'),de=c('"></template>'),fe=c("\x3c!--$!--\x3e"),he=c("\x3c!--/$--\x3e"),pe=c("<template"),me=c('"'),ge=c(' data-dgst="');c(' data-msg="'),c(' data-stck="');var ve=c("></template>");function ye(e,t,r){if(a(e,ce),null===r)throw Error(n(395));return a(e,r),o(e,de)}var be=c('<div hidden id="'),we=c('">'),xe=c("</div>"),_e=c('<svg aria-hidden="true" style="display:none" id="'),Se=c('">'),Ee=c("</svg>"),ke=c('<math aria-hidden="true" style="display:none" id="'),Ce=c('">'),Me=c("</math>"),Pe=c('<table hidden id="'),Te=c('">'),Ae=c("</table>"),Ie=c('<table hidden><tbody id="'),Re=c('">'),Oe=c("</tbody></table>"),De=c('<table hidden><tr id="'),ze=c('">'),Le=c("</tr></table>"),Ne=c('<table hidden><colgroup id="'),je=c('">'),Fe=c("</colgroup></table>");var Ue=c('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Be=c('$RS("'),Ve=c('","'),He=c('")<\/script>'),We=c('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ge=c('$RC("'),qe=c('","'),Xe=c('")<\/script>'),Ye=c('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ke=c('$RX("'),$e=c('"'),Ze=c(")<\/script>"),Qe=c(","),Je=/[<\u2028\u2029]/g;function et(e){return JSON.stringify(e).replace(Je,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var tt=Object.assign,nt=Symbol.for("react.element"),rt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),lt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),pt=Symbol.for("react.scope"),mt=Symbol.for("react.debug_trace_mode"),gt=Symbol.for("react.legacy_hidden"),vt=Symbol.for("react.default_value"),yt=Symbol.iterator;function bt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case it:return"Fragment";case rt:return"Portal";case ot:return"Profiler";case at:return"StrictMode";case ct:return"Suspense";case dt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case st:return(e._context.displayName||"Context")+".Provider";case ut:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:bt(e.type)||"Memo";case ht:t=e._payload,e=e._init;try{return bt(e(t))}catch(e){}}return null}var wt={};function xt(e,t){if(!(e=e.contextTypes))return wt;var n,r={};for(n in e)r[n]=t[n];return r}var _t=null;function St(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));St(e,r)}t.context._currentValue=t.value}}function Et(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Et(e)}function kt(e){var t=e.parent;null!==t&&kt(t),e.context._currentValue=e.value}function Ct(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?St(e,t):Ct(e,t)}function Mt(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?St(e,r):Mt(e,r),t.context._currentValue=t.value}function Pt(e){var t=_t;t!==e&&(null===t?kt(e):null===e?Et(t):t.depth===e.depth?St(t,e):t.depth>e.depth?Ct(t,e):Mt(t,e),_t=e)}var Tt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function At(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=Tt,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"==typeof o&&null!==o?o._currentValue:r,"function"==typeof(o=t.getDerivedStateFromProps)&&(i=null==(o=o(n,i))?i:tt({},i,o),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Tt.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"==typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=tt({},a,s)):tt(a,s))}e.state=a}else a.queue=null}var It={id:1,overflow:""};function Rt(e,t,n){var r=e.id;e=e.overflow;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var a=32-Ot(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Ot(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var Ot=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Dt(e)/zt|0)|0},Dt=Math.log,zt=Math.LN2;var Lt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Nt=null,jt=null,Ft=null,Ut=null,Bt=!1,Vt=!1,Ht=0,Wt=null,Gt=0;function qt(){if(null===Nt)throw Error(n(321));return Nt}function Xt(){if(0<Gt)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Yt(){return null===Ut?null===Ft?(Bt=!1,Ft=Ut=Xt()):(Bt=!0,Ut=Ft):null===Ut.next?(Bt=!1,Ut=Ut.next=Xt()):(Bt=!0,Ut=Ut.next),Ut}function Kt(){jt=Nt=null,Vt=!1,Ft=null,Gt=0,Ut=Wt=null}function $t(e,t){return"function"==typeof t?t(e):t}function Zt(e,t,n){if(Nt=qt(),Ut=Yt(),Bt){var r=Ut.queue;if(t=r.dispatch,null!==Wt&&void 0!==(n=Wt.get(r))){Wt.delete(r),r=Ut.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Ut.memoizedState=r,[r,t]}return[Ut.memoizedState,t]}return e=e===$t?"function"==typeof t?t():t:void 0!==n?n(t):t,Ut.memoizedState=e,e=(e=Ut.queue={last:null,dispatch:null}).dispatch=Jt.bind(null,Nt,e),[Ut.memoizedState,e]}function Qt(e,t){if(Nt=qt(),t=void 0===t?null:t,null!==(Ut=Yt())){var n=Ut.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!Lt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ut.memoizedState=[e,t],e}function Jt(e,t,r){if(25<=Gt)throw Error(n(301));if(e===Nt)if(Vt=!0,e={action:r,next:null},null===Wt&&(Wt=new Map),void 0===(r=Wt.get(t)))Wt.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function en(){throw Error(n(394))}function tn(){}var nn={readContext:function(e){return e._currentValue},useContext:function(e){return qt(),e._currentValue},useMemo:Qt,useReducer:Zt,useRef:function(e){Nt=qt();var t=(Ut=Yt()).memoizedState;return null===t?(e={current:e},Ut.memoizedState=e):t},useState:function(e){return Zt($t,e)},useInsertionEffect:tn,useLayoutEffect:function(){},useCallback:function(e,t){return Qt(function(){return e},t)},useImperativeHandle:tn,useEffect:tn,useDebugValue:tn,useDeferredValue:function(e){return qt(),e},useTransition:function(){return qt(),[!1,en]},useId:function(){var e=jt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Ot(e)-1)).toString(32)+t;var r=rn;if(null===r)throw Error(n(404));return t=Ht++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qt(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()}},rn=null,an=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function on(e){return null}function sn(){}function ln(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&Sn(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function un(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function cn(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function dn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,d(e.destination,t)):(e.status=1,e.fatalError=t)}function fn(e,t,n,r,i){for(Nt={},jt=t,Ht=0,e=n(r,i);Vt;)Vt=!1,Ht=0,Gt+=1,Ut=null,e=n(r,i);return Kt(),e}function hn(e,t,r,i){var a=r.render(),o=i.childContextTypes;if(null!=o){var s=t.legacyContext;if("function"!=typeof r.getChildContext)i=s;else{for(var l in r=r.getChildContext())if(!(l in o))throw Error(n(108,bt(i)||"Unknown",l));i=tt({},s,r)}t.legacyContext=i,gn(e,t,a),t.legacyContext=s}else gn(e,t,a)}function pn(e,t){if(e&&e.defaultProps){for(var n in t=tt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function mn(e,t,r,i,a){if("function"==typeof r)if(r.prototype&&r.prototype.isReactComponent){a=xt(r,t.legacyContext);var o=r.contextType;At(o=new r(i,"object"==typeof o&&null!==o?o._currentValue:a),r,i,a),hn(e,t,o,r)}else{a=fn(e,t,r,i,o=xt(r,t.legacyContext));var s=0!==Ht;if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof)At(a,r,i,o),hn(e,t,a,r);else if(s){i=t.treeContext,t.treeContext=Rt(i,1,0);try{gn(e,t,a)}finally{t.treeContext=i}}else gn(e,t,a)}else{if("string"!=typeof r){switch(r){case gt:case mt:case at:case ot:case it:case dt:return void gn(e,t,i.children);case pt:throw Error(n(343));case ct:e:{r=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=un(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var d=un(0,0,null,a.formatContext,!1,!1);d.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=d;try{if(yn(e,t,i),d.lastPushedText&&d.textEmbedded&&d.chunks.push(L),d.status=1,xn(l,d),0===l.pendingTasks)break e}catch(t){d.status=4,l.forceClientRender=!0,l.errorDigest=cn(e,t)}finally{t.blockedBoundary=r,t.blockedSegment=a}t=ln(e,o,r,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof r&&null!==r)switch(r.$$typeof){case ut:if(i=fn(e,t,r.render,i,a),0!==Ht){r=t.treeContext,t.treeContext=Rt(r,1,0);try{gn(e,t,i)}finally{t.treeContext=r}}else gn(e,t,i);return;case ft:return void mn(e,t,r=r.type,i=pn(r,i),a);case st:if(a=i.children,r=r._context,i=i.value,o=r._currentValue,r._currentValue=i,_t=i={parent:s=_t,depth:null===s?0:s.depth+1,context:r,parentValue:o,value:i},t.context=i,gn(e,t,a),null===(e=_t))throw Error(n(403));return i=e.parentValue,e.context._currentValue=i===vt?e.context._defaultValue:i,e=_t=e.parent,void(t.context=e);case lt:return void gn(e,t,i=(i=i.children)(r._currentValue));case ht:return void mn(e,t,r=(a=r._init)(r._payload),i=pn(r,i),void 0)}throw Error(n(130,null==r?r:typeof r,""))}switch(o=ie((a=t.blockedSegment).chunks,r,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return z(1,null!=n.value?n.value:n.defaultValue);case"svg":return z(2,null);case"math":return z(3,null);case"foreignObject":return z(1,null);case"table":return z(4,null);case"thead":case"tbody":case"tfoot":return z(5,null);case"colgroup":return z(7,null);case"tr":return z(6,null)}return 4<=e.insertionMode||0===e.insertionMode?z(1,null):e}(s,r,i),yn(e,t,o),a.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push(ae,u(r),oe)}a.lastPushedText=!1}}function gn(e,t,r){if(t.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case nt:return void mn(e,t,r.type,r.props,r.ref);case rt:throw Error(n(257));case ht:var i=r._init;return void gn(e,t,r=i(r._payload))}if(M(r))return void vn(e,t,r);if(null===r||"object"!=typeof r?i=null:i="function"==typeof(i=yt&&r[yt]||r["@@iterator"])?i:null,i&&(i=i.call(r))){if(!(r=i.next()).done){var a=[];do{a.push(r.value),r=i.next()}while(!r.done);vn(e,t,a)}return}throw e=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(i=t.blockedSegment).lastPushedText=N(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=t.blockedSegment).lastPushedText=N(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function vn(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=Rt(a,r,i);try{yn(e,t,n[i])}finally{t.treeContext=a}}}function yn(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return gn(e,t,n)}catch(l){if(Kt(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Pt(a),l;n=l;var o=t.blockedSegment,s=un(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=ln(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Pt(a)}}function bn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,_n(this,t,e)}function wn(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===r?Error(n(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(e){return wn(e,t,r)}),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function xn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&xn(e,n)}else e.completedSegments.push(t)}function _n(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=sn,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&xn(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(bn,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(xn(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Sn(e){if(2!==e.status){var t=_t,n=an.current;an.current=nn;var r=rn;rn=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,l=o.blockedSegment;if(0===l.status){Pt(o.context);try{gn(s,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(L),o.abortSet.delete(o),l.status=1,_n(s,o.blockedBoundary,l)}catch(e){if(Kt(),"object"==typeof e&&null!==e&&"function"==typeof e.then){var u=o.ping;e.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=e,f=cn(s,d);if(null===c?dn(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&Tn(e,e.destination)}catch(t){cn(e,t),dn(e,t)}finally{rn=r,an.current=n,n===nn&&Pt(t)}}}function En(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,a(t,se),a(t,e.placeholderPrefix),a(t,e=u(i.toString(16))),o(t,le);case 1:r.status=2;var s=!0;i=r.chunks;var l=0;r=r.children;for(var c=0;c<r.length;c++){for(s=r[c];l<s.index;l++)a(t,i[l]);s=kn(e,t,s)}for(;l<i.length-1;l++)a(t,i[l]);return l<i.length&&(s=o(t,i[l])),s;default:throw Error(n(390))}}function kn(e,t,r){var i=r.boundary;if(null===i)return En(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,o(t,fe),a(t,pe),i&&(a(t,ge),a(t,u(E(i))),a(t,me)),o(t,ve),En(e,t,r);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,l=s.nextSuspenseID++;s=c(s.boundaryPrefix+l.toString(16)),i=i.id=s,ye(t,e.responseState,i),En(e,t,r)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),ye(t,e.responseState,i.id),En(e,t,r);else{if(o(t,ue),1!==(r=i.completedSegments).length)throw Error(n(391));kn(e,t,r[0])}return o(t,he)}function Cn(e,t,r){return function(e,t,r,i){switch(r.insertionMode){case 0:case 1:return a(e,be),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,we);case 2:return a(e,_e),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Se);case 3:return a(e,ke),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Ce);case 4:return a(e,Pe),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Te);case 5:return a(e,Ie),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Re);case 6:return a(e,De),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,ze);case 7:return a(e,Ne),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,je);default:throw Error(n(397))}}(t,e.responseState,r.formatContext,r.id),kn(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return o(e,xe);case 2:return o(e,Ee);case 3:return o(e,Me);case 4:return o(e,Ae);case 5:return o(e,Oe);case 6:return o(e,Le);case 7:return o(e,Fe);default:throw Error(n(397))}}(t,r.formatContext)}function Mn(e,t,r){for(var i=r.completedSegments,s=0;s<i.length;s++)Pn(e,t,r,i[s]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,a(t,e.startInlineScript),e.sentCompleteBoundaryFunction?a(t,Ge):(e.sentCompleteBoundaryFunction=!0,a(t,We)),null===i)throw Error(n(395));return r=u(r.toString(16)),a(t,i),a(t,qe),a(t,e.segmentPrefix),a(t,r),o(t,Xe)}function Pn(e,t,r,i){if(2===i.status)return!0;var s=i.id;if(-1===s){if(-1===(i.id=r.rootSegmentID))throw Error(n(392));return Cn(e,t,i)}return Cn(e,t,i),a(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?a(t,Be):(e.sentCompleteSegmentFunction=!0,a(t,Ue)),a(t,e.segmentPrefix),a(t,s=u(s.toString(16))),a(t,Ve),a(t,e.placeholderPrefix),a(t,s),o(t,He)}function Tn(e,t){r=new Uint8Array(512),i=0;try{var l=e.completedRootSegment;if(null!==l&&0===e.pendingRootTasks){kn(e,t,l),e.completedRootSegment=null;var c=e.responseState.bootstrapChunks;for(l=0;l<c.length-1;l++)a(t,c[l]);l<c.length&&o(t,c[l])}var d,f=e.clientRenderedBoundaries;for(d=0;d<f.length;d++){var h=f[d];c=t;var p=e.responseState,m=h.id,g=h.errorDigest,v=h.errorMessage,y=h.errorComponentStack;if(a(c,p.startInlineScript),p.sentClientRenderFunction?a(c,Ke):(p.sentClientRenderFunction=!0,a(c,Ye)),null===m)throw Error(n(395));a(c,m),a(c,$e),(g||v||y)&&(a(c,Qe),a(c,u(et(g||"")))),(v||y)&&(a(c,Qe),a(c,u(et(v||"")))),y&&(a(c,Qe),a(c,u(et(y)))),o(c,Ze)}f.splice(0,d);var b=e.completedBoundaries;for(d=0;d<b.length;d++)Mn(e,t,b[d]);b.splice(0,d),s(t),r=new Uint8Array(512),i=0;var w=e.partialBoundaries;for(d=0;d<w.length;d++){var x=w[d];e:{f=e,h=t;var _=x.completedSegments;for(p=0;p<_.length;p++)if(!Pn(f,h,x,_[p])){p++,_.splice(0,p);var S=!1;break e}_.splice(0,p),S=!0}if(!S)return e.destination=null,d++,void w.splice(0,d)}w.splice(0,d);var E=e.completedBoundaries;for(d=0;d<E.length;d++)Mn(e,t,E[d]);E.splice(0,d)}finally{s(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function An(e,t){try{var n=e.abortableTasks;n.forEach(function(n){return wn(n,e,t)}),n.clear(),null!==e.destination&&Tn(e,e.destination)}catch(t){cn(e,t),dn(e,t)}}e.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,a,o=new Promise(function(e,t){a=e,i=t}),s=function(e,t,n,r,i,a,o,s,l){var u=[],c=new Set;return(n=un(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?on:i,onAllReady:void 0===a?sn:a,onShellReady:void 0===o?sn:o,onShellError:void 0===s?sn:s,onFatalError:void 0===l?sn:l},0,null,n,!1,!1)).parentFlushed=!0,e=ln(t,e,null,n,c,wt,null,It),u.push(e),t}(e,function(e,t,n,r,i){e=void 0===e?"":e,t=void 0===t?P:c('<script nonce="'+E(t)+'">');var a=[];if(void 0!==n&&a.push(t,u((""+n).replace(O,D)),T),void 0!==r)for(n=0;n<r.length;n++)a.push(A,u(E(r[n])),R);if(void 0!==i)for(r=0;r<i.length;r++)a.push(I,u(E(i[r])),R);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:c(e+"P:"),segmentPrefix:c(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return z("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,d(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{Tn(s,e)}catch(e){cn(s,e),dn(s,e)}}},cancel:function(){An(s)}},{highWaterMark:0});e.allReady=o,n(e)},function(e){o.catch(function(){}),r(e)},i);if(t&&t.signal){var l=t.signal,f=function(){An(s,l.reason),l.removeEventListener("abort",f)};l.addEventListener("abort",f)}Sn(s)})},e.version="18.2.0"}}),$g=Dg({"../../node_modules/react-dom/server.browser.js"(e){var t,n;t=Yg(),n=Kg(),e.version=t.version,e.renderToString=t.renderToString,e.renderToStaticMarkup=t.renderToStaticMarkup,e.renderToNodeStream=t.renderToNodeStream,e.renderToStaticNodeStream=t.renderToStaticNodeStream,e.renderToReadableStream=n.renderToReadableStream}}),Zg=Dg({"../../node_modules/react-is/cjs/react-is.production.min.js"(e){var t,n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,m=60122,g=60117,v=60129,y=60131;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}"function"==typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),r=t("react.portal"),i=t("react.fragment"),a=t("react.strict_mode"),o=t("react.profiler"),s=t("react.provider"),l=t("react.context"),u=t("react.forward_ref"),c=t("react.suspense"),d=t("react.suspense_list"),f=t("react.memo"),h=t("react.lazy"),p=t("react.block"),m=t("react.server.block"),g=t("react.fundamental"),v=t("react.debug_trace_mode"),y=t("react.legacy_hidden"));var w=s,x=n,_=u,S=i,E=h,k=f,C=r,M=o,P=a,T=c;e.ContextConsumer=l,e.ContextProvider=w,e.Element=x,e.ForwardRef=_,e.Fragment=S,e.Lazy=E,e.Memo=k,e.Portal=C,e.Profiler=M,e.StrictMode=P,e.Suspense=T,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return b(e)===l},e.isContextProvider=function(e){return b(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return b(e)===u},e.isFragment=function(e){return b(e)===i},e.isLazy=function(e){return b(e)===h},e.isMemo=function(e){return b(e)===f},e.isPortal=function(e){return b(e)===r},e.isProfiler=function(e){return b(e)===o},e.isStrictMode=function(e){return b(e)===a},e.isSuspense=function(e){return b(e)===c},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===v||e===a||e===c||e===d||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===p||e[0]===m)},e.typeOf=b}}),Qg=Dg({"../../node_modules/react-is/index.js"(e,t){t.exports=Zg()}}),Jg=Dg({"../../node_modules/shallowequal/index.js"(e,t){t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}}});function ev(e){function t(e,r,l,u,f){for(var h,p,m,g,w,_=0,S=0,E=0,k=0,C=0,R=0,D=m=h=0,L=0,N=0,j=0,F=0,U=l.length,B=U-1,V="",H="",W="",G="";L<U;){if(p=l.charCodeAt(L),L===B&&S+k+E+_!==0&&(0!==S&&(p=47===S?10:47),k=E=_=0,U++,B++),S+k+E+_===0){if(L===B&&(0<N&&(V=V.replace(d,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(L)}p=59}switch(p){case 123:for(h=(V=V.trim()).charCodeAt(0),m=1,F=++L;L<U;){switch(p=l.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(l.charCodeAt(D)){case 47:if(42===p&&42===l.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&l.charCodeAt(L)!==p;);}if(0===m)break;L++}if(64===(m=l.substring(F,L),0===h&&(h=(V=V.replace(c,"").trim()).charCodeAt(0)),h)){switch(0<N&&(V=V.replace(d,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=I}if(F=(m=t(r,N,m,p,f+1)).length,0<O&&(w=s(3,m,N=n(I,V,j),r,P,M,F,p,f,u),V=N.join(""),void 0!==w&&0===(F=(m=w.trim()).length)&&(p=0,m="")),0<F)switch(p){case 115:V=V.replace(x,o);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===u&&(H+=m,m="")}else m=""}else m=t(r,n(r,V,j),m,u,f+1);W+=m,m=j=N=D=h=0,V="",p=l.charCodeAt(++L);break;case 125:case 59:if(1<(F=(V=(0<N?V.replace(d,""):V).trim()).length))switch(0===D&&(h=V.charCodeAt(0),45===h||96<h&&123>h)&&(F=(V=V.replace(" ",":")).length),0<O&&void 0!==(w=s(1,V,r,e,P,M,H.length,u,f,u))&&0===(F=(V=w.trim()).length)&&(V="\0\0"),h=V.charCodeAt(0),p=V.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){G+=V+l.charAt(L);break}default:58!==V.charCodeAt(F-1)&&(H+=i(V,h,p,V.charCodeAt(2)))}j=N=D=h=0,V="",p=l.charCodeAt(++L)}}switch(p){case 13:case 10:47===S?S=0:1+h===0&&107!==u&&0<V.length&&(N=1,V+="\0"),0<O*z&&s(0,V,r,e,P,M,H.length,u,f,u),M=1,P++;break;case 59:case 125:if(S+k+E+_===0){M++;break}default:switch(M++,g=l.charAt(L),p){case 9:case 32:if(k+_+S===0)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:k+S+_===0&&(N=j=1,g="\f"+g);break;case 108:if(k+S+_+T===0&&0<D)switch(L-D){case 2:112===C&&58===l.charCodeAt(L-3)&&(T=C);case 8:111===R&&(T=R)}break;case 58:k+S+_===0&&(D=L);break;case 44:S+E+k+_===0&&(N=1,g+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:k+S+E===0&&_++;break;case 93:k+S+E===0&&_--;break;case 41:k+S+_===0&&E--;break;case 40:if(k+S+_===0){if(0===h)if(2*C+3*R==533);else h=1;E++}break;case 64:S+E+k+_+D+m===0&&(m=1);break;case 42:case 47:if(!(0<k+_+E))switch(S){case 0:switch(2*p+3*l.charCodeAt(L+1)){case 235:S=47;break;case 220:F=L,S=42}break;case 42:47===p&&42===C&&F+2!==L&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,L+1)),g="",S=0)}}0===S&&(V+=g)}R=C,C=p,L++}if(0<(F=H.length)){if(N=r,0<O&&(void 0!==(w=s(2,H,N,e,P,M,F,u,f,u))&&0===(H=w).length))return G+H+W;if(H=N.join(",")+"{"+H+"}",A*T!==0){switch(2!==A||a(H,2)||(T=0),T){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}T=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===A||2===A&&a(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(w,"tb");break;case 232:l=o.replace(w,"tb-rl");break;case 220:l=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,c){for(var d,f=0,h=t;f<O;++f)switch(d=R[f].call(u,e,h,n,r,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?A=1:(A=2,D=e):A=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,P,M,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(I,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,P,M,a.length,0,0,0))&&(a=i)),T=0,M=P=1,a}var c=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,M=1,P=1,T=0,A=1,I=[],R=[],O=0,D=null,z=0;return u.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"==typeof t)R[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else z=0|!!t}return e},u.set=l,void 0!==e&&l(e),u}var tv,nv,rv=Og({"../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js"(){tv=ev}}),iv=Og({"../../node_modules/@emotion/unitless/dist/unitless.browser.esm.js"(){nv={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}}),av=Dg({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.prod.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}}),ov=Dg({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js"(e,t){t.exports=av()}}),sv=Dg({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.prod.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ov();function n(e){return e&&e.__esModule?e:{default:e}}var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=n(t).default(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});e.default=i}}),lv=Dg({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js"(e,t){t.exports=sv()}}),uv=Dg({"../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js"(e){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case i:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case p:case s:return e;default:return t}}case r:return t}}}function x(e){return w(e)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=l,e.ContextProvider=s,e.Element=n,e.ForwardRef=d,e.Fragment=i,e.Lazy=m,e.Memo=p,e.Portal=r,e.Profiler=o,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(e){return x(e)||w(e)===u},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===l},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===d},e.isFragment=function(e){return w(e)===i},e.isLazy=function(e){return w(e)===m},e.isMemo=function(e){return w(e)===p},e.isPortal=function(e){return w(e)===r},e.isProfiler=function(e){return w(e)===o},e.isStrictMode=function(e){return w(e)===a},e.isSuspense=function(e){return w(e)===f},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},e.typeOf=w}}),cv=Dg({"../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(e,t){t.exports=uv()}}),dv=Dg({"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(e,t){var n=cv(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var o=u(n);c&&(o=o.concat(c(n)));for(var p=s(t),m=s(n),g=0;g<o.length;++g){var v=o[g];if(!(i[v]||r&&r[v]||m&&m[v]||p&&p[v])){var y=d(n,v);try{l(t,v,y)}catch(e){}}}}return t}}}),fv={};function hv(){return(hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pv(e){return"function"==typeof e}function mv(e){return e.displayName||e.name||"Component"}function gv(e){return e&&"string"==typeof e.styledComponentId}function vv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function yv(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=my(t%52)+n;return(my(t%52)+n).replace(py,"$1-$2")}function bv(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pv(n)&&!gv(n))return!1}return!0}function wv(e){var t,n,r,i,a=void 0===e?Hv:e,o=a.options,s=void 0===o?Hv:o,l=a.plugins,u=void 0===l?Vv:l,c=new tv(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}(function(e){d.push(e)}),h=function(e,r,a){return 0===r&&-1!==xy.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(wy,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=u.length?u.reduce(function(e,t){return t.name||vv(15),gy(e,t.name)},5381).toString():"",p}function xv(){return(0,Lv.useContext)(_y)||ky}function _v(){return(0,Lv.useContext)(Ey)||Cy}function Sv(e){var t=(0,Lv.useState)(e.stylisPlugins),n=t[0],r=t[1],i=xv(),a=(0,Lv.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,Lv.useMemo)(function(){return wv({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,Lv.useEffect)(function(){(0,Nv.default)(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),Lv.default.createElement(_y.Provider,{value:a},Lv.default.createElement(Ey.Provider,{value:o},e.children))}function Ev(e){return Py.test(e)?e.replace(Ty,Iy).replace(Ay,"-ms-"):e}function kv(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=kv(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Ry(e)?"":gv(e)?"."+e.styledComponentId:pv(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:kv(e(t),t,n,r):e instanceof My?n?(e.inject(n,r),e.getName(r)):e:Bv(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Ry(t[o])&&(Array.isArray(t[o])&&t[o].isCss||pv(t[o])?a.push(Ev(o)+":",t[o],";"):Bv(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ev(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in nv||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}function Cv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pv(e)||Bv(e)?Oy(kv(Uv(Vv,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Oy(kv(Uv(e,n)))}function Mv(e){return e.replace(zy,"-").replace(Ly,"")}function Pv(e){return"string"==typeof e&&!0}function Tv(e,t,n){var r=e[n];jy(t)&&jy(r)?Av(r,t):e[n]=t}function Av(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(jy(o))for(var s in o)Fy(s)&&Tv(e,o[s],s)}return e}function Iv(e){var t=(0,Lv.useContext)(Uy),n=(0,Lv.useMemo)(function(){return n=e.theme,r=t,n?pv(n)?n(r):Array.isArray(n)||"object"!=typeof n?vv(8):r?hv({},r,{},n):n:vv(14);var n,r},[e.theme,t]);return e.children?Lv.default.createElement(Uy.Provider,{value:n},e.children):null}function Rv(e,t,n){var r,i=gv(e),a=!Pv(e),o=t.attrs,s=void 0===o?Vv:o,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Mv(e);Vy[n]=(Vy[n]||0)+1;var r=n+"-"+Ny("5.3.11"+n+Vy[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,d=void 0===c?Pv(r=e)?"styled."+r:"Styled("+mv(r)+")":c,f=t.displayName&&t.componentId?Mv(t.displayName)+"-"+t.componentId:t.componentId||u,h=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,g=new by(n,f,i?e.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i,a,o,s,l,u=e.attrs,c=e.componentStyle,d=e.defaultProps,f=e.foldedComponentIds,h=e.shouldForwardProp,p=e.styledComponentId,m=e.target,g=function(e,t,n){void 0===e&&(e=Hv);var r=hv({},t,{theme:e}),i={};return n.forEach(function(e){var t,n,a,o=e;for(t in pv(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]}),[r,i]}(Dy(t,(0,Lv.useContext)(Uy),d)||Hv,t,u),v=g[0],y=g[1],b=(i=c,a=r,o=v,s=xv(),l=_v(),a?i.generateAndInjectStyles(Hv,s,l):i.generateAndInjectStyles(o,s,l)),w=n,x=y.$as||t.$as||y.as||t.as||m,_=Pv(x),S=y!==t?hv({},t,{},y):t,E={};for(var k in S)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?E.as=S[k]:(h?h(k,jv.default,x):!_||(0,jv.default)(k))&&(E[k]=S[k]));return t.style&&y.style!==t.style&&(E.style=hv({},t.style,{},y.style)),E.className=Array.prototype.concat(f,p,b!==p?b:null,t.className,y.className).filter(Boolean).join(" "),E.ref=w,(0,Lv.createElement)(x,E)}(m,e,t,v)};return y.displayName=d,(m=Lv.default.forwardRef(y)).attrs=h,m.componentStyle=g,m.displayName=d,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Vv,m.styledComponentId=f,m.target=i?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Pv(e)?e:Mv(mv(e)));return Rv(e,hv({},i,{attrs:h,componentId:a}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Av({},e.defaultProps,t):t}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),a&&(0,Fv.default)(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}function Ov(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Cv.apply(void 0,[e].concat(n)),a="sc-global-"+Ny(JSON.stringify(i)),o=new Wy(i,a);function s(e){var t=xv(),n=_v(),r=(0,Lv.useContext)(Uy),i=(0,Lv.useRef)(t.allocateGSInstance(a)).current;return t.server&&l(i,e,t,r,n),(0,Lv.useLayoutEffect)(function(){if(!t.server)return l(i,e,t,r,n),function(){return o.removeStyles(i,t)}},[i,e,t,r,n]),null}function l(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,Yv,n,i);else{var a=hv({},t,{theme:Dy(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return Lv.default.memo(s)}function Dv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Cv.apply(void 0,[e].concat(n)).join(""),a=Ny(i);return new My(a,i)}((e,t)=>{for(var n in t)wg(e,n,{get:t[n],enumerable:!0})})(fv,{ServerStyleSheet:()=>Gy,StyleSheetConsumer:()=>Sy,StyleSheetContext:()=>_y,StyleSheetManager:()=>Sv,ThemeConsumer:()=>By,ThemeContext:()=>Uy,ThemeProvider:()=>Iv,__PRIVATE__:()=>Yy,createGlobalStyle:()=>Ov,css:()=>Cv,default:()=>Ky,isStyledComponent:()=>gv,keyframes:()=>Dv,useTheme:()=>Xy,version:()=>Gv,withTheme:()=>qy});var zv,Lv,Nv,jv,Fv,Uv,Bv,Vv,Hv,Wv,Gv,qv,Xv,Yv,Kv,$v,Zv,Qv,Jv,ey,ty,ny,ry,iy,ay,oy,sy,ly,uy,cy,dy,fy,hy,py,my,gy,vy,yy,by,wy,xy,_y,Sy,Ey,ky,Cy,My,Py,Ty,Ay,Iy,Ry,Oy,Dy,zy,Ly,Ny,jy,Fy,Uy,By,Vy,Hy,Wy,Gy,qy,Xy,Yy,Ky,$y=Og({"../../node_modules/styled-components/dist/styled-components.browser.esm.js"(){zv=Lg(Qg()),Lv=Lg(Fg()),Nv=Lg(Jg()),rv(),iv(),jv=Lg(lv()),Fv=Lg(dv()),Uv=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Bv=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,zv.typeOf)(e)},Vv=Object.freeze([]),Hv=Object.freeze({}),Wv="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Gv="5.3.11",qv="undefined"!=typeof window&&"HTMLElement"in window,Xv=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY)),Yv={},Kv=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&vv(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),$v=new Map,Zv=new Map,Qv=1,Jv=function(e){if($v.has(e))return $v.get(e);for(;Zv.has(Qv);)Qv++;var t=Qv++;return $v.set(e,t),Zv.set(t,e),t},ey=function(e){return Zv.get(e)},ty=function(e,t){t>=Qv&&(Qv=t+1),$v.set(e,t),Zv.set(t,e)},ny="style["+Wv+'][data-styled-version="5.3.11"]',ry=new RegExp("^"+Wv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),iy=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ay=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(ry);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(ty(u,l),iy(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},oy=function(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null},sy=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Wv))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Wv,"active"),r.setAttribute("data-styled-version","5.3.11");var o=oy();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},ly=function(){function e(e){var t=this.element=sy(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}vv(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),uy=function(){function e(e){var t=this.element=sy(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),cy=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),dy=qv,fy={isServer:!qv,useCSSOMInjection:!Xv},hy=function(){function e(e,t,n){void 0===e&&(e=Hv),void 0===t&&(t={}),this.options=hv({},fy,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&qv&&dy&&(dy=!1,function(e){for(var t=document.querySelectorAll(ny),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Wv)&&(ay(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Jv(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(hv({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new cy(i):r?new ly(i):new uy(i),new Kv(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Jv(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Jv(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Jv(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=ey(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=Wv+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach(function(e){e.length>0&&(u+=e+",")}),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),py=/(a)(d)/gi,my=function(e){return String.fromCharCode(e+(e>25?39:97))},gy=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},yy=(vy=function(e){return gy(5381,e)})("5.3.11"),by=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&bv(e),this.componentId=t,this.baseHash=gy(yy,t),this.baseStyle=n,hy.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=kv(this.rules,e,t,n).join(""),o=yv(gy(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=gy(this.baseHash,n.hash),c="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var h=kv(f,e,t,n),p=Array.isArray(h)?h.join(""):h;u=gy(u,p+d),c+=p}}if(c){var m=yv(u>>>0);if(!t.hasNameForId(r,m)){var g=n(c,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),wy=/^\s*\/\/.*$/gm,xy=[":","[",".","#"],_y=Lv.default.createContext(),Sy=_y.Consumer,(Ey=Lv.default.createContext()).Consumer,ky=new hy,Cy=wv(),My=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Cy);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return vv(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Cy),this.name+e.hash},e}(),Py=/([A-Z])/,Ty=/([A-Z])/g,Ay=/^ms-/,Iy=function(e){return"-"+e.toLowerCase()},Ry=function(e){return null==e||!1===e||""===e},Oy=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Dy=function(e,t,n){return void 0===n&&(n=Hv),e.theme!==n.theme&&e.theme||t||n.theme},zy=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ly=/(^-|-$)/g,Ny=function(e){return yv(vy(e)>>>0)},jy=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Fy=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},Uy=Lv.default.createContext(),By=Uy.Consumer,Vy={},Hy=function(e){return function e(t,n,r){if(void 0===r&&(r=Hv),!(0,zv.isValidElementType)(n))return vv(1,String(n));var i=function(){return t(n,r,Cv.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,hv({},r,{},i))},i.attrs=function(i){return e(t,n,hv({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Rv,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Hy[e]=Hy(e)}),Wy=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=bv(e),hy.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(kv(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&hy.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),Gy=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=oy();return"<style "+[n&&'nonce="'+n+'"',Wv+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?vv(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return vv(2);var n=((t={})[Wv]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=oy();return r&&(n.nonce=r),[Lv.default.createElement("style",hv({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new hy({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?vv(2):Lv.default.createElement(Sv,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return vv(3)},e}(),qy=function(e){var t=Lv.default.forwardRef(function(t,n){var r=(0,Lv.useContext)(Uy),i=e.defaultProps,a=Dy(t,r,i);return Lv.default.createElement(e,hv({},t,{theme:a,ref:n}))});return(0,Fv.default)(t,e),t.displayName="WithTheme("+mv(e)+")",t},Xy=function(){return(0,Lv.useContext)(Uy)},Yy={StyleSheet:hy,masterSheet:ky},Ky=Hy}}),Zy=Dg({"../../node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js"(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(M),M=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!A());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,E,k=!1,C=null,M=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function I(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?_():(k=!1,C=null)}}else k=!1}function R(e){C=e,k||(k=!0,_())}function O(t,n){M=g(function(){t(e.unstable_now())},n)}"function"==typeof y?_=function(){y(I)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=I,_=function(){E.postMessage(null)}):_=function(){g(I,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e||(P=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(M),M=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,R(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}}),Qy=Dg({"../../node_modules/react-dom/node_modules/scheduler/index.js"(e,t){t.exports=Zy()}}),Jy=Dg({"../../node_modules/react-dom/cjs/react-dom.production.min.js"(e){var t=Fg(),n=Qy();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(d,e)&&(c.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),R=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,z=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var N=!1;function j(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function F(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function $(e,t){K(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Q(e,t.type,n):t.hasOwnProperty("defaultValue")&&Q(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Q(e,t,n){("number"!==t||q(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var J=Array.isArray;function ee(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(J(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function re(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,le,ue=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var me=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,_e=null;function Se(e){if(e=vi(e)){if("function"!=typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ee(e){xe?_e?_e.push(e):_e=[e]:xe=e}function ke(){if(xe){var e=xe,t=_e;if(_e=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Me(){}var Pe=!1;function Te(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==xe||null!==_e)&&(Me(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var i=bi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ie,Re=!1;if(l)try{Ie={},Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(le){Re=!1}function Oe(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,ze=null,Le=!1,Ne=null,je={onError:function(e){De=!0,ze=e}};function Fe(e,t,n,r,i,a,o,s,l){De=!1,ze=null,Oe.apply(je,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(r(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===i)return Ve(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=n.unstable_scheduleCallback,qe=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,Ye=n.unstable_requestPaint,Ke=n.unstable_now,$e=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,Qe=n.unstable_UserBlockingPriority,Je=n.unstable_NormalPriority,et=n.unstable_LowPriority,tt=n.unstable_IdlePriority,nt=null,rt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var st=64,lt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ut(s):0!==(a&=o)&&(r=ut(a))}else 0!==(o=n&~i)?r=ut(o):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-it(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=st;return!(4194240&(st<<=1))&&(st=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var bt,wt,xt,_t,St,Et=!1,kt=[],Ct=null,Mt=null,Pt=null,Tt=new Map,At=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Nt(e,t,n){Lt(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Mt&&Lt(Mt)&&(Mt=null),null!==Pt&&Lt(Pt)&&(Pt=null),Tt.forEach(Nt),At.forEach(Nt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<kt.length){Ft(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==Mt&&Ft(Mt,e),null!==Pt&&Ft(Pt,e),Tt.forEach(t),At.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)zt(n),null===n.blockedOn&&It.shift()}var Bt=y.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=vt,a=Bt.transition;Bt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=vt,a=Bt.transition;Bt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)Vr(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return Mt=Dt(Mt,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Dt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Dt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&bt(a),null===(a=Xt(e,t,n,r))&&Vr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=gi(e=be(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case Qe:return 4;case Je:case et:return 16;case tt:return 536870912;default:return 16}default:return 16}}var Kt=null,$t=null,Zt=null;function Qt(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(sn),un=z({},sn,{view:0,detail:0}),cn=nn(un),dn=z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=nn(dn),hn=nn(z({},dn,{dataTransfer:0})),pn=nn(z({},un,{relatedTarget:0})),mn=nn(z({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=z({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(z({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return _n}var En=z({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=nn(En),Cn=nn(z({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=nn(z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=nn(z({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=z({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Tn),In=[9,13,27,32],Rn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,zn=l&&(!Rn||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Nn=!1;function jn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function qn(e){Lr(e,0)}function Xn(e){if(G(yi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn,$n,Zn,Qn=!1;function Jn(){Wn&&(Wn.detachEvent("onpropertychange",er),Gn=Wn=null)}function er(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Te(qn,t)}}function tr(e,t,n){"focusin"===e?(Jn(),Gn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Jn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function rr(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}l&&(l?(($n="oninput"in document)||((Zn=document.createElement("div")).setAttribute("oninput","return;"),$n="function"==typeof Zn.oninput),Kn=$n):Kn=!1,Qn=Kn&&(!document.documentMode||9<document.documentMode));var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function or(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==q(r)||("selectionStart"in(r=pr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},_r={};function Sr(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return xr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er,kr,Cr=Sr("animationend"),Mr=Sr("animationiteration"),Pr=Sr("animationstart"),Tr=Sr("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),o(t,[e])}for(kr=0;kr<Ir.length;kr++)Rr((Er=Ir[kr]).toLowerCase(),"on"+(Er[0].toUpperCase()+Er.slice(1)));Rr(Cr,"onAnimationEnd"),Rr(Mr,"onAnimationIteration"),Rr(Pr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function zr(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,o,s,l,u){if(Fe.apply(this,arguments),De){if(!De)throw Error(r(198));var c=ze;De=!1,ze=null,Le||(Le=!0,Ne=c)}}(i,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;zr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;zr(i,s,u),a=l}}}if(Le)throw e=Ne,Le=!1,Ne=null,e}function Nr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,jr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=a,i=be(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=ln,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=pn;break;case"focusout":u="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Cr:case Mr:case Pr:l=mn;break;case Tr:l=Pn;break;case"scroll":l=cn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ae(p,f))&&c.push(Hr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:yi(l),h=null==u?s:yi(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,gi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Gr(h))p++;for(h=0,m=f;m;m=Gr(m))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==d&&qr(o,d,u,c,!0)}if("select"===(l=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Vn(s))if(Qn)g=ir;else{g=nr;var v=tr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&Q(s,"number",s.value)),v=r?yi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(pr=v,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=Qt()):($t="value"in(Kt=i)?Kt.value:Kt.textContent,Un=!0)),0<(v=Wr(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&jn(e,t)?(e=Qt(),Zt=$t=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Lr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ae(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Ae(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Kr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(r(425))}function Zr(){}var Qr=null,Jr=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"==typeof setTimeout?setTimeout:void 0,ni="function"==typeof clearTimeout?clearTimeout:void 0,ri="function"==typeof Promise?Promise:void 0,ii="function"==typeof queueMicrotask?queueMicrotask:void 0!==ri?function(e){return ri.resolve(null).then(e).catch(ai)}:ti;function ai(e){setTimeout(function(){throw e})}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,di="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,pi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function gi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[ci])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function bi(e){return e[di]||null}var wi=[],xi=-1;function _i(e){return{current:e}}function Si(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ei(e,t){xi++,wi[xi]=e.current,e.current=t}var ki={},Ci=_i(ki),Mi=_i(!1),Pi=ki;function Ti(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!=(e=e.childContextTypes)}function Ii(){Si(Mi),Si(Ci)}function Ri(e,t,n){if(Ci.current!==ki)throw Error(r(168));Ei(Ci,t),Ei(Mi,n)}function Oi(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,B(e)||"Unknown",a));return z({},n,i)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Ci.current,Ei(Ci,e),Ei(Mi,Mi.current),!0}function zi(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Oi(e,t,Pi),i.__reactInternalMemoizedMergedChildContext=e,Si(Mi),Si(Ci),Ei(Ci,e)):Si(Mi),Ei(Mi,n)}var Li=null,Ni=!1,ji=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!ji&&null!==Li){ji=!0;var e=0,t=vt;try{var n=Li;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Ni=!1}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Ze,Ui),t}finally{vt=t,ji=!1}}return null}var Bi=[],Vi=0,Hi=null,Wi=0,Gi=[],qi=0,Xi=null,Yi=1,Ki="";function $i(e,t){Bi[Vi++]=Wi,Bi[Vi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[qi++]=Yi,Gi[qi++]=Ki,Gi[qi++]=Xi,Xi=e;var r=Yi;e=Ki;var i=32-it(r)-1;r&=~(1<<i),n+=1;var a=32-it(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-it(t)+i|n<<i|r,Ki=a+e}else Yi=1<<a|n<<i|r,Ki=e}function Qi(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function Ji(e){for(;e===Hi;)Hi=Bi[--Vi],Bi[Vi]=null,Wi=Bi[--Vi],Bi[Vi]=null;for(;e===Xi;)Xi=Gi[--qi],Gi[qi]=null,Ki=Gi[--qi],Gi[qi]=null,Yi=Gi[--qi],Gi[qi]=null}var ea=null,ta=null,na=!1,ra=null;function ia(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ea=e,ta=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ea=e,ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ea=e,ta=null,!0);default:return!1}}function oa(e){return!(!(1&e.mode)||128&e.flags)}function sa(e){if(na){var t=ta;if(t){var n=t;if(!aa(e,t)){if(oa(e))throw Error(r(418));t=si(n.nextSibling);var i=ea;t&&aa(e,t)?ia(i,n):(e.flags=-4097&e.flags|2,na=!1,ea=e)}}else{if(oa(e))throw Error(r(418));e.flags=-4097&e.flags|2,na=!1,ea=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ea=e}function ua(e){if(e!==ea)return!1;if(!na)return la(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=ta)){if(oa(e))throw ca(),Error(r(418));for(;t;)ia(e,t),t=si(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ta=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ta=null}}else ta=ea?si(e.stateNode.nextSibling):null;return!0}function ca(){for(var e=ta;e;)e=si(e.nextSibling)}function da(){ta=ea=null,na=!1}function fa(e){null===ra?ra=[e]:ra.push(e)}var ha=y.ReactCurrentBatchConfig;function pa(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=_i(null),ga=null,va=null,ya=null;function ba(){ya=va=ga=null}function wa(e){var t=ma.current;Si(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ya=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(vs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ya!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===ga)throw Error(r(308));va=e,ga.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var Ea=null;function ka(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&kl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(h,d,f):p))break e;d=z({},d,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=d}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var Na=(new t.Component).refs;function ja(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Fa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=Ql(e),a=Ia(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(Jl(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=Ql(e),a=Ia(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(Jl(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=Ql(e),i=Ia(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(Jl(t,e,r,n),Oa(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function Ba(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"==typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Pi:Ci.current,a=(r=null!=(r=t.contextTypes))?Ti(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,Ta(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Pi:Ci.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Fa.enqueueReplaceState(i,i.state,null),za(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=a.refs;t===Na&&(t=a.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&qa(i)===t.type)?((r=a(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=zu(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(J(t)||O(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(J(n)||O(n))return null!==i?null:d(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(J(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}return function l(u,c,d,m){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case b:e:{for(var g=d.key,v=c;null!==v;){if(v.key===g){if((g=d.type)===x){if(7===v.tag){n(u,v.sibling),(c=a(v,d.props.children)).return=u,u=c;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===A&&qa(g)===v.type){n(u,v.sibling),(c=a(v,d.props)).ref=Wa(u,v,d),c.return=u,u=c;break e}n(u,v);break}t(u,v),v=v.sibling}d.type===x?((c=Ru(d.props.children,u.mode,m,d.key)).return=u,u=c):((m=Iu(d.type,d.key,d.props,null,u.mode,m)).ref=Wa(u,c,d),m.return=u,u=m)}return s(u);case w:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(u,c.sibling),(c=a(c,d.children||[])).return=u,u=c;break e}n(u,c);break}t(u,c),c=c.sibling}(c=zu(d,u.mode,m)).return=u,u=c}return s(u);case A:return l(u,c,(v=d._init)(d._payload),m)}if(J(d))return function(r,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(r,d),na&&$i(r,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(r,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return na&&$i(r,m),u}for(d=i(r,d);m<s.length;m++)null!==(g=p(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(r,e)}),na&&$i(r,m),u}(u,c,d,m);if(O(d))return function(a,s,l,u){var c=O(l);if("function"!=typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),na&&$i(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return na&&$i(a,g),c}for(m=i(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),na&&$i(a,g),c}(u,c,d,m);Ga(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(u,c.sibling),(c=a(c,d)).return=u,u=c):(n(u,c),(c=Du(d,u.mode,m)).return=u,u=c),s(u)):n(u,c)}}var Ya=Xa(!0),Ka=Xa(!1),$a={},Za=_i($a),Qa=_i($a),Ja=_i($a);function eo(e){if(e===$a)throw Error(r(174));return e}function to(e,t){switch(Ei(Ja,t),Ei(Qa,e),Ei(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function no(){Si(Za),Si(Qa),Si(Ja)}function ro(e){eo(Ja.current);var t=eo(Za.current),n=oe(t,e.type);t!==n&&(Ei(Qa,e),Ei(Za,n))}function io(e){Qa.current===e&&(Si(Za),Si(Qa))}var ao=_i(0);function oo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function lo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var uo=y.ReactCurrentDispatcher,co=y.ReactCurrentBatchConfig,fo=0,ho=null,po=null,mo=null,go=!1,vo=!1,yo=0,bo=0;function wo(){throw Error(r(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _o(e,t,n,i,a,o){if(fo=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?as:os,e=n(i,a),vo){o=0;do{if(vo=!1,yo=0,25<=o)throw Error(r(301));o+=1,mo=po=null,t.updateQueue=null,uo.current=ss,e=n(i,a)}while(vo)}if(uo.current=is,t=null!==po&&null!==po.next,fo=0,mo=po=ho=null,go=!1,t)throw Error(r(300));return e}function So(){var e=0!==yo;return yo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?ho.memoizedState=mo=e:mo=mo.next=e,mo}function ko(){if(null===po){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=po.next;var t=null===mo?ho.memoizedState:mo.next;if(null!==t)mo=t,po=e;else{if(null===e)throw Error(r(310));e={memoizedState:(po=e).memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},null===mo?ho.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"==typeof t?t(e):t}function Mo(e){var t=ko(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=po,a=i.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,i=i.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((fo&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,ho.lanes|=d,Ol|=d}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,ar(i,t.memoizedState)||(vs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,ho.lanes|=o,Ol|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=ko(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);ar(o,t.memoizedState)||(vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function To(){}function Ao(e,t){var n=ho,i=ko(),a=t(),o=!ar(i.memoizedState,a);if(o&&(i.memoizedState=a,vs=!0),i=i.queue,Vo(Oo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,No(9,Ro.bind(null,n,i,a,t),void 0,null),null===Cl)throw Error(r(349));30&fo||Io(n,t,a)}return a}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&zo(e)}function Oo(e,t,n){return n(function(){Do(t)&&zo(e)})}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function zo(e){var t=Ma(e,1);null!==t&&Jl(t,e,1,-1)}function Lo(e){var t=Eo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=es.bind(null,ho,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return ko().memoizedState}function Fo(e,t,n,r){var i=Eo();ho.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==po){var o=po.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}ho.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Bo(e,t){return Fo(8390656,8,e,t)}function Vo(e,t){return Uo(2048,8,e,t)}function Ho(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Go(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!=n?n.concat([e]):null,Uo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 21&fo?(ar(n,t)||(n=ht(),ho.lanes|=n,Ol|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n)}function Zo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{vt=n,co.transition=r}}function Qo(){return ko().memoizedState}function Jo(e,t,n){var r=Ql(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ts(e))ns(t,n);else if(null!==(n=Ca(e,t,n,r))){Jl(n,e,r,Zl()),rs(n,t,r)}}function es(e,t,n){var r=Ql(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ts(e))ns(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o)){var l=t.interleaved;return null===l?(i.next=i,ka(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ca(e,t,i,r))&&(Jl(n,e,r,i=Zl()),rs(n,t,r))}}function ts(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function ns(e,t){vo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var is={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},as={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Lo,useDebugValue:Xo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ho,a=Eo();if(na){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Cl)throw Error(r(349));30&fo||Io(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Bo(Oo.bind(null,i,o,e),[e]),i.flags|=2048,No(9,Ro.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Cl.identifierPrefix;if(na){var n=Ki;t=":"+t+"R"+(n=(Yi&~(1<<32-it(Yi)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Ko,useReducer:Mo,useRef:jo,useState:function(){return Mo(Co)},useDebugValue:Xo,useDeferredValue:function(e){return $o(ko(),po.memoizedState,e)},useTransition:function(){return[Mo(Co)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Qo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Ko,useReducer:Po,useRef:jo,useState:function(){return Po(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=ko();return null===po?t.memoizedState=e:$o(t,po.memoizedState,e)},useTransition:function(){return[Po(Co)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Qo,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var cs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,Vl=r)},n}function fs(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e)}var gs=y.ReactCurrentOwner,vs=!1;function ys(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Ya(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||vs?(na&&n&&Qi(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Tu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=Au(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);131072&e.flags&&(vs=!0)}}return Es(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Al,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Al,Tl),Tl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Al,Tl),Tl|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Al,Tl),Tl|=r;return ys(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Ai(n)?Pi:Ci.current;return a=Ti(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||vs?(na&&r&&Qi(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function ks(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(_a(t,i),null===t.stateNode)Us(e,t),Ba(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Sa(u):u=Ti(t,u=Ai(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Va(t,o,r,u),Pa=!1;var f=t.memoizedState;o.state=f,za(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Mi.current||Pa?("function"==typeof c&&(ja(t,n,c,r),l=t.memoizedState),(s=Pa||Ua(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:pa(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Ti(t,l=Ai(n)?Pi:Ci.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Va(t,o,r,l),Pa=!1,f=t.memoizedState,o.state=f,za(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Mi.current||Pa?("function"==typeof h&&(ja(t,n,h,r),p=t.memoizedState),(u=Pa||Ua(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ss(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&zi(t,n,!1),Bs(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ys(e,t,s,a),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),to(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),fa(i),t.flags|=256,ys(e,t,n,r),t.child}var Ts,As,Is,Rs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var i,a=t.pendingProps,o=ao.current,s=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),Ei(ao,1&o),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},1&a||null===s?s=Ou(l,a,0,null):(s.childLanes=0,s.pendingProps=l),e=Ru(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Rs,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,i=us(Error(r(422))),Ls(e,t,s,i)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Ou({mode:"visible",children:i.children},a,0,null),o=Ru(o,a,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&Ya(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Rs,o);if(!(1&t.mode))return Ls(e,t,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,Ls(e,t,s,i=us(o=Error(r(419)),i,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(i=Cl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(i.suspendedLanes|s)?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ma(e,a),Jl(i,e,a,-1))}return fu(),Ls(e,t,s,i=us(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ta=si(a.nextSibling),ea=t,na=!0,ra=null,null!==e&&(Gi[qi++]=Yi,Gi[qi++]=Ki,Gi[qi++]=Xi,Yi=e.id,Ki=e.overflow,Xi=t),t=zs(t,i.children),t.flags|=4096,t)}(e,t,l,a,i,o,n);if(s){s=a.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 1&l||t.child===o?(a=Au(o,u)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null),null!==i?s=Au(i,s):(s=Ru(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,a}return e=(s=e.child).sibling,a=Au(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&fa(r),Ya(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ns(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ys(e,t,r.children,n),2&(r=ao.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ns(e,n,t);else if(19===e.tag)Ns(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ao,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Us(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var i=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ai(t.type)&&Ii(),Hs(t),null;case 3:return i=t.stateNode,no(),Si(Mi),Si(Ci),lo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ra&&(ru(ra),ra=null))),Hs(t),null;case 5:io(t);var o=eo(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Hs(t),null}if(e=eo(Za.current),ua(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[ci]=t,i[di]=s,e=!!(1&t.mode),n){case"dialog":Nr("cancel",i),Nr("close",i);break;case"iframe":case"object":case"embed":Nr("load",i);break;case"video":case"audio":for(o=0;o<Or.length;o++)Nr(Or[o],i);break;case"source":Nr("error",i);break;case"img":case"image":case"link":Nr("error",i),Nr("load",i);break;case"details":Nr("toggle",i);break;case"input":Y(i,s),Nr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",i);break;case"textarea":ne(i,s),Nr("invalid",i)}for(var l in ge(n,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&$r(i.textContent,u,e),o=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&$r(i.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Nr("scroll",i)}switch(n){case"input":W(i),Z(i,s,!0);break;case"textarea":W(i),ie(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Zr)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[ci]=t,e[di]=i,Ts(e,t),t.stateNode=e;e:{switch(l=ve(n,i),n){case"dialog":Nr("cancel",e),Nr("close",e),o=i;break;case"iframe":case"object":case"embed":Nr("load",e),o=i;break;case"video":case"audio":for(o=0;o<Or.length;o++)Nr(Or[o],e);o=i;break;case"source":Nr("error",e),o=i;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=i;break;case"details":Nr("toggle",e),o=i;break;case"input":Y(e,i),o=X(e,i),Nr("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=z({},i,{value:void 0}),Nr("invalid",e);break;case"textarea":ne(e,i),o=te(e,i),Nr("invalid",e)}for(s in ge(n,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?pe(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&ce(e,c):"number"==typeof c&&ce(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Nr("scroll",e):null!=c&&v(e,s,c,l))}switch(n){case"input":W(e),Z(e,i,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ee(e,!!i.multiple,s,!1):null!=i.defaultValue&&ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Is(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=eo(Ja.current),eo(Za.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[ci]=t,(s=i.nodeValue!==n)&&null!==(e=ea))switch(e.tag){case 3:$r(i.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(i.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ci]=t,t.stateNode=i}return Hs(t),null;case 13:if(Si(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ta&&1&t.mode&&!(128&t.flags))ca(),da(),t.flags|=98560,s=!1;else if(s=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ci]=t}else da(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),s=!1}else null!==ra&&(ru(ra),ra=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ao.current?0===Il&&(Il=3):fu())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return no(),null===e&&Ur(t.stateNode.containerInfo),Hs(t),null;case 10:return wa(t.type._context),Hs(t),null;case 19:if(Si(ao),null===(s=t.memoizedState))return Hs(t),null;if(i=!!(128&t.flags),null===(l=s.rendering))if(i)Vs(s,!1);else{if(0!==Il||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=oo(e))){for(t.flags|=128,Vs(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ao,1&ao.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>Fl&&(t.flags|=128,i=!0,Vs(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=oo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!na)return Hs(t),null}else 2*Ke()-s.renderingStartTime>Fl&&1073741824!==n&&(t.flags|=128,i=!0,Vs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=ao.current,Ei(ao,i?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return lu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?1073741824&Tl&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Gs(e,t){switch(Ji(t),t.tag){case 1:return Ai(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return no(),Si(Mi),Si(Ci),lo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return io(t),null;case 13:if(Si(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ao),null;case 4:return no(),null;case 10:return wa(t.type._context),null;case 22:case 23:return lu(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(Za.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),s=[];break;case"textarea":i=te(e,i),r=te(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Nr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Xs=!1,Ys="function"==typeof WeakSet?WeakSet:Set,Ks=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){xu(e,t,n)}else n.current=null}function Zs(e,t,n){try{n()}catch(n){xu(e,t,n)}}var Qs=!1;function Js(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Zs(t,n,a)}i=i.next}while(i!==r)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[di],delete t[hi],delete t[pi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}var sl=null,ll=!1;function ul(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(nt,n)}catch(e){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=sl,i=ll;sl=null,ul(e,t,n),ll=i,null!==(sl=r)&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:null!==sl&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Ut(e)):oi(sl,n.stateNode));break;case 4:r=sl,i=ll,sl=n.stateNode.containerInfo,ll=!0,ul(e,t,n),sl=r,ll=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&Zs(n,t,o),i=i.next}while(i!==r)}ul(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){xu(n,t,e)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,ul(e,t,n),Xs=r):ul(e,t,n);break;default:ul(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach(function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,ll=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===sl)throw Error(r(160));cl(o,s,a),sl=null,ll=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(e){xu(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hl(t,e),t=t.sibling}function hl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),pl(e),4&i){try{Js(3,e,e.return),el(3,e)}catch(t){xu(e,e.return,t)}try{Js(5,e,e.return)}catch(t){xu(e,e.return,t)}}break;case 1:fl(t,e),pl(e),512&i&&null!==n&&$s(n,n.return);break;case 5:if(fl(t,e),pl(e),512&i&&null!==n&&$s(n,n.return),32&e.flags){var a=e.stateNode;try{ce(a,"")}catch(t){xu(e,e.return,t)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(a,o),ve(l,s);var c=ve(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?pe(a,f):"dangerouslySetInnerHTML"===d?ue(a,f):"children"===d?ce(a,f):v(a,d,f,c)}switch(l){case"input":$(a,o);break;case"textarea":re(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ee(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ee(a,!!o.multiple,o.defaultValue,!0):ee(a,!!o.multiple,o.multiple?[]:"",!1))}a[di]=o}catch(t){xu(e,e.return,t)}}break;case 6:if(fl(t,e),pl(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(t){xu(e,e.return,t)}}break;case 3:if(fl(t,e),pl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){xu(e,e.return,t)}break;case 4:default:fl(t,e),pl(e);break;case 13:fl(t,e),pl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(jl=Ke())),4&i&&dl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||d,fl(t,e),Xs=c):fl(t,e),pl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Ks=e,d=e.child;null!==d;){for(f=Ks=d;null!==Ks;){switch(p=(h=Ks).child,h.tag){case 0:case 11:case 14:case 15:Js(4,h,h.return);break;case 1:$s(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){xu(i,n,e)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){yl(f);continue}}null!==p?(p.return=h,Ks=p):yl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=he("display",s))}catch(t){xu(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){xu(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fl(t,e),pl(e),4&i&&dl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(ce(a,""),i.flags&=-33),ol(e,il(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;al(e,il(e),o);break;default:throw Error(r(161))}}catch(t){xu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e,t,n){Ks=e,gl(e)}function gl(e,t,n){for(var r=!!(1&e.mode);null!==Ks;){var i=Ks,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||qs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=qs;var u=Xs;if(qs=o,(Xs=l)&&!u)for(Ks=i;null!==Ks;)l=(o=Ks).child,22===o.tag&&null!==o.memoizedState?bl(i):null!==l?(l.return=o,Ks=l):bl(i);for(;null!==a;)Ks=a,gl(a),a=a.sibling;Ks=i,qs=s,Xs=u}vl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Ks=a):vl(e)}}function vl(e){for(;null!==Ks;){var t=Ks;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xs||el(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Xs)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:pa(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(r(163))}Xs||512&t.flags&&tl(t)}catch(e){xu(t,t.return,e)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function yl(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function bl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(e){xu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){xu(t,i,e)}}var a=t.return;try{tl(t)}catch(e){xu(t,a,e)}break;case 5:var o=t.return;try{tl(t)}catch(e){xu(t,o,e)}}}catch(e){xu(t,t.return,e)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var wl,xl=Math.ceil,_l=y.ReactCurrentDispatcher,Sl=y.ReactCurrentOwner,El=y.ReactCurrentBatchConfig,kl=0,Cl=null,Ml=null,Pl=0,Tl=0,Al=_i(0),Il=0,Rl=null,Ol=0,Dl=0,zl=0,Ll=null,Nl=null,jl=0,Fl=1/0,Ul=null,Bl=!1,Vl=null,Hl=null,Wl=!1,Gl=null,ql=0,Xl=0,Yl=null,Kl=-1,$l=0;function Zl(){return 6&kl?Ke():-1!==Kl?Kl:Kl=Ke()}function Ql(e){return 1&e.mode?2&kl&&0!==Pl?Pl&-Pl:null!==ha.transition?(0===$l&&($l=ht()),$l):(0!==(e=vt)||(e=void 0===(e=window.event)?16:Yt(e.type)),e):1}function Jl(e,t,n,i){if(50<Xl)throw Xl=0,Yl=null,Error(r(185));mt(e,n,i),(!(2&kl)||e!==Cl)&&(e===Cl&&(!(2&kl)&&(Dl|=n),4===Il&&iu(e,Pl)),eu(e,i),1===n&&0===kl&&!(1&t.mode)&&(Fl=Ke()+500,Ni&&Ui()))}function eu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-it(a),s=1<<o,l=i[o];-1===l?(!(s&n)||s&r)&&(i[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ct(e,e===Cl?Pl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ni=!0,Fi(e)}(au.bind(null,e)):Fi(au.bind(null,e)),ii(function(){!(6&kl)&&Ui()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=Qe;break;case 16:default:n=Je;break;case 536870912:n=tt}n=Cu(n,tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tu(e,t){if(Kl=-1,$l=0,6&kl)throw Error(r(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var i=ct(e,e===Cl?Pl:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=hu(e,i);else{t=i;var a=kl;kl|=2;var o=du();for((Cl!==e||Pl!==t)&&(Ul=null,Fl=Ke()+500,uu(e,t));;)try{mu();break}catch(t){cu(e,t)}ba(),_l.current=o,kl=a,null!==Ml?t=0:(Cl=null,Pl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(i=a,t=nu(e,a))),1===t)throw n=Rl,uu(e,0),iu(e,i),eu(e,Ke()),n;if(6===t)iu(e,i);else{if(a=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=hu(e,i),2===t&&(o=ft(e),0!==o&&(i=o,t=nu(e,o))),1!==t)))throw n=Rl,uu(e,0),iu(e,i),eu(e,Ke()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:yu(e,Nl,Ul);break;case 3:if(iu(e,i),(130023424&i)===i&&10<(t=jl+500-Ke())){if(0!==ct(e,0))break;if(((a=e.suspendedLanes)&i)!==i){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ti(yu.bind(null,e,Nl,Ul),t);break}yu(e,Nl,Ul);break;case 4:if(iu(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-it(i);o=1<<s,(s=t[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xl(i/1960))-i)){e.timeoutHandle=ti(yu.bind(null,e,Nl,Ul),i);break}yu(e,Nl,Ul);break;default:throw Error(r(329))}}}return eu(e,Ke()),e.callbackNode===n?tu.bind(null,e):null}function nu(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(uu(e,t).flags|=256),2!==(e=hu(e,t))&&(t=Nl,Nl=n,null!==t&&ru(t)),e}function ru(e){null===Nl?Nl=e:Nl.push.apply(Nl,e)}function iu(e,t){for(t&=~zl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function au(e){if(6&kl)throw Error(r(327));bu();var t=ct(e,0);if(!(1&t))return eu(e,Ke()),null;var n=hu(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=nu(e,i))}if(1===n)throw n=Rl,uu(e,0),iu(e,t),eu(e,Ke()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yu(e,Nl,Ul),eu(e,Ke()),null}function ou(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Fl=Ke()+500,Ni&&Ui())}}function su(e){null!==Gl&&0===Gl.tag&&!(6&kl)&&bu();var t=kl;kl|=1;var n=El.transition,r=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=r,El.transition=n,!(6&(kl=t))&&Ui()}}function lu(){Tl=Al.current,Si(Al)}function uu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ni(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ii();break;case 3:no(),Si(Mi),Si(Ci),lo();break;case 5:io(r);break;case 4:no();break;case 13:case 19:Si(ao);break;case 10:wa(r.type._context);break;case 22:case 23:lu()}n=n.return}if(Cl=e,Ml=e=Au(e.current,null),Pl=Tl=t,Il=0,Rl=null,zl=Dl=Ol=0,Nl=Ll=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function cu(e,t){for(;;){var n=Ml;try{if(ba(),uo.current=is,go){for(var i=ho.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}go=!1}if(fo=0,mo=po=ho=null,vo=!1,yo=0,Sl.current=null,null===n||null===n.return){Il=1,Rl=t,Ml=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ps(s);if(null!==p){p.flags&=-257,ms(p,s,l,0,t),1&p.mode&&hs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){hs(o,c,t),fu();break e}u=Error(r(426))}else if(na&&1&l.mode){var v=ps(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),ms(v,s,l,0,t),fa(ls(u,l));break e}}o=u=ls(u,l),4!==Il&&(Il=2),null===Ll?Ll=[o]:Ll.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ds(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(!(128&o.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Hl&&Hl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}vu(n)}catch(e){t=e,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function du(){var e=_l.current;return _l.current=is,null===e?is:e}function fu(){(0===Il||3===Il||2===Il)&&(Il=4),null===Cl||!(268435455&Ol)&&!(268435455&Dl)||iu(Cl,Pl)}function hu(e,t){var n=kl;kl|=2;var i=du();for((Cl!==e||Pl!==t)&&(Ul=null,uu(e,t));;)try{pu();break}catch(t){cu(e,t)}if(ba(),kl=n,_l.current=i,null!==Ml)throw Error(r(261));return Cl=null,Pl=0,Il}function pu(){for(;null!==Ml;)gu(Ml)}function mu(){for(;null!==Ml&&!Xe();)gu(Ml)}function gu(e){var t=wl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?vu(e):Ml=t,Sl.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Il=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ws(n,t,Tl)))return void(Ml=n);if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Il&&(Il=5)}function yu(e,t,n){var i=vt,a=El.transition;try{El.transition=null,vt=1,function(e,t,n,i){do{bu()}while(null!==Gl);if(6&kl)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-it(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cl&&(Ml=Cl=null,Pl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Wl||(Wl=!0,Cu(Je,function(){return bu(),null})),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=El.transition,El.transition=null;var s=vt;vt=1;var l=kl;kl|=4,Sl.current=null,function(e,t){if(Qr=Vt,dr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=s),h===o&&++d===i&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Vt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:pa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(e){xu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}m=Qs,Qs=!1}(e,n),hl(n,e),fr(Jr),Vt=!!Qr,Jr=Qr=null,e.current=n,ml(n),Ye(),kl=l,vt=s,El.transition=o}else e.current=n;if(Wl&&(Wl=!1,Gl=e,ql=a),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(nt,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),eu(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Bl)throw Bl=!1,e=Vl,Vl=null,e;1&ql&&0!==e.tag&&bu(),o=e.pendingLanes,1&o?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Ui()}(e,t,n,i)}finally{El.transition=a,vt=i}return null}function bu(){if(null!==Gl){var e=yt(ql),t=El.transition,n=vt;try{if(El.transition=null,vt=16>e?16:e,null===Gl)var i=!1;else{if(e=Gl,Gl=null,ql=0,6&kl)throw Error(r(331));var a=kl;for(kl|=4,Ks=e.current;null!==Ks;){var o=Ks,s=o.child;if(16&Ks.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ks=c;null!==Ks;){var d=Ks;switch(d.tag){case 0:case 11:case 15:Js(8,d,o)}var f=d.child;if(null!==f)f.return=d,Ks=f;else for(;null!==Ks;){var h=(d=Ks).sibling,p=d.return;if(nl(d),d===c){Ks=null;break}if(null!==h){h.return=p,Ks=h;break}Ks=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ks=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Ks=s;else e:for(;null!==Ks;){if(2048&(o=Ks).flags)switch(o.tag){case 0:case 11:case 15:Js(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ks=y;break e}Ks=o.return}}var b=e.current;for(Ks=b;null!==Ks;){var w=(s=Ks).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Ks=w;else e:for(s=b;null!==Ks;){if(2048&(l=Ks).flags)try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(e){xu(l,l.return,e)}if(l===s){Ks=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ks=x;break e}Ks=l.return}}if(kl=a,Ui(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(nt,e)}catch(e){}i=!0}return i}finally{vt=n,El.transition=t}}return!1}function wu(e,t,n){e=Ra(e,t=ds(0,t=ls(n,t),1),1),t=Zl(),null!==e&&(mt(e,1,t),eu(e,t))}function xu(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Ra(t,e=fs(t,e=ls(n,e),1),1),e=Zl(),null!==t&&(mt(t,1,e),eu(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Pl&n)===n&&(4===Il||3===Il&&(130023424&Pl)===Pl&&500>Ke()-jl?uu(e,0):zl|=n),eu(e,t)}function Su(e,t){0===t&&(1&e.mode?(t=lt,!(130023424&(lt<<=1))&&(lt=4194304)):t=1);var n=Zl();null!==(e=Ma(e,t))&&(mt(e,t,n),eu(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function ku(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Su(e,n)}function Cu(e,t){return Ge(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Mu(e,t,n,r)}function Tu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Tu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Ru(n.children,a,o,t);case _:s=8,a|=8;break;case S:return(e=Pu(12,n,t,2|a)).elementType=S,e.lanes=o,e;case M:return(e=Pu(13,n,t,a)).elementType=M,e.lanes=o,e;case P:return(e=Pu(19,n,t,a)).elementType=P,e.lanes=o,e;case I:return Ou(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case C:s=11;break e;case T:s=14;break e;case A:s=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Ru(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nu(e,t,n,r,i,a,o,s,l){return e=new Lu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function ju(e){if(!e)return ki;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Oi(e,n,t)}return t}function Fu(e,t,n,r,i,a,o,s,l){return(e=Nu(n,r,!0,e,0,a,0,s,l)).context=ju(null),n=e.current,(a=Ia(r=Zl(),i=Ql(n))).callback=null!=t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),eu(e,r),e}function Uu(e,t,n,r){var i=t.current,a=Zl(),o=Ql(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(Jl(e,i,o,a),Oa(e,i,o)),o}function Bu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)vs=!0;else{if(!(e.lanes&n||128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),da();break;case 5:ro(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ao,1&ao.current),t.flags|=128,null):n&t.child.childLanes?Ds(e,t,n):(Ei(ao,1&ao.current),null!==(e=Bs(e,t,n))?e.sibling:null);Ei(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Fs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Bs(e,t,n)}(e,t,n);vs=!!(131072&e.flags)}else vs=!1,na&&1048576&t.flags&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Us(e,t),e=t.pendingProps;var a=Ti(t,Ci.current);_a(t,n),a=_o(null,t,i,e,a,n);var o=So();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(i)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ta(t),a.updater=Fa,t.stateNode=a,a._reactInternals=t,Ha(t,i,e,n),t=Cs(null,t,i,!0,o,n)):(t.tag=0,na&&o&&Qi(t),ys(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Tu(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(i),e=pa(i,e),a){case 0:t=Es(null,t,i,e,n);break e;case 1:t=ks(null,t,i,e,n);break e;case 11:t=bs(null,t,i,e,n);break e;case 14:t=ws(null,t,i,pa(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,Es(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 1:return i=t.type,a=t.pendingProps,ks(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 3:e:{if(Ms(t),null===e)throw Error(r(387));i=t.pendingProps,a=(o=t.memoizedState).element,Aa(e,t),za(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,i,n,a=ls(Error(r(423)),t));break e}if(i!==a){t=Ps(e,t,i,n,a=ls(Error(r(424)),t));break e}for(ta=si(t.stateNode.containerInfo.firstChild),ea=t,na=!0,ra=null,n=Ka(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===a){t=Bs(e,t,n);break e}ys(e,t,i,n)}t=t.child}return t;case 5:return ro(t),null===e&&sa(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ei(i,a)?s=null:null!==o&&ei(i,o)&&(t.flags|=32),Ss(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&sa(t),null;case 13:return Ds(e,t,n);case 4:return to(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ya(t,null,i,n):ys(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,bs(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ei(ma,i._currentValue),i._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===a.children&&!Mi.current){t=Bs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,_a(t,n),i=i(a=Sa(a)),t.flags|=1,ys(e,t,i,n),t.child;case 14:return a=pa(i=t.type,t.pendingProps),ws(e,t,i,a=pa(i.type,a),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:pa(i,a),Us(e,t),t.tag=1,Ai(i)?(e=!0,Di(t)):e=!1,_a(t,n),Ba(t,i,a),Ha(t,i,a,n),Cs(null,t,i,!0,e,n);case 19:return Fs(e,t,n);case 22:return _s(e,t,n)}throw Error(r(156,t.tag))};var Wu="function"==typeof reportError?reportError:function(e){};function Gu(e){this._internalRoot=e}function qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(){}function $u(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Bu(o);s.call(e)}}Uu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Bu(o);a.call(e)}}var o=Fu(t,r,e,0,null,!1,0,"",Ku);return e._reactRootContainer=o,e[fi]=o.current,Ur(8===e.nodeType?e.parentNode:e),su(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Bu(l);s.call(e)}}var l=Nu(e,0,!1,null,0,!1,0,"",Ku);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),su(function(){Uu(t,l,n,r)}),l}(n,t,e,i,r);return Bu(o)}qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Uu(e,t,null,null)},qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;su(function(){Uu(null,e,null,null)}),t[fi]=null}},qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&zt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),eu(t,Ke()),!(6&kl)&&(Fl=Ke()+500,Ui()))}break;case 13:su(function(){var t=Ma(e,1);if(null!==t){var n=Zl();Jl(t,e,1,n)}}),Hu(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)Jl(t,e,134217728,Zl());Hu(e,134217728)}},xt=function(e){if(13===e.tag){var t=Ql(e),n=Ma(e,t);if(null!==n)Jl(n,e,t,Zl());Hu(e,t)}},_t=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=bi(i);if(!a)throw Error(r(90));G(i),$(i,a)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ee(e,!!n.multiple,t,!1)}},Ce=ou,Me=su;var Zu,Qu={usingClientEntryPoint:!1,Events:[vi,yi,bi,Ee,ke,ou]},Ju={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ec={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(!(Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&Zu.supportsFiber))try{nt=Zu.inject(ec),rt=Zu}catch(le){}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qu,e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(r(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},e.createRoot=function(e,t){if(!Xu(e))throw Error(r(299));var n=!1,i="",a=Wu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Nu(e,1,!1,null,0,n,0,i,a),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Gu(t)},e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=null===(e=He(t))?null:e.stateNode},e.flushSync=function(e){return su(e)},e.hydrate=function(e,t,n){if(!Yu(t))throw Error(r(200));return $u(null,e,t,!0,n)},e.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,o="",s=Wu;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Fu(t,null,e,1,null!=n?n:null,a,0,o,s),e[fi]=t.current,Ur(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new qu(t)},e.render=function(e,t,n){if(!Yu(t))throw Error(r(200));return $u(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(r(40));return!!e._reactRootContainer&&(su(function(){$u(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},e.unstable_batchedUpdates=ou,e.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Yu(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return $u(e,t,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"}}),eb=Dg({"../../node_modules/react-dom/index.js"(e,t){(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}})(),t.exports=Jy()}}),tb=Dg({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(e,t){t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}),nb=Dg({"../../node_modules/prop-types/factoryWithThrowingShims.js"(e,t){var n=tb();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}}}),rb=Dg({"../../node_modules/prop-types/index.js"(e,t){t.exports=nb()()}}),ib=Dg({"../../node_modules/react-shadow/styled-components.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Fg(),n=$g(),r=($y(),(e=>zg(wg({},"__esModule",{value:!0}),e))(fv)),i=eb(),a=rb();function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=o(t),l=o(a),u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(e,t){return e(t={exports:{}},t.exports),t.exports}var d=c(function(e){var t,n,r,i,a,o,s,l,c,d,f,h,p,m,g;t=u,n=function(e,t,r){if(!l(t)||d(t)||f(t)||h(t)||s(t))return t;var i,a=0,o=0;if(c(t))for(i=[],o=t.length;a<o;a++)i.push(n(e,t[a],r));else for(var u in i={},t)Object.prototype.hasOwnProperty.call(t,u)&&(i[e(u,r)]=n(e,t[u],r));return i},r=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1)},i=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},a=function(e,t){return(n=e,r=t,i=(r=r||{}).separator||"_",a=r.split||/(?=[A-Z])/,n.split(a).join(i)).toLowerCase();var n,r,i,a},o=Object.prototype.toString,s=function(e){return"function"==typeof e},l=function(e){return e===Object(e)},c=function(e){return"[object Array]"==o.call(e)},d=function(e){return"[object Date]"==o.call(e)},f=function(e){return"[object RegExp]"==o.call(e)},h=function(e){return"[object Boolean]"==o.call(e)},p=function(e){return(e-=0)==e},m=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},g={camelize:r,decamelize:a,pascalize:i,depascalize:a,camelizeKeys:function(e,t){return n(m(r,t),e)},decamelizeKeys:function(e,t){return n(m(a,t),e,t)},pascalizeKeys:function(e,t){return n(m(i,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}},e.exports?e.exports=g:t.humps=g}).decamelize,f=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},p=c(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t}),m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},g=t.createContext(null);function v(e){var t=e.children,r=m(e,["children"]);return"string"!=typeof t&&(t=n.renderToString(t)),s.default.createElement("template",p({},r,{dangerouslySetInnerHTML:{__html:t}}))}function y(e){var t=e.root,n=e.children;return i.createPortal(n,t)}v.propTypes={children:l.default.oneOfType([l.default.string,l.default.node])},v.defaultProps={children:""},y.propTypes={root:l.default.object.isRequired,children:l.default.node},y.defaultProps={children:null};var b=new Map;function w(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children};return new Proxy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{get:function(r,i){var a=d(i,{separator:"-"}),o="".concat(e,"-").concat(a);return b.has(o)||b.set(o,function(e){var n=t.forwardRef(function(n,r){var i,a,o=n.mode,l=n.delegatesFocus,u=n.styleSheets,c=n.ssr,d=n.children,f=m(n,["mode","delegatesFocus","styleSheets","ssr","children"]),b=(i=r,a=t.useRef(i&&i.current),t.useEffect(function(){i&&(i.current=a.current)},[i]),a),w=t.useState(null),x=h(w,2),_=x[0],S=x[1],E="node_".concat(o).concat(l);return t.useLayoutEffect(function(){if(b.current)try{if("function"==typeof r&&r(b.current),c){var e=b.current.shadowRoot;return void S(e)}var t=b.current.attachShadow({mode:o,delegatesFocus:l});u.length>0&&(t.adoptedStyleSheets=u),S(t)}catch(e){!function(e){var t=e.error,n=e.styleSheets,r=e.root;if("NotSupportedError"!==t.name)throw t;n.length>0&&(r.adoptedStyleSheets=n)}({error:e,styleSheets:u,root:_})}},[r,b,u]),s.default.createElement(s.default.Fragment,null,s.default.createElement(e.tag,p({key:E,ref:b},f),(_||c)&&s.default.createElement(g.Provider,{value:_},c?s.default.createElement(v,{shadowroot:o,shadowrootmode:o},e.render({root:_,ssr:c,children:d})):s.default.createElement(y,{root:_},e.render({root:_,ssr:c,children:d})))))});return n.propTypes={mode:l.default.oneOf(["open","closed"]),delegatesFocus:l.default.bool,styleSheets:l.default.arrayOf(l.default.instanceOf(globalThis.CSSStyleSheet)),ssr:l.default.bool,children:l.default.node},n.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},n}({tag:a,render:n})),b.get(o)}})}function x(e){var t=new r.ServerStyleSheet;return n.renderToString(s.default.createElement(r.StyleSheetManager,{sheet:t.instance},s.default.createElement(s.default.Fragment,null,e))),t.getStyleElement()}w();var _=w({},"styled-components",function(e){var t=e.root,n=e.ssr,i=e.children;return n?s.default.createElement(s.default.Fragment,null,x(i),i):s.default.createElement(r.StyleSheetManager,{target:t},s.default.createElement(s.default.Fragment,null,i))});e.default=_,e.getStyleSheets=x}}),ab=Dg({"../../node_modules/react-dom/client.js"(e){var t=eb();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}}),ob=Dg({"../../node_modules/queue-microtask/index.js"(e,t){var n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:global):e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))}}),sb=Dg({"../../node_modules/regenerator-runtime/runtime.js"(e,t){var n=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new P(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};l(b,a,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&r.call(x,a)&&(b=x);var _=y.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(d).then(function(e){u.value=e,o(u)},function(e){return n("throw",e,o,s)})}s(l.arg)}var i;this._invoke=function(e,r){function a(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=y,l(_,"constructor",y),l(y,"constructor",v),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(_),l(_,s,"Generator"),l(_,a,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}}),lb=Dg({"../../node_modules/@babel/runtime/regenerator/index.js"(e,t){t.exports=sb()}}),ub=Dg({"../../node_modules/zustand/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=lb(),n=Fg();function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t);function a(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach(function(e){return e(t,a)})}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var o="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;e.default=function(e){var t="function"==typeof e?a(e):e,r=function(e,r){void 0===e&&(e=t.getState),void 0===r&&(r=Object.is);var i=n.useReducer(function(e){return e+1},0)[1],a=t.getState(),s=n.useRef(a),l=n.useRef(e),u=n.useRef(r),c=n.useRef(!1),d=n.useRef();void 0===d.current&&(d.current=e(a));var f,h=!1;(s.current!==a||l.current!==e||u.current!==r||c.current)&&(f=e(a),h=!r(d.current,f)),o(function(){h&&(d.current=f),s.current=a,l.current=e,u.current=r,c.current=!1});var p=n.useRef(a);return o(function(){var e=function(){try{var e=t.getState(),n=l.current(e);u.current(d.current,n)||(s.current=e,d.current=n,i())}catch(e){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n},[]),h?f:d.current};return Object.assign(r,t),r[Symbol.iterator]=i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r;case 3:return e.next=5,t;case 5:case"end":return e.stop()}},e)}),r}}}),cb=Lg(Fg()),db=Lg(Fg()),fb=Lg(Fg()),hb=Lg(Bg()),pb=Lg(Fg(),1);function mb(e){let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?((e,r=i,a=Object.is)=>{let o=r(t);function s(){let n=r(t);if(!a(o,n)){let t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}var gb="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?pb.useEffect:pb.useLayoutEffect;function vb(e){let t="function"==typeof e?mb(e):e,n=(e=t.getState,n=Object.is)=>{let[,r]=(0,pb.useReducer)(e=>e+1,0),i=t.getState(),a=(0,pb.useRef)(i),o=(0,pb.useRef)(e),s=(0,pb.useRef)(n),l=(0,pb.useRef)(!1),u=(0,pb.useRef)();void 0===u.current&&(u.current=e(i));let c,d=!1;(a.current!==i||o.current!==e||s.current!==n||l.current)&&(c=e(i),d=!n(u.current,c)),gb(()=>{d&&(u.current=c),a.current=i,o.current=e,s.current=n,l.current=!1});let f=(0,pb.useRef)(i);gb(()=>{let e=()=>{try{let e=t.getState(),n=o.current(e);s.current(u.current,n)||(a.current=e,u.current=n,r())}catch(e){l.current=!0,r()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n},[]);let h=d?c:u.current;return(0,pb.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}var yb=Lg(Gg()),bb=Lg(Hg()),wb={};var xb,_b,Sb=e=>"colorSpace"in e||"outputColorSpace"in e,Eb=()=>{var e;return null!=(e=wb.ColorManagement)?e:null},kb=e=>e&&e.isOrthographicCamera,Cb="undefined"!=typeof window&&(null!=(xb=window.document)&&xb.createElement||"ReactNative"===(null==(_b=window.navigator)?void 0:_b.product))?fb.useLayoutEffect:fb.useEffect;function Mb(e){let t=fb.useRef(e);return Cb(()=>{t.current=e},[e]),t}function Pb({set:e}){return Cb(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}var Tb=class extends fb.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};Tb.getDerivedStateFromError=()=>({error:!0});var Ab="__default",Ib=new Map,Rb=e=>e&&!!e.memoized&&!!e.changes;function Ob(e){var t;let n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var Db=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},zb={obj:e=>e===Object(e)&&!zb.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(zb.str(e)||zb.num(e))return e===t;let a=zb.obj(e);if(a&&"reference"===r)return e===t;let o,s=zb.arr(e);if(s&&"reference"===n)return e===t;if((s||a)&&e===t)return!0;for(o in e)if(!(o in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!zb.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(zb.und(o)){if(s&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function Lb(e,t){return e.__r3f=Ag({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function Nb(e,t){let n=e;if(t.includes("-")){let r=t.split("-"),i=r.pop();return n=r.reduce((e,t)=>e[t],e),{target:n,key:i}}return{target:n,key:t}}var jb=/-\d+$/;function Fb(e,t,n){if(zb.str(n)){if(jb.test(n)){let t=n.replace(jb,""),{target:r,key:i}=Nb(e,t);Array.isArray(r[i])||(r[i]=[])}let{target:r,key:i}=Nb(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function Ub(e,t,n){var r,i;if(zb.str(n)){let{target:r,key:i}=Nb(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function Bb(e,t,n={},r=!1){var i,a=Rg(t,["children","key","ref"]),o=Rg(n,["children","key","ref"]);let s=null!=(i=null==e?void 0:e.__r3f)?i:{},l=Object.entries(a),u=[];if(r){let e=Object.keys(o);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||l.unshift([e[t],Ab+"remove"])}l.forEach(([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t||zb.equ(n,o[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return u.push([t,n,!0,[]]);let i=[];t.includes("-")&&(i=t.split("-")),u.push([t,n,!1,i]);for(let e in a){let n=a[e];e.startsWith(`${t}-`)&&u.push([e,n,!1,e.split("-")])}});let c=Ag({},a);return s.memoizedProps&&s.memoizedProps.args&&(c.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(c.attach=s.memoizedProps.attach),{memoized:c,changes:u}}function Vb(e,t){var n,r,i;let a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},{memoized:l,changes:u}=Rb(t)?t:Bb(e,t),c=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let t=0;t<u.length;t++){let[n,r,i,o]=u[t];if(Sb(e)){let e="srgb",t="srgb-linear";"encoding"===n?(n="colorSpace",r=3001===r?e:t):"outputEncoding"===n&&(n="outputColorSpace",r=3001===r?e:t)}let l=e,c=l[n];if(o.length&&(c=o.reduce((e,t)=>e[t],e),!c||!c.set)){let[t,...r]=o.reverse();l=r.reverse().reduce((e,t)=>e[t],e),n=t}if(r===Ab+"remove")if(l.constructor){let e=Ib.get(l.constructor);e||(e=new l.constructor,Ib.set(l.constructor,e)),r=e[n]}else r=0;if(i)r?a.handlers[n]=r:delete a.handlers[n],a.eventCount=Object.keys(a.handlers).length;else if(c&&c.set&&(c.copy||c instanceof dr)){if(Array.isArray(r))c.fromArray?c.fromArray(r):c.set(...r);else if(c.copy&&r&&r.constructor&&c.constructor===r.constructor)c.copy(r);else if(void 0!==r){let e=c instanceof qr;!e&&c.setScalar?c.setScalar(r):c instanceof dr&&r instanceof dr?c.mask=r.mask:c.set(r),!Eb()&&!s.linear&&e&&c.convertSRGBToLinear()}}else if(l[n]=r,l[n]instanceof vn&&l[n].format===_e&&l[n].type===le){let e=l[n];Sb(e)&&Sb(s.gl)?e.colorSpace=s.gl.outputColorSpace:e.encoding=s.gl.outputEncoding}Hb(e)}if(a.parent&&s.internal&&e.raycast&&c!==a.eventCount){let t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(i=e.__r3f)&&i.parent&&Wb(e),e}function Hb(e){var t,n;let r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function Wb(e){null==e.onUpdate||e.onUpdate(e)}function Gb(e,t){e.manual||(kb(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function qb(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Xb(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function Yb(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(qb(e)),null!=r&&r.eventCount){let n=Ig(Ag({},e),{intersections:t});null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(a){let{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;let l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){let r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){let t=Db(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(function(e){let n=Db(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{let n=Db(e.object),r=Db(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=qb(e);return!i.has(t)&&(i.add(t),!0)});r.events.filter&&(s=r.events.filter(s,r));for(let e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push(Ig(Ag({},e),{eventObject:t})),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(qb(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=u?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=c.map(e=>e.eventObject)),u&&!c.length&&d<=2&&(r(a,s.interaction),o&&o(a)),l&&n(c),function(t,r,i,a){let o=e.getState();if(t.length){let e={stopped:!1};for(let s of t){let l=Db(s.object)||o,{raycaster:u,pointer:c,camera:d,internal:f}=l,h=new En(c.x,c.y,0).unproject(d),p=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{let t={intersection:s,target:r.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(s.eventObject,t):f.capturedMap.set(e,new Map([[s.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{let t=f.capturedMap.get(e);t&&Xb(f.capturedMap,s.eventObject,t,e)},v={};for(let e in r){let t=r[e];"function"!=typeof t&&(v[e]=t)}let y=Ig(Ag(Ag({},s),v),{pointer:c,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:h,ray:u.ray,camera:d,stopPropagation(){let i="pointerId"in r&&f.capturedMap.get(r.pointerId);(!i||i.has(s.eventObject))&&(y.stopped=e.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find(e=>e.eventObject===s.eventObject))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r});if(a(y),!0===e.stopped)break}}}(c,a,d,function(e){let t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){let t=qb(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{let n=o[i];n?(!u||s.initialHits.includes(t))&&(r(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):u&&s.initialHits.includes(t)&&r(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}var Kb,$b,Zb,Qb=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Jb=e=>!(null==e||!e.render),ew=fb.createContext(null),tw=new Set,nw=new Set,rw=new Set;function iw(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function aw(e,t){switch(e){case"before":return iw(tw,t);case"after":return iw(nw,t);case"tail":return iw(rw,t)}}function ow(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),$b=t.internal.subscribers,Kb=0;Kb<$b.length;Kb++)(Zb=$b[Kb]).ref.current(Zb.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function sw(){let e=fb.useContext(ew);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function lw(e=e=>e,t){return sw()(e,t)}function uw(e,t=0){let n=sw(),r=n.getState().internal.subscribe,i=Mb(e);return Cb(()=>r(i,t,n),[t,r,n]),null}var cw=new Map,{invalidate:dw,advance:fw}=function(e){let t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,aw("before",o);for(let n of e.values()){var s;r=n.store.getState(),r.internal.active&&("always"===r.frameloop||r.internal.frames>0)&&(null==(s=r.gl.xr)||!s.isPresenting)&&(t+=ow(o,r))}if(aw("after",o),0===t)return aw("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n,r=1){var o;if(!n)return e.forEach(e=>t(e.store.getState()),r);null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(a)))},advance:function(t,n=!0,r,i){if(n&&aw("before",t),r)ow(t,r,i);else for(let n of e.values())ow(t,n.store.getState());n&&aw("after",t)}}}(cw),{reconciler:hw,applyProps:pw}=function(e,t){function n(e,t,n){var r=t,{args:i=[],attach:a}=r,o=Rg(r,["args","attach"]);let s,l=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===o.object)throw new Error("R3F: Primitives without 'object' are invalid!");s=Lb(o.object,{type:e,root:n,attach:a,primitive:!0})}else{let t=wb[l];if(!t)throw new Error(`R3F: ${l} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");s=Lb(new t(...i),{type:e,root:n,attach:a,memoizedProps:{args:i}})}return void 0===s.__r3f.attach&&(s instanceof mi?s.__r3f.attach="geometry":s instanceof Kr&&(s.__r3f.attach="material")),"inject"!==l&&Vb(s,o),s}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?Fb(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||Lb(t,{}),t.__r3f.parent=e,Wb(t),Hb(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)Fb(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let i=e.children.filter(e=>e!==t),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||Lb(t,{}),t.__r3f.parent=e,Wb(t),Hb(t)}}function a(e,t,n=!1){e&&[...e].forEach(e=>o(t,e,n))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach)Ub(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{Xb(n.capturedMap,t,e,r)})}(t.__r3f.root,t)}let u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;var l;if(!u)a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,bb.unstable_scheduleCallback)(bb.unstable_IdlePriority,()=>{try{t.dispose()}catch(e){}}),Hb(e)}}let s=()=>{};return{reconciler:(0,yb.default)({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&o(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;let r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{let t=r,{args:i=[],children:a}=t,o=Rg(t,["args","children"]),s=n,{args:l=[],children:u}=s,c=Rg(s,["args","children"]);if(!Array.isArray(i))throw new Error("R3F: the args prop must be an array!");if(i.some((e,t)=>e!==l[t]))return[!0];let d=Bb(e,o,c,!0);return d.changes.length?[!1,d]:null}},commitUpdate(e,[t,i],a,s,l,u){t?function(e,t,i,a){var s;let l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;let u=n(t,i,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&r(u,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>r(u,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),r(l,u),u.raycast&&u.__r3f.eventCount&&u.__r3f.root.getState().internal.interaction.push(u),[a,a.alternate].forEach(e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}(e,a,l,u):Vb(e,i)},commitMount(e,t,n,r){var i;let a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>Lb(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&Ub(r,e,n),e.isObject3D&&(e.visible=!1),Hb(e)},unhideInstance(e,t){var n;let{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&Fb(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Hb(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():hb.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&zb.fun(performance.now)?performance.now:zb.fun(Date.now)?Date.now:()=>0,scheduleTimeout:zb.fun(setTimeout)?setTimeout:void 0,cancelTimeout:zb.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Vb}}(0,function(){var e;let t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return hb.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return hb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return hb.ContinuousEventPriority;default:return hb.DefaultEventPriority}}),mw={objects:"shallow",strict:!1},gw=(e,t)=>{let n="function"==typeof e?e(t):e;return Jb(n)?n:new dh(Ag({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function vw(e){let t=cw.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store,i="function"==typeof reportError?reportError:console.error,a=r||((e,t)=>{let n=vb((n,r)=>{let i=new En,a=new En,o=new En;function s(e=r().camera,t=a,n=r().size){let{width:s,height:l,top:u,left:c}=n,d=s/l;t instanceof En?o.copy(t):o.set(...t);let f=e.getWorldPosition(i).distanceTo(o);if(kb(e))return{width:s/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:f,aspect:d};{let t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*f,r=n*(s/l);return{width:r,height:n,top:u,left:c,factor:s/r,distance:f,aspect:d}}}let l,u=e=>n(t=>({performance:Ig(Ag({},t.performance),{current:e})})),c=new Yt;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Eu,pointer:c,mouse:c,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();l&&clearTimeout(l),e.performance.current!==e.performance.min&&u(e.performance.min),l=setTimeout(()=>u(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:e=>n(t=>Ig(Ag({},t),{events:Ag(Ag({},t.events),e)})),setSize:(e,t,i,o,l)=>{let u=r().camera,c={width:e,height:t,top:o||0,left:l||0,updateStyle:i};n(e=>({size:c,viewport:Ag(Ag({},e.viewport),s(u,a,c))}))},setDpr:e=>n(t=>{let n=Ob(e);return{viewport:Ig(Ag({},t.viewport),{dpr:n,initialDpr:t.viewport.initialDpr||n})}}),setFrameloop:(e="always")=>{let t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:fb.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{let i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}}}),r=n.getState(),i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:s,set:l}=n.getState();if(t!==i||r.dpr!==a){var u;i=t,a=r.dpr,Gb(e,t),s.setPixelRatio(r.dpr);let n=null!=(u=t.updateStyle)?u:"undefined"!=typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(t.width,t.height,n)}e!==o&&(o=e,l(t=>({viewport:Ag(Ag({},t.viewport),t.viewport.getCurrentViewport(e))})))}),n.subscribe(t=>e(t)),n})(dw,fw),o=n||hw.createContainer(a,hb.ConcurrentRoot,null,!1,null,"",i,null);t||cw.set(e,{fiber:o,store:a});let s,l,u=!1;return{configure(t={}){let{gl:n,size:r,scene:i,events:o,onCreated:c,shadows:d=!1,linear:f=!1,flat:h=!1,legacy:p=!1,orthographic:m=!1,frameloop:g="always",dpr:v=[1,2],performance:y,raycaster:b,camera:w,onPointerMissed:x}=t,_=a.getState(),S=_.gl;_.gl||_.set({gl:S=gw(n,e)});let E=_.raycaster;E||_.set({raycaster:E=new Yu});let k=b||{},{params:C}=k,M=Rg(k,["params"]);if(zb.equ(M,E,mw)||pw(E,Ag({},M)),zb.equ(C,E.params,mw)||pw(E,{params:Ag(Ag({},E.params),C)}),!_.camera||_.camera===l&&!zb.equ(l,w,mw)){l=w;let e=w instanceof zi,t=e?w:m?new iu(0,0,0,0,.1,1e3):new Fi(75,0,.1,1e3);e||(t.position.z=5,w&&pw(t,w),!_.camera&&!(null!=w&&w.rotation)&&t.lookAt(0,0,0)),_.set({camera:t})}if(!_.scene){let e;i instanceof qi?e=i:(e=new qi,i&&pw(e,i)),_.set({scene:Lb(e)})}if(!_.xr){var P;let e=(e,t)=>{let n=a.getState();"never"!==n.frameloop&&fw(e,!0,n,t)},t=()=>{let t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||dw(t)},n={connect(){let e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(P=S.xr)?void 0:P.addEventListener)&&n.connect(),_.set({xr:n})}if(S.shadowMap){let e=S.shadowMap.enabled,t=S.shadowMap.type;if(S.shadowMap.enabled=!!d,zb.boo(d))S.shadowMap.type=2;else if(zb.str(d)){var T;let e={basic:0,percentage:1,soft:2,variance:3};S.shadowMap.type=null!=(T=e[d])?T:2}else zb.obj(d)&&Object.assign(S.shadowMap,d);(e!==S.shadowMap.enabled||t!==S.shadowMap.type)&&(S.shadowMap.needsUpdate=!0)}let A=Eb();A&&("enabled"in A?A.enabled=!p:"legacyMode"in A&&(A.legacyMode=p)),pw(S,{outputEncoding:f?3e3:3001,toneMapping:h?0:4}),_.legacy!==p&&_.set(()=>({legacy:p})),_.linear!==f&&_.set(()=>({linear:f})),_.flat!==h&&_.set(()=>({flat:h})),n&&!zb.fun(n)&&!Jb(n)&&!zb.equ(n,S,mw)&&pw(S,n),o&&!_.events.handlers&&_.set({events:o(a)});let I=function(e,t){if(t)return t;if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return zb.equ(I,_.size,mw)||_.setSize(I.width,I.height,I.updateStyle,I.top,I.left),v&&_.viewport.dpr!==Ob(v)&&_.setDpr(v),_.frameloop!==g&&_.setFrameloop(g),_.onPointerMissed||_.set({onPointerMissed:x}),y&&!zb.equ(y,_.performance,mw)&&_.set(e=>({performance:Ag(Ag({},e.performance),y)})),s=c,u=!0,this},render(t){return u||this.configure(),hw.updateContainer(fb.createElement(yw,{store:a,children:t,onCreated:s,rootElement:e}),o,null,()=>{}),a},unmount(){bw(e)}}}function yw({store:e,children:t,onCreated:n,rootElement:r}){return Cb(()=>{let t=e.getState();t.set(e=>({internal:Ig(Ag({},e.internal),{active:!0})})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),fb.createElement(ew.Provider,{value:e},t)}function bw(e,t){let n=cw.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),hw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(let t in e)null==t.dispose||t.dispose(),delete e[t]}(i),cw.delete(e),t&&t(e)}catch(e){}},500)})}}function ww({state:e={},children:t,container:n}){let r=e,{events:i,size:a}=r,o=Rg(r,["events","size"]),s=sw(),[l]=fb.useState(()=>new Yu),[u]=fb.useState(()=>new Yt),c=fb.useCallback((e,t)=>{let r,c=Ag({},e);if(Object.keys(e).forEach(n=>{(Qb.includes(n)||e[n]!==t[n]&&t[n])&&delete c[n]}),t&&a){let n=t.camera;r=e.viewport.getCurrentViewport(n,new En,a),n!==e.camera&&Gb(n,a)}return Ag(Ig(Ag({},c),{scene:n,raycaster:l,pointer:u,mouse:u,previousRoot:s,events:Ag(Ag(Ag({},e.events),null==t?void 0:t.events),i),size:Ag(Ag({},e.size),a),viewport:Ag(Ag({},e.viewport),r)}),o)},[e]),[d]=fb.useState(()=>{let e=s.getState();return vb((t,r)=>Ig(Ag(Ig(Ag({},e),{scene:n,raycaster:l,pointer:u,mouse:u,previousRoot:s,events:Ag(Ag({},e.events),i),size:Ag(Ag({},e.size),a)}),o),{set:t,get:r,setEvents:e=>t(t=>Ig(Ag({},t),{events:Ag(Ag({},t.events),e)}))}))});return fb.useEffect(()=>{let e=s.subscribe(e=>d.setState(t=>c(e,t)));return()=>{e(),d.destroy()}},[]),fb.useEffect(()=>{d.setState(e=>c(s.getState(),e))},[c]),fb.createElement(fb.Fragment,null,hw.createPortal(fb.createElement(ew.Provider,{value:d},t),d,null))}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(this,arguments)}hw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:fb.version});var _w=Lg(Fg()),Sw=Lg(Fg()),Ew=Lg(qg());function kw(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:i}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,a=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[o,s]=(0,Sw.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,Sw.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=t?"number"==typeof t?t:t.scroll:null,c=t?"number"==typeof t?t:t.resize:null,d=(0,Sw.useRef)(!1);(0,Sw.useEffect)(()=>(d.current=!0,()=>{d.current=!1}));let[f,h,p]=(0,Sw.useMemo)(()=>{let e=()=>{if(!l.current.element)return;let{left:e,top:t,width:n,height:r,bottom:a,right:o,x:u,y:c}=l.current.element.getBoundingClientRect(),f={left:e,top:t,width:n,height:r,bottom:a,right:o,x:u,y:c};l.current.element instanceof HTMLElement&&i&&(f.height=l.current.element.offsetHeight,f.width=l.current.element.offsetWidth),Object.freeze(f),d.current&&!Pw(l.current.lastBounds,f)&&s(l.current.lastBounds=f)};return[e,c?(0,Ew.default)(e,c):e,u?(0,Ew.default)(e,u):e]},[s,i,u,c]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function g(){l.current.element&&(l.current.resizeObserver=new a(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(e=>e.addEventListener("scroll",p,{capture:!0,passive:!0})))}return y=p,b=!!n,(0,Sw.useEffect)(()=>{if(b){let e=y;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}},[y,b]),v=h,(0,Sw.useEffect)(()=>{let e=v;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[v]),(0,Sw.useEffect)(()=>{m(),g()},[n,p,h]),(0,Sw.useEffect)(()=>m,[]),[e=>{!e||e===l.current.element||(m(),l.current.element=e,l.current.scrollContainers=Cw(e),g())},o,f];var v,y,b}function Cw(e){let t=[];if(!e||e===document.body)return t;let{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...Cw(e.parentElement)]}var Mw=["x","y","top","bottom","left","right","width","height"],Pw=(e,t)=>Mw.every(n=>e[n]===t[n]),Tw=Lg(Fg(),1),Aw=Object.defineProperty,Iw=Object.defineProperties,Rw=Object.getOwnPropertyDescriptors,Ow=Object.getOwnPropertySymbols,Dw=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,Lw=(e,t,n)=>t in e?Aw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nw=(e,t)=>{for(var n in t||(t={}))Dw.call(t,n)&&Lw(e,n,t[n]);if(Ow)for(var n of Ow(t))zw.call(t,n)&&Lw(e,n,t[n]);return e};function jw(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){let e=jw(r,t,n);if(e)return e;r=t?null:r.sibling}}function Fw(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}var Uw=Fw(Tw.createContext(null)),Bw=class extends Tw.Component{render(){return Tw.createElement(Uw.Provider,{value:this._reactInternals},this.props.children)}},{ReactCurrentOwner:Vw,ReactCurrentDispatcher:Hw}=Tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Ww(){var e,t;let n=function(){let e=Tw.useContext(Uw);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=Tw.useId();return Tw.useMemo(()=>{for(let n of[null==Vw?void 0:Vw.current,e,null==e?void 0:e.alternate]){if(!n)continue;let e=jw(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[r]=Tw.useState(()=>new Map);r.clear();let i=n;for(;i;){let n=null==(e=i.type)?void 0:e._context;n&&n!==Uw&&!r.has(n)&&r.set(n,null==(t=null==Hw?void 0:Hw.current)?void 0:t.readContext(Fw(n))),i=i.return}return r}function Gw(){let e=Ww();return Tw.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>{return Tw.createElement(t,null,Tw.createElement(n.Provider,(i=Nw({},r),a={value:e.get(n)},Iw(i,Rw(a)))));var i,a},e=>Tw.createElement(Bw,Nw({},e))),[e])}Lg(Bg()),Lg(Gg()),Lg(Hg());var qw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xw(e){let{handlePointer:t}=Yb(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(qw).reduce((e,n)=>Ig(Ag({},e),{[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;let{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r(e=>({events:Ig(Ag({},e.events),{connected:t})})),Object.entries(null!=(n=i.handlers)?n:[]).forEach(([e,n])=>{let[r,i]=qw[e];t.addEventListener(r,n,{passive:i})})},disconnect:()=>{let{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,t])=>{if(n&&n.connected instanceof HTMLElement){let[r]=qw[e];n.connected.removeEventListener(r,t)}}),t(e=>({events:Ig(Ag({},e.events),{connected:void 0})})))}}}var Yw=_w.forwardRef(function(e,t){var n=e,{children:r,fallback:i,resize:a,style:o,gl:s,events:l=Xw,eventSource:u,eventPrefix:c,shadows:d,linear:f,flat:h,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:b,camera:w,onPointerMissed:x,onCreated:_}=n,S=Rg(n,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);_w.useMemo(()=>{return e=fh,void Object.assign(wb,e);var e},[]);let E=Gw(),[k,C]=kw(Ag({scroll:!0,debounce:{scroll:50,resize:0}},a)),M=_w.useRef(null),P=_w.useRef(null);_w.useImperativeHandle(t,()=>M.current);let T=Mb(x),[A,I]=_w.useState(!1),[R,O]=_w.useState(!1);if(A)throw A;if(R)throw R;let D=_w.useRef(null);return Cb(()=>{let e=M.current;C.width>0&&C.height>0&&e&&(D.current||(D.current=vw(e)),D.current.configure({gl:s,events:l,shadows:d,linear:f,flat:h,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:b,camera:w,size:C,onPointerMissed:(...e)=>null==T.current?void 0:T.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(u?(t=u)&&t.hasOwnProperty("current")?u.current:u:P.current),c&&e.setEvents({compute:(e,t)=>{let n=e[c+"X"],r=e[c+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==_||_(e)}}),D.current.render(_w.createElement(E,null,_w.createElement(Tb,{set:O},_w.createElement(_w.Suspense,{fallback:_w.createElement(Pb,{set:I})},r)))))}),_w.useEffect(()=>{let e=M.current;if(e)return()=>bw(e)},[]),_w.createElement("div",xw({ref:P,style:Ag({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:u?"none":"auto"},o)},S),_w.createElement("div",{ref:k,style:{width:"100%",height:"100%"}},_w.createElement("canvas",{ref:M,style:{display:"block"}},i)))}),Kw=_w.forwardRef(function(e,t){return _w.createElement(Bw,null,_w.createElement(Yw,xw({},e,{ref:t})))}),$w=Lg(Xg()),Zw=Lg(ib()),Qw=Lg(Fg()),Jw=Lg(Fg());function ex(){return ex=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ex.apply(this,arguments)}var tx=Lg(Fg()),nx=Lg(ab()),rx=new En,ix=new En,ax=new En;function ox(e,t,n){let r=rx.setFromMatrixPosition(e.matrixWorld);r.project(t);let i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}var sx=e=>Math.abs(e)<1e-10?0:e;function lx(e,t,n=""){let r="matrix3d(";for(let n=0;16!==n;n++)r+=sx(t[n]*e.elements[n])+(15!==n?",":")");return n+r}var ux,cx=(ux=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>lx(e,ux)),dx=(e,t)=>{return lx(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};var fx=tx.forwardRef((e,t)=>{var n=e,{children:r,eps:i=.001,style:a,className:o,prepend:s,center:l,fullscreen:u,portal:c,distanceFactor:d,sprite:f=!1,transform:h=!1,occlude:p,onOcclude:m,castShadow:g,receiveShadow:v,material:y,geometry:b,zIndexRange:w=[16777271,0],calculatePosition:x=ox,as:_="div",wrapperClass:S,pointerEvents:E="auto"}=n,k=Rg(n,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"]);let{gl:C,camera:M,scene:P,size:T,raycaster:A,events:I,viewport:R}=lw(),[O]=tx.useState(()=>document.createElement(_)),D=tx.useRef(),z=tx.useRef(null),L=tx.useRef(0),N=tx.useRef([0,0]),j=tx.useRef(null),F=tx.useRef(null),U=(null==c?void 0:c.current)||I.connected||C.domElement.parentNode,B=tx.useRef(null),V=tx.useRef(!1),H=tx.useMemo(()=>p&&"blending"!==p||Array.isArray(p)&&p.length&&function(e){return e&&"object"==typeof e&&"current"in e}(p[0]),[p]);tx.useLayoutEffect(()=>{let e=C.domElement;p&&"blending"===p?(e.style.zIndex=`${Math.floor(w[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[p]),tx.useLayoutEffect(()=>{if(z.current){let e=D.current=nx.createRoot(O);if(P.updateMatrixWorld(),h)O.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=x(z.current,M,T);O.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return U&&(s?U.prepend(O):U.appendChild(O)),()=>{U&&U.removeChild(O),e.unmount()}}},[U,h]),tx.useLayoutEffect(()=>{S&&(O.className=S)},[S]);let W=tx.useMemo(()=>h?{position:"absolute",top:0,left:0,width:T.width,height:T.height,transformStyle:"preserve-3d",pointerEvents:"none"}:Ag(Ag({position:"absolute",transform:l?"translate3d(-50%,-50%,0)":"none"},u&&{top:-T.height/2,left:-T.width/2,width:T.width,height:T.height}),a),[a,l,u,T,h]),G=tx.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);tx.useLayoutEffect(()=>{var e,n;(V.current=!1,h)?null==(e=D.current)||e.render(tx.createElement("div",{ref:j,style:W},tx.createElement("div",{ref:F,style:G},tx.createElement("div",{ref:t,className:o,style:a,children:r})))):null==(n=D.current)||n.render(tx.createElement("div",{ref:t,style:W,className:o,children:r}))});let q=tx.useRef(!0);uw(e=>{if(z.current){M.updateMatrixWorld(),z.current.updateWorldMatrix(!0,!1);let e=h?N.current:x(z.current,M,T);if(h||Math.abs(L.current-M.zoom)>i||Math.abs(N.current[0]-e[0])>i||Math.abs(N.current[1]-e[1])>i){let t=function(e,t){let n=rx.setFromMatrixPosition(e.matrixWorld),r=ix.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(ax);return i.angleTo(a)>Math.PI/2}(z.current,M),n=!1;H&&("blending"!==p?n=[P]:Array.isArray(p)&&(n=p.map(e=>e.current)));let r=q.current;if(n){let e=function(e,t,n,r){let i=rx.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);let o=n.intersectObjects(r,!0);if(o.length){let e=o[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(z.current,M,A,n);q.current=e&&!t}else q.current=!t;r!==q.current&&(m?m(!q.current):O.style.display=q.current?"block":"none");let i=Math.floor(w[0]/2),a=p?H?[w[0],i]:[i-1,0]:w;if(O.style.zIndex=`${function(e,t,n){if(t instanceof Fi||t instanceof iu){let r=rx.setFromMatrixPosition(e.matrixWorld),i=ix.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(z.current,M,a)}`,h){let[e,t]=[T.width/2,T.height/2],n=M.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:a,bottom:o,right:s}=M,l=cx(M.matrixWorldInverse),u=r?`scale(${n})translate(${sx(-(s+a)/2)}px,${sx((i+o)/2)}px)`:`translateZ(${n}px)`,c=z.current.matrixWorld;f&&(c=M.matrixWorldInverse.clone().transpose().copyPosition(c).scale(z.current.scale),c.elements[3]=c.elements[7]=c.elements[11]=0,c.elements[15]=1),O.style.width=T.width+"px",O.style.height=T.height+"px",O.style.perspective=r?"":`${n}px`,j.current&&F.current&&(j.current.style.transform=`${u}${l}translate(${e}px,${t}px)`,F.current.style.transform=dx(c,1/((d||10)/400)))}else{let t=void 0===d?1:function(e,t){if(t instanceof iu)return t.zoom;if(t instanceof Fi){let n=rx.setFromMatrixPosition(e.matrixWorld),r=ix.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(z.current,M)*d;O.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}N.current=e,L.current=M.zoom}}if(!H&&B.current&&!V.current)if(h){if(j.current){let e=j.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=M;if(t||b)k.scale&&(Array.isArray(k.scale)?k.scale instanceof En?B.current.scale.copy(k.scale.clone().divideScalar(1)):B.current.scale.set(1/k.scale[0],1/k.scale[1],1/k.scale[2]):B.current.scale.setScalar(1/k.scale));else{let t=(d||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;B.current.scale.set(n,r,1)}V.current=!0}}}else{let t=O.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/R.factor,n=t.clientWidth*e,r=t.clientHeight*e;B.current.scale.set(n,r,1),V.current=!0}B.current.lookAt(e.camera.position)}});let X=tx.useMemo(()=>({vertexShader:h?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}),[h]);return tx.createElement("group",ex({},k,{ref:z}),p&&!H&&tx.createElement("mesh",{castShadow:g,receiveShadow:v,ref:B},b||tx.createElement("planeGeometry",null),y||tx.createElement("shaderMaterial",{side:2,vertexShader:X.vertexShader,fragmentShader:X.fragmentShader})))});var hx=function(e){return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})}},px=Object.defineProperty,mx=(e,t,n)=>(((e,t,n)=>{t in e?px(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),gx=class extends Mr{constructor(e,t){super(),mx(this,"isTransformControls",!0),mx(this,"visible",!1),mx(this,"domElement"),mx(this,"raycaster",new Yu),mx(this,"gizmo"),mx(this,"plane"),mx(this,"tempVector",new En),mx(this,"tempVector2",new En),mx(this,"tempQuaternion",new Sn),mx(this,"unit",{X:new En(1,0,0),Y:new En(0,1,0),Z:new En(0,0,1)}),mx(this,"pointStart",new En),mx(this,"pointEnd",new En),mx(this,"offset",new En),mx(this,"rotationAxis",new En),mx(this,"startNorm",new En),mx(this,"endNorm",new En),mx(this,"rotationAngle",0),mx(this,"cameraPosition",new En),mx(this,"cameraQuaternion",new Sn),mx(this,"cameraScale",new En),mx(this,"parentPosition",new En),mx(this,"parentQuaternion",new Sn),mx(this,"parentQuaternionInv",new Sn),mx(this,"parentScale",new En),mx(this,"worldPositionStart",new En),mx(this,"worldQuaternionStart",new Sn),mx(this,"worldScaleStart",new En),mx(this,"worldPosition",new En),mx(this,"worldQuaternion",new Sn),mx(this,"worldQuaternionInv",new Sn),mx(this,"worldScale",new En),mx(this,"eye",new En),mx(this,"positionStart",new En),mx(this,"quaternionStart",new Sn),mx(this,"scaleStart",new En),mx(this,"camera"),mx(this,"object"),mx(this,"enabled",!0),mx(this,"axis",null),mx(this,"mode","translate"),mx(this,"translationSnap",null),mx(this,"rotationSnap",null),mx(this,"scaleSnap",null),mx(this,"space","world"),mx(this,"size",1),mx(this,"dragging",!1),mx(this,"showX",!0),mx(this,"showY",!0),mx(this,"showZ",!0),mx(this,"changeEvent",{type:"change"}),mx(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),mx(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),mx(this,"objectChangeEvent",{type:"objectChange"}),mx(this,"intersectObjectWithRay",(e,t,n)=>{let r=t.intersectObject(e,!0);for(let e=0;e<r.length;e++)if(r[e].object.visible||n)return r[e];return!1}),mx(this,"attach",e=>(this.object=e,this.visible=!0,this)),mx(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),mx(this,"reset",()=>this.enabled?(this.dragging&&void 0!==this.object&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this),mx(this,"updateMatrixWorld",()=>{void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent||this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),mx(this,"pointerHover",e=>{if(void 0===this.object||!0===this.dragging)return;this.raycaster.setFromCamera(e,this.camera);let t=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);this.axis=t?t.object.name:null}),mx(this,"pointerDown",e=>{if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){this.raycaster.setFromCamera(e,this.camera);let t=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(t){let e=this.space;if("scale"===this.mode?e="local":("E"===this.axis||"XYZE"===this.axis||"XYZ"===this.axis)&&(e="world"),"local"===e&&"rotate"===this.mode){let e=this.rotationSnap;"X"===this.axis&&e&&(this.object.rotation.x=Math.round(this.object.rotation.x/e)*e),"Y"===this.axis&&e&&(this.object.rotation.y=Math.round(this.object.rotation.y/e)*e),"Z"===this.axis&&e&&(this.object.rotation.z=Math.round(this.object.rotation.z/e)*e)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),mx(this,"pointerMove",e=>{let t=this.axis,n=this.mode,r=this.object,i=this.space;if("scale"===n?i="local":("E"===t||"XYZE"===t||"XYZ"===t)&&(i="world"),void 0===r||null===t||!1===this.dragging||-1!==e.button)return;this.raycaster.setFromCamera(e,this.camera);let a=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),"translate"===n)this.offset.copy(this.pointEnd).sub(this.pointStart),"local"===i&&"XYZ"!==t&&this.offset.applyQuaternion(this.worldQuaternionInv),-1===t.indexOf("X")&&(this.offset.x=0),-1===t.indexOf("Y")&&(this.offset.y=0),-1===t.indexOf("Z")&&(this.offset.z=0),"local"===i&&"XYZ"!==t?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),r.position.copy(this.offset).add(this.positionStart),this.translationSnap&&("local"===i&&(r.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this.quaternionStart)),"world"===i&&(r.parent&&r.position.add(this.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(this.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),this.tempVector2.set(e,e,e)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),-1===t.search("X")&&(this.tempVector2.x=1),-1===t.search("Y")&&(this.tempVector2.y=1),-1===t.search("Z")&&(this.tempVector2.z=1);r.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(-1!==t.search("X")&&(this.object.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){this.offset.copy(this.pointEnd).sub(this.pointStart);let e=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*e):("X"===t||"Y"===t||"Z"===t)&&(this.rotationAxis.copy(this.unit[t]),this.tempVector.copy(this.unit[t]),"local"===i&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*e),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(this.quaternionStart),r.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),r.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),mx(this,"pointerUp",e=>{0===e.button&&(this.dragging&&null!==this.axis&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),mx(this,"getPointer",e=>{var t,n;if(this.domElement&&null!=(t=this.domElement.ownerDocument)&&t.pointerLockElement)return{x:0,y:0,button:e.button};{let t=e.changedTouches?e.changedTouches[0]:e,r=null==(n=this.domElement)?void 0:n.getBoundingClientRect();return{x:(t.clientX-r.left)/r.width*2-1,y:-(t.clientY-r.top)/r.height*2+1,button:e.button}}}),mx(this,"onPointerHover",e=>{if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(e))}}),mx(this,"onPointerDown",e=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(e)),this.pointerDown(this.getPointer(e)))}),mx(this,"onPointerMove",e=>{this.enabled&&this.pointerMove(this.getPointer(e))}),mx(this,"onPointerUp",e=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(e)))}),mx(this,"getMode",()=>this.mode),mx(this,"setMode",e=>{this.mode=e}),mx(this,"setTranslationSnap",e=>{this.translationSnap=e}),mx(this,"setRotationSnap",e=>{this.rotationSnap=e}),mx(this,"setScaleSnap",e=>{this.scaleSnap=e}),mx(this,"setSize",e=>{this.size=e}),mx(this,"setSpace",e=>{this.space=e}),mx(this,"update",()=>{}),mx(this,"connect",e=>{document,this.domElement=e,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}),mx(this,"dispose",()=>{var e,t,n,r,i,a;null==(e=this.domElement)||e.removeEventListener("pointerdown",this.onPointerDown),null==(t=this.domElement)||t.removeEventListener("pointermove",this.onPointerHover),null==(r=null==(n=this.domElement)?void 0:n.ownerDocument)||r.removeEventListener("pointermove",this.onPointerMove),null==(a=null==(i=this.domElement)?void 0:i.ownerDocument)||a.removeEventListener("pointerup",this.onPointerUp),this.traverse(e=>{let t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}),this.domElement=t,this.camera=e,this.gizmo=new vx,this.add(this.gizmo),this.plane=new yx,this.add(this.plane);let n=(e,t)=>{let n=t;Object.defineProperty(this,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),this[e]=t,this.plane[e]=t,this.gizmo[e]=t};n("camera",this.camera),n("object",this.object),n("enabled",this.enabled),n("axis",this.axis),n("mode",this.mode),n("translationSnap",this.translationSnap),n("rotationSnap",this.rotationSnap),n("scaleSnap",this.scaleSnap),n("space",this.space),n("size",this.size),n("dragging",this.dragging),n("showX",this.showX),n("showY",this.showY),n("showZ",this.showZ),n("worldPosition",this.worldPosition),n("worldPositionStart",this.worldPositionStart),n("worldQuaternion",this.worldQuaternion),n("worldQuaternionStart",this.worldQuaternionStart),n("cameraPosition",this.cameraPosition),n("cameraQuaternion",this.cameraQuaternion),n("pointStart",this.pointStart),n("pointEnd",this.pointEnd),n("rotationAxis",this.rotationAxis),n("rotationAngle",this.rotationAngle),n("eye",this.eye),void 0!==t&&this.connect(t)}},vx=class extends Mr{constructor(){super(),mx(this,"isTransformControlsGizmo",!0),mx(this,"type","TransformControlsGizmo"),mx(this,"tempVector",new En(0,0,0)),mx(this,"tempEuler",new cr),mx(this,"alignVector",new En(0,1,0)),mx(this,"zeroVector",new En(0,0,0)),mx(this,"lookAtMatrix",new er),mx(this,"tempQuaternion",new Sn),mx(this,"tempQuaternion2",new Sn),mx(this,"identityQuaternion",new Sn),mx(this,"unitX",new En(1,0,0)),mx(this,"unitY",new En(0,1,0)),mx(this,"unitZ",new En(0,0,1)),mx(this,"gizmo"),mx(this,"picker"),mx(this,"helper"),mx(this,"rotationAxis",new En),mx(this,"cameraPosition",new En),mx(this,"worldPositionStart",new En),mx(this,"worldQuaternionStart",new Sn),mx(this,"worldPosition",new En),mx(this,"worldQuaternion",new Sn),mx(this,"eye",new En),mx(this,"camera",null),mx(this,"enabled",!0),mx(this,"axis",null),mx(this,"mode","translate"),mx(this,"space","world"),mx(this,"size",1),mx(this,"dragging",!1),mx(this,"showX",!0),mx(this,"showY",!0),mx(this,"showZ",!0),mx(this,"updateMatrixWorld",()=>{let e=this.space;"scale"===this.mode&&(e="local");let t="local"===e?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let e=0;e<n.length;e++){let r,i=n[e];i.visible=!0,i.rotation.set(0,0,0),i.position.copy(this.worldPosition),(r=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),i.scale.set(1,1,1).multiplyScalar(r*this.size/7),"helper"!==i.tag)?(i.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode?(("X"===i.name||"XYZX"===i.name)&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),("Y"===i.name||"XYZY"===i.name)&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),("Z"===i.name||"XYZZ"===i.name)&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XY"===i.name&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"YZ"===i.name&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XZ"===i.name&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),-1!==i.name.search("X")&&(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.x*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Y")&&(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.y*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Z")&&(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.z*=-1:"bwd"===i.tag&&(i.visible=!1))):"rotate"===this.mode&&(this.tempQuaternion2.copy(t),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(t).invert()),-1!==i.name.search("E")&&i.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),"X"===i.name&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),i.quaternion.copy(this.tempQuaternion)),"Y"===i.name&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),i.quaternion.copy(this.tempQuaternion)),"Z"===i.name&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),i.quaternion.copy(this.tempQuaternion))),i.visible=i.visible&&(-1===i.name.indexOf("X")||this.showX),i.visible=i.visible&&(-1===i.name.indexOf("Y")||this.showY),i.visible=i.visible&&(-1===i.name.indexOf("Z")||this.showZ),i.visible=i.visible&&(-1===i.name.indexOf("E")||this.showX&&this.showY&&this.showZ),i.material.tempOpacity=i.material.tempOpacity||i.material.opacity,i.material.tempColor=i.material.tempColor||i.material.color.clone(),i.material.color.copy(i.material.tempColor),i.material.opacity=i.material.tempOpacity,this.enabled?this.axis&&(i.name===this.axis||this.axis.split("").some(function(e){return i.name===e})?(i.material.opacity=1,i.material.color.lerp(new qr(1,1,1),.5)):(i.material.opacity*=.25,i.material.color.lerp(new qr(1,1,1),.5))):(i.material.opacity*=.5,i.material.color.lerp(new qr(1,1,1),.5))):(i.visible=!1,"AXIS"===i.name?(i.position.copy(this.worldPositionStart),i.visible=!!this.axis,"X"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),i.quaternion.copy(t).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Y"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),i.quaternion.copy(t).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Z"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),i.quaternion.copy(t).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"XYZE"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),i.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),i.quaternion.multiply(this.tempQuaternion),i.visible=this.dragging),"E"===this.axis&&(i.visible=!1)):"START"===i.name?(i.position.copy(this.worldPositionStart),i.visible=this.dragging):"END"===i.name?(i.position.copy(this.worldPosition),i.visible=this.dragging):"DELTA"===i.name?(i.position.copy(this.worldPositionStart),i.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),i.scale.copy(this.tempVector),i.visible=this.dragging):(i.quaternion.copy(t),this.dragging?i.position.copy(this.worldPositionStart):i.position.copy(this.worldPosition),this.axis&&(i.visible=-1!==this.axis.search(i.name))))}super.updateMatrixWorld()});let e=new $r({depthTest:!1,depthWrite:!1,transparent:!0,side:2,fog:!1,toneMapped:!1}),t=new co({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;let r=e.clone();r.opacity=.33;let i=e.clone();i.color.set(16711680);let a=e.clone();a.color.set(65280);let o=e.clone();o.color.set(255);let s=e.clone();s.opacity=.25;let l=s.clone();l.color.set(16776960);let u=s.clone();u.color.set(65535);let c=s.clone();c.color.set(16711935),e.clone().color.set(16776960);let d=t.clone();d.color.set(16711680);let f=t.clone();f.color.set(65280);let h=t.clone();h.color.set(255);let p=t.clone();p.color.set(65535);let m=t.clone();m.color.set(16711935);let g=t.clone();g.color.set(16776960);let v=t.clone();v.color.set(7895160);let y=g.clone();y.opacity=.25;let b=new os(0,.05,.2,12,1,!1),w=new Ti(.125,.125,.125),x=new mi;x.setAttribute("position",new si([0,0,0,1,0,0],3));let _=(e,t)=>{let n=new mi,r=[];for(let n=0;n<=64*t;++n)r.push(0,Math.cos(n/32*Math.PI)*e,Math.sin(n/32*Math.PI)*e);return n.setAttribute("position",new si(r,3)),n},S={X:[[new Mi(b,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Mi(b,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new bo(x,d)]],Y:[[new Mi(b,a),[0,1,0],null,null,"fwd"],[new Mi(b,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new bo(x,f),null,[0,0,Math.PI/2]]],Z:[[new Mi(b,o),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Mi(b,o),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new bo(x,h),null,[0,-Math.PI/2,0]]],XYZ:[[new Mi(new Xs(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new Mi(new Ys(.295,.295),l.clone()),[.15,.15,0]],[new bo(x,g),[.18,.3,0],null,[.125,1,1]],[new bo(x,g),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Mi(new Ys(.295,.295),u.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new bo(x,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new bo(x,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Mi(new Ys(.295,.295),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new bo(x,m),[.18,0,.3],null,[.125,1,1]],[new bo(x,m),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},E={X:[[new Mi(new os(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Mi(new os(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new Mi(new os(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Mi(new Xs(.2,0),n)]],XY:[[new Mi(new Ys(.4,.4),n),[.2,.2,0]]],YZ:[[new Mi(new Ys(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Mi(new Ys(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},k={START:[[new Mi(new Xs(.01,2),r),null,null,null,"helper"]],END:[[new Mi(new Xs(.01,2),r),null,null,null,"helper"]],DELTA:[[new bo((()=>{let e=new mi;return e.setAttribute("position",new si([0,0,0,1,1,1],3)),e})(),r),null,null,null,"helper"]],X:[[new bo(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new bo(x,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new bo(x,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},C={X:[[new bo(_(1,.5),d)],[new Mi(new Xs(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new bo(_(1,.5),f),null,[0,0,-Math.PI/2]],[new Mi(new Xs(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new bo(_(1,.5),h),null,[0,Math.PI/2,0]],[new Mi(new Xs(.04,0),o),[.99,0,0],null,[1,3,1]]],E:[[new bo(_(1.25,1),y),null,[0,Math.PI/2,0]],[new Mi(new os(.03,0,.15,4,1,!1),y),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Mi(new os(.03,0,.15,4,1,!1),y),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Mi(new os(.03,0,.15,4,1,!1),y),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Mi(new os(.03,0,.15,4,1,!1),y),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new bo(_(1,1),v),null,[0,Math.PI/2,0]]]},M={AXIS:[[new bo(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},P={X:[[new Mi(new Js(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Mi(new Js(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Mi(new Js(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Mi(new Js(1.25,.1,2,24),n)]],XYZE:[[new Mi(new Zs(.7,10,8),n)]]},T={X:[[new Mi(w,i),[.8,0,0],[0,0,-Math.PI/2]],[new bo(x,d),null,null,[.8,1,1]]],Y:[[new Mi(w,a),[0,.8,0]],[new bo(x,f),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Mi(w,o),[0,0,.8],[Math.PI/2,0,0]],[new bo(x,h),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Mi(w,l),[.85,.85,0],null,[2,2,.2]],[new bo(x,g),[.855,.98,0],null,[.125,1,1]],[new bo(x,g),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Mi(w,u),[0,.85,.85],null,[.2,2,2]],[new bo(x,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new bo(x,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Mi(w,c),[.85,0,.85],null,[2,.2,2]],[new bo(x,m),[.855,0,.98],null,[.125,1,1]],[new bo(x,m),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Mi(new Ti(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new Mi(new Ti(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new Mi(new Ti(.125,.125,.125),s.clone()),[0,0,1.1]]]},A={X:[[new Mi(new os(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Mi(new os(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new Mi(new os(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Mi(w,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Mi(w,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Mi(w,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Mi(new Ti(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new Mi(new Ti(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new Mi(new Ti(.2,.2,.2),n),[0,0,1.1]]]},I={X:[[new bo(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new bo(x,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new bo(x,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},R=e=>{let t=new Mr;for(let n in e)for(let r=e[n].length;r--;){let i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],l=e[n][r][4];i.name=n,i.tag=l,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();let u=i.geometry.clone();u.applyMatrix4(i.matrix),i.geometry=u,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=R(S)),this.add(this.gizmo.rotate=R(C)),this.add(this.gizmo.scale=R(T)),this.add(this.picker.translate=R(E)),this.add(this.picker.rotate=R(P)),this.add(this.picker.scale=R(A)),this.add(this.helper.translate=R(k)),this.add(this.helper.rotate=R(M)),this.add(this.helper.scale=R(I)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}},yx=class extends Mi{constructor(){super(new Ys(1e5,1e5,2,2),new $r({visible:!1,wireframe:!0,side:2,transparent:!0,opacity:.1,toneMapped:!1})),mx(this,"isTransformControlsPlane",!0),mx(this,"type","TransformControlsPlane"),mx(this,"unitX",new En(1,0,0)),mx(this,"unitY",new En(0,1,0)),mx(this,"unitZ",new En(0,0,1)),mx(this,"tempVector",new En),mx(this,"dirVector",new En),mx(this,"alignVector",new En),mx(this,"tempMatrix",new er),mx(this,"identityQuaternion",new Sn),mx(this,"cameraQuaternion",new Sn),mx(this,"worldPosition",new En),mx(this,"worldQuaternion",new Sn),mx(this,"eye",new En),mx(this,"axis",null),mx(this,"mode","translate"),mx(this,"space","world"),mx(this,"updateMatrixWorld",()=>{let e=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(e="local"),this.unitX.set(1,0,0).applyQuaternion("local"===e?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion("local"===e?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion("local"===e?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0)}break;default:this.dirVector.set(0,0,0)}0===this.dirVector.length()?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}},bx=Lg(Fg());var wx=Lg(Fg()),xx=wx.forwardRef((e,t)=>{var n=e,{envMap:r,resolution:i=256,frames:a=1/0,makeDefault:o,children:s}=n,l=Rg(n,["envMap","resolution","frames","makeDefault","children"]);let u=lw(({set:e})=>e),c=lw(({camera:e})=>e),d=lw(({size:e})=>e),f=wx.useRef(null),h=wx.useRef(null),p=function(e,t,n){let r=lw(e=>e.size),i=lw(e=>e.viewport),a="number"==typeof e?e:r.width*i.dpr,o="number"==typeof t?t:r.height*i.dpr,s=("number"==typeof e?n:e)||{},{samples:l=0,depth:u}=s,c=Rg(s,["samples","depth"]),d=bx.useMemo(()=>{let e=new wn(a,o,Ag({minFilter:ae,magFilter:ae,type:me},c));return u&&(e.depthTexture=new Do(a,o,pe)),e.samples=l,e},[]);return bx.useLayoutEffect(()=>{d.setSize(a,o),l&&(d.samples=l)},[l,d,a,o]),bx.useEffect(()=>()=>d.dispose(),[]),d}(i);wx.useLayoutEffect(()=>{l.manual||(f.current.aspect=d.width/d.height)},[d,l]),wx.useLayoutEffect(()=>{f.current.updateProjectionMatrix()});let m=0,g=null,v="function"==typeof s;return uw(e=>{v&&(a===1/0||m<a)&&(h.current.visible=!1,e.gl.setRenderTarget(p),g=e.scene.background,r&&(e.scene.background=r),e.gl.render(e.scene,f.current),e.scene.background=g,e.gl.setRenderTarget(null),h.current.visible=!0,m++)}),wx.useLayoutEffect(()=>{if(o){let e=c;return u(()=>({camera:f.current})),()=>u(()=>({camera:e}))}},[f,o,u]),wx.createElement(wx.Fragment,null,wx.createElement("perspectiveCamera",ex({ref:hx([f,t])},l),!v&&s),wx.createElement("group",{ref:h},v&&s(p.texture)))}),_x=Lg(Fg());var Sx=function(e,t){let n=e+"Geometry";return _x.forwardRef((e,r)=>{var i=e,{args:a,children:o}=i,s=Rg(i,["args","children"]);let l=_x.useRef(null);return _x.useImperativeHandle(r,()=>l.current),_x.useLayoutEffect(()=>{null==t||t(l.current)}),_x.createElement("mesh",ex({ref:l},s),_x.createElement(n,{attach:"geometry",args:a}),o)})}("sphere"),Ex=Lg(Xg()),kx=Lg(Fg());function Cx(){let[e,t]=(0,kx.useState)(void 0);return(0,kx.useRef)(e).current=e,(0,kx.useLayoutEffect)(()=>{let e=e=>{let n=e.find(e=>"Theatre_SheetObject_PublicAPI"===e.type&&$m.has(e));t(n?hg(n.address):void 0)};return e(Dm.selection),Dm.onSelectionChange(e)},[]),e}var Mx="object"==typeof global&&global&&global.Object===Object&&global,Px="object"==typeof self&&self&&self.Object===Object&&self,Tx=Mx||Px||Function("return this")(),Ax=Tx.Symbol,Ix=Object.prototype,Rx=Ix.hasOwnProperty,Ox=Ix.toString,Dx=Ax?Ax.toStringTag:void 0;var zx=function(e){var t=Rx.call(e,Dx),n=e[Dx];try{e[Dx]=void 0;var r=!0}catch(e){}var i=Ox.call(e);return r&&(t?e[Dx]=n:delete e[Dx]),i},Lx=Object.prototype.toString;var Nx=function(e){return Lx.call(e)},jx=Ax?Ax.toStringTag:void 0;var Fx=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jx&&jx in Object(e)?zx(e):Nx(e)};var Ux=function(e){return null!=e&&"object"==typeof e};var Bx=function(e){return"symbol"==typeof e||Ux(e)&&"[object Symbol]"==Fx(e)};var Vx=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Hx=Array.isArray,Wx=Ax?Ax.prototype:void 0,Gx=Wx?Wx.toString:void 0;var qx=function e(t){if("string"==typeof t)return t;if(Hx(t))return Vx(t,e)+"";if(Bx(t))return Gx?Gx.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Xx=/\s/;var Yx=function(e){for(var t=e.length;t--&&Xx.test(e.charAt(t)););return t},Kx=/^\s+/;var $x=function(e){return e&&e.slice(0,Yx(e)+1).replace(Kx,"")};var Zx=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Qx=/^[-+]0x[0-9a-f]+$/i,Jx=/^0b[01]+$/i,e_=/^0o[0-7]+$/i,t_=parseInt;var n_=function(e){if("number"==typeof e)return e;if(Bx(e))return NaN;if(Zx(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zx(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$x(e);var n=Jx.test(e);return n||e_.test(e)?t_(e.slice(2),n?2:8):Qx.test(e)?NaN:+e},r_=1/0;var i_=function(e){return e?(e=n_(e))===r_||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var a_=function(e){var t=i_(e),n=t%1;return t==t?n?t-n:t:0};var o_=function(e){return e};var s_,l_=function(e){if(!Zx(e))return!1;var t=Fx(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},u_=Tx["__core-js_shared__"],c_=(s_=/[^.]+$/.exec(u_&&u_.keys&&u_.keys.IE_PROTO||""))?"Symbol(src)_1."+s_:"";var d_=function(e){return!!c_&&c_ in e},f_=Function.prototype.toString;var h_=function(e){if(null!=e){try{return f_.call(e)}catch(e){}try{return e+""}catch(e){}}return""},p_=/^\[object .+?Constructor\]$/,m_=Function.prototype,g_=Object.prototype,v_=m_.toString,y_=g_.hasOwnProperty,b_=RegExp("^"+v_.call(y_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var w_=function(e){return!(!Zx(e)||d_(e))&&(l_(e)?b_:p_).test(h_(e))};var x_=function(e,t){return null==e?void 0:e[t]};var __=function(e,t){var n=x_(e,t);return w_(n)?n:void 0},S_=__(Tx,"WeakMap");var E_=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1},k_=/^(?:0|[1-9]\d*)$/;var C_=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&k_.test(e))&&e>-1&&e%1==0&&e<t};var M_=function(e,t){return e===t||e!=e&&t!=t};var P_=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var T_=function(e){return null!=e&&P_(e.length)&&!l_(e)},A_=Object.prototype;var I_=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A_)};var R_=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var O_=function(e){return Ux(e)&&"[object Arguments]"==Fx(e)},D_=Object.prototype,z_=D_.hasOwnProperty,L_=D_.propertyIsEnumerable,N_=O_(function(){return arguments}())?O_:function(e){return Ux(e)&&z_.call(e,"callee")&&!L_.call(e,"callee")};var j_=function(){return!1},F_="object"==typeof exports&&exports&&!exports.nodeType&&exports,U_=F_&&"object"==typeof module&&module&&!module.nodeType&&module,B_=U_&&U_.exports===F_?Tx.Buffer:void 0,V_=(B_?B_.isBuffer:void 0)||j_,H_={};H_["[object Float32Array]"]=H_["[object Float64Array]"]=H_["[object Int8Array]"]=H_["[object Int16Array]"]=H_["[object Int32Array]"]=H_["[object Uint8Array]"]=H_["[object Uint8ClampedArray]"]=H_["[object Uint16Array]"]=H_["[object Uint32Array]"]=!0,H_["[object Arguments]"]=H_["[object Array]"]=H_["[object ArrayBuffer]"]=H_["[object Boolean]"]=H_["[object DataView]"]=H_["[object Date]"]=H_["[object Error]"]=H_["[object Function]"]=H_["[object Map]"]=H_["[object Number]"]=H_["[object Object]"]=H_["[object RegExp]"]=H_["[object Set]"]=H_["[object String]"]=H_["[object WeakMap]"]=!1;var W_=function(e){return Ux(e)&&P_(e.length)&&!!H_[Fx(e)]};var G_=function(e){return function(t){return e(t)}},q_="object"==typeof exports&&exports&&!exports.nodeType&&exports,X_=q_&&"object"==typeof module&&module&&!module.nodeType&&module,Y_=X_&&X_.exports===q_&&Mx.process,K_=function(){try{return X_&&X_.require&&X_.require("util").types||Y_&&Y_.binding&&Y_.binding("util")}catch(e){}}(),$_=K_&&K_.isTypedArray,Z_=$_?G_($_):W_,Q_=Object.prototype.hasOwnProperty;var J_=function(e,t){var n=Hx(e),r=!n&&N_(e),i=!n&&!r&&V_(e),a=!n&&!r&&!i&&Z_(e),o=n||r||i||a,s=o?R_(e.length,String):[],l=s.length;for(var u in e)(t||Q_.call(e,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||C_(u,l)))&&s.push(u);return s};var eS=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),tS=Object.prototype.hasOwnProperty;var nS=function(e){if(!I_(e))return eS(e);var t=[];for(var n in Object(e))tS.call(e,n)&&"constructor"!=n&&t.push(n);return t};var rS=function(e){return T_(e)?J_(e):nS(e)},iS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aS=/^\w*$/;var oS=function(e,t){if(Hx(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bx(e))||(aS.test(e)||!iS.test(e)||null!=t&&e in Object(t))},sS=__(Object,"create");var lS=function(){this.__data__=sS?sS(null):{},this.size=0};var uS=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},cS=Object.prototype.hasOwnProperty;var dS=function(e){var t=this.__data__;if(sS){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return cS.call(t,e)?t[e]:void 0},fS=Object.prototype.hasOwnProperty;var hS=function(e){var t=this.__data__;return sS?void 0!==t[e]:fS.call(t,e)};var pS=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sS&&void 0===t?"__lodash_hash_undefined__":t,this};function mS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mS.prototype.clear=lS,mS.prototype.delete=uS,mS.prototype.get=dS,mS.prototype.has=hS,mS.prototype.set=pS;var gS=mS;var vS=function(){this.__data__=[],this.size=0};var yS=function(e,t){for(var n=e.length;n--;)if(M_(e[n][0],t))return n;return-1},bS=Array.prototype.splice;var wS=function(e){var t=this.__data__,n=yS(t,e);return!(n<0)&&(n==t.length-1?t.pop():bS.call(t,n,1),--this.size,!0)};var xS=function(e){var t=this.__data__,n=yS(t,e);return n<0?void 0:t[n][1]};var _S=function(e){return yS(this.__data__,e)>-1};var SS=function(e,t){var n=this.__data__,r=yS(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ES(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ES.prototype.clear=vS,ES.prototype.delete=wS,ES.prototype.get=xS,ES.prototype.has=_S,ES.prototype.set=SS;var kS=ES,CS=__(Tx,"Map");var MS=function(){this.size=0,this.__data__={hash:new gS,map:new(CS||kS),string:new gS}};var PS=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var TS=function(e,t){var n=e.__data__;return PS(t)?n["string"==typeof t?"string":"hash"]:n.map};var AS=function(e){var t=TS(this,e).delete(e);return this.size-=t?1:0,t};var IS=function(e){return TS(this,e).get(e)};var RS=function(e){return TS(this,e).has(e)};var OS=function(e,t){var n=TS(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function DS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}DS.prototype.clear=MS,DS.prototype.delete=AS,DS.prototype.get=IS,DS.prototype.has=RS,DS.prototype.set=OS;var zS=DS;function LS(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(LS.Cache||zS),n}LS.Cache=zS;var NS=LS;var jS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FS=/\\(\\)?/g,US=function(e){var t=NS(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jS,function(e,n,r,i){t.push(r?i.replace(FS,"$1"):n||e)}),t});var BS=function(e){return null==e?"":qx(e)};var VS=function(e,t){return Hx(e)?e:oS(e,t)?[e]:US(BS(e))};var HS=function(e){if("string"==typeof e||Bx(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var WS=function(e,t){for(var n=0,r=(t=VS(t,e)).length;null!=e&&n<r;)e=e[HS(t[n++])];return n&&n==r?e:void 0};var GS=function(e,t,n){var r=null==e?void 0:WS(e,t);return void 0===r?n:r};var qS=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var XS=function(){this.__data__=new kS,this.size=0};var YS=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var KS=function(e){return this.__data__.get(e)};var $S=function(e){return this.__data__.has(e)};var ZS=function(e,t){var n=this.__data__;if(n instanceof kS){var r=n.__data__;if(!CS||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zS(r)}return n.set(e,t),this.size=n.size,this};function QS(e){var t=this.__data__=new kS(e);this.size=t.size}QS.prototype.clear=XS,QS.prototype.delete=YS,QS.prototype.get=KS,QS.prototype.has=$S,QS.prototype.set=ZS;var JS=QS;var eE=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var tE=function(){return[]},nE=Object.prototype.propertyIsEnumerable,rE=Object.getOwnPropertySymbols,iE=rE?function(e){return null==e?[]:(e=Object(e),eE(rE(e),function(t){return nE.call(e,t)}))}:tE;var aE=function(e,t,n){var r=t(e);return Hx(e)?r:qS(r,n(e))};var oE=function(e){return aE(e,rS,iE)},sE=__(Tx,"DataView"),lE=__(Tx,"Promise"),uE=__(Tx,"Set"),cE="[object Map]",dE="[object Promise]",fE="[object Set]",hE="[object WeakMap]",pE="[object DataView]",mE=h_(sE),gE=h_(CS),vE=h_(lE),yE=h_(uE),bE=h_(S_),wE=Fx;(sE&&wE(new sE(new ArrayBuffer(1)))!=pE||CS&&wE(new CS)!=cE||lE&&wE(lE.resolve())!=dE||uE&&wE(new uE)!=fE||S_&&wE(new S_)!=hE)&&(wE=function(e){var t=Fx(e),n="[object Object]"==t?e.constructor:void 0,r=n?h_(n):"";if(r)switch(r){case mE:return pE;case gE:return cE;case vE:return dE;case yE:return fE;case bE:return hE}return t});var xE=wE,_E=Tx.Uint8Array;var SE=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var EE=function(e){return this.__data__.has(e)};function kE(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zS;++t<n;)this.add(e[t])}kE.prototype.add=kE.prototype.push=SE,kE.prototype.has=EE;var CE=kE;var ME=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var PE=function(e,t){return e.has(t)};var TE=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new CE:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!ME(t,function(e,t){if(!PE(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f};var AE=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};var IE=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},RE=Ax?Ax.prototype:void 0,OE=RE?RE.valueOf:void 0;var DE=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new _E(e),new _E(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return M_(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=AE;case"[object Set]":var l=1&r;if(s||(s=IE),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=TE(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(OE)return OE.call(e)==OE.call(t)}return!1},zE=Object.prototype.hasOwnProperty;var LE=function(e,t,n,r,i,a){var o=1&n,s=oE(e),l=s.length;if(l!=oE(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:zE.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=o?r(g,m,c,t,e,a):r(m,g,c,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return a.delete(e),a.delete(t),h},NE="[object Arguments]",jE="[object Array]",FE="[object Object]",UE=Object.prototype.hasOwnProperty;var BE=function(e,t,n,r,i,a){var o=Hx(e),s=Hx(t),l=o?jE:xE(e),u=s?jE:xE(t),c=(l=l==NE?FE:l)==FE,d=(u=u==NE?FE:u)==FE,f=l==u;if(f&&V_(e)){if(!V_(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new JS),o||Z_(e)?TE(e,t,n,r,i,a):DE(e,t,l,n,r,i,a);if(!(1&n)){var h=c&&UE.call(e,"__wrapped__"),p=d&&UE.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new JS),i(m,g,n,r,a)}}return!!f&&(a||(a=new JS),LE(e,t,n,r,i,a))};var VE=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Ux(t)&&!Ux(n)?t!=t&&n!=n:BE(t,n,r,i,e,a))};var HE=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new JS;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?VE(c,u,3,r,d):f))return!1}}return!0};var WE=function(e){return e==e&&!Zx(e)};var GE=function(e){for(var t=rS(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,WE(i)]}return t};var qE=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var XE=function(e){var t=GE(e);return 1==t.length&&t[0][2]?qE(t[0][0],t[0][1]):function(n){return n===e||HE(n,e,t)}};var YE=function(e,t){return null!=e&&t in Object(e)};var KE=function(e,t,n){for(var r=-1,i=(t=VS(t,e)).length,a=!1;++r<i;){var o=HS(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&P_(i)&&C_(o,i)&&(Hx(e)||N_(e))};var $E=function(e,t){return null!=e&&KE(e,t,YE)};var ZE=function(e,t){return oS(e)&&WE(t)?qE(HS(e),t):function(n){var r=GS(n,e);return void 0===r&&r===t?$E(n,e):VE(t,r,3)}};var QE=function(e){return function(t){return null==t?void 0:t[e]}};var JE=function(e){return function(t){return WS(t,e)}};var ek=function(e){return oS(e)?QE(HS(e)):JE(e)};var tk=function(e){return"function"==typeof e?e:null==e?o_:"object"==typeof e?Hx(e)?ZE(e[0],e[1]):XE(e):ek(e)},nk=Math.max;var rk=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:a_(n);return i<0&&(i=nk(r+i,0)),E_(e,tk(t),i)},ik=Lg(ob()),ak=Lg(Fg()),ok=Lg(eb());function sk(e,t,n){let r=(0,ak.useCallback)(e,t),i=(0,ak.useRef)(null);i.current?i.current.set(r):i.current=new yg.Atom(r);let a=(0,ak.useRef)(null);return a.current||(a.current=yg.prism(()=>i.current.prism.getValue()())),function(e){let t=function(){let[,e]=(0,ak.useState)(0);return(0,ak.useCallback)(()=>{e(e=>e+1)},[])}(),n=(0,ak.useRef)(void 0);n.current||(uk++,n.current={order:uk,runUpdate:()=>{n.current.unmounted||t()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{hk(n.current)},untap:e.onStale(()=>{n.current.queueUpdate()})}),(0,ak.useLayoutEffect)(()=>function(){n.current.unmounted=!0,n.current.untap(),mk(n.current)},[]),mk(n.current);let r=n.current.der.getValue();return n.current.lastValue=r,r}(a.current)}var lk=(e,t)=>sk(()=>yg.val(e),[e]),uk=0,ck=[],dk=new Set,fk=!1,hk=e=>{pk(e),fk||(fk=!0,(0,ik.default)(()=>{(0,ok.unstable_batchedUpdates)(function(){for(;ck.length>0;){let e,t=ck.shift();dk.delete(t);try{e=t.der.getValue()}catch(e){t.runUpdate();continue}e!==t.lastValue&&(t.lastValue=e,t.runUpdate())}fk=!1},1)}))},pk=e=>{if(!dk.has(e))if(dk.add(e),0===ck.length)ck.push(e);else{let t=rk(ck,t=>t.order>=e.order);-1===t?ck.push(e):ck[t].order>e.order&&ck.splice(t,0,e)}},mk=e=>{if(!dk.has(e))return;dk.delete(e);let t=rk(ck,t=>t===e);ck.splice(t,1)};var gk,vk,yk={viewport:Mm.types.compound({showAxes:Mm.types.boolean(!0,{label:"Axes"}),showGrid:Mm.types.boolean(!0,{label:"Grid"}),showOverlayIcons:Mm.types.boolean(!1,{label:"Overlay Icons"}),shading:Mm.types.stringLiteral("rendered",{flat:"Flat",rendered:"Rendered",solid:"Solid",wireframe:"Wireframe"},{as:"menu",label:"Shading"}),referenceWindow:Mm.types.stringLiteral("minimized",{maximized:"Maximized",minimized:"Minimized",hidden:"Hidden"},{as:"menu",label:"Reference Window"})},{label:"Viewport Config"}),transformControls:Mm.types.compound({mode:Mm.types.stringLiteral("translate",{translate:"Translate",rotate:"Rotate",scale:"Scale"},{as:"switch",label:"Mode"}),space:Mm.types.stringLiteral("world",{local:"Local",world:"World"},{as:"switch",label:"Space"})},{label:"Transform Controls"})};function bk(){return gk||(gk=Dm.getStudioProject().sheet("R3F UI")),gk}function wk(){return vk||(vk=bk().object("Editor",yk)||null),vk}var xk=Lg(Fg()),_k=Lg(Fg()),Sk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ek=_k.default.createContext&&_k.default.createContext(Sk),kk=function(){return kk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kk.apply(this,arguments)};function Ck(e){return e&&e.map(function(e,t){return xk.default.createElement(e.tag,kk({key:t},e.attr),Ck(e.child))})}function Mk(e){return function(t){return xk.default.createElement(Pk,kk({attr:kk({},e.attr)},t),Ck(e.child))}}function Pk(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),xk.default.createElement("svg",kk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:kk(kk({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&xk.default.createElement("title",null,a),e.children)};return void 0!==Ek?xk.default.createElement(Ek.Consumer,null,function(e){return t(e)}):t(Sk)}function Tk(e){return Mk({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"rect",attr:{width:"16",height:"10",rx:"1.5",transform:"matrix(1 0 0 -1 0 14.5)"}},{tag:"path",attr:{fillRule:"evenodd",d:"M2 3a.5.5 0 00.5.5h11a.5.5 0 000-1h-11A.5.5 0 002 3zm2-2a.5.5 0 00.5.5h7a.5.5 0 000-1h-7A.5.5 0 004 1z",clipRule:"evenodd"}}]})(e)}function Ak(e){return Mk({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.667 3h6.666C10.253 3 11 3.746 11 4.667v6.666c0 .92-.746 1.667-1.667 1.667H2.667C1.747 13 1 12.254 1 11.333V4.667C1 3.747 1.746 3 2.667 3z"}},{tag:"path",attr:{d:"M7.404 8.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V4.308c0-.63-.693-1.01-1.233-.696L7.404 7.304a.802.802 0 000 1.393z"}}]})(e)}function Ik(e){return Mk({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.5 13a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0113.5 13h-10z",clipRule:"evenodd"}}]})(e)}function Rk(e){return Mk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"}}]})(e)}function Ok(e){return Mk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 18.656c-80.965 0-146.875 65.02-146.875 145.625 0 45.63 15.758 67 33.313 94.845 11.706 18.57 23.767 39.91 30.53 70.563h165.095c6.728-31.387 18.91-53.12 30.718-71.875 17.58-27.92 33.314-48.912 33.314-93.532 0-80.66-65.127-145.624-146.094-145.624zm-99.78 127.906L170.437 167 210 201.813l31.188-34.125 6.78-7.438 6.907 7.344 30.75 32.72 39.97-33.47 22.686-19-7.655 28.594L304.75 310.28l-18.063-4.842 28.22-105.25-24.032 20.125-6.78 5.656-6.033-6.44-29.906-31.78-30.562 33.438-6.188 6.78-6.875-6.062-23.25-20.437 27.94 104.218-18.064 4.812-35.937-134.063-8-29.875zm22.593 201.813V389.5L315 348.375H169.812zm153.593 17.063l-153.594 43.53v29.438l153.594-43.5v-29.47zm0 48.875L203.97 448.156h119.436v-33.844zm-132.562 52.53v20.533h113.282v-20.53h-113.28z"}}]})(e)}function Dk(e){return Mk({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M18 17v18h38v78.3c-.75.7-1.47 1.5-2.16 2.3-6.52 7.5-9.72 14.5-10.08 19.8l47.46 84.5c1.03-1.9 2.15-3.9 3.39-5.6 8.29-12.2 21.49-23.8 37.89-33.2 16.5-9.1 33.3-14.3 48-15.1 2.2-.1 4.4-.1 6.6 0l-47.4-84.47c-3-1.54-7.1-2.5-12.3-2.53h-2.3c-2.3.11-4.9.4-7.5.88-10.7 1.91-23.15 6.66-34.61 13.1-3.08 1.73-6.09 3.59-8.99 5.53V35h45v26.5c1.8-.22 3.5-.39 5.3-.49 4.4-.25 8.6-.07 12.7.67V35h55V17H18zm165.4 166.9c-.6.1-1.3.1-2 .1-11.1.6-25.7 4.8-40.1 12.9-14.3 8.1-25.5 18.4-31.8 27.5-6.2 9.2-6.8 16-4.8 19.5 1.9 3.5 8 6.5 19.1 6 11.1-.5 25.7-4.8 40.1-12.9 14.3-8.1 25.6-18.3 31.8-27.5 6.2-9.2 6.8-16 4.9-19.5-1.9-3.3-7.4-6.1-17.2-6.1zm36.2 12.2c-.5 7.9-4 16.1-9 23.5-8.3 12.2-21.4 23.8-37.9 33.1s-33.3 14.4-48 15.2c-10.3.5-20.2-1.2-27.61-6.3L49.48 491.4H492.8V353.8L219.6 196.1z"}}]})(e)}function zk(e){return Mk({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19H12.998V22H10.998zM10.998 2H12.998V5H10.998zM1.998 11H4.998V13H1.998zM18.998 11H21.998V13H18.998z"}},{tag:"path",attr:{transform:"rotate(-45.017 5.986 18.01)",d:"M4.487 17.01H7.487V19.01H4.487z"}},{tag:"path",attr:{transform:"rotate(-45.001 18.008 5.99)",d:"M16.508 4.99H19.509V6.99H16.508z"}},{tag:"path",attr:{transform:"rotate(-134.983 5.988 5.99)",d:"M4.487 4.99H7.487V6.99H4.487z"}},{tag:"path",attr:{transform:"rotate(134.999 18.008 18.01)",d:"M17.008 16.51H19.008V19.511000000000003H17.008z"}}]})(e)}var Lk=Lg(Fg()),Nk={collection:Lk.default.createElement(Tk,null),cube:Lk.default.createElement(Rk,null),lightBulb:Lk.default.createElement(Ok,null),spotLight:Lk.default.createElement(Dk,null),sun:Lk.default.createElement(zk,null),camera:Lk.default.createElement(Ak,null),cloud:Lk.default.createElement(Ik,null)},jk=Lg(Fg()),Fk=(0,jk.createContext)(!1),Uk=({children:e})=>{let t=(0,jk.useRef)(!1),[n,r]=(0,jk.useState)(!1);return(0,jk.useEffect)(()=>{document.addEventListener("mousedown",()=>t.current=!0),document.addEventListener("mousemove",()=>{t.current&&r(!0)}),document.addEventListener("mouseup",()=>{t.current=!1,r(!1)})},[]),jk.default.createElement(Fk.Provider,{value:n},e)},Bk=(0,Lg(ub()).default)(Zm),Vk=({storeKey:e,object:t})=>{var n;let r=wk(),[i,a]=Bk(e=>[e.setSnapshotProxyObject,e.editables],Ex.default),o=(0,jk.useContext)(Fk),s=a[e],l=Cx(),u=null!=(n=lk(null==r?void 0:r.props.viewport.showOverlayIcons))&&n;(0,Jw.useEffect)(()=>(i(t,e),()=>i(null,e)),[e,t,i]),(0,Jw.useLayoutEffect)(()=>{let e=t.visible;return null!=s&&s.visibleOnlyInEditor&&(t.visible=!0),()=>{t.visible=e}},[null==s?void 0:s.visibleOnlyInEditor,t.visible]);let[c,d]=(0,Jw.useState)(!1),f=lw(e=>e.scene),h=(0,Jw.useMemo)(()=>{var e,n;return null==(n=null==s?void 0:(e=s.objectConfig).createHelper)?void 0:n.call(e,t)},[t]);return(0,Jw.useEffect)(()=>{if(null!=h)return(l===e||c)&&(f.add(h),dw()),()=>{f.remove(h),dw()}},[l,c,h,f]),uw(()=>{null!=h&&h.update&&h.update()}),(0,Jw.useEffect)(()=>{o&&d(!1)},[o]),(0,Jw.useEffect)(()=>{if(!s)return;let e=s.sheetObject,n=s.objectConfig,r=e=>{var r;Object.entries(n.props).forEach(([n,r])=>r.apply(e[n],t)),null==(r=n.updateObject)||r.call(n,t),dw()};r(e.value);let i=e.onValuesChange(r);return()=>{i()}},[s]),s?Jw.default.createElement(Jw.default.Fragment,null,Jw.default.createElement("group",{onClick:t=>{if(t.delta<2){t.stopPropagation();let n=Bk.getState().editables[e].sheetObject;n&&Dm.setSelection([n])}},onPointerOver:o?void 0:e=>{e.stopPropagation(),d(!0)},onPointerOut:o?void 0:e=>{e.stopPropagation(),d(!1)}},Jw.default.createElement("primitive",{object:t},(u||s.objectConfig.dimensionless&&l!==e)&&Jw.default.createElement(fx,{center:!0,style:{pointerEvents:"none",transform:"scale(2)",opacity:c?.3:1}},Jw.default.createElement("div",null,Nk[s.objectConfig.icon])),s.objectConfig.dimensionless&&Jw.default.createElement(Sx,{args:[2,4,2],onClick:t=>{if(t.delta<2){t.stopPropagation();let n=Bk.getState().editables[e].sheetObject;n&&Dm.setSelection([n])}},userData:{helper:!0}},Jw.default.createElement("meshBasicMaterial",{visible:!1}))))):null},Hk=Lg(Fg()),Wk=(0,Hk.forwardRef)((e,t)=>{var n=e,{children:r,object:i,orbitControlsRef:a,onObjectChange:o,onDraggingChange:s}=n,l=Rg(n,["children","object","orbitControlsRef","onObjectChange","onDraggingChange"]);let{camera:u,gl:c,invalidate:d}=lw(),f=(0,Hk.useMemo)(()=>new gx(u,c.domElement),[u,c.domElement]);return(0,Hk.useLayoutEffect)(()=>(f.attach(i),()=>{f.detach()}),[i,f]),(0,Hk.useEffect)(()=>{var e;return null==(e=null==f?void 0:f.addEventListener)||e.call(f,"change",()=>d()),()=>{var e;return null==(e=null==f?void 0:f.removeEventListener)?void 0:e.call(f,"change",()=>d())}},[f,d]),(0,Hk.useEffect)(()=>{let e=e=>{a&&a.current&&(a.current.enabled=!e.value)};return f&&f.addEventListener("dragging-changed",e),()=>{f.removeEventListener("dragging-changed",e)}},[f,a]),(0,Hk.useEffect)(()=>(o&&f.addEventListener("objectChange",o),()=>{o&&f.removeEventListener("objectChange",o)}),[o,f]),(0,Hk.useEffect)(()=>(s&&f.addEventListener("dragging-changed",s),()=>{s&&f.removeEventListener("dragging-changed",s)}),[f,s]),Hk.default.createElement("primitive",Ag({dispose:null,object:f,ref:t},l))}),Gk=Wk,qk=Lg(Xg()),Xk=({portal:e})=>Qw.default.createElement(Qw.default.Fragment,null,e),Yk=({orbitControlsRef:e})=>{var t,n,r;let i=(0,Qw.useRef)(!1),a=wk(),[o,s]=Bk(e=>[e.sceneSnapshot,e.editables],qk.default),l=null!=(t=lk(null==a?void 0:a.props.transformControls.mode))?t:"translate",u=null!=(n=lk(null==a?void 0:a.props.transformControls.space))?n:"world",c=null!=(r=lk(null==a?void 0:a.props.viewport.shading))?r:"rendered",d=(0,Qw.useMemo)(()=>null==o?void 0:o.clone(),[o]),[f,h]=(0,Qw.useState)({});(0,Qw.useLayoutEffect)(()=>{if(!d)return;let e={};d.traverse(t=>{if(t.userData.__editable){let a=t.userData.__storeKey;e[a]||!s[a]?t.parent.remove(t):e[a]={portal:Qw.default.createElement(Xk,{portal:(n=Qw.default.createElement(Vk,{storeKey:a,object:t}),r=t.parent,fb.createElement(ww,{key:r.uuid,children:n,container:r,state:i})),key:`portal-wrapper-${a}`}),object:t,editable:s[a]}}var n,r,i}),h(e)},[e,d]);let p=Cx(),m=p&&f[p],g=p?s[p]:void 0,[v,y]=(0,Qw.useState)({});(0,Qw.useLayoutEffect)(()=>{if(!d)return;let e={};return d.traverse(t=>{let n=t;n.isMesh&&!n.userData.helper&&(e[n.id]=n.material)}),y(e),()=>{}},[d]),(0,Qw.useLayoutEffect)(()=>{d&&d.traverse(e=>{let t=e;if(t.isMesh&&!t.userData.helper){let e;switch(c){case"wireframe":t.material=new $r({wireframe:!0,color:"black"});break;case"flat":if(!v[t.id])return;e=new $r,v[t.id].hasOwnProperty("color")&&(e.color=v[t.id].color),v[t.id].hasOwnProperty("map")&&(e.map=v[t.id].map),v[t.id].hasOwnProperty("vertexColors")&&(e.vertexColors=v[t.id].vertexColors),t.material=e;break;case"solid":if(!v[t.id])return;e=new ul,v[t.id].hasOwnProperty("color")&&(e.color=v[t.id].color),v[t.id].hasOwnProperty("map")&&(e.map=v[t.id].map),v[t.id].hasOwnProperty("vertexColors")&&(e.vertexColors=v[t.id].vertexColors),t.material=e;break;case"rendered":t.material=v[t.id]}}dw()})},[c,v,d]);let b=(0,Qw.useRef)(void 0);return d?Qw.default.createElement(Qw.default.Fragment,null,Qw.default.createElement("primitive",{object:d}),p&&m&&g&&g.objectConfig.useTransformControls&&Qw.default.createElement(Gk,{mode:l,space:u,orbitControlsRef:e,object:m.object,onObjectChange:()=>{let e=m.editable.sheetObject,t=m.object;b.current.capture(({set:n})=>{"translate"===l&&n(e.props.position,Ig(Ag({},e.value.position),{x:t.position.x,y:t.position.y,z:t.position.z})),"rotate"===l&&n(e.props.rotation,Ig(Ag({},e.value.rotation),{x:t.rotation.x,y:t.rotation.y,z:t.rotation.z})),"scale"===l&&n(e.props.scale,{x:t.scale.x,y:t.scale.y,z:t.scale.z})})},onDraggingChange:e=>(e.value?b.current=Dm.scrub():b.current.commit(),i.current=e.value)}),Object.values(f).map(e=>e.portal)):null};$y();var Kk=Lg(Fg()),$k=(e,t)=>(e%t+t)%t,Zk=class extends Lt{constructor(e,t){super(),Ng(this,"object"),Ng(this,"domElement"),Ng(this,"enabled",!0),Ng(this,"target",new En),Ng(this,"minDistance",0),Ng(this,"maxDistance",1/0),Ng(this,"minZoom",0),Ng(this,"maxZoom",1/0),Ng(this,"minPolarAngle",0),Ng(this,"maxPolarAngle",Math.PI),Ng(this,"minAzimuthAngle",-1/0),Ng(this,"maxAzimuthAngle",1/0),Ng(this,"enableDamping",!1),Ng(this,"dampingFactor",.05),Ng(this,"enableZoom",!0),Ng(this,"zoomSpeed",1),Ng(this,"enableRotate",!0),Ng(this,"rotateSpeed",1),Ng(this,"enablePan",!0),Ng(this,"panSpeed",1),Ng(this,"screenSpacePanning",!0),Ng(this,"keyPanSpeed",7),Ng(this,"autoRotate",!1),Ng(this,"autoRotateSpeed",2),Ng(this,"reverseOrbit",!1),Ng(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ng(this,"mouseButtons",{LEFT:p.ROTATE,MIDDLE:p.DOLLY,RIGHT:p.PAN}),Ng(this,"touches",{ONE:m.ROTATE,TWO:m.DOLLY_PAN}),Ng(this,"target0"),Ng(this,"position0"),Ng(this,"zoom0"),Ng(this,"_domElementKeyEvents",null),Ng(this,"getPolarAngle"),Ng(this,"getAzimuthalAngle"),Ng(this,"setPolarAngle"),Ng(this,"setAzimuthalAngle"),Ng(this,"getDistance"),Ng(this,"listenToKeyEvents"),Ng(this,"stopListenToKeyEvents"),Ng(this,"saveState"),Ng(this,"reset"),Ng(this,"update"),Ng(this,"connect"),Ng(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=e=>{let t=$k(e,2*Math.PI),r=u.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),c.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=$k(e,2*Math.PI),r=u.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),c.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",Y),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Y),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=(()=>{let t=new En,i=new En(0,1,0),a=(new Sn).setFromUnitVectors(e.up,i),p=a.clone().invert(),m=new En,g=new Sn,v=2*Math.PI;return function(){let y=n.object.position;a.setFromUnitVectors(e.up,i),p.copy(a).invert(),t.copy(y).sub(n.target),t.applyQuaternion(a),u.setFromVector3(t),n.autoRotate&&s===o.NONE&&P(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);let b=n.minAzimuthAngle,w=n.maxAzimuthAngle;return isFinite(b)&&isFinite(w)&&(b<-Math.PI?b+=v:b>Math.PI&&(b-=v),w<-Math.PI?w+=v:w>Math.PI&&(w-=v),u.theta=b<=w?Math.max(b,Math.min(w,u.theta)):u.theta>(b+w)/2?Math.max(b,u.theta):Math.min(w,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),t.setFromSpherical(u),t.applyQuaternion(p),y.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),f.set(0,0,0)),d=1,!!(h||m.distanceToSquared(n.object.position)>l||8*(1-g.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),m.copy(n.object.position),g.copy(n.object.quaternion),h=!1,!0)}})(),this.connect=e=>{document,n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",K),n.domElement.addEventListener("pointerdown",H),n.domElement.addEventListener("pointercancel",q),n.domElement.addEventListener("wheel",X)},this.dispose=()=>{var e,t,r,i,a,o;null==(e=n.domElement)||e.removeEventListener("contextmenu",K),null==(t=n.domElement)||t.removeEventListener("pointerdown",H),null==(r=n.domElement)||r.removeEventListener("pointercancel",q),null==(i=n.domElement)||i.removeEventListener("wheel",X),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointermove",W),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointerup",G),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Y)};let n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,l=1e-6,u=new Zu,c=new Zu,d=1,f=new En,h=!1,g=new Yt,v=new Yt,y=new Yt,b=new Yt,w=new Yt,x=new Yt,_=new Yt,S=new Yt,E=new Yt,k=[],C={};function M(){return Math.pow(.95,n.zoomSpeed)}function P(e){n.reverseOrbit?c.theta+=e:c.theta-=e}function T(e){n.reverseOrbit?c.phi+=e:c.phi-=e}let A=(()=>{let e=new En;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),f.add(e)}})(),I=(()=>{let e=new En;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),f.add(e)}})(),R=(()=>{let e=new En;return function(t,r){let i=n.domElement;if(i&&n.object instanceof Fi&&n.object.isPerspectiveCamera){let a=n.object.position;e.copy(a).sub(n.target);let o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),A(2*t*o/i.clientHeight,n.object.matrix),I(2*r*o/i.clientHeight,n.object.matrix)}else i&&n.object instanceof iu&&n.object.isOrthographicCamera?(A(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),I(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):n.enablePan=!1}})();function O(e){n.object instanceof Fi&&n.object.isPerspectiveCamera?d/=e:n.object instanceof iu&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):n.enableZoom=!1}function D(e){n.object instanceof Fi&&n.object.isPerspectiveCamera?d*=e:n.object instanceof iu&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):n.enableZoom=!1}function z(e){g.set(e.clientX,e.clientY)}function L(e){b.set(e.clientX,e.clientY)}function N(){if(1==k.length)g.set(k[0].pageX,k[0].pageY);else{let e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);g.set(e,t)}}function j(){if(1==k.length)b.set(k[0].pageX,k[0].pageY);else{let e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);b.set(e,t)}}function F(){let e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY,n=Math.sqrt(e*e+t*t);_.set(0,n)}function U(e){if(1==k.length)v.set(e.pageX,e.pageY);else{let t=Q(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);v.set(n,r)}y.subVectors(v,g).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(P(2*Math.PI*y.x/t.clientHeight),T(2*Math.PI*y.y/t.clientHeight)),g.copy(v)}function B(e){if(1==k.length)w.set(e.pageX,e.pageY);else{let t=Q(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}x.subVectors(w,b).multiplyScalar(n.panSpeed),R(x.x,x.y),b.copy(w)}function V(e){let t=Q(e),r=e.pageX-t.x,i=e.pageY-t.y,a=Math.sqrt(r*r+i*i);S.set(0,a),E.set(0,Math.pow(S.y/_.y,n.zoomSpeed)),O(E.y),_.copy(S)}function H(e){var t,r;!1!==n.enabled&&(0===k.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",W),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",G)),function(e){k.push(e)}(e),"touch"===e.pointerType?function(e){switch(Z(e),k.length){case 1:switch(n.touches.ONE){case m.ROTATE:if(!1===n.enableRotate)return;N(),s=o.TOUCH_ROTATE;break;case m.PAN:if(!1===n.enablePan)return;j(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case m.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&F(),n.enablePan&&j(),s=o.TOUCH_DOLLY_PAN;break;case m.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&F(),n.enableRotate&&N(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case p.DOLLY:if(!1===n.enableZoom)return;(function(e){_.set(e.clientX,e.clientY)})(e),s=o.DOLLY;break;case p.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;L(e),s=o.PAN}else if(e.altKey){if(!1===n.enableRotate)return;z(e),s=o.ROTATE}break;case p.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;z(e),s=o.ROTATE}else{if(!1===n.enablePan)return;L(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e))}function W(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Z(e),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;U(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function(e){n.enableZoom&&V(e),n.enablePan&&B(e)})(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function(e){n.enableZoom&&V(e),n.enableRotate&&U(e)})(e),n.update();break;default:s=o.NONE}}(e):function(e){if(!1!==n.enabled)switch(s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),y.subVectors(v,g).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(P(2*Math.PI*y.x/t.clientHeight),T(2*Math.PI*y.y/t.clientHeight)),g.copy(v),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){S.set(e.clientX,e.clientY),E.subVectors(S,_),E.y>0?O(M()):E.y<0&&D(M()),_.copy(S),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,b).multiplyScalar(n.panSpeed),R(x.x,x.y),b.copy(w),n.update()}(e)}}(e))}function G(e){var t,r,i;$(e),0===k.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",W),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",G)),n.dispatchEvent(a),s=o.NONE}function q(e){$(e)}function X(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),n.dispatchEvent(i),function(e){e.deltaY<0?D(M()):e.deltaY>0&&O(M()),n.update()}(e),n.dispatchEvent(a))}function Y(e){!1===n.enabled||!1===n.enablePan||function(e){let t=!1;switch(e.code){case n.keys.UP:R(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:R(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:R(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:R(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function K(e){!1!==n.enabled&&e.preventDefault()}function $(e){delete C[e.pointerId];for(let t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId)return void k.splice(t,1)}function Z(e){let t=C[e.pointerId];void 0===t&&(t=new Yt,C[e.pointerId]=t),t.set(e.pageX,e.pageY)}function Q(e){let t=e.pointerId===k[0].pointerId?k[1]:k[0];return C[t.pointerId]}void 0!==t&&this.connect(t),this.update()}},Qk=Kk.forwardRef((e,t)=>{var n=e,{makeDefault:r,camera:i,regress:a,domElement:o,enableDamping:s=!0,keyEvents:l=!1,onChange:u,onStart:c,onEnd:d}=n,f=Rg(n,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);let h=lw(e=>e.invalidate),p=lw(e=>e.camera),m=lw(e=>e.gl),g=lw(e=>e.events),v=lw(e=>e.setEvents),y=lw(e=>e.set),b=lw(e=>e.get),w=lw(e=>e.performance),x=i||p,_=o||g.connected||m.domElement,S=Kk.useMemo(()=>new Zk(x),[x]);return uw(()=>{S.enabled&&S.update()},-1),Kk.useEffect(()=>(l&&S.connect(!0===l?_:l),S.connect(_),()=>{S.dispose()}),[l,_,a,S,h]),Kk.useEffect(()=>{let e=e=>{h(),a&&w.regress(),u&&u(e)},t=e=>{c&&c(e)},n=e=>{d&&d(e)};return S.addEventListener("change",e),S.addEventListener("start",t),S.addEventListener("end",n),()=>{S.removeEventListener("start",t),S.removeEventListener("end",n),S.removeEventListener("change",e)}},[u,c,d,S,h,v]),Kk.useEffect(()=>{if(r){let e=b().controls;return y({controls:S}),()=>y({controls:e})}},[r,S]),Kk.createElement("primitive",Ag({ref:t,object:S,enableDamping:s},f))}),Jk=Lg(Fg()),eC=Lg(Fg()),tC=Lg(Fg());function nC(e){let t=(0,tC.useMemo)(()=>{let t=e;return{get current(){return t},set current(e){t=e,r(e)}}},[]),[n,r]=(0,tC.useState)(()=>e);return[t,n]}var rC={transform:{position:{x:Mm.types.number(10),y:Mm.types.number(10),z:Mm.types.number(0)},target:{x:Mm.types.number(0),y:Mm.types.number(0),z:Mm.types.number(0)}},lens:{zoom:Mm.types.number(1,{range:[1e-4,10]}),fov:Mm.types.number(50,{range:[1,1e3]}),near:Mm.types.number(.1,{range:[0,1/0]}),far:Mm.types.number(2e3,{range:[0,1/0]}),focus:Mm.types.number(10,{range:[0,1/0]}),filmGauge:Mm.types.number(35,{range:[0,1/0]}),filmOffset:Mm.types.number(0,{range:[0,1/0]})}};function iC(e,t){let[n,r]=nC(null),[i,a]=nC(void 0),o=(0,Jk.useRef)(null);return(0,Jk.useLayoutEffect)(()=>{o.current||(o.current=e.object(`Editor Camera ${t}`,rC))},[t]),function(e,t,n){let r=lw(({invalidate:e})=>e);(0,Jk.useLayoutEffect)(()=>{if(!e||null===t)return;let i=n.current,a=n=>{let{position:i,target:a}=n.transform;e.zoom=n.lens.zoom,e.fov=n.lens.fov,e.near=n.lens.near,e.far=n.lens.far,e.focus=n.lens.focus,e.filmGauge=n.lens.filmGauge,e.filmOffset=n.lens.filmOffset,e.position.set(i.x,i.y,i.z),e.updateProjectionMatrix(),t.target.set(a.x,a.y,a.z),t.update(),r()},o=i.onValuesChange(a);return a(i.value),o},[e,t,n,r])}(a,r,o),function(e,t,n){(0,Jk.useLayoutEffect)(()=>{if(!e||null==t)return;let r,i=()=>{var e;if(r){clearTimeout(null==(e=r.scheduledCommit)?void 0:e.timer);let t=r;r.scheduledCommit={timer:setTimeout(()=>{t===r&&(r.scrub.commit(),r=void 0)},aC)}}},a=()=>{var e;r?clearTimeout(null==(e=r.scheduledCommit)?void 0:e.timer):r={scrub:Dm.scrub()}},o=()=>{i()},s=()=>{if(!r)return;let i=e.position,a={x:i.x,y:i.y,z:i.z},o=t.target,s={position:a,target:{x:o.x,y:o.y,z:o.z}};r.scrub.capture(({set:e})=>{e(n.current.props.transform,s)})};return t.addEventListener("start",a),t.addEventListener("end",o),t.addEventListener("change",s),()=>{t.removeEventListener("start",a),t.removeEventListener("end",o),t.removeEventListener("change",s),r&&(r.scrub.discard(),r=void 0)}},[e,t])}(a,r,o),[eC.default.createElement(eC.default.Fragment,null,eC.default.createElement(xx,{makeDefault:!0,ref:i,position:[0,102,0]}),eC.default.createElement(Qk,{makeDefault:!0,ref:n,camera:a,enableDamping:!1})),n]}var aC=200;var oC=class extends Mi{constructor({divisions:e=10,scale:t=.1,color:n=new qr("white"),distance:r=8e3,subgridOpacity:i=.05,gridOpacity:a=.15}={}){super(new Ys(2,2,1,1),new Di({glslVersion:Ot,side:2,uniforms:{uScale:{value:t},uDivisions:{value:e},uColor:{value:n},uDistance:{value:r},uSubgridOpacity:{value:i},uGridOpacity:{value:a}},transparent:!0,vertexShader:"\n          out vec3 worldPosition;\n          uniform float uDistance;\n\n          void main() {\n              // Scale the plane by the drawing distance\n              worldPosition = position.xzy * uDistance;\n              worldPosition.xz += cameraPosition.xz;\n\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);\n          }\n      ",fragmentShader:"\n          out vec4 fragColor;\n          in vec3 worldPosition;\n\n          uniform float uDivisions;\n          uniform float uScale;\n          uniform vec3 uColor;\n          uniform float uDistance;\n          uniform float uSubgridOpacity;\n          uniform float uGridOpacity;\n\n          float getGrid(float gapSize) {\n              vec2 worldPositionByDivision = worldPosition.xz / gapSize;\n\n              // Inverted, 0 where line, >1 where there's no line\n              // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing\n              // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both\n              // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,\n              // otherwise only one side of the line will be anti-aliased\n              vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;\n              float gridLine = min(grid.x, grid.y);\n\n              // Uninvert and clamp\n              return 1.0 - min(gridLine, 1.0);\n          }\n\n          void main() {\n              float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);\n              float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);\n\n              // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.\n              // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.\n              float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));\n              float gridPower = subGridPower * uDivisions;\n\n              // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third\n              float nextGridPower = gridPower * uDivisions;\n\n              // 1 where grid, 0 where no grid\n              float subgrid = getGrid(subGridPower * uScale);\n              float grid = getGrid(gridPower * uScale);\n              float nextGrid = getGrid(nextGridPower * uScale);\n\n              // Where we are between the introduction of the current grid power and when we switch to the next grid power\n              float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);\n\n              // The last x percentage of the current step over which we want to fade\n              float fadeRange = 0.3;\n\n              // We calculate the fade percentage from the step percentage and the fade range\n              float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;\n\n              // Set base opacity based on how close we are to the drawing distance, with a cubic falloff\n              float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);\n\n              // Shade the subgrid\n              fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);\n\n              // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers\n              float fadeCoefficient = 0.5;\n\n              // Shade the grid\n              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);\n\n              // Shade the next grid\n              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);\n\n              if (fragColor.a <= 0.0) discard;\n          }\n      ",extensions:{derivatives:!0}})),this.frustumCulled=!1}},sC=Lg(Fg()),lC=Lg(Fg()),uC=Lg(Xg());function cC(e){return Mk({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912-9.854c-.777-1.294-1.963-2.034-3.259-2.034z"}},{tag:"circle",attr:{cx:"12",cy:"16",r:"1.3"}},{tag:"path",attr:{d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z"}}]})(e)}$y();var dC=Ky.div`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: auto;
  cursor: pointer;
  overflow: hidden;
  border-radius: ${({minimized:e})=>e?"2px":"4px"};
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
`,fC=Ky.canvas`
  display: block;
  width: ${({width:e,height:t})=>e>t?"auto":"100%"};
  height: ${({width:e,height:t})=>t>e?"auto":"100%"};
`,hC=Dv`
  0% { transform: translate(0,0) }
  10% { transform: translate(-5%,-5%) }
  20% { transform: translate(-10%,5%) }
  30% { transform: translate(5%,-10%) }
  40% { transform: translate(-5%,15%) }
  50% { transform: translate(-10%,5%) }
  60% { transform: translate(15%,0) }
  70% { transform: translate(0,10%) }
  80% { transform: translate(-15%,0) }
  90% { transform: translate(10%,5%) }
  100% { transform: translate(5%,0) }
`,pC=Ky.div`
  position: relative;
  display: flex;
  width: 200px;
  height: 120px;
  padding: 18px;

  ::before {
    content: '';
    position: absolute;
    z-index: -1;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: #2f2f2f url(${"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUDAwPv7+/Dw8M3Nzd5eXmdnZ1YWFh6HLOtAAAAB3RSTlMSEhISEhISn+TpXAAAKwlJREFUeNq0mclaQjkQhf9UJVkXg64jKOsAwjogsA4KroMK7/8I/fWgrbZTT49wq27O+c8pUIMOa4dR6TrxOoDdgX6JJFaHp8fHUeEyu3ryrE4kHgoFNd9NZSZxSbw19HAFtzgBIFTl3iVAWbCroF5vPAl0SkGRfMOl6bXojcLlrXPKLefSfJhdGjDLMXYvmjwA89hzy+hDvOAenJZOdl2zLEgr80rfHcZAUBHdPMFScass17BDzCApzpeE0Lr3pYjjBCVUqCDXuVkChafmzi0/Mg9YJYqGkswec3GUSa9iA2CYfGw78+IqhC7R74xt2yN4S+wa6+1F6HNVCIrlSjICqoBI8lZXpk+3Ny20CR36rAtOoaG3l1mJDRUwomlCTemzBRktwMrUIR0ZEMItjZ7P/two+yvaBqOgyIZaUE+KVINTEpEgaFYXqk7pNZMQDFiyqbjY1zjDnh4w9j7Y8yRPsPhkkiq5dHdfT5Jo3NNsFyAApQvXIrNMMRH6ddzjDgjg7kvBZSb5akltfk9TBFCh+HTMeql1IXpAWgC/G44h+Rs6MZ24TCktwxmiBMjLjQgS3FK7wCKPKSUZ2ajQiOSDjp4y44FeEfAlnSAnHByYwJjsSjAYPBnOxwwcDgsRyKV7GeJiyExYhUzk+ujv8prp3opDIIC3jcvmY7KEO5tRR4Ltig+xEHNw5cKjsoERYRqoi/BIjSVc5Anm1IhQaWmiR3r3q7Chzv2KXOSau9Nlni+jBSbV/C3rtiCKz4Gu1BQeoWZjv5Y2R3feCVyFgmZoQDFJfUfNu1ZPsTJobPPcO0o3hQbRh0mOlaPcaugRPQBRgiNmD15JCJB85RqpJpQE9Twq3sON4eBoNIc3dn9d//HD9dc367/6av2K372byPRHE9EPJpLdoVIoLvrgb50eI8eaH8nMFMdiCyHDBuFhpq5VUeOcdOOcK0vVtMw5YJh10IIT7x0RUOou3Y12zIAbx1WMaEp1OPach610oKUx4BAHzoiVeyge8EGbR6Y9DgXqXeiAkhLUg2uutK6hj7VVl1CQGT0oLCSbNPYJI4drnHHynVKgGwrEBUAcuCouJsw2CphjjhIr2SUcJi74SpVMYgzOfDVHwCVLZZIIK3MrmuA355vT5Am54SzyFy3vS/Ey273X8tNvWh5CvODuWcvPnrV8WunLw7gM6PjskimbPomSfIRwkLukdNtWZZSyMnZ97kgd4WAhswDnyZkog248HwFuRfFuWx0xgADtOKe2PMzOHIUcXQeZEyYj2Ycic8jEDZ2DxqytugAt5Z04F6ce83oxw0kCmVA2YUFJZ8A20dZbwnmoJBZC2OD3XdsW2UHNTgPioJIzkAYsgl8wX1/OudfkzBW/A8tEmA1uyM4yhsEgA4dqenGHv+5CrP5GWvPkc4D7fIfUixBZLLPH95DSqOA7JVUnQUktQKrUcFuj00NhUdj3yETPEgKxdUM5TjTqA+KBOuySY0yEmnWSGZXA+SaEAGgjJdfcILi+2HJRNYONQ7hfm0ie1uCu0zD1fSYiloLzKQTLlidzQWl+NKk1BbkgdcHO7jgNe5BIBh04EhqeApQ65xt5Ni5skKj7FHH5hsWB8OuH+ubwkBm14CEXoQUH8UBNqSamZNszzW7uSHUL+BSPYIeSH5OLm+TwtSyAmlO6PhW8Zfo3DAuhcOFAyNhKyCm6qydPstjw7CEAw5vohOd/CuDRx1RbqpAWfQlYqlkiFQkE9nuazfv4PmGbFUrxCSonl3bxLuV2nUgFgoyT0h5gr0yHyBPVPbVaKzBHhHO6qXbKhb/sMgWnVvdPW9JQZ9TeUiau3EDjIlBtSdqqaBw2I0eW7SoIdWAiQ5xb5/gwzsiLUvGDPzPD5pM/M573LSXUu0GpT92mNflyB03v63ruq862HiNBhYVvPUd5cAKdWoO05GRFqU/wSO2LFfJlQxp3rYZru8+BFbc9TQ4bQyMQRdO8uslT2bWgbVXVMyxhjkPxqTtGD+ApS07k0cD3CaRCVwgOm+pYYxr3URwgAbzB9OLWdWqjk3IC0OgcpdqZbUp1PkF68DwozZLzwsA1Cxo2IbYjMiL0tBXzbsA90Mr9kCOxXqW8zZQCoC1V45ECJQdIIKzRwsCRvEBwrWV4EZXtz0Xl4dXq/GtR+WN1qfM3Vrf52erC0xerG+XA/F+Buf+/wHyUlY7icCBDIF45JmeZm0WCNas8ihR1DfCPIUOOLB+f35FLOLf/9R195/jjvzi+/IeOzx+On3/u+JjDrK4JDJFP4uLiJS4eT89x8fGjuOj/iIsPb+Pi9HVcLM9x0UCn+SUufogYYXb1CWK8j4s8L56/lci+XPzxz8UrhMeQGYjV5vtDCovMZST8NT5MnuPD7Ojv2qv44N/Fh77/PT7cF+9f4gNjFgOvNa0SxwuYdyshYQmAPTm0LkD2FtZALte5CDDNHjLDkGXBtKTrnAnrZJZDcm1EGe63gA5ph8E5owTaDrmfWq0PFhrYtevR2TolMfI6w5Xz8zNJzm7oOrI/FMELpcG9XQnZjYLlwVHJap0SsjhLscMd3uBjBlMUXxwQjVtQCEUBAGq4fpIwh0HbztjczrtyU7tyLDvwlXahleZzKMblfa7Ekj3Dpn5WoPaM/NB1Ss8yXJSyBKCPLORAl0QiRPUQ5DJnANGARy0R6uR6XxxdjSNW0NIRSHEFPXTodilEljWSSUBOnmW8Y1Jm3tLcGFFhvZwawio7e4hNliI+bSsJKuovW6qk2k/jBL6n5r041BEgQtNok6cbtFsnlcpK/k5bYN+3BX8+q8u/Re7zqpfucKhfk/viLbl3/yD35Rty7/9B7vUjcm9vyf30yV+zhZLlc79sBT8GI26JGAtCiy6UBBW8S2hJozu8IyW31k4OGahwdvQwRIfy27bX/2DbF5WUf7rtb60vfWx9+w+s7/wL61v/poDlRQHrW+vjtQKevbW+9wp49aEC8jG/61t+5xW/lz/4/fIdvz98we/+CDb+k99DrT/n99VX/P6SCflqxP1vTaZ8bzLf08XtByMef9VRtQ86Kn5ej6iXd/VIfFuP5Mm39Uh9VY9EfVuP7D+uRx76goW4R63IpllbccTRBboUf4+zGnP3jRaXaqracT1fOaOh6GlaS+5Lvr9gCK62tPwX5J9g2rl1nfQd+S9fkX95T/7lNfnf/UH+NGalWELqDqYQQTk/w+OxVuo62by2uNeIorVh/szgDnyjxmHN54E0xjXx2azvU574oVIdzjnjGiyVYjSghbAMk2PRCj5bqK0xkSBTK67t7cKIohYvSnLUY2XsuTy56EusmEvgkmfd6AQeXXJc6g61c+Gqw4sDtJ91Nx86QPmBA8w/dYAXbtB/wQ08T62+TG3269Rm/3Rq+YupXcpwKlgBwuOaFsMQR6Qh1qXiIwaQb0h3w4Z1D1B9QKB0r5xcifdYpzWf7aTZsTH2qkhTfhY7WwHgOXZ+Y6Ol4Mf5jY2Wj2w0fGyjvX9io5gjTy0/aKeQMSBVWICOz1KnG3FdFQByM/PBua1/CtgSJKYSU1YnWEl/qwv3HoD5p114+ksX3vtrFy6vunB+tan6bFM/q5l4sSn9wKa+ry7lubo8va0uF8j31eU0v20Zrv9oGbDx6QbtpvdIqp8iqXt3wKq/Iunq0wNW+PqApX2Nk5cDlv/JAYuXA9brxuFTra9/S+vTj1ueVv/y3MK/pNbhHZ6XU4h+fBz68hTy3uuP773+4e95Pb96/fAX4s1mOW0YjKJXv2uXAmtRqNeCBNYKSbtWgWRtHML7P0LHBGNAlmRBOl12ppNFCJ/vPfe4mUISnvUIXxM3lHsr2GP7NVk2oTylgu2dChb5e0en/bt/2L9fkzcTUm5tfDOx4eb1TQ6b5rXyPHe7XlmuNKMUWevi+HhxZcuUxVEFF8fj4EyvF0fbsjjiiEuYi0v4JS7hbbjEVLhk9QSArRtcIttxCT5xyQemJs/7n7hkUOMSecIlsxqXlB5cYhgDih8jtS0LAH3DYQb4xLvvoc2It2xGqiHzQx/eVWd49+Ea78oD3p1d4F0/mecHvLuryLx1yPx8ZyYFqn/Rqt0+x9rt5s5264LdeLutq1eU7+Xn+szHe4CHPlJZfoE+szmcj1cMK3Djm1xrfcY9HxN6Oh/2MraDSgtQfLwIAq2n2Tf9C8RKQGPxPueMmLEoq0OCgaT8gKGxJHmGhwwwXChZMFqqJwNLOYhSsBlhnvg2S41vQ098o258A8Bb6Cxr+/RmoeKsDnSWfcodAjYXYbmDvsPyr5M7sIB+3gCCTMH4SGWaTBlA+5wrACAGkyzPiKKggC20Aezo+ViBtIXBlAKvcv1rc6gjZcENZKfPWXk/Zx78nO3Z57w8PkAGt2dp6WTpo1ZkE7ySFK0ItVYk2rQizCsmrCsm7OUQPYdDrF0OMU3gEKnZVFfZlEQWyHOUwIIowS3F4u5SLNtLce+qFJuqFNOWUlycSrEzr/jtLFHPK61f4IXA+kkEvsB5/AvMqGwJ4A/dAnhcl6z3r5l7772gvk+30+reS01cTGNPoN7GQP2wO6jXsg8Iof9kgKYUEDLL0Zekmq/mUqAHaGBsiYYEz8YEbxArEDCsDb5BFk99DhC1AbDLAGCpBlBZCUJ4oQGCjB3aChh6QEaguq+Wu33wKc1ryRX05o1n9E83HnK18diLjWd/VagzihTLa1FbXtrw3wWFnIDjuEIatW9dIVnSCklPsXoCs179CcRqfblCwmESiToVb5FWlCOtJERjc2U+rGvzIRKNa4ygjqfaeE513oHa2RBGMF0xgtuzdzW1C3wNED+lc+8pTRddZUTrDO4WIsQyHBi9MudXbt+IhFEYnTRiqwZGF3eP2H1dAIExfNn157hj+CH4wBt8xqcBBlXwKarg8+My+EjV24aDD7sMPo0bdT+ktl+x9T7Glv32rRcP0IPVSBKM+EAAEpoKgBiGBTEgWMj+bAzU2FlRCSCzgNSmFKz6z7SL4MkbwZPfJHiKsOAJ72/gDrCmbncbrM9tMJE3IXxD7OBe2yfH/DyOaqdPpsVRGruhsADFrm5yvU5Nbpxh4W9yzeDS1uSSBhd61thNhQL9Lx8ESLvykXbjJ+0BnzJ+M7YQxvOIjKNo3GACLo7uv3VMwP/o/ie7gwrid5Mj30I50qqdP0em49kiD+VIZOvvHB/YKa0XEFAbs4YA0w8oPGf5kdjIWV4KSSlAE717fp93r9UzLFE/Kd40BCMQG5uzxiN4iXgEmkGmewTzC49gfuER0FsW8UR1Lz2tKCetxHWRH44uEk8rOO+Psn5Jsgxarw3lxYHyNtbr2jsSTSLWq9v6iUN5wyORXiTNNNYL8GTLTJPwYhgNvxdoogCvQ8V927unSQLbY8V9ubHi8taK25ymcbzi1ssRNUNk7G4dKeXB+c/CNv4Sd/bqacNQGP4s25rdNmRWcWBWSprZBZLZCZRZ/DT3fwl9AiixfWwdH5y0U6YMgC0dfT+vBp1EbrpPIglzEmGiYGIJFjRbQWthvz62FoaeFp9Mx2iWP9KW3k5c/1fryx9FvDlLIN87yh9FwZc/NsQdpL2d4tzb2S3iO7NFGU8iPJhkk2Rwp30QtHqmkswau7uPmtUze6ye7fMMyDqqZyXyrUS7TE7a5XS4dolBRUevT7hP0SdEO3VtvaWjoKuut34UfDyvt+O+6+2sst7et623v5tOfdxYb2mxYZofnfq9LzagGjL2JUGa3nKBkHFOQ8Z8eitpWWH49JbrXmGEz+pusM4+Z9pBZE7aMnOSd8OrZqjuaYaOFxoAYGpm6JKaoYeaGWo0YKEDpjdjhgaO0F+xukRe+NJiV9uQXe1ZBIzbpcUS7cpLtMAlM1EZudA7WnTPRNNT+WhP0jS+fJQ0ykfmnKYxtTTN/D1Nc4UMtgRm+IIsQQz3JUPusBq7SblG7iwslsgAbJFmgAXWsMe/QIrVY2FWDmqafiuTP/nW3PyMzHSdFsADtMp+QmOBdQT1sE+BQ4xCdT3GWuTpP8f52dOfVx9jPpezCeVy6M57IDtv2wnUBpPsZf0EGpe2dgI1LSdQP+0KarfGm94d0+6Um3apTDT5ACclVN9huiXuAqRM34ATzmvOc9RT0oRys95BUtdivkBWGomrQdLhpZFMFWmB28gZ1IUgNUgIQrFLtUCf/0gAAwAV0BT7t4szrymmnKaYEE2RKoRypxmvU4KrTQkuoKZwmTkbzswp2iG+b4/cwiOnbjymhFFT8PlJgf7R+33DMXEVx4RjR+F1KL71bd89bfvS+Cq/4aYoRpPzhmsArTcu1bH63L33jXX1UKkKHIKsK+erAv+TGvbQWOJDwRYufqobwZZdn4E76xAm1xVh0r9KfPwU5/hpfIX38wUuOl9smzkex6VtWR3Wf1w0Pq5+/7jX5OOi0MbqqCP2zuup9wI9lQ9EDgBtQegR8xCg8qjEpJk19odXYpRXYsZAdvUKAcq6IUAF8q2Nj0oMqkrMdVCJES8Om8GD+ZiGbWMStpWGquseoqp4iIrnh5UCfph0v5d7iOyOdtsr+3ZNdjQ2+8ZnAF46y2SUK9nTgkorFtSu1YJah5LCY+SywIy8sSwDqYyq3E1SHCBBUiJhcr2jgrDa+kmYcwDM8yl3rB9fWh3rbX+Zcklkyg4J5FQoOkkgAnt1SOF41MxWOyZb7QvHCgpYvBaORypJuwrHMEBVMS5Ioo31f0YB/4f3dtcCFIAOowBARVt55faf0QJ33bTAIY2OYPGazwElldnoWgUrgT96zEZdRpDl5Cg5WMHEskCElbQh8KGIzw9aAg0b2qEIKlQAiyYMaNm+N9+Tnt4J8mHN96i/O4vAu7YXWLBSH9XFGxolnyfVlmWRKld2qrm26aM2+ca3nQCer3UAT+IBPB6gqesATSMA8PQEaOZJ4Pe9nIzoAoEELsnHht3vpFwvDEy2Li9hfL9QxrcQkUB1D/kGRvsZ/Esl72fIyZQ1oUeMh2e0/AFCjxhGeNLh1l6HI9Q9RocbIYMbqMOBPWrPe3hgAKCHy8r8GN/Yw8Y9MIqRoMCEN5Jqn03ABJ7XeUfVvnjbBBbvm4DvEy15S6/nDAWGySbc8tOyeBIw2QRb/k19yyeTd9/WrxpBxW2tX9d6mcDS4nYSk81WRrtzkm8WYcqf67u0lHKbMAaS3pzTiLsm4WylrQAk51xGWs1Uq3crrWhYab9DmerdhVaa6ckyN55l7mXM4/IVdyqFZcDCN1ULnyRR+DKHqh3idlF+eRJlpIG+X1FCvqJA5k6Aey/xrZK545RedOaYEKrdUMgun4uRYxxW/B0dfHXx/BNdwcZuBGSx2y4mFkDhAEDBOCBKAbhEG9OEy8dvcPlJN1x+eYTL38vh8iMKl88rcHl1hMuXv45weQsRovpS0W59z+z2QmjyLCWinVD50B6G5JFzrPLx5JFzNGUvR85RVyjyrlBzb30UHKcFYefNBarWXlDa3lgEYAVMjfdfMiV50fPfYaBXQeM/U0qlUZC5VzHSU2qkQ4B/nciSPDFJ8pQ/T0me6OlrMZ5ZEyUAsLkrNdyzhYHTwPfIpEDhIgDQiVXp7QuiaJohRXFUmKNxmY1LU5ZRdK2xiLSbIUNLkYbBZzyxnGsa3I4/PbgN4pe353Ed5V5wtH60JW0OtaQNB7dLWk2mdrjdwPs/5GlGhstrKmlGiXx8sr5HvPXtByIISggbKC7YPTR4sfMPEoL3ZoC5PoFJHwYAXRzfp3Z9AgV00UI1lj37qoU5ENmA6avO+FJYECdIA9BRMZ2OPE6wnsfCaeZ99hdLyKrmM4Lr4GfeWQf5yJCZV4QZRzz/pCupkuOVVF29oBemFyRIo+DINAKpNYZiOMUALhlRKK4PLQpFB4+fv0+LECtpxp6XGn3kLxZIjQkb+ds1Uz13IakRiabpXS85yK9P+0zJgZyna8kp9MwwJcIMk6EZJl6Z0F3KxJxXJlDabzzAvgPFrj6IOhfh65c26lzUlYyY+mREqjyKvWa8/GgxXg7iy1XlPoSmnYK/zJ1Lc9NAEITbep2VgDkLnOS8eThn8TwLHHJWTJL//xMoOTFImtXMth4UV4qiQGx2dma6+ytZXgX4ISwLS+QbxYrhmu1eGsUwEi0fGfmgkmjtq/kLQaI9bGpxnCq09RQE1HWqd/9uri+J7u9WCcA1EdV5HfbdlZJIDu31eOulgbpK8CnLUx4d7KKmJzzTbt7BYJdKuHn9D2UUd6Mmmt+Ts7WOy4zauEyX9zB/m6Mw1w0Kc1NEt+FgX4jVOnyX4/TVOvyrdSdX6y5ktX7V9/2HLZbRXiwXhMHDeu3ZHmF7M3OHN6vCEYoTDYoyVnHCsMUKdYRIIQZEZqyNGPCnFZz5pb5bQur7sT/0UpQr/0LIUfOp82dephrxApm7OfwwpRJK2DKxeSSWKNlxiSLko0RUEZU1Di3Pz6Z3psRicTslH96OlyYafKH32x8kCDmv96vnJxmFyi5PrDJWx4WQXRLsYiG7ZBU3mKtTYDWdvIAnU/NO5piDpLauoGrNQa4jxHHbQXbazEFUXUF2mNnV2swOGgRpG9vBwctvvKR3ffV93d14JaiVXbCduFay/a9afSLzVOviqRB/W8mI5yf72VeyMbJj5RA9LcOniKgr5IIcNsgygTqP8o9VBdTxH1lK+fZVlnK4msuyJ0v5lSRFNSxL+dmTpdR9Wcqzp4lzG6wUWYrRxKWowA1KeFMuPSjhT0HSnAJoQSq7bGNMVP+R1+zDiek1Az7VfYfrleJwTV9ugP+Nl18AHORDJtPHDWUPdoEpsUoJoi4ZjrItx6WcoXFyPNITY5tROd5vgM4lOFe/w7+jDG9MYXqfIH51vDFxRX3ne/0737LcDd7Hxads1tH9wnbKb65FT1PlQJUwQQuBmgJfHMGZYAVqIumYsZnz2VxHIJUJS+WTaIlTQMgP91rHueGZMbdax1k2HScUQ4hsT3VX4EVbFSXZi8uqokDAfEcuTOtJ8748cN4nZlNiFUcwpZcT+Nox2vB93k9L7aPzEb44BGbctRgz45Kd/anaeShcbx/DHXEUda7dZTsVR4EQze/lI4FHEZxtE4+S25xt20SKJE08S4TqtorPIoJTLCOPZalcVMv92tsKy4Xobf9aLhKmt528oPwasKAs4LLX4K5qiCggM/DkTshPFHi4NP87r5SdEMsRBFzWbxK/Nk2iU1Eq73A5HqWyDWgS6YwFWP6AmxJuIp6r2FN4LnfEc1HPwBBn0WZBZ1Hx4iyq+3v4w8kQe3gVsrNt80zddjLPNPEqy9YngTxT5xpl2Ztu5s4uIHMnMDLnyYtMuPMgE/TT8UA2CXkorgI8WdXWFxs4wCgskTalpvogsn0mRSPc+6zm4xdfMm/kmOLX0aJeSm9nCE8hmZenwFkZxurkCmP8Kxg31vg3msa4QWsML54qcgyfVeKpkoW7Q2+YO7zQtFTSHYpJxrmao8Xsb+7UwtiJ4av8PcXJQE+h3CLE6JbfDdb90W2zG4zee91wuXDDxQc33NVfN1wFmz8ijZXfibkVuLnVh/Hno509knIxnwsy9XmMBCa2s81ormBGc3WuQqLeKe2sConS1a3REgszVaMdmWvTIfsMctts3LZ2bp+X+pkopt2Zgv9AOSZ/ydkg6imBe7swAmEl1pZQQAgXTMIJzXa9sdiuWypkAkdTZHIwRXb/JjGhSqPjLq5TVB+juUjdW5hXYtG/EkWeiYDT8qpCa3Jbm6pCiPSiJQRuyciEhTtiPUeELUt8wIpLEbBi6ZSwZXvY7zP8bZeTgGd9vk7ROcyn/sMs6rs8zBB1m1+pteGOat3ebZi6reJuHkSW4jFqQh07P089JHLsPLcCXNFcUoKpZAatgMhJtUPTHv+oAkC4BScRiKjCe84XXnELdQ5Y2T9gtRKOqa8cQ6EgGLlyhLxcjs2DhHc9mpcLn/wl45uvKP19/opx77Gc9tzkbCaWk93zJmrPe3mLFeL6SxUnVKA03KREEPt9e9MdR0tZ3qUcRyOZ0YQeDZnQryMZ6nYQXxMgVWcEJhwTBHW4Yd4JtCDghle+V21kBloIr4Wp8oMShElwQwtF6UVqptw4zdToLepJ4ODmhsVAvyUw0G2+RoiiphQRq6Sixu6a3cScIWBBPUyhEatk2qgp2LhU/G8+RTs4Rfs590CTYs6yZV7rGp+q4Qea+GEG0cQypflULc12EgBvjTPYQulhqf4QDi6oCe+FtlRfsaHPxmO21B+z5cTHbCpmN0qgVWt2I6dIIL4q42jhrf7PXqv/Zc/qfzpk9QchEUZGR7/LKG2535T3fCTueTtP7l/4ionTycNej60WhG/Fs7h88i4uSzbFirvrc+6uhyuV1krBeyuhymJuQ5Nx2Pv77QpIbelDMoP0gTY0lm0Yb8DSEhyGx/W6pqxnZtooGJ6FzUxzKZjeMAqmowFqpVkguTKMoDSV2IgdvCwvLt4qGFgFP5F3MuH2fzPhztr4iZ2dEmJEtmz8isj4z4deHz+0EBEqkS2KiFCtzNvhyoznFZ9Vw5+wWJywqAjIqiGg0eBw5HYgKLGF808J+NjL22b3hdGsrG9KDpJMHrdzkJwWGHqmBIaWLz+5SigbYaISuUN6KBtvomp0a6mmW7OgrXLb82UxNYeKYsijITVHeng1iAEBu1aPibV6t4C6poBSa3X/2PHhUECRQdbngv3j094fX1L1GSK+EXfIGpHt+eldINjS9aakkRZRYUd1tuSR1wPoi1+2PDIccpy15JEJOEElnQ1d81Bum0Euodwd4Lhk98tE8XMqUfz6wO4/Zll52f1C+Zb7fAsnlmMTqQiSdUPsmqTNrmlm+N7Q4ygMwZ2o7BoVzPLLF6CynL9cBpjcKSLFWIgUCyRNZP/7qijLdmR/ctl8L4eLlwCRqjq9qs5cCY/WiL8UidBZyhpwLiIS2qGz67Y1QIkZIyRPT3JYdU4NqyzJk83VkXt71II5uODkejYEH1C3A62zWdh5nL4lFhHPtr5FRjxDzZ4NTEJIjqlhJiW04iihCN+EAcjgohRYlTFuVtUramwDeHK/Xblvdv6t6zoTud/qdU3mXREZ9Vg77Dy0hEAIW4+W8En8vIrm6ExhAkSCgyWFgV/FCvWFg4Xmf6ENfEsk8O0pjTvAt0wHvu27/wt7pWgqpACx+H7jo5ldHRffESJUhyOfr5zLLxDV+e5Ngic8Fs7dIkVxV+6QInbXqNc/3mcrvE/WKX0glSB67kAmzaeoPQdyVhM+ytP7WVzivA4JkqW/+6nRNJyXpvHuYj041opGoQ7OSaoqfJRtKkF5FYIa2bzM/DZhHyd9nfmt9Zlfkl9/2B8/DkPqVdY1En9drFIC/0OTT0XXDSoO4FOMOiwO4F7VYU5PGJZMawXcMvt24alnrHQzWqLw3EcJRP+IOSenVszxvheqE12An01i77BSpUwsiOJOIFl6cLU5/39hSPZ9CgC4JcJOcrGWFO6gcdn35WCCpdVFvB8sRaDynxfwonRouxAGC81ztqA2JRHsS06b0tQ5fn8r9TcXujQW85hIFP0NpLZSMoWvCWCu4MPRwFzeVF3DAe1A3kj5e7+1uHakGTwb8fd2yuwSoWFwCIkB4x88UodY+vUp6aPx4CkBAIyLwwkXh3g9pJJP8GjyCbYBfIJhxCkG9jyMa5efetjCe+naNcBWICc98t+czvZv/uBxMgXDvLCI204WA16oSOakYViNv4tJNX5K6Eq+BmPHIqz7e6vSMwEGYU25XawRlxpK/vWjWI01KwYpKmKsGLyoqEkGsgZB0WEQ5AYHQWV7EJR4iITKIEhZJPEzMZg5AoVI71Fi8fKAPrjs+hFLupL5++DT+xl2CPL8v5/REIcADTGIV/bxBWoR5vdGAGUR3pMRVIERW+Nn/9aYQ1PLRbIMwPvQLJJDA/BsHUM6W2j6+sRXDyK5EUTdDQtLEQGf9bCwSc+47+IZR6RW0qT6SvWYo9ATjdKp4YuE1FCEL8q8wmFrBVCL629J0NhiJwCs+kp5oX4aVl8Vhmab9dxIzTZCVYmxb/G2VVSJElOe2jDujEjk+NgdCFbGG+OJe2NMp/1U46RUsDJufjd3LmtNQ1EUXrmOo0DHkUvHKVLGoSLjFMRxKNj3fwQ/aFOT7JN9OWnUR1Da03PWXvv/N2R9UM0FW/LAzBOCRCRcsFSPRAQ39e3OGxe9UOVVF6oYC2GhvhBWtAl76JJf7FDGlMwOIgJlNKmW4KdasjbYatJg23TvIpHzLpIPlNouz3cwXqHUlnZLbdjDeHEaHEptYFfuvRVUzMr9lQUzt7jVNLhekFRECcsMNGkVWl5imH0MNL8dBpousf2GLDFwYvvetLfpAUGorNeKyvolt9g+7bQoPnxpMfmSKmXk07FRPp6RDxalxf1tMlPDjU7y7Cgt9kAliztMw4EO8elnPu40HAK+4RA3DQeyuGPrvhUA4BHrv9oqyXe6SvIyjDfy47KiB/rucQlBi73w1WIXjBa7vnw/A22LXEuEbKkDhD4kmoqKxv1kIlXIiylrf/dTFpSmndqFYeOblmjVtL6A3/h2c02wv6n+IgRbJbybEmzt8G4DjiwdMvxgkgkSjR6uCd5OEmaYyGV5COugyv4ktg9tUhZD8ep8EqPdO2vM/e6NNQz3zgr2mkY21iw/Wd+Y3ln7mgZ/JfFFyojr/IVqa7+tOpDZzrT9eDsfo1aZza/g4RH7ZPeIsbDiowwZjnrlEev+q+kG3zRlNEEfa1oXGEwZLybNmUGv4poM7Xoq17qcbbQsn21sHh6yoHtvfMDntHbcG73XiJPOoUyb0vRQLnv3RjRl4KCcX5zuDuWz3juCz8eTHfF/t4pfOJkHkrUluDUxD0pv9JCrHj5pYPDktzhUSHUSgSs/nl8SN2hIAlHmax3Wp70aMBP76bFnhPOuNcMWjn2o+SDtFVqJwUbNwqv7fp9WmP1d+UT4ZPb7wOEEWtidQLlJttfYCdTiUM1YbUjQStd9qaZs6yVojWRBa456vf+M1MrPCOPDsWUlm0NW8ubOSiISfgtZCZpBPJqsxL3RHS4vMwCEUqZjv9HkhT5rHrS/oHE3fU7cIA4+fcYIM+u/qURV7koUDNtCwSFcp6+2E1fQGApBo5UQxFUvcczawkzIDu5dsk0t9XwprOBxi0t2XEjU53m89yJP5F7keN4W1KiomFyaxA+C/dLkH+ew9XP/nLoeOHvjlTanZs7ey8PZW/4ZPMLxWLuxPNZyKZnbOpO5yFIKoskcRb4fKY87dxbH75s8rjIT2+2rNzLHW65VVGoGiEyo8RX44T9y/b9a8KNk4U9/LSlleKrMB6Npa8JfS54e71RpKyYmyMp3M/KfwE3F7genYhh39daiypnn2Zmya/SLR5X7WzusTnW7teOJlJQZFgWGm82Jn2OLAVicErof49gyViVoaGBXxEQCRGW8ImYtQ1T8GiI+0WcouHY342pdwEkUhDXmQbIoyrSKVlEU1ajC5P3TkuNrVKTB83lWZ2F2V1VElaq2uieN1Z1VpfoXi+H+90a6utaZ0gp6fahrrZ2GlJzUtbADbnXrWklT16pIXauAUtIgza4/91uWZHZNtOT6kClXIByg/vq9dMaMa5Wh6ULFMJLhnVv5VoRWiSBhSVxU+SeTfeThSMSeEJKNu4WkRlOw9c0XvxjyxTQk+SJnUTPV9uHH1Khd/z3jZOXP4/qf8FkFubauggSuV9/9oEku4TOVyCX6wqiBi5lN628a7poIaRUE7n35n3+zWPfWbG3ljsBiGaYrTVjM1JamtR+vWluLZT5+axFL0l+RoVJyEnoqTA3nR/8QwxcdO/rjxOVfzccp3ah7mhi889Vxmlf9Ox/V45NlMj98u0GPv94JAvLusBzxOCWYjQDORys3g9EKaLSSEAJ4F8BbNQDe9kTOrdmetTTbZWsit7zVT+RWRLMtxALroVgATtlyotQ++7f3Ux9cV8hcLUDPgpXvD1qlg3CQHzRNlppI636wt2TmzupiTTQZmupiWM5nDDJPf/RvwM+mP/Oz6br7TdjKARmUAVlpFs57Rcf2zTTvectWiyqXu9KG92ZNUAle6ubEB5Xg7vycaYkDZebo/Ny41nnWQ8SByrrOQ+VUVRZCp5uK9GpBoQ3kH+zxdGSQX9sJOFWJhlOVE3Ihx6miPYcm59ZsKoCkPd6VIjOwM9s/+csBUIn5I5uJG2hOSEYl+tSqMT61PIPBL3IvCUgjpC6Q0snfEHThmOX358nK77LcCNreK1FQcb3XTN17TY822mMCMWPD/A5J7QWk++7ZMC/a8RXoUSooKXsQ2MLEOC57jOPynXFccYzj+KMy9tarjFGKltI3qKIFrRkMm/EgTMhBKBFc9SXv/2COza5OSWejvUxl14yc9zUj5YAcqfiACl0coEIhQuDpHSp0hTESoK1z49bdZIo8mkyPmIVlHKoQCsBSVsdFRB1nhrRsXC/52grejoeHBGAYWXzaKnIpdLKl1CVbuq2i03DzUp7jU1wEeSNbqjnZErmoWoS/P5qLqiD8fbMS5O3eNiQm/sr0If0LDemrrULI5bt67f9GKfZ0dQNLV3b6VyXcm4P0zW3B9IeGzblj8blQLn2/2/TATJvavd93u9J/t2l6hR1kglZ+7RoN+8TDM+WMnWO7FhbIvRlRGH7TqOvuEbOP4/eHCQv0tYoa193hT0Sj9rt21P4buFRXQB0a1NQAAAAASUVORK5CYII="}) repeat 0 0;
    animation: ${hC} 0.2s infinite;
  }
`,mC=Ky.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  text-align: center;
  opacity: 0.8;
`,gC=({maxHeight:e,maxWidth:t,minimized:n,onToggleMinified:r})=>{var i,a;let o=(0,lC.useRef)(null),[s]=Bk(e=>[e.gl],uC.default),[l,{width:u,height:c}]=kw(),d=null!=(a=null==(i=null==s?void 0:s.getContextAttributes())?void 0:i.preserveDrawingBuffer)&&a;(0,lC.useLayoutEffect)(()=>{s&&l(null==s?void 0:s.domElement)},[s,l]);let[f,h]=(0,sC.useMemo)(()=>{if(!s)return[0,0];let n=u/(c||Number.EPSILON)||Number.EPSILON,r=Math.min(n*e,t);return[r,r/n]},[s,t,e,u,c]);return(0,lC.useEffect)(()=>{let e,t=n=>()=>{if(e=requestAnimationFrame(t(n)),!n.domElement||!d)return void cancelAnimationFrame(e);let r=o.current.getContext("2d");r.imageSmoothingQuality="high",r.fillStyle="white",r.fillRect(0,0,f,h),r.drawImage(n.domElement,0,0,f,h)};return s&&t(s)(),()=>{cancelAnimationFrame(e)}},[s,f,h,d]),lC.default.createElement(dC,{minimized:n,onClick:r,style:{width:n?32:d?`${f}px`:"auto",height:n?32:d?`${h}px`:"auto"}},d?lC.default.createElement(fC,{ref:o,width:f,height:h}):lC.default.createElement(pC,null,lC.default.createElement(mC,null,lC.default.createElement(cC,{size:"3em"}),lC.default.createElement("code",null,"Please set ",lC.default.createElement("pre",null,"gl={{ preserveDrawingBuffer: true }}")," on the r3f Canvas for the reference window to work."))))},vC=Ov`
  :host {
    contain: strict;
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`,yC=({snapshotEditorSheet:e,paneId:t})=>{var n,r;lw(e=>[e.gl,e.scene,e.camera],$w.default);let[i,a]=iC(e,t),o=wk(),s=Bk(e=>e.helpersRoot,$w.default),l=null==(n=lk(null==o?void 0:o.props.viewport.showGrid))||n,u=null==(r=lk(null==o?void 0:o.props.viewport.showAxes))||r,c=(0,cb.useMemo)(()=>new oC,[]);return db.default.createElement(Uk,null,l&&db.default.createElement("primitive",{object:c}),u&&db.default.createElement("axesHelper",{args:[500]}),i,db.default.createElement("primitive",{object:s}),db.default.createElement(Yk,{orbitControlsRef:a}),db.default.createElement("color",{attach:"background",args:[.1,.1,.1]}))},bC=Ky.div`
  tab-size: 4;
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  margin: 0;

  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
`,wC=Ky.div`
  position: relative;
  z-index: 0;
  height: 100%;
  overflow: hidden;
`,xC=Ky.div`
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
`,_C=Ky.div`
  position: absolute;
  left: 12px;
  top: 12px;
  pointer-events: auto;
`,SC=Ky.div`
  position: absolute;
  right: 12px;
  top: 12px;
  justify-content: center;
`,EC=Ky.div`
  position: absolute;
  margin: auto;
  left: 0;
  right: 0;
  width: 300px;
  top: 12px;
  padding: 16px;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.08);

  backdrop-filter: blur(14px);
  background: rgba(40, 43, 47, 0.8);

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(40, 43, 47, 0.95);
  }
`,kC=e=>{var t,n;let r=bk(),i=e.paneId,a=wk(),[o,s]=kw(),[l,u]=Bk(e=>[e.sceneSnapshot,e.createSnapshot],$w.default);(0,cb.useLayoutEffect)(()=>{u()},[]);let c=(0,cb.useCallback)(()=>{let e=Dm.selection.find(e=>$m.has(e));e&&Dm.setSelection([e.sheet])},[]),[d,f]=(0,cb.useState)();if((0,cb.useEffect)(()=>{if(d)return Dm.ui.renderToolset("snapshot-editor",d)},[d]),!a)return db.default.createElement(db.default.Fragment,null);let h=null!=(n=lk(null==(t=wk())?void 0:t.props.viewport.referenceWindow))?n:"minimized";return db.default.createElement(Zw.default.div,{style:{overflow:"hidden"}},db.default.createElement(Sv,{disableVendorPrefixes:!0},db.default.createElement(db.default.Fragment,null,db.default.createElement(vC,null),db.default.createElement(bC,null,db.default.createElement(xC,null,db.default.createElement(_C,{ref:f}),"hidden"!==h&&db.default.createElement(SC,null,db.default.createElement(gC,{maxHeight:Math.min(.3*s.height,150),maxWidth:Math.min(.3*s.width,250),minimized:"minimized"===h,onToggleMinified:()=>{Dm.transaction(({set:e})=>{e(wk().props.viewport.referenceWindow,"minimized"===h?"maximized":"minimized")})}})),!l&&db.default.createElement(EC,null,"The scene hasn't been initialized yet. It will appear in the editor as soon as it is.")),db.default.createElement(wC,{ref:o},db.default.createElement(Kw,{onCreated:({gl:e})=>{e.setClearColor("white")},shadows:!0,dpr:[1,2],frameloop:"demand",onPointerMissed:c},db.default.createElement(yC,{snapshotEditorSheet:r,paneId:i})))))))},CC=Lg(ab()),MC=Lg(Fg()),PC='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',TC={id:"@theatre/r3f",toolbars:{global(e,t){let n=yg.prism(()=>(wk(),[{type:"Icon",title:"Create Snapshot",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>',onClick:()=>{t.createPane("snapshot")}}]));return Mm.onChange(n,()=>{e(n.getValue())})},"snapshot-editor":(e,t)=>{let{createSnapshot:n}=Bk.getState(),r=yg.prism(()=>{var e,r,i;let a=wk(),o=null!=(e=yg.val(null==a?void 0:a.props.transformControls.mode))?e:"translate",s=null!=(r=yg.val(null==a?void 0:a.props.transformControls.space))?r:"world",l=null!=(i=yg.val(null==a?void 0:a.props.viewport.shading))?i:"rendered";return[{type:"Icon",onClick:n,title:"Refresh Snapshot",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},{type:"Switch",value:o,onChange:e=>t.transaction(({set:t})=>t(a.props.transformControls.mode,e)),options:[{value:"translate",label:"Tool: Translate",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"/></svg>'},{value:"rotate",label:"Tool: Rotate",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M263.09 50c-11.882-.007-23.875 1.018-35.857 3.13C142.026 68.156 75.156 135.026 60.13 220.233 45.108 305.44 85.075 391.15 160.005 434.41c32.782 18.927 69.254 27.996 105.463 27.553 46.555-.57 92.675-16.865 129.957-48.15l-30.855-36.768c-50.95 42.75-122.968 49.05-180.566 15.797-57.597-33.254-88.152-98.777-76.603-164.274 11.55-65.497 62.672-116.62 128.17-128.168 51.656-9.108 103.323 7.98 139.17 43.862L327 192h128V64l-46.34 46.342C370.242 71.962 317.83 50.03 263.09 50z"/></svg>'},{value:"scale",label:"Tool: Scale",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"/></svg>'}]},{type:"Switch",value:s,onChange:e=>t.transaction(({set:t})=>{t(a.props.transformControls.space,e)}),options:[{value:"world",label:"Space: World",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>'},{value:"local",label:"Space: Local",svgSource:PC}]},{type:"Switch",value:l,onChange:e=>t.transaction(({set:t})=>{t(a.props.viewport.shading,e)}),options:[{value:"wireframe",label:"Display: Wireframe",svgSource:PC},{value:"flat",label:"Display: Flat",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"></path></svg>'},{value:"solid",label:"Display: Solid",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"></path></svg>'},{value:"rendered",label:"Display: Rendered",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M238.406 26.844c-9.653.12-18.926 2.69-30.437 7.062l-157.282 57c-20.984 7.65-21.587 11.834-22.344 33.28L20.937 358.22c-1.207 27.514-.654 33.187 23.25 43.56L229.97 483.19c19.34 8.29 31.906 7.655 45.186 3.218l181.938-56.53c21.95-7.295 25.04-9.627 25.875-36.845l7.686-250.155c.662-17.37-5.667-24.695-18.78-29.625L271.062 34.375c-12.977-5.344-23.003-7.653-32.657-7.53zm.813 24.875c23.637-.053 45.564 8.434 87.874 24.874 95.545 37.123 131.71 53.8 69.687 77.937-74.002 28.802-128.175 45.115-172.28 25.814L113.47 131.75c-34.57-15.127-44.69-27.46 17.843-50.094 55.64-20.14 82.742-29.882 107.906-29.937zm44.718 43.75c-38.284.402-55.285 21.205-56.813 38.936-.873 10.132 2.95 19.6 12.406 26.25 9.456 6.65 25.355 10.56 48.97 5.938 35.817-7.01 61.536-15.056 77.5-22.844 7.982-3.894 13.464-7.737 16.5-10.844 3.036-3.107 3.453-4.942 3.438-6-.016-1.057-.44-2.675-3.313-5.406-2.873-2.73-8.03-6.04-15.22-9.156-14.378-6.233-36.757-11.877-65.717-15.72-6.355-.842-12.28-1.213-17.75-1.155zM59.25 134c10.372-.29 29.217 7.2 63.906 22.656 140.925 62.786 140.52 65.876 130.97 200.656-7.783 109.81-8.797 109.85-128.47 59.282-73.15-30.91-86.806-40.853-85.187-88.97l5.468-162.937c.674-20.034 1.557-30.358 13.312-30.687zm381.938 30.906c29.172-.384 29.1 28.075 26.75 105.25-4.118 135.132-9.05 140.184-120.375 173.72-70.42 21.21-81.49 25.614-78.97-12.032l11-164.156c3.217-48.034 7.588-51.508 94.813-83.907 31.323-11.633 52.534-18.686 66.78-18.874zm-20.438 40.688c-.332-.002-.674.015-1 .03-5.22.263-10.226 2.77-14.188 8.407-3.96 5.638-6.81 14.71-5.687 27.907 1.448 17.033-4.507 38.11-15.156 56.938-10.65 18.827-26.502 35.91-47.814 38.813-29.127 3.968-42.41 23.58-43.5 42.062-.545 9.24 2.108 18.03 7.688 24.594s14.088 11.335 27.187 12.03c41.146 2.185 71.336-10.766 91.595-39.155 20.26-28.39 30.396-73.76 25.875-136.595-1.876-26.076-14.708-34.977-25-35.03zm-246.25 8.844c-.644 0-1.218.063-1.72.187-2.003.494-3.685 1.53-5.655 4.813-1.913 3.186-3.688 8.618-4.406 16.343l-.064.657c-1.388 16.732-8.098 28.602-17.844 35.063-9.745 6.46-20.794 7.808-31.125 9.094-10.33 1.286-20.177 2.39-28.156 5.75-7.977 3.36-14.36 8.38-19.468 19.78-7.2 16.076-7.143 28.027-3.124 38.563 4.018 10.537 12.688 20.106 24.687 28.75 23.998 17.29 60.27 29.956 88.906 41.844 11.386 4.727 20.496 6.484 27.282 6.126 6.787-.358 11.278-2.423 15.375-6.562 8.195-8.28 14.057-27.692 15-57.344 2.024-63.623-18.84-110.284-38.656-130.875-8.668-9.008-16.52-12.193-21.03-12.188zm184.22 6.812c-.95-.003-1.927.035-2.97.094-35.464 1.99-48.477 12.867-52.5 24.062-4.023 11.196.826 27.07 10.844 39.78 11.488 14.58 20.59 15.736 30.437 12.283 9.848-3.455 20.542-14.108 27.376-26.908s9.512-27.397 7.188-36.28c-1.163-4.443-3.144-7.422-6.47-9.626-2.908-1.928-7.274-3.388-13.905-3.406z"></path></svg>'}]}]});return Mm.onChange(r,()=>{e(r.getValue())})}},panes:[{class:"snapshot",mount:({paneId:e,node:t})=>{let n=CC.default.createRoot(t);return n.render(MC.default.createElement(kC,{paneId:e})),function(){setTimeout(()=>{n.unmount()},0)}}}]},AC=TC,IC=Mm.getProject;export{xm as Canvas,vg as PerspectiveCamera,tg as SheetProvider,gg as e,AC as extension,IC as getProject,Dm as studio};
